let echartsBase64 = """
IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGUpOmUodC5lY2hhcnRzPXt9KX0odGhpcyxmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZSh0LGUpeyJjcmVhdGVDYW52YXMiPT09dCYmKEd4PW51bGwpLEJ4W3RdPWV9ZnVuY3Rpb24gaSh0KXtpZihudWxsPT10fHwib2JqZWN0IiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGU9dCxuPWt4LmNhbGwodCk7aWYoIltvYmplY3QgQXJyYXldIj09PW4pe2lmKCFPKHQpKXtlPVtdO2Zvcih2YXIgbz0wLGE9dC5sZW5ndGg7bzxhO28rKyllW29dPWkodFtvXSl9fWVsc2UgaWYoTHhbbl0pe2lmKCFPKHQpKXt2YXIgcj10LmNvbnN0cnVjdG9yO2lmKHQuY29uc3RydWN0b3IuZnJvbSllPXIuZnJvbSh0KTtlbHNle2U9bmV3IHIodC5sZW5ndGgpO2Zvcih2YXIgbz0wLGE9dC5sZW5ndGg7bzxhO28rKyllW29dPWkodFtvXSl9fX1lbHNlIGlmKCFDeFtuXSYmIU8odCkmJiFNKHQpKXtlPXt9O2Zvcih2YXIgcyBpbiB0KXQuaGFzT3duUHJvcGVydHkocykmJihlW3NdPWkodFtzXSkpfXJldHVybiBlfWZ1bmN0aW9uIG4odCxlLG8pe2lmKCF3KGUpfHwhdyh0KSlyZXR1cm4gbz9pKGUpOnQ7Zm9yKHZhciBhIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHI9dFthXSxzPWVbYV07IXcocyl8fCF3KHIpfHx5KHMpfHx5KHIpfHxNKHMpfHxNKHIpfHxiKHMpfHxiKHIpfHxPKHMpfHxPKHIpPyFvJiZhIGluIHR8fCh0W2FdPWkoZVthXSwhMCkpOm4ocixzLG8pfXJldHVybiB0fWZ1bmN0aW9uIG8odCxlKXtmb3IodmFyIGk9dFswXSxvPTEsYT10Lmxlbmd0aDtvPGE7bysrKWk9bihpLHRbb10sZSk7cmV0dXJuIGl9ZnVuY3Rpb24gYSh0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pO3JldHVybiB0fWZ1bmN0aW9uIHIodCxlLGkpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJihpP251bGwhPWVbbl06bnVsbD09dFtuXSkmJih0W25dPWVbbl0pO3JldHVybiB0fWZ1bmN0aW9uIHMoKXtyZXR1cm4gR3h8fChHeD1WeCgpLmdldENvbnRleHQoIjJkIikpLEd4fWZ1bmN0aW9uIGwodCxlKXtpZih0KXtpZih0LmluZGV4T2YpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIGk9MCxuPXQubGVuZ3RoO2k8bjtpKyspaWYodFtpXT09PWUpcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gdSh0LGUpe2Z1bmN0aW9uIGkoKXt9dmFyIG49dC5wcm90b3R5cGU7aS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGk7Zm9yKHZhciBvIGluIG4pdC5wcm90b3R5cGVbb109bltvXTt0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQuc3VwZXJDbGFzcz1lfWZ1bmN0aW9uIGgodCxlLGkpe3IodD0icHJvdG90eXBlImluIHQ/dC5wcm90b3R5cGU6dCxlPSJwcm90b3R5cGUiaW4gZT9lLnByb3RvdHlwZTplLGkpfWZ1bmN0aW9uIGModCl7aWYodClyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJiJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGh9ZnVuY3Rpb24gZCh0LGUsaSl7aWYodCYmZSlpZih0LmZvckVhY2gmJnQuZm9yRWFjaD09PU54KXQuZm9yRWFjaChlLGkpO2Vsc2UgaWYodC5sZW5ndGg9PT0rdC5sZW5ndGgpZm9yKHZhciBuPTAsbz10Lmxlbmd0aDtuPG87bisrKWUuY2FsbChpLHRbbl0sbix0KTtlbHNlIGZvcih2YXIgYSBpbiB0KXQuaGFzT3duUHJvcGVydHkoYSkmJmUuY2FsbChpLHRbYV0sYSx0KX1mdW5jdGlvbiBmKHQsZSxpKXtpZih0JiZlKXtpZih0Lm1hcCYmdC5tYXA9PT16eClyZXR1cm4gdC5tYXAoZSxpKTtmb3IodmFyIG49W10sbz0wLGE9dC5sZW5ndGg7bzxhO28rKyluLnB1c2goZS5jYWxsKGksdFtvXSxvLHQpKTtyZXR1cm4gbn19ZnVuY3Rpb24gcCh0LGUsaSxuKXtpZih0JiZlKXtpZih0LnJlZHVjZSYmdC5yZWR1Y2U9PT1SeClyZXR1cm4gdC5yZWR1Y2UoZSxpLG4pO2Zvcih2YXIgbz0wLGE9dC5sZW5ndGg7bzxhO28rKylpPWUuY2FsbChuLGksdFtvXSxvLHQpO3JldHVybiBpfX1mdW5jdGlvbiBnKHQsZSxpKXtpZih0JiZlKXtpZih0LmZpbHRlciYmdC5maWx0ZXI9PT1PeClyZXR1cm4gdC5maWx0ZXIoZSxpKTtmb3IodmFyIG49W10sbz0wLGE9dC5sZW5ndGg7bzxhO28rKyllLmNhbGwoaSx0W29dLG8sdCkmJm4ucHVzaCh0W29dKTtyZXR1cm4gbn19ZnVuY3Rpb24gbSh0LGUpe3ZhciBpPUV4LmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsaS5jb25jYXQoRXguY2FsbChhcmd1bWVudHMpKSl9fWZ1bmN0aW9uIHYodCl7dmFyIGU9RXguY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxlLmNvbmNhdChFeC5jYWxsKGFyZ3VtZW50cykpKX19ZnVuY3Rpb24geSh0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09a3guY2FsbCh0KX1mdW5jdGlvbiB4KHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWZ1bmN0aW9uIF8odCl7cmV0dXJuIltvYmplY3QgU3RyaW5nXSI9PT1reC5jYWxsKHQpfWZ1bmN0aW9uIHcodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuImZ1bmN0aW9uIj09PWV8fCEhdCYmIm9iamVjdCI9PWV9ZnVuY3Rpb24gYih0KXtyZXR1cm4hIUN4W2t4LmNhbGwodCldfWZ1bmN0aW9uIFModCl7cmV0dXJuISFMeFtreC5jYWxsKHQpXX1mdW5jdGlvbiBNKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmIm51bWJlciI9PXR5cGVvZiB0Lm5vZGVUeXBlJiYib2JqZWN0Ij09dHlwZW9mIHQub3duZXJEb2N1bWVudH1mdW5jdGlvbiBJKHQpe3JldHVybiB0IT09dH1mdW5jdGlvbiBEKHQpe2Zvcih2YXIgZT0wLGk9YXJndW1lbnRzLmxlbmd0aDtlPGk7ZSsrKWlmKG51bGwhPWFyZ3VtZW50c1tlXSlyZXR1cm4gYXJndW1lbnRzW2VdfWZ1bmN0aW9uIFQodCxlKXtyZXR1cm4gbnVsbCE9dD90OmV9ZnVuY3Rpb24gQSh0LGUsaSl7cmV0dXJuIG51bGwhPXQ/dDpudWxsIT1lP2U6aX1mdW5jdGlvbiBDKCl7cmV0dXJuIEZ1bmN0aW9uLmNhbGwuYXBwbHkoRXgsYXJndW1lbnRzKX1mdW5jdGlvbiBMKHQpe2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm5bdCx0LHQsdF07dmFyIGU9dC5sZW5ndGg7cmV0dXJuIDI9PT1lP1t0WzBdLHRbMV0sdFswXSx0WzFdXTozPT09ZT9bdFswXSx0WzFdLHRbMl0sdFsxXV06dH1mdW5jdGlvbiBrKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfWZ1bmN0aW9uIFAodCl7cmV0dXJuIG51bGw9PXQ/bnVsbDoiZnVuY3Rpb24iPT10eXBlb2YgdC50cmltP3QudHJpbSgpOnQucmVwbGFjZSgvXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csIiIpfWZ1bmN0aW9uIE4odCl7dFtGeF09ITB9ZnVuY3Rpb24gTyh0KXtyZXR1cm4gdFtGeF19ZnVuY3Rpb24gRSh0KXtmdW5jdGlvbiBlKHQsZSl7aT9uLnNldCh0LGUpOm4uc2V0KGUsdCl9dmFyIGk9eSh0KSxuPXRoaXM7dCBpbnN0YW5jZW9mIEU/dC5lYWNoKGUpOnQmJmQodCxlKX1mdW5jdGlvbiB6KHQpe3JldHVybiBuZXcgRSh0KX1mdW5jdGlvbiBSKHQsZSl7Zm9yKHZhciBpPW5ldyB0LmNvbnN0cnVjdG9yKHQubGVuZ3RoK2UubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDtuKyspaVtuXT10W25dO3ZhciBvPXQubGVuZ3RoO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspaVtuK29dPWVbbl07cmV0dXJuIGl9ZnVuY3Rpb24gQigpe31mdW5jdGlvbiBWKHQsZSl7dmFyIGk9bmV3IEh4KDIpO3JldHVybiBudWxsPT10JiYodD0wKSxudWxsPT1lJiYoZT0wKSxpWzBdPXQsaVsxXT1lLGl9ZnVuY3Rpb24gRyh0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHR9ZnVuY3Rpb24gRih0KXt2YXIgZT1uZXcgSHgoMik7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZX1mdW5jdGlvbiBXKHQsZSxpKXtyZXR1cm4gdFswXT1lLHRbMV09aSx0fWZ1bmN0aW9uIEgodCxlLGkpe3JldHVybiB0WzBdPWVbMF0raVswXSx0WzFdPWVbMV0raVsxXSx0fWZ1bmN0aW9uIFoodCxlLGksbil7cmV0dXJuIHRbMF09ZVswXStpWzBdKm4sdFsxXT1lWzFdK2lbMV0qbix0fWZ1bmN0aW9uIFUodCxlLGkpe3JldHVybiB0WzBdPWVbMF0taVswXSx0WzFdPWVbMV0taVsxXSx0fWZ1bmN0aW9uIGoodCl7cmV0dXJuIE1hdGguc3FydChYKHQpKX1mdW5jdGlvbiBYKHQpe3JldHVybiB0WzBdKnRbMF0rdFsxXSp0WzFdfWZ1bmN0aW9uIFkodCxlLGkpe3JldHVybiB0WzBdPWVbMF0qaSx0WzFdPWVbMV0qaSx0fWZ1bmN0aW9uIHEodCxlKXt2YXIgaT1qKGUpO3JldHVybiAwPT09aT8odFswXT0wLHRbMV09MCk6KHRbMF09ZVswXS9pLHRbMV09ZVsxXS9pKSx0fWZ1bmN0aW9uICQodCxlKXtyZXR1cm4gTWF0aC5zcXJ0KCh0WzBdLWVbMF0pKih0WzBdLWVbMF0pKyh0WzFdLWVbMV0pKih0WzFdLWVbMV0pKX1mdW5jdGlvbiBLKHQsZSl7cmV0dXJuKHRbMF0tZVswXSkqKHRbMF0tZVswXSkrKHRbMV0tZVsxXSkqKHRbMV0tZVsxXSl9ZnVuY3Rpb24gSih0LGUsaSxuKXtyZXR1cm4gdFswXT1lWzBdK24qKGlbMF0tZVswXSksdFsxXT1lWzFdK24qKGlbMV0tZVsxXSksdH1mdW5jdGlvbiBRKHQsZSxpKXt2YXIgbj1lWzBdLG89ZVsxXTtyZXR1cm4gdFswXT1pWzBdKm4raVsyXSpvK2lbNF0sdFsxXT1pWzFdKm4raVszXSpvK2lbNV0sdH1mdW5jdGlvbiB0dCh0LGUsaSl7cmV0dXJuIHRbMF09TWF0aC5taW4oZVswXSxpWzBdKSx0WzFdPU1hdGgubWluKGVbMV0saVsxXSksdH1mdW5jdGlvbiBldCh0LGUsaSl7cmV0dXJuIHRbMF09TWF0aC5tYXgoZVswXSxpWzBdKSx0WzFdPU1hdGgubWF4KGVbMV0saVsxXSksdH1mdW5jdGlvbiBpdCgpe3RoaXMub24oIm1vdXNlZG93biIsdGhpcy5fZHJhZ1N0YXJ0LHRoaXMpLHRoaXMub24oIm1vdXNlbW92ZSIsdGhpcy5fZHJhZyx0aGlzKSx0aGlzLm9uKCJtb3VzZXVwIix0aGlzLl9kcmFnRW5kLHRoaXMpLHRoaXMub24oImdsb2JhbG91dCIsdGhpcy5fZHJhZ0VuZCx0aGlzKX1mdW5jdGlvbiBudCh0LGUpe3JldHVybnt0YXJnZXQ6dCx0b3BUYXJnZXQ6ZSYmZS50b3BUYXJnZXR9fWZ1bmN0aW9uIG90KHQsZSxpKXtyZXR1cm57dHlwZTp0LGV2ZW50OmksdGFyZ2V0OmUudGFyZ2V0LHRvcFRhcmdldDplLnRvcFRhcmdldCxjYW5jZWxCdWJibGU6ITEsb2Zmc2V0WDppLnpyWCxvZmZzZXRZOmkuenJZLGdlc3R1cmVFdmVudDppLmdlc3R1cmVFdmVudCxwaW5jaFg6aS5waW5jaFgscGluY2hZOmkucGluY2hZLHBpbmNoU2NhbGU6aS5waW5jaFNjYWxlLHdoZWVsRGVsdGE6aS56ckRlbHRhLHpyQnlUb3VjaDppLnpyQnlUb3VjaCx3aGljaDppLndoaWNofX1mdW5jdGlvbiBhdCgpe31mdW5jdGlvbiBydCh0LGUsaSl7aWYodFt0LnJlY3RIb3Zlcj8icmVjdENvbnRhaW4iOiJjb250YWluIl0oZSxpKSl7Zm9yKHZhciBuLG89dDtvOyl7aWYoby5jbGlwUGF0aCYmIW8uY2xpcFBhdGguY29udGFpbihlLGkpKXJldHVybiExO28uc2lsZW50JiYobj0hMCksbz1vLnBhcmVudH1yZXR1cm4hbnx8S3h9cmV0dXJuITF9ZnVuY3Rpb24gc3QoKXt2YXIgdD1uZXcgdF8oNik7cmV0dXJuIGx0KHQpLHR9ZnVuY3Rpb24gbHQodCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MSx0WzRdPTAsdFs1XT0wLHR9ZnVuY3Rpb24gdXQodCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdH1mdW5jdGlvbiBodCh0LGUsaSl7dmFyIG49ZVswXSppWzBdK2VbMl0qaVsxXSxvPWVbMV0qaVswXStlWzNdKmlbMV0sYT1lWzBdKmlbMl0rZVsyXSppWzNdLHI9ZVsxXSppWzJdK2VbM10qaVszXSxzPWVbMF0qaVs0XStlWzJdKmlbNV0rZVs0XSxsPWVbMV0qaVs0XStlWzNdKmlbNV0rZVs1XTtyZXR1cm4gdFswXT1uLHRbMV09byx0WzJdPWEsdFszXT1yLHRbNF09cyx0WzVdPWwsdH1mdW5jdGlvbiBjdCh0LGUsaSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0raVswXSx0WzVdPWVbNV0raVsxXSx0fWZ1bmN0aW9uIGR0KHQsZSxpKXt2YXIgbj1lWzBdLG89ZVsyXSxhPWVbNF0scj1lWzFdLHM9ZVszXSxsPWVbNV0sdT1NYXRoLnNpbihpKSxoPU1hdGguY29zKGkpO3JldHVybiB0WzBdPW4qaCtyKnUsdFsxXT0tbip1K3IqaCx0WzJdPW8qaCtzKnUsdFszXT0tbyp1K2gqcyx0WzRdPWgqYSt1KmwsdFs1XT1oKmwtdSphLHR9ZnVuY3Rpb24gZnQodCxlLGkpe3ZhciBuPWlbMF0sbz1pWzFdO3JldHVybiB0WzBdPWVbMF0qbix0WzFdPWVbMV0qbyx0WzJdPWVbMl0qbix0WzNdPWVbM10qbyx0WzRdPWVbNF0qbix0WzVdPWVbNV0qbyx0fWZ1bmN0aW9uIHB0KHQsZSl7dmFyIGk9ZVswXSxuPWVbMl0sbz1lWzRdLGE9ZVsxXSxyPWVbM10scz1lWzVdLGw9aSpyLWEqbjtyZXR1cm4gbD8obD0xL2wsdFswXT1yKmwsdFsxXT0tYSpsLHRbMl09LW4qbCx0WzNdPWkqbCx0WzRdPShuKnMtcipvKSpsLHRbNV09KGEqby1pKnMpKmwsdCk6bnVsbH1mdW5jdGlvbiBndCh0KXt2YXIgZT1zdCgpO3JldHVybiB1dChlLHQpLGV9ZnVuY3Rpb24gbXQodCl7cmV0dXJuIHQ+bl98fHQ8LW5ffWZ1bmN0aW9uIHZ0KHQpe3RoaXMuX3RhcmdldD10LnRhcmdldCx0aGlzLl9saWZlPXQubGlmZXx8MWUzLHRoaXMuX2RlbGF5PXQuZGVsYXl8fDAsdGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5sb29wPW51bGwhPXQubG9vcCYmdC5sb29wLHRoaXMuZ2FwPXQuZ2FwfHwwLHRoaXMuZWFzaW5nPXQuZWFzaW5nfHwiTGluZWFyIix0aGlzLm9uZnJhbWU9dC5vbmZyYW1lLHRoaXMub25kZXN0cm95PXQub25kZXN0cm95LHRoaXMub25yZXN0YXJ0PXQub25yZXN0YXJ0LHRoaXMuX3BhdXNlZFRpbWU9MCx0aGlzLl9wYXVzZWQ9ITF9ZnVuY3Rpb24geXQodCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOnQ+MjU1PzI1NTp0fWZ1bmN0aW9uIHh0KHQpe3JldHVybih0PU1hdGgucm91bmQodCkpPDA/MDp0PjM2MD8zNjA6dH1mdW5jdGlvbiBfdCh0KXtyZXR1cm4gdDwwPzA6dD4xPzE6dH1mdW5jdGlvbiB3dCh0KXtyZXR1cm4geXQodC5sZW5ndGgmJiIlIj09PXQuY2hhckF0KHQubGVuZ3RoLTEpP3BhcnNlRmxvYXQodCkvMTAwKjI1NTpwYXJzZUludCh0LDEwKSl9ZnVuY3Rpb24gYnQodCl7cmV0dXJuIF90KHQubGVuZ3RoJiYiJSI9PT10LmNoYXJBdCh0Lmxlbmd0aC0xKT9wYXJzZUZsb2F0KHQpLzEwMDpwYXJzZUZsb2F0KHQpKX1mdW5jdGlvbiBTdCh0LGUsaSl7cmV0dXJuIGk8MD9pKz0xOmk+MSYmKGktPTEpLDYqaTwxP3QrKGUtdCkqaSo2OjIqaTwxP2U6MyppPDI/dCsoZS10KSooMi8zLWkpKjY6dH1mdW5jdGlvbiBNdCh0LGUsaSl7cmV0dXJuIHQrKGUtdCkqaX1mdW5jdGlvbiBJdCh0LGUsaSxuLG8pe3JldHVybiB0WzBdPWUsdFsxXT1pLHRbMl09bix0WzNdPW8sdH1mdW5jdGlvbiBEdCh0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdH1mdW5jdGlvbiBUdCh0LGUpe2dfJiZEdChnXyxlKSxnXz1wXy5wdXQodCxnX3x8ZS5zbGljZSgpKX1mdW5jdGlvbiBBdCh0LGUpe2lmKHQpe2U9ZXx8W107dmFyIGk9cF8uZ2V0KHQpO2lmKGkpcmV0dXJuIER0KGUsaSk7dmFyIG49KHQrPSIiKS5yZXBsYWNlKC8gL2csIiIpLnRvTG93ZXJDYXNlKCk7aWYobiBpbiBmXylyZXR1cm4gRHQoZSxmX1tuXSksVHQodCxlKSxlO2lmKCIjIiE9PW4uY2hhckF0KDApKXt2YXIgbz1uLmluZGV4T2YoIigiKSxhPW4uaW5kZXhPZigiKSIpO2lmKC0xIT09byYmYSsxPT09bi5sZW5ndGgpe3ZhciByPW4uc3Vic3RyKDAsbykscz1uLnN1YnN0cihvKzEsYS0obysxKSkuc3BsaXQoIiwiKSxsPTE7c3dpdGNoKHIpe2Nhc2UicmdiYSI6aWYoNCE9PXMubGVuZ3RoKXJldHVybiB2b2lkIEl0KGUsMCwwLDAsMSk7bD1idChzLnBvcCgpKTtjYXNlInJnYiI6cmV0dXJuIDMhPT1zLmxlbmd0aD92b2lkIEl0KGUsMCwwLDAsMSk6KEl0KGUsd3Qoc1swXSksd3Qoc1sxXSksd3Qoc1syXSksbCksVHQodCxlKSxlKTtjYXNlImhzbGEiOnJldHVybiA0IT09cy5sZW5ndGg/dm9pZCBJdChlLDAsMCwwLDEpOihzWzNdPWJ0KHNbM10pLEN0KHMsZSksVHQodCxlKSxlKTtjYXNlImhzbCI6cmV0dXJuIDMhPT1zLmxlbmd0aD92b2lkIEl0KGUsMCwwLDAsMSk6KEN0KHMsZSksVHQodCxlKSxlKTtkZWZhdWx0OnJldHVybn19SXQoZSwwLDAsMCwxKX1lbHNle2lmKDQ9PT1uLmxlbmd0aClyZXR1cm4odT1wYXJzZUludChuLnN1YnN0cigxKSwxNikpPj0wJiZ1PD00MDk1PyhJdChlLCgzODQwJnUpPj40fCgzODQwJnUpPj44LDI0MCZ1fCgyNDAmdSk+PjQsMTUmdXwoMTUmdSk8PDQsMSksVHQodCxlKSxlKTp2b2lkIEl0KGUsMCwwLDAsMSk7aWYoNz09PW4ubGVuZ3RoKXt2YXIgdT1wYXJzZUludChuLnN1YnN0cigxKSwxNik7cmV0dXJuIHU+PTAmJnU8PTE2Nzc3MjE1PyhJdChlLCgxNjcxMTY4MCZ1KT4+MTYsKDY1MjgwJnUpPj44LDI1NSZ1LDEpLFR0KHQsZSksZSk6dm9pZCBJdChlLDAsMCwwLDEpfX19fWZ1bmN0aW9uIEN0KHQsZSl7dmFyIGk9KHBhcnNlRmxvYXQodFswXSklMzYwKzM2MCklMzYwLzM2MCxuPWJ0KHRbMV0pLG89YnQodFsyXSksYT1vPD0uNT9vKihuKzEpOm8rbi1vKm4scj0yKm8tYTtyZXR1cm4gZT1lfHxbXSxJdChlLHl0KDI1NSpTdChyLGEsaSsxLzMpKSx5dCgyNTUqU3QocixhLGkpKSx5dCgyNTUqU3QocixhLGktMS8zKSksMSksND09PXQubGVuZ3RoJiYoZVszXT10WzNdKSxlfWZ1bmN0aW9uIEx0KHQpe2lmKHQpe3ZhciBlLGksbj10WzBdLzI1NSxvPXRbMV0vMjU1LGE9dFsyXS8yNTUscj1NYXRoLm1pbihuLG8sYSkscz1NYXRoLm1heChuLG8sYSksbD1zLXIsdT0ocytyKS8yO2lmKDA9PT1sKWU9MCxpPTA7ZWxzZXtpPXU8LjU/bC8ocytyKTpsLygyLXMtcik7dmFyIGg9KChzLW4pLzYrbC8yKS9sLGM9KChzLW8pLzYrbC8yKS9sLGQ9KChzLWEpLzYrbC8yKS9sO249PT1zP2U9ZC1jOm89PT1zP2U9MS8zK2gtZDphPT09cyYmKGU9Mi8zK2MtaCksZTwwJiYoZSs9MSksZT4xJiYoZS09MSl9dmFyIGY9WzM2MCplLGksdV07cmV0dXJuIG51bGwhPXRbM10mJmYucHVzaCh0WzNdKSxmfX1mdW5jdGlvbiBrdCh0LGUpe3ZhciBpPUF0KHQpO2lmKGkpe2Zvcih2YXIgbj0wO248MztuKyspaVtuXT1lPDA/aVtuXSooMS1lKXwwOigyNTUtaVtuXSkqZStpW25dfDAsaVtuXT4yNTU/aVtuXT0yNTU6dFtuXTwwJiYoaVtuXT0wKTtyZXR1cm4gUnQoaSw0PT09aS5sZW5ndGg/InJnYmEiOiJyZ2IiKX19ZnVuY3Rpb24gUHQodCl7dmFyIGU9QXQodCk7aWYoZSlyZXR1cm4oKDE8PDI0KSsoZVswXTw8MTYpKyhlWzFdPDw4KSsgK2VbMl0pLnRvU3RyaW5nKDE2KS5zbGljZSgxKX1mdW5jdGlvbiBOdCh0LGUsaSl7aWYoZSYmZS5sZW5ndGgmJnQ+PTAmJnQ8PTEpe2k9aXx8W107dmFyIG49dCooZS5sZW5ndGgtMSksbz1NYXRoLmZsb29yKG4pLGE9TWF0aC5jZWlsKG4pLHI9ZVtvXSxzPWVbYV0sbD1uLW87cmV0dXJuIGlbMF09eXQoTXQoclswXSxzWzBdLGwpKSxpWzFdPXl0KE10KHJbMV0sc1sxXSxsKSksaVsyXT15dChNdChyWzJdLHNbMl0sbCkpLGlbM109X3QoTXQoclszXSxzWzNdLGwpKSxpfX1mdW5jdGlvbiBPdCh0LGUsaSl7aWYoZSYmZS5sZW5ndGgmJnQ+PTAmJnQ8PTEpe3ZhciBuPXQqKGUubGVuZ3RoLTEpLG89TWF0aC5mbG9vcihuKSxhPU1hdGguY2VpbChuKSxyPUF0KGVbb10pLHM9QXQoZVthXSksbD1uLW8sdT1SdChbeXQoTXQoclswXSxzWzBdLGwpKSx5dChNdChyWzFdLHNbMV0sbCkpLHl0KE10KHJbMl0sc1syXSxsKSksX3QoTXQoclszXSxzWzNdLGwpKV0sInJnYmEiKTtyZXR1cm4gaT97Y29sb3I6dSxsZWZ0SW5kZXg6byxyaWdodEluZGV4OmEsdmFsdWU6bn06dX19ZnVuY3Rpb24gRXQodCxlLGksbil7aWYodD1BdCh0KSlyZXR1cm4gdD1MdCh0KSxudWxsIT1lJiYodFswXT14dChlKSksbnVsbCE9aSYmKHRbMV09YnQoaSkpLG51bGwhPW4mJih0WzJdPWJ0KG4pKSxSdChDdCh0KSwicmdiYSIpfWZ1bmN0aW9uIHp0KHQsZSl7aWYoKHQ9QXQodCkpJiZudWxsIT1lKXJldHVybiB0WzNdPV90KGUpLFJ0KHQsInJnYmEiKX1mdW5jdGlvbiBSdCh0LGUpe2lmKHQmJnQubGVuZ3RoKXt2YXIgaT10WzBdKyIsIit0WzFdKyIsIit0WzJdO3JldHVybiJyZ2JhIiE9PWUmJiJoc3ZhIiE9PWUmJiJoc2xhIiE9PWV8fChpKz0iLCIrdFszXSksZSsiKCIraSsiKSJ9fWZ1bmN0aW9uIEJ0KHQsZSl7cmV0dXJuIHRbZV19ZnVuY3Rpb24gVnQodCxlLGkpe3RbZV09aX1mdW5jdGlvbiBHdCh0LGUsaSl7cmV0dXJuKGUtdCkqaSt0fWZ1bmN0aW9uIEZ0KHQsZSxpKXtyZXR1cm4gaT4uNT9lOnR9ZnVuY3Rpb24gV3QodCxlLGksbixvKXt2YXIgYT10Lmxlbmd0aDtpZigxPT1vKWZvcihzPTA7czxhO3MrKyluW3NdPUd0KHRbc10sZVtzXSxpKTtlbHNlIGZvcih2YXIgcj1hJiZ0WzBdLmxlbmd0aCxzPTA7czxhO3MrKylmb3IodmFyIGw9MDtsPHI7bCsrKW5bc11bbF09R3QodFtzXVtsXSxlW3NdW2xdLGkpfWZ1bmN0aW9uIEh0KHQsZSxpKXt2YXIgbj10Lmxlbmd0aCxvPWUubGVuZ3RoO2lmKG4hPT1vKWlmKG4+byl0Lmxlbmd0aD1vO2Vsc2UgZm9yKHI9bjtyPG87cisrKXQucHVzaCgxPT09aT9lW3JdOnhfLmNhbGwoZVtyXSkpO2Zvcih2YXIgYT10WzBdJiZ0WzBdLmxlbmd0aCxyPTA7cjx0Lmxlbmd0aDtyKyspaWYoMT09PWkpaXNOYU4odFtyXSkmJih0W3JdPWVbcl0pO2Vsc2UgZm9yKHZhciBzPTA7czxhO3MrKylpc05hTih0W3JdW3NdKSYmKHRbcl1bc109ZVtyXVtzXSl9ZnVuY3Rpb24gWnQodCxlLGkpe2lmKHQ9PT1lKXJldHVybiEwO3ZhciBuPXQubGVuZ3RoO2lmKG4hPT1lLmxlbmd0aClyZXR1cm4hMTtpZigxPT09aSl7Zm9yKGE9MDthPG47YSsrKWlmKHRbYV0hPT1lW2FdKXJldHVybiExfWVsc2UgZm9yKHZhciBvPXRbMF0ubGVuZ3RoLGE9MDthPG47YSsrKWZvcih2YXIgcj0wO3I8bztyKyspaWYodFthXVtyXSE9PWVbYV1bcl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gVXQodCxlLGksbixvLGEscixzLGwpe3ZhciB1PXQubGVuZ3RoO2lmKDE9PWwpZm9yKGM9MDtjPHU7YysrKXNbY109anQodFtjXSxlW2NdLGlbY10sbltjXSxvLGEscik7ZWxzZSBmb3IodmFyIGg9dFswXS5sZW5ndGgsYz0wO2M8dTtjKyspZm9yKHZhciBkPTA7ZDxoO2QrKylzW2NdW2RdPWp0KHRbY11bZF0sZVtjXVtkXSxpW2NdW2RdLG5bY11bZF0sbyxhLHIpfWZ1bmN0aW9uIGp0KHQsZSxpLG4sbyxhLHIpe3ZhciBzPS41KihpLXQpLGw9LjUqKG4tZSk7cmV0dXJuKDIqKGUtaSkrcytsKSpyKygtMyooZS1pKS0yKnMtbCkqYStzKm8rZX1mdW5jdGlvbiBYdCh0KXtpZihjKHQpKXt2YXIgZT10Lmxlbmd0aDtpZihjKHRbMF0pKXtmb3IodmFyIGk9W10sbj0wO248ZTtuKyspaS5wdXNoKHhfLmNhbGwodFtuXSkpO3JldHVybiBpfXJldHVybiB4Xy5jYWxsKHQpfXJldHVybiB0fWZ1bmN0aW9uIFl0KHQpe3JldHVybiB0WzBdPU1hdGguZmxvb3IodFswXSksdFsxXT1NYXRoLmZsb29yKHRbMV0pLHRbMl09TWF0aC5mbG9vcih0WzJdKSwicmdiYSgiK3Quam9pbigiLCIpKyIpIn1mdW5jdGlvbiBxdCh0KXt2YXIgZT10W3QubGVuZ3RoLTFdLnZhbHVlO3JldHVybiBjKGUmJmVbMF0pPzI6MX1mdW5jdGlvbiAkdCh0LGUsaSxuLG8sYSl7dmFyIHI9dC5fZ2V0dGVyLHM9dC5fc2V0dGVyLGw9InNwbGluZSI9PT1lLHU9bi5sZW5ndGg7aWYodSl7dmFyIGgsZD1jKG5bMF0udmFsdWUpLGY9ITEscD0hMSxnPWQ/cXQobik6MDtuLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50aW1lLWUudGltZX0pLGg9blt1LTFdLnRpbWU7Zm9yKHZhciBtPVtdLHY9W10seT1uWzBdLnZhbHVlLHg9ITAsXz0wO188dTtfKyspe20ucHVzaChuW19dLnRpbWUvaCk7dmFyIHc9bltfXS52YWx1ZTtpZihkJiZadCh3LHksZyl8fCFkJiZ3PT09eXx8KHg9ITEpLHk9dywic3RyaW5nIj09dHlwZW9mIHcpe3ZhciBiPUF0KHcpO2I/KHc9YixmPSEwKTpwPSEwfXYucHVzaCh3KX1pZihhfHwheCl7Zm9yKHZhciBTPXZbdS0xXSxfPTA7Xzx1LTE7XysrKWQ/SHQodltfXSxTLGcpOiFpc05hTih2W19dKXx8aXNOYU4oUyl8fHB8fGZ8fCh2W19dPVMpO2QmJkh0KHIodC5fdGFyZ2V0LG8pLFMsZyk7dmFyIE0sSSxELFQsQSxDLEw9MCxrPTA7aWYoZil2YXIgUD1bMCwwLDAsMF07dmFyIE49bmV3IHZ0KHt0YXJnZXQ6dC5fdGFyZ2V0LGxpZmU6aCxsb29wOnQuX2xvb3AsZGVsYXk6dC5fZGVsYXksb25mcmFtZTpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKGU8MClpPTA7ZWxzZSBpZihlPGspe2ZvcihpPU09TWF0aC5taW4oTCsxLHUtMSk7aT49MCYmIShtW2ldPD1lKTtpLS0pO2k9TWF0aC5taW4oaSx1LTIpfWVsc2V7Zm9yKGk9TDtpPHUmJiEobVtpXT5lKTtpKyspO2k9TWF0aC5taW4oaS0xLHUtMil9TD1pLGs9ZTt2YXIgbj1tW2krMV0tbVtpXTtpZigwIT09bilpZihJPShlLW1baV0pL24sbClpZihUPXZbaV0sRD12WzA9PT1pP2k6aS0xXSxBPXZbaT51LTI/dS0xOmkrMV0sQz12W2k+dS0zP3UtMTppKzJdLGQpVXQoRCxULEEsQyxJLEkqSSxJKkkqSSxyKHQsbyksZyk7ZWxzZXtpZihmKWE9VXQoRCxULEEsQyxJLEkqSSxJKkkqSSxQLDEpLGE9WXQoUCk7ZWxzZXtpZihwKXJldHVybiBGdChULEEsSSk7YT1qdChELFQsQSxDLEksSSpJLEkqSSpJKX1zKHQsbyxhKX1lbHNlIGlmKGQpV3QodltpXSx2W2krMV0sSSxyKHQsbyksZyk7ZWxzZXt2YXIgYTtpZihmKVd0KHZbaV0sdltpKzFdLEksUCwxKSxhPVl0KFApO2Vsc2V7aWYocClyZXR1cm4gRnQodltpXSx2W2krMV0sSSk7YT1HdCh2W2ldLHZbaSsxXSxJKX1zKHQsbyxhKX19LG9uZGVzdHJveTppfSk7cmV0dXJuIGUmJiJzcGxpbmUiIT09ZSYmKE4uZWFzaW5nPWUpLE59fX1mdW5jdGlvbiBLdCh0LGUsaSxuKXtpPDAmJih0Kz1pLGk9LWkpLG48MCYmKGUrPW4sbj0tbiksdGhpcy54PXQsdGhpcy55PWUsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PW59ZnVuY3Rpb24gSnQodCl7Zm9yKHZhciBlPTA7dD49a187KWV8PTEmdCx0Pj49MTtyZXR1cm4gdCtlfWZ1bmN0aW9uIFF0KHQsZSxpLG4pe3ZhciBvPWUrMTtpZihvPT09aSlyZXR1cm4gMTtpZihuKHRbbysrXSx0W2VdKTwwKXtmb3IoO288aSYmbih0W29dLHRbby0xXSk8MDspbysrO3RlKHQsZSxvKX1lbHNlIGZvcig7bzxpJiZuKHRbb10sdFtvLTFdKT49MDspbysrO3JldHVybiBvLWV9ZnVuY3Rpb24gdGUodCxlLGkpe2ZvcihpLS07ZTxpOyl7dmFyIG49dFtlXTt0W2UrK109dFtpXSx0W2ktLV09bn19ZnVuY3Rpb24gZWUodCxlLGksbixvKXtmb3Iobj09PWUmJm4rKztuPGk7bisrKXtmb3IodmFyIGEscj10W25dLHM9ZSxsPW47czxsOylvKHIsdFthPXMrbD4+PjFdKTwwP2w9YTpzPWErMTt2YXIgdT1uLXM7c3dpdGNoKHUpe2Nhc2UgMzp0W3MrM109dFtzKzJdO2Nhc2UgMjp0W3MrMl09dFtzKzFdO2Nhc2UgMTp0W3MrMV09dFtzXTticmVhaztkZWZhdWx0OmZvcig7dT4wOyl0W3MrdV09dFtzK3UtMV0sdS0tfXRbc109cn19ZnVuY3Rpb24gaWUodCxlLGksbixvLGEpe3ZhciByPTAscz0wLGw9MTtpZihhKHQsZVtpK29dKT4wKXtmb3Iocz1uLW87bDxzJiZhKHQsZVtpK28rbF0pPjA7KXI9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cykscis9byxsKz1vfWVsc2V7Zm9yKHM9bysxO2w8cyYmYSh0LGVbaStvLWxdKTw9MDspcj1sLChsPTErKGw8PDEpKTw9MCYmKGw9cyk7bD5zJiYobD1zKTt2YXIgdT1yO3I9by1sLGw9by11fWZvcihyKys7cjxsOyl7dmFyIGg9cisobC1yPj4+MSk7YSh0LGVbaStoXSk+MD9yPWgrMTpsPWh9cmV0dXJuIGx9ZnVuY3Rpb24gbmUodCxlLGksbixvLGEpe3ZhciByPTAscz0wLGw9MTtpZihhKHQsZVtpK29dKTwwKXtmb3Iocz1vKzE7bDxzJiZhKHQsZVtpK28tbF0pPDA7KXI9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cyk7dmFyIHU9cjtyPW8tbCxsPW8tdX1lbHNle2ZvcihzPW4tbztsPHMmJmEodCxlW2krbytsXSk+PTA7KXI9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cykscis9byxsKz1vfWZvcihyKys7cjxsOyl7dmFyIGg9cisobC1yPj4+MSk7YSh0LGVbaStoXSk8MD9sPWg6cj1oKzF9cmV0dXJuIGx9ZnVuY3Rpb24gb2UodCxlKXtmdW5jdGlvbiBpKGkpe3ZhciBzPWFbaV0sdT1yW2ldLGg9YVtpKzFdLGM9cltpKzFdO3JbaV09dStjLGk9PT1sLTMmJihhW2krMV09YVtpKzJdLHJbaSsxXT1yW2krMl0pLGwtLTt2YXIgZD1uZSh0W2hdLHQscyx1LDAsZSk7cys9ZCwwIT09KHUtPWQpJiYwIT09KGM9aWUodFtzK3UtMV0sdCxoLGMsYy0xLGUpKSYmKHU8PWM/bihzLHUsaCxjKTpvKHMsdSxoLGMpKX1mdW5jdGlvbiBuKGksbixvLGEpe3ZhciByPTA7Zm9yKHI9MDtyPG47cisrKXVbcl09dFtpK3JdO3ZhciBsPTAsaD1vLGM9aTtpZih0W2MrK109dFtoKytdLDAhPS0tYSlpZigxIT09bil7Zm9yKHZhciBkLGYscCxnPXM7Oyl7ZD0wLGY9MCxwPSExO2Rve2lmKGUodFtoXSx1W2xdKTwwKXtpZih0W2MrK109dFtoKytdLGYrKyxkPTAsMD09LS1hKXtwPSEwO2JyZWFrfX1lbHNlIGlmKHRbYysrXT11W2wrK10sZCsrLGY9MCwxPT0tLW4pe3A9ITA7YnJlYWt9fXdoaWxlKChkfGYpPGcpO2lmKHApYnJlYWs7ZG97aWYoMCE9PShkPW5lKHRbaF0sdSxsLG4sMCxlKSkpe2ZvcihyPTA7cjxkO3IrKyl0W2Mrcl09dVtsK3JdO2lmKGMrPWQsbCs9ZCwobi09ZCk8PTEpe3A9ITA7YnJlYWt9fWlmKHRbYysrXT10W2grK10sMD09LS1hKXtwPSEwO2JyZWFrfWlmKDAhPT0oZj1pZSh1W2xdLHQsaCxhLDAsZSkpKXtmb3Iocj0wO3I8ZjtyKyspdFtjK3JdPXRbaCtyXTtpZihjKz1mLGgrPWYsMD09PShhLT1mKSl7cD0hMDticmVha319aWYodFtjKytdPXVbbCsrXSwxPT0tLW4pe3A9ITA7YnJlYWt9Zy0tfXdoaWxlKGQ+PVBffHxmPj1QXyk7aWYocClicmVhaztnPDAmJihnPTApLGcrPTJ9aWYoKHM9Zyk8MSYmKHM9MSksMT09PW4pe2ZvcihyPTA7cjxhO3IrKyl0W2Mrcl09dFtoK3JdO3RbYythXT11W2xdfWVsc2V7aWYoMD09PW4pdGhyb3cgbmV3IEVycm9yO2ZvcihyPTA7cjxuO3IrKyl0W2Mrcl09dVtsK3JdfX1lbHNle2ZvcihyPTA7cjxhO3IrKyl0W2Mrcl09dFtoK3JdO3RbYythXT11W2xdfWVsc2UgZm9yKHI9MDtyPG47cisrKXRbYytyXT11W2wrcl19ZnVuY3Rpb24gbyhpLG4sbyxhKXt2YXIgcj0wO2ZvcihyPTA7cjxhO3IrKyl1W3JdPXRbbytyXTt2YXIgbD1pK24tMSxoPWEtMSxjPW8rYS0xLGQ9MCxmPTA7aWYodFtjLS1dPXRbbC0tXSwwIT0tLW4paWYoMSE9PWEpe2Zvcih2YXIgcD1zOzspe3ZhciBnPTAsbT0wLHY9ITE7ZG97aWYoZSh1W2hdLHRbbF0pPDApe2lmKHRbYy0tXT10W2wtLV0sZysrLG09MCwwPT0tLW4pe3Y9ITA7YnJlYWt9fWVsc2UgaWYodFtjLS1dPXVbaC0tXSxtKyssZz0wLDE9PS0tYSl7dj0hMDticmVha319d2hpbGUoKGd8bSk8cCk7aWYodilicmVhaztkb3tpZigwIT0oZz1uLW5lKHVbaF0sdCxpLG4sbi0xLGUpKSl7Zm9yKG4tPWcsZj0oYy09ZykrMSxkPShsLT1nKSsxLHI9Zy0xO3I+PTA7ci0tKXRbZityXT10W2Qrcl07aWYoMD09PW4pe3Y9ITA7YnJlYWt9fWlmKHRbYy0tXT11W2gtLV0sMT09LS1hKXt2PSEwO2JyZWFrfWlmKDAhPShtPWEtaWUodFtsXSx1LDAsYSxhLTEsZSkpKXtmb3IoYS09bSxmPShjLT1tKSsxLGQ9KGgtPW0pKzEscj0wO3I8bTtyKyspdFtmK3JdPXVbZCtyXTtpZihhPD0xKXt2PSEwO2JyZWFrfX1pZih0W2MtLV09dFtsLS1dLDA9PS0tbil7dj0hMDticmVha31wLS19d2hpbGUoZz49UF98fG0+PVBfKTtpZih2KWJyZWFrO3A8MCYmKHA9MCkscCs9Mn1pZigocz1wKTwxJiYocz0xKSwxPT09YSl7Zm9yKGY9KGMtPW4pKzEsZD0obC09bikrMSxyPW4tMTtyPj0wO3ItLSl0W2Yrcl09dFtkK3JdO3RbY109dVtoXX1lbHNle2lmKDA9PT1hKXRocm93IG5ldyBFcnJvcjtmb3IoZD1jLShhLTEpLHI9MDtyPGE7cisrKXRbZCtyXT11W3JdfX1lbHNle2ZvcihmPShjLT1uKSsxLGQ9KGwtPW4pKzEscj1uLTE7cj49MDtyLS0pdFtmK3JdPXRbZCtyXTt0W2NdPXVbaF19ZWxzZSBmb3IoZD1jLShhLTEpLHI9MDtyPGE7cisrKXRbZCtyXT11W3JdfXZhciBhLHIscz1QXyxsPTAsdT1bXTthPVtdLHI9W10sdGhpcy5tZXJnZVJ1bnM9ZnVuY3Rpb24oKXtmb3IoO2w+MTspe3ZhciB0PWwtMjtpZih0Pj0xJiZyW3QtMV08PXJbdF0rclt0KzFdfHx0Pj0yJiZyW3QtMl08PXJbdF0rclt0LTFdKXJbdC0xXTxyW3QrMV0mJnQtLTtlbHNlIGlmKHJbdF0+clt0KzFdKWJyZWFrO2kodCl9fSx0aGlzLmZvcmNlTWVyZ2VSdW5zPWZ1bmN0aW9uKCl7Zm9yKDtsPjE7KXt2YXIgdD1sLTI7dD4wJiZyW3QtMV08clt0KzFdJiZ0LS0saSh0KX19LHRoaXMucHVzaFJ1bj1mdW5jdGlvbih0LGUpe2FbbF09dCxyW2xdPWUsbCs9MX19ZnVuY3Rpb24gYWUodCxlLGksbil7aXx8KGk9MCksbnx8KG49dC5sZW5ndGgpO3ZhciBvPW4taTtpZighKG88Mikpe3ZhciBhPTA7aWYobzxrXylyZXR1cm4gYT1RdCh0LGksbixlKSx2b2lkIGVlKHQsaSxuLGkrYSxlKTt2YXIgcj1uZXcgb2UodCxlKSxzPUp0KG8pO2Rve2lmKChhPVF0KHQsaSxuLGUpKTxzKXt2YXIgbD1vO2w+cyYmKGw9cyksZWUodCxpLGkrbCxpK2EsZSksYT1sfXIucHVzaFJ1bihpLGEpLHIubWVyZ2VSdW5zKCksby09YSxpKz1hfXdoaWxlKDAhPT1vKTtyLmZvcmNlTWVyZ2VSdW5zKCl9fWZ1bmN0aW9uIHJlKHQsZSl7cmV0dXJuIHQuemxldmVsPT09ZS56bGV2ZWw/dC56PT09ZS56P3QuejItZS56Mjp0LnotZS56OnQuemxldmVsLWUuemxldmVsfWZ1bmN0aW9uIHNlKHQsZSxpKXt2YXIgbj1udWxsPT1lLng/MDplLngsbz1udWxsPT1lLngyPzE6ZS54MixhPW51bGw9PWUueT8wOmUueSxyPW51bGw9PWUueTI/MDplLnkyO3JldHVybiBlLmdsb2JhbHx8KG49bippLndpZHRoK2kueCxvPW8qaS53aWR0aCtpLngsYT1hKmkuaGVpZ2h0K2kueSxyPXIqaS5oZWlnaHQraS55KSxuPWlzTmFOKG4pPzA6bixvPWlzTmFOKG8pPzE6byxhPWlzTmFOKGEpPzA6YSxyPWlzTmFOKHIpPzA6cix0LmNyZWF0ZUxpbmVhckdyYWRpZW50KG4sYSxvLHIpfWZ1bmN0aW9uIGxlKHQsZSxpKXt2YXIgbj1pLndpZHRoLG89aS5oZWlnaHQsYT1NYXRoLm1pbihuLG8pLHI9bnVsbD09ZS54Py41OmUueCxzPW51bGw9PWUueT8uNTplLnksbD1udWxsPT1lLnI/LjU6ZS5yO3JldHVybiBlLmdsb2JhbHx8KHI9cipuK2kueCxzPXMqbytpLnksbCo9YSksdC5jcmVhdGVSYWRpYWxHcmFkaWVudChyLHMsMCxyLHMsbCl9ZnVuY3Rpb24gdWUoKXtyZXR1cm4hMX1mdW5jdGlvbiBoZSh0LGUsaSl7dmFyIG49VngoKSxvPWUuZ2V0V2lkdGgoKSxhPWUuZ2V0SGVpZ2h0KCkscj1uLnN0eWxlO3JldHVybiByJiYoci5wb3NpdGlvbj0iYWJzb2x1dGUiLHIubGVmdD0wLHIudG9wPTAsci53aWR0aD1vKyJweCIsci5oZWlnaHQ9YSsicHgiLG4uc2V0QXR0cmlidXRlKCJkYXRhLXpyLWRvbS1pZCIsdCkpLG4ud2lkdGg9byppLG4uaGVpZ2h0PWEqaSxufWZ1bmN0aW9uIGNlKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9Wl8uZ2V0KHQpO3JldHVybiBlJiZlLmltYWdlfXJldHVybiB0fWZ1bmN0aW9uIGRlKHQsZSxpLG4sbyl7aWYodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZihlJiZlLl9fenJJbWFnZVNyYz09PXR8fCFpKXJldHVybiBlO3ZhciBhPVpfLmdldCh0KSxyPXtob3N0RWw6aSxjYjpuLGNiUGF5bG9hZDpvfTtyZXR1cm4gYT8hcGUoZT1hLmltYWdlKSYmYS5wZW5kaW5nLnB1c2gocik6KCFlJiYoZT1uZXcgSW1hZ2UpLGUub25sb2FkPWZlLFpfLnB1dCh0LGUuX19jYWNoZWRJbWdPYmo9e2ltYWdlOmUscGVuZGluZzpbcl19KSxlLnNyYz1lLl9fenJJbWFnZVNyYz10KSxlfXJldHVybiB0fXJldHVybiBlfWZ1bmN0aW9uIGZlKCl7dmFyIHQ9dGhpcy5fX2NhY2hlZEltZ09iajt0aGlzLm9ubG9hZD10aGlzLl9fY2FjaGVkSW1nT2JqPW51bGw7Zm9yKHZhciBlPTA7ZTx0LnBlbmRpbmcubGVuZ3RoO2UrKyl7dmFyIGk9dC5wZW5kaW5nW2VdLG49aS5jYjtuJiZuKHRoaXMsaS5jYlBheWxvYWQpLGkuaG9zdEVsLmRpcnR5KCl9dC5wZW5kaW5nLmxlbmd0aD0wfWZ1bmN0aW9uIHBlKHQpe3JldHVybiB0JiZ0LndpZHRoJiZ0LmhlaWdodH1mdW5jdGlvbiBnZSh0LGUpe3ZhciBpPXQrIjoiKyhlPWV8fHFfKTtpZihVX1tpXSlyZXR1cm4gVV9baV07Zm9yKHZhciBuPSh0KyIiKS5zcGxpdCgiXG4iKSxvPTAsYT0wLHI9bi5sZW5ndGg7YTxyO2ErKylvPU1hdGgubWF4KFRlKG5bYV0sZSkud2lkdGgsbyk7cmV0dXJuIGpfPlhfJiYoal89MCxVXz17fSksal8rKyxVX1tpXT1vLG99ZnVuY3Rpb24gbWUodCxlLGksbixvLGEscil7cmV0dXJuIGE/eWUodCxlLGksbixvLGEscik6dmUodCxlLGksbixvLHIpfWZ1bmN0aW9uIHZlKHQsZSxpLG4sbyxhKXt2YXIgcj1BZSh0LGUsbyxhKSxzPWdlKHQsZSk7byYmKHMrPW9bMV0rb1szXSk7dmFyIGw9ci5vdXRlckhlaWdodCx1PW5ldyBLdCh4ZSgwLHMsaSksX2UoMCxsLG4pLHMsbCk7cmV0dXJuIHUubGluZUhlaWdodD1yLmxpbmVIZWlnaHQsdX1mdW5jdGlvbiB5ZSh0LGUsaSxuLG8sYSxyKXt2YXIgcz1DZSh0LHtyaWNoOmEsdHJ1bmNhdGU6cixmb250OmUsdGV4dEFsaWduOmksdGV4dFBhZGRpbmc6b30pLGw9cy5vdXRlcldpZHRoLHU9cy5vdXRlckhlaWdodDtyZXR1cm4gbmV3IEt0KHhlKDAsbCxpKSxfZSgwLHUsbiksbCx1KX1mdW5jdGlvbiB4ZSh0LGUsaSl7cmV0dXJuInJpZ2h0Ij09PWk/dC09ZToiY2VudGVyIj09PWkmJih0LT1lLzIpLHR9ZnVuY3Rpb24gX2UodCxlLGkpe3JldHVybiJtaWRkbGUiPT09aT90LT1lLzI6ImJvdHRvbSI9PT1pJiYodC09ZSksdH1mdW5jdGlvbiB3ZSh0LGUsaSl7dmFyIG49ZS54LG89ZS55LGE9ZS5oZWlnaHQscj1lLndpZHRoLHM9YS8yLGw9ImxlZnQiLHU9InRvcCI7c3dpdGNoKHQpe2Nhc2UibGVmdCI6bi09aSxvKz1zLGw9InJpZ2h0Iix1PSJtaWRkbGUiO2JyZWFrO2Nhc2UicmlnaHQiOm4rPWkrcixvKz1zLHU9Im1pZGRsZSI7YnJlYWs7Y2FzZSJ0b3AiOm4rPXIvMixvLT1pLGw9ImNlbnRlciIsdT0iYm90dG9tIjticmVhaztjYXNlImJvdHRvbSI6bis9ci8yLG8rPWEraSxsPSJjZW50ZXIiO2JyZWFrO2Nhc2UiaW5zaWRlIjpuKz1yLzIsbys9cyxsPSJjZW50ZXIiLHU9Im1pZGRsZSI7YnJlYWs7Y2FzZSJpbnNpZGVMZWZ0IjpuKz1pLG8rPXMsdT0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZVJpZ2h0IjpuKz1yLWksbys9cyxsPSJyaWdodCIsdT0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZVRvcCI6bis9ci8yLG8rPWksbD0iY2VudGVyIjticmVhaztjYXNlImluc2lkZUJvdHRvbSI6bis9ci8yLG8rPWEtaSxsPSJjZW50ZXIiLHU9ImJvdHRvbSI7YnJlYWs7Y2FzZSJpbnNpZGVUb3BMZWZ0IjpuKz1pLG8rPWk7YnJlYWs7Y2FzZSJpbnNpZGVUb3BSaWdodCI6bis9ci1pLG8rPWksbD0icmlnaHQiO2JyZWFrO2Nhc2UiaW5zaWRlQm90dG9tTGVmdCI6bis9aSxvKz1hLWksdT0iYm90dG9tIjticmVhaztjYXNlImluc2lkZUJvdHRvbVJpZ2h0IjpuKz1yLWksbys9YS1pLGw9InJpZ2h0Iix1PSJib3R0b20ifXJldHVybnt4Om4seTpvLHRleHRBbGlnbjpsLHRleHRWZXJ0aWNhbEFsaWduOnV9fWZ1bmN0aW9uIGJlKHQsZSxpLG4sbyl7aWYoIWUpcmV0dXJuIiI7dmFyIGE9KHQrIiIpLnNwbGl0KCJcbiIpO289U2UoZSxpLG4sbyk7Zm9yKHZhciByPTAscz1hLmxlbmd0aDtyPHM7cisrKWFbcl09TWUoYVtyXSxvKTtyZXR1cm4gYS5qb2luKCJcbiIpfWZ1bmN0aW9uIFNlKHQsZSxpLG4peyhuPWEoe30sbikpLmZvbnQ9ZTt2YXIgaT1UKGksIi4uLiIpO24ubWF4SXRlcmF0aW9ucz1UKG4ubWF4SXRlcmF0aW9ucywyKTt2YXIgbz1uLm1pbkNoYXI9VChuLm1pbkNoYXIsMCk7bi5jbkNoYXJXaWR0aD1nZSgi5Zu9IixlKTt2YXIgcj1uLmFzY0NoYXJXaWR0aD1nZSgiYSIsZSk7bi5wbGFjZWhvbGRlcj1UKG4ucGxhY2Vob2xkZXIsIiIpO2Zvcih2YXIgcz10PU1hdGgubWF4KDAsdC0xKSxsPTA7bDxvJiZzPj1yO2wrKylzLT1yO3ZhciB1PWdlKGkpO3JldHVybiB1PnMmJihpPSIiLHU9MCkscz10LXUsbi5lbGxpcHNpcz1pLG4uZWxsaXBzaXNXaWR0aD11LG4uY29udGVudFdpZHRoPXMsbi5jb250YWluZXJXaWR0aD10LG59ZnVuY3Rpb24gTWUodCxlKXt2YXIgaT1lLmNvbnRhaW5lcldpZHRoLG49ZS5mb250LG89ZS5jb250ZW50V2lkdGg7aWYoIWkpcmV0dXJuIiI7dmFyIGE9Z2UodCxuKTtpZihhPD1pKXJldHVybiB0O2Zvcih2YXIgcj0wOztyKyspe2lmKGE8PW98fHI+PWUubWF4SXRlcmF0aW9ucyl7dCs9ZS5lbGxpcHNpczticmVha312YXIgcz0wPT09cj9JZSh0LG8sZS5hc2NDaGFyV2lkdGgsZS5jbkNoYXJXaWR0aCk6YT4wP01hdGguZmxvb3IodC5sZW5ndGgqby9hKTowO2E9Z2UodD10LnN1YnN0cigwLHMpLG4pfXJldHVybiIiPT09dCYmKHQ9ZS5wbGFjZWhvbGRlciksdH1mdW5jdGlvbiBJZSh0LGUsaSxuKXtmb3IodmFyIG89MCxhPTAscj10Lmxlbmd0aDthPHImJm88ZTthKyspe3ZhciBzPXQuY2hhckNvZGVBdChhKTtvKz0wPD1zJiZzPD0xMjc/aTpufXJldHVybiBhfWZ1bmN0aW9uIERlKHQpe3JldHVybiBnZSgi5Zu9Iix0KX1mdW5jdGlvbiBUZSh0LGUpe3JldHVybiAkXy5tZWFzdXJlVGV4dCh0LGUpfWZ1bmN0aW9uIEFlKHQsZSxpLG4pe251bGwhPXQmJih0Kz0iIik7dmFyIG89RGUoZSksYT10P3Quc3BsaXQoIlxuIik6W10scj1hLmxlbmd0aCpvLHM9cjtpZihpJiYocys9aVswXStpWzJdKSx0JiZuKXt2YXIgbD1uLm91dGVySGVpZ2h0LHU9bi5vdXRlcldpZHRoO2lmKG51bGwhPWwmJnM+bCl0PSIiLGE9W107ZWxzZSBpZihudWxsIT11KWZvcih2YXIgaD1TZSh1LShpP2lbMV0raVszXTowKSxlLG4uZWxsaXBzaXMse21pbkNoYXI6bi5taW5DaGFyLHBsYWNlaG9sZGVyOm4ucGxhY2Vob2xkZXJ9KSxjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKWFbY109TWUoYVtjXSxoKX1yZXR1cm57bGluZXM6YSxoZWlnaHQ6cixvdXRlckhlaWdodDpzLGxpbmVIZWlnaHQ6b319ZnVuY3Rpb24gQ2UodCxlKXt2YXIgaT17bGluZXM6W10sd2lkdGg6MCxoZWlnaHQ6MH07aWYobnVsbCE9dCYmKHQrPSIiKSwhdClyZXR1cm4gaTtmb3IodmFyIG4sbz1ZXy5sYXN0SW5kZXg9MDtudWxsIT0obj1ZXy5leGVjKHQpKTspe3ZhciBhPW4uaW5kZXg7YT5vJiZMZShpLHQuc3Vic3RyaW5nKG8sYSkpLExlKGksblsyXSxuWzFdKSxvPVlfLmxhc3RJbmRleH1vPHQubGVuZ3RoJiZMZShpLHQuc3Vic3RyaW5nKG8sdC5sZW5ndGgpKTt2YXIgcj1pLmxpbmVzLHM9MCxsPTAsdT1bXSxoPWUudGV4dFBhZGRpbmcsYz1lLnRydW5jYXRlLGQ9YyYmYy5vdXRlcldpZHRoLGY9YyYmYy5vdXRlckhlaWdodDtoJiYobnVsbCE9ZCYmKGQtPWhbMV0raFszXSksbnVsbCE9ZiYmKGYtPWhbMF0raFsyXSkpO2ZvcihMPTA7TDxyLmxlbmd0aDtMKyspe2Zvcih2YXIgcD1yW0xdLGc9MCxtPTAsdj0wO3Y8cC50b2tlbnMubGVuZ3RoO3YrKyl7dmFyIHk9KGs9cC50b2tlbnNbdl0pLnN0eWxlTmFtZSYmZS5yaWNoW2suc3R5bGVOYW1lXXx8e30seD1rLnRleHRQYWRkaW5nPXkudGV4dFBhZGRpbmcsXz1rLmZvbnQ9eS5mb250fHxlLmZvbnQsdz1rLnRleHRIZWlnaHQ9VCh5LnRleHRIZWlnaHQsRGUoXykpO2lmKHgmJih3Kz14WzBdK3hbMl0pLGsuaGVpZ2h0PXcsay5saW5lSGVpZ2h0PUEoeS50ZXh0TGluZUhlaWdodCxlLnRleHRMaW5lSGVpZ2h0LHcpLGsudGV4dEFsaWduPXkmJnkudGV4dEFsaWdufHxlLnRleHRBbGlnbixrLnRleHRWZXJ0aWNhbEFsaWduPXkmJnkudGV4dFZlcnRpY2FsQWxpZ258fCJtaWRkbGUiLG51bGwhPWYmJnMray5saW5lSGVpZ2h0PmYpcmV0dXJue2xpbmVzOltdLHdpZHRoOjAsaGVpZ2h0OjB9O2sudGV4dFdpZHRoPWdlKGsudGV4dCxfKTt2YXIgYj15LnRleHRXaWR0aCxTPW51bGw9PWJ8fCJhdXRvIj09PWI7aWYoInN0cmluZyI9PXR5cGVvZiBiJiYiJSI9PT1iLmNoYXJBdChiLmxlbmd0aC0xKSlrLnBlcmNlbnRXaWR0aD1iLHUucHVzaChrKSxiPTA7ZWxzZXtpZihTKXtiPWsudGV4dFdpZHRoO3ZhciBNPXkudGV4dEJhY2tncm91bmRDb2xvcixJPU0mJk0uaW1hZ2U7SSYmcGUoST1jZShJKSkmJihiPU1hdGgubWF4KGIsSS53aWR0aCp3L0kuaGVpZ2h0KSl9dmFyIEQ9eD94WzFdK3hbM106MDtiKz1EO3ZhciBDPW51bGwhPWQ/ZC1tOm51bGw7bnVsbCE9QyYmQzxiJiYoIVN8fEM8RD8oay50ZXh0PSIiLGsudGV4dFdpZHRoPWI9MCk6KGsudGV4dD1iZShrLnRleHQsQy1ELF8sYy5lbGxpcHNpcyx7bWluQ2hhcjpjLm1pbkNoYXJ9KSxrLnRleHRXaWR0aD1nZShrLnRleHQsXyksYj1rLnRleHRXaWR0aCtEKSl9bSs9ay53aWR0aD1iLHkmJihnPU1hdGgubWF4KGcsay5saW5lSGVpZ2h0KSl9cC53aWR0aD1tLHAubGluZUhlaWdodD1nLHMrPWcsbD1NYXRoLm1heChsLG0pfWkub3V0ZXJXaWR0aD1pLndpZHRoPVQoZS50ZXh0V2lkdGgsbCksaS5vdXRlckhlaWdodD1pLmhlaWdodD1UKGUudGV4dEhlaWdodCxzKSxoJiYoaS5vdXRlcldpZHRoKz1oWzFdK2hbM10saS5vdXRlckhlaWdodCs9aFswXStoWzJdKTtmb3IodmFyIEw9MDtMPHUubGVuZ3RoO0wrKyl7dmFyIGs9dVtMXSxQPWsucGVyY2VudFdpZHRoO2sud2lkdGg9cGFyc2VJbnQoUCwxMCkvMTAwKmx9cmV0dXJuIGl9ZnVuY3Rpb24gTGUodCxlLGkpe2Zvcih2YXIgbj0iIj09PWUsbz1lLnNwbGl0KCJcbiIpLGE9dC5saW5lcyxyPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBzPW9bcl0sbD17c3R5bGVOYW1lOmksdGV4dDpzLGlzTGluZUhvbGRlcjohcyYmIW59O2lmKHIpYS5wdXNoKHt0b2tlbnM6W2xdfSk7ZWxzZXt2YXIgdT0oYVthLmxlbmd0aC0xXXx8KGFbMF09e3Rva2VuczpbXX0pKS50b2tlbnMsaD11Lmxlbmd0aDsxPT09aCYmdVswXS5pc0xpbmVIb2xkZXI/dVswXT1sOihzfHwhaHx8bikmJnUucHVzaChsKX19fWZ1bmN0aW9uIGtlKHQpe3ZhciBlPSh0LmZvbnRTaXplfHx0LmZvbnRGYW1pbHkpJiZbdC5mb250U3R5bGUsdC5mb250V2VpZ2h0LCh0LmZvbnRTaXplfHwxMikrInB4Iix0LmZvbnRGYW1pbHl8fCJzYW5zLXNlcmlmIl0uam9pbigiICIpO3JldHVybiBlJiZQKGUpfHx0LnRleHRGb250fHx0LmZvbnR9ZnVuY3Rpb24gUGUodCxlKXt2YXIgaSxuLG8sYSxyPWUueCxzPWUueSxsPWUud2lkdGgsdT1lLmhlaWdodCxoPWUucjtsPDAmJihyKz1sLGw9LWwpLHU8MCYmKHMrPXUsdT0tdSksIm51bWJlciI9PXR5cGVvZiBoP2k9bj1vPWE9aDpoIGluc3RhbmNlb2YgQXJyYXk/MT09PWgubGVuZ3RoP2k9bj1vPWE9aFswXToyPT09aC5sZW5ndGg/KGk9bz1oWzBdLG49YT1oWzFdKTozPT09aC5sZW5ndGg/KGk9aFswXSxuPWE9aFsxXSxvPWhbMl0pOihpPWhbMF0sbj1oWzFdLG89aFsyXSxhPWhbM10pOmk9bj1vPWE9MDt2YXIgYztpK24+bCYmKGkqPWwvKGM9aStuKSxuKj1sL2MpLG8rYT5sJiYobyo9bC8oYz1vK2EpLGEqPWwvYyksbitvPnUmJihuKj11LyhjPW4rbyksbyo9dS9jKSxpK2E+dSYmKGkqPXUvKGM9aSthKSxhKj11L2MpLHQubW92ZVRvKHIraSxzKSx0LmxpbmVUbyhyK2wtbixzKSwwIT09biYmdC5hcmMocitsLW4scytuLG4sLU1hdGguUEkvMiwwKSx0LmxpbmVUbyhyK2wscyt1LW8pLDAhPT1vJiZ0LmFyYyhyK2wtbyxzK3UtbyxvLDAsTWF0aC5QSS8yKSx0LmxpbmVUbyhyK2Escyt1KSwwIT09YSYmdC5hcmMocithLHMrdS1hLGEsTWF0aC5QSS8yLE1hdGguUEkpLHQubGluZVRvKHIscytpKSwwIT09aSYmdC5hcmMocitpLHMraSxpLE1hdGguUEksMS41Kk1hdGguUEkpfWZ1bmN0aW9uIE5lKHQpe3JldHVybiBPZSh0KSxkKHQucmljaCxPZSksdH1mdW5jdGlvbiBPZSh0KXtpZih0KXt0LmZvbnQ9a2UodCk7dmFyIGU9dC50ZXh0QWxpZ247Im1pZGRsZSI9PT1lJiYoZT0iY2VudGVyIiksdC50ZXh0QWxpZ249bnVsbD09ZXx8S19bZV0/ZToibGVmdCI7dmFyIGk9dC50ZXh0VmVydGljYWxBbGlnbnx8dC50ZXh0QmFzZWxpbmU7ImNlbnRlciI9PT1pJiYoaT0ibWlkZGxlIiksdC50ZXh0VmVydGljYWxBbGlnbj1udWxsPT1pfHxKX1tpXT9pOiJ0b3AiLHQudGV4dFBhZGRpbmcmJih0LnRleHRQYWRkaW5nPUwodC50ZXh0UGFkZGluZykpfX1mdW5jdGlvbiBFZSh0LGUsaSxuLG8pe24ucmljaD9SZSh0LGUsaSxuLG8pOnplKHQsZSxpLG4sbyl9ZnVuY3Rpb24gemUodCxlLGksbixvKXt2YXIgYT1VZShlLCJmb250IixuLmZvbnR8fHFfKSxyPW4udGV4dFBhZGRpbmcscz10Ll9fdGV4dENvdGVudEJsb2NrO3MmJiF0Ll9fZGlydHl8fChzPXQuX190ZXh0Q290ZW50QmxvY2s9QWUoaSxhLHIsbi50cnVuY2F0ZSkpO3ZhciBsPXMub3V0ZXJIZWlnaHQsdT1zLmxpbmVzLGg9cy5saW5lSGVpZ2h0LGM9WmUobCxuLG8pLGQ9Yy5iYXNlWCxmPWMuYmFzZVkscD1jLnRleHRBbGlnbixnPWMudGV4dFZlcnRpY2FsQWxpZ247VmUoZSxuLG8sZCxmKTt2YXIgbT1fZShmLGwsZyksdj1kLHk9bSx4PUZlKG4pO2lmKHh8fHIpe3ZhciBfPWdlKGksYSk7ciYmKF8rPXJbMV0rclszXSk7dmFyIHc9eGUoZCxfLHApO3gmJldlKHQsZSxuLHcsbSxfLGwpLHImJih2PXFlKGQscCxyKSx5Kz1yWzBdKX1VZShlLCJ0ZXh0QWxpZ24iLHB8fCJsZWZ0IiksVWUoZSwidGV4dEJhc2VsaW5lIiwibWlkZGxlIiksVWUoZSwic2hhZG93Qmx1ciIsbi50ZXh0U2hhZG93Qmx1cnx8MCksVWUoZSwic2hhZG93Q29sb3IiLG4udGV4dFNoYWRvd0NvbG9yfHwidHJhbnNwYXJlbnQiKSxVZShlLCJzaGFkb3dPZmZzZXRYIixuLnRleHRTaGFkb3dPZmZzZXRYfHwwKSxVZShlLCJzaGFkb3dPZmZzZXRZIixuLnRleHRTaGFkb3dPZmZzZXRZfHwwKSx5Kz1oLzI7dmFyIGI9bi50ZXh0U3Ryb2tlV2lkdGgsUz1qZShuLnRleHRTdHJva2UsYiksTT1YZShuLnRleHRGaWxsKTtTJiYoVWUoZSwibGluZVdpZHRoIixiKSxVZShlLCJzdHJva2VTdHlsZSIsUykpLE0mJlVlKGUsImZpbGxTdHlsZSIsTSk7Zm9yKHZhciBJPTA7STx1Lmxlbmd0aDtJKyspUyYmZS5zdHJva2VUZXh0KHVbSV0sdix5KSxNJiZlLmZpbGxUZXh0KHVbSV0sdix5KSx5Kz1ofWZ1bmN0aW9uIFJlKHQsZSxpLG4sbyl7dmFyIGE9dC5fX3RleHRDb3RlbnRCbG9jazthJiYhdC5fX2RpcnR5fHwoYT10Ll9fdGV4dENvdGVudEJsb2NrPUNlKGksbikpLEJlKHQsZSxhLG4sbyl9ZnVuY3Rpb24gQmUodCxlLGksbixvKXt2YXIgYT1pLndpZHRoLHI9aS5vdXRlcldpZHRoLHM9aS5vdXRlckhlaWdodCxsPW4udGV4dFBhZGRpbmcsdT1aZShzLG4sbyksaD11LmJhc2VYLGM9dS5iYXNlWSxkPXUudGV4dEFsaWduLGY9dS50ZXh0VmVydGljYWxBbGlnbjtWZShlLG4sbyxoLGMpO3ZhciBwPXhlKGgscixkKSxnPV9lKGMscyxmKSxtPXAsdj1nO2wmJihtKz1sWzNdLHYrPWxbMF0pO3ZhciB5PW0rYTtGZShuKSYmV2UodCxlLG4scCxnLHIscyk7Zm9yKHZhciB4PTA7eDxpLmxpbmVzLmxlbmd0aDt4Kyspe2Zvcih2YXIgXyx3PWkubGluZXNbeF0sYj13LnRva2VucyxTPWIubGVuZ3RoLE09dy5saW5lSGVpZ2h0LEk9dy53aWR0aCxEPTAsVD1tLEE9eSxDPVMtMTtEPFMmJighKF89YltEXSkudGV4dEFsaWdufHwibGVmdCI9PT1fLnRleHRBbGlnbik7KUdlKHQsZSxfLG4sTSx2LFQsImxlZnQiKSxJLT1fLndpZHRoLFQrPV8ud2lkdGgsRCsrO2Zvcig7Qz49MCYmInJpZ2h0Ij09PShfPWJbQ10pLnRleHRBbGlnbjspR2UodCxlLF8sbixNLHYsQSwicmlnaHQiKSxJLT1fLndpZHRoLEEtPV8ud2lkdGgsQy0tO2ZvcihUKz0oYS0oVC1tKS0oeS1BKS1JKS8yO0Q8PUM7KUdlKHQsZSxfPWJbRF0sbixNLHYsVCtfLndpZHRoLzIsImNlbnRlciIpLFQrPV8ud2lkdGgsRCsrO3YrPU19fWZ1bmN0aW9uIFZlKHQsZSxpLG4sbyl7aWYoaSYmZS50ZXh0Um90YXRpb24pe3ZhciBhPWUudGV4dE9yaWdpbjsiY2VudGVyIj09PWE/KG49aS53aWR0aC8yK2kueCxvPWkuaGVpZ2h0LzIraS55KTphJiYobj1hWzBdK2kueCxvPWFbMV0raS55KSx0LnRyYW5zbGF0ZShuLG8pLHQucm90YXRlKC1lLnRleHRSb3RhdGlvbiksdC50cmFuc2xhdGUoLW4sLW8pfX1mdW5jdGlvbiBHZSh0LGUsaSxuLG8sYSxyLHMpe3ZhciBsPW4ucmljaFtpLnN0eWxlTmFtZV18fHt9LHU9aS50ZXh0VmVydGljYWxBbGlnbixoPWErby8yOyJ0b3AiPT09dT9oPWEraS5oZWlnaHQvMjoiYm90dG9tIj09PXUmJihoPWErby1pLmhlaWdodC8yKSwhaS5pc0xpbmVIb2xkZXImJkZlKGwpJiZXZSh0LGUsbCwicmlnaHQiPT09cz9yLWkud2lkdGg6ImNlbnRlciI9PT1zP3ItaS53aWR0aC8yOnIsaC1pLmhlaWdodC8yLGkud2lkdGgsaS5oZWlnaHQpO3ZhciBjPWkudGV4dFBhZGRpbmc7YyYmKHI9cWUocixzLGMpLGgtPWkuaGVpZ2h0LzItY1syXS1pLnRleHRIZWlnaHQvMiksVWUoZSwic2hhZG93Qmx1ciIsQShsLnRleHRTaGFkb3dCbHVyLG4udGV4dFNoYWRvd0JsdXIsMCkpLFVlKGUsInNoYWRvd0NvbG9yIixsLnRleHRTaGFkb3dDb2xvcnx8bi50ZXh0U2hhZG93Q29sb3J8fCJ0cmFuc3BhcmVudCIpLFVlKGUsInNoYWRvd09mZnNldFgiLEEobC50ZXh0U2hhZG93T2Zmc2V0WCxuLnRleHRTaGFkb3dPZmZzZXRYLDApKSxVZShlLCJzaGFkb3dPZmZzZXRZIixBKGwudGV4dFNoYWRvd09mZnNldFksbi50ZXh0U2hhZG93T2Zmc2V0WSwwKSksVWUoZSwidGV4dEFsaWduIixzKSxVZShlLCJ0ZXh0QmFzZWxpbmUiLCJtaWRkbGUiKSxVZShlLCJmb250IixpLmZvbnR8fHFfKTt2YXIgZD1qZShsLnRleHRTdHJva2V8fG4udGV4dFN0cm9rZSxwKSxmPVhlKGwudGV4dEZpbGx8fG4udGV4dEZpbGwpLHA9VChsLnRleHRTdHJva2VXaWR0aCxuLnRleHRTdHJva2VXaWR0aCk7ZCYmKFVlKGUsImxpbmVXaWR0aCIscCksVWUoZSwic3Ryb2tlU3R5bGUiLGQpLGUuc3Ryb2tlVGV4dChpLnRleHQscixoKSksZiYmKFVlKGUsImZpbGxTdHlsZSIsZiksZS5maWxsVGV4dChpLnRleHQscixoKSl9ZnVuY3Rpb24gRmUodCl7cmV0dXJuIHQudGV4dEJhY2tncm91bmRDb2xvcnx8dC50ZXh0Qm9yZGVyV2lkdGgmJnQudGV4dEJvcmRlckNvbG9yfWZ1bmN0aW9uIFdlKHQsZSxpLG4sbyxhLHIpe3ZhciBzPWkudGV4dEJhY2tncm91bmRDb2xvcixsPWkudGV4dEJvcmRlcldpZHRoLHU9aS50ZXh0Qm9yZGVyQ29sb3IsaD1fKHMpO2lmKFVlKGUsInNoYWRvd0JsdXIiLGkudGV4dEJveFNoYWRvd0JsdXJ8fDApLFVlKGUsInNoYWRvd0NvbG9yIixpLnRleHRCb3hTaGFkb3dDb2xvcnx8InRyYW5zcGFyZW50IiksVWUoZSwic2hhZG93T2Zmc2V0WCIsaS50ZXh0Qm94U2hhZG93T2Zmc2V0WHx8MCksVWUoZSwic2hhZG93T2Zmc2V0WSIsaS50ZXh0Qm94U2hhZG93T2Zmc2V0WXx8MCksaHx8bCYmdSl7ZS5iZWdpblBhdGgoKTt2YXIgYz1pLnRleHRCb3JkZXJSYWRpdXM7Yz9QZShlLHt4Om4seTpvLHdpZHRoOmEsaGVpZ2h0OnIscjpjfSk6ZS5yZWN0KG4sbyxhLHIpLGUuY2xvc2VQYXRoKCl9aWYoaClVZShlLCJmaWxsU3R5bGUiLHMpLGUuZmlsbCgpO2Vsc2UgaWYodyhzKSl7dmFyIGQ9cy5pbWFnZTsoZD1kZShkLG51bGwsdCxIZSxzKSkmJnBlKGQpJiZlLmRyYXdJbWFnZShkLG4sbyxhLHIpfWwmJnUmJihVZShlLCJsaW5lV2lkdGgiLGwpLFVlKGUsInN0cm9rZVN0eWxlIix1KSxlLnN0cm9rZSgpKX1mdW5jdGlvbiBIZSh0LGUpe2UuaW1hZ2U9dH1mdW5jdGlvbiBaZSh0LGUsaSl7dmFyIG49ZS54fHwwLG89ZS55fHwwLGE9ZS50ZXh0QWxpZ24scj1lLnRleHRWZXJ0aWNhbEFsaWduO2lmKGkpe3ZhciBzPWUudGV4dFBvc2l0aW9uO2lmKHMgaW5zdGFuY2VvZiBBcnJheSluPWkueCtZZShzWzBdLGkud2lkdGgpLG89aS55K1llKHNbMV0saS5oZWlnaHQpO2Vsc2V7dmFyIGw9d2UocyxpLGUudGV4dERpc3RhbmNlKTtuPWwueCxvPWwueSxhPWF8fGwudGV4dEFsaWduLHI9cnx8bC50ZXh0VmVydGljYWxBbGlnbn12YXIgdT1lLnRleHRPZmZzZXQ7dSYmKG4rPXVbMF0sbys9dVsxXSl9cmV0dXJue2Jhc2VYOm4sYmFzZVk6byx0ZXh0QWxpZ246YSx0ZXh0VmVydGljYWxBbGlnbjpyfX1mdW5jdGlvbiBVZSh0LGUsaSl7cmV0dXJuIHRbZV09RV8odCxlLGkpLHRbZV19ZnVuY3Rpb24gamUodCxlKXtyZXR1cm4gbnVsbD09dHx8ZTw9MHx8InRyYW5zcGFyZW50Ij09PXR8fCJub25lIj09PXQ/bnVsbDp0LmltYWdlfHx0LmNvbG9yU3RvcHM/IiMwMDAiOnR9ZnVuY3Rpb24gWGUodCl7cmV0dXJuIG51bGw9PXR8fCJub25lIj09PXQ/bnVsbDp0LmltYWdlfHx0LmNvbG9yU3RvcHM/IiMwMDAiOnR9ZnVuY3Rpb24gWWUodCxlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dC5sYXN0SW5kZXhPZigiJSIpPj0wP3BhcnNlRmxvYXQodCkvMTAwKmU6cGFyc2VGbG9hdCh0KTp0fWZ1bmN0aW9uIHFlKHQsZSxpKXtyZXR1cm4icmlnaHQiPT09ZT90LWlbMV06ImNlbnRlciI9PT1lP3QraVszXS8yLWlbMV0vMjp0K2lbM119ZnVuY3Rpb24gJGUodCxlKXtyZXR1cm4gbnVsbCE9dCYmKHR8fGUudGV4dEJhY2tncm91bmRDb2xvcnx8ZS50ZXh0Qm9yZGVyV2lkdGgmJmUudGV4dEJvcmRlckNvbG9yfHxlLnRleHRQYWRkaW5nKX1mdW5jdGlvbiBLZSh0KXt0PXR8fHt9LERfLmNhbGwodGhpcyx0KTtmb3IodmFyIGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYic3R5bGUiIT09ZSYmKHRoaXNbZV09dFtlXSk7dGhpcy5zdHlsZT1uZXcgUl8odC5zdHlsZSx0aGlzKSx0aGlzLl9yZWN0PW51bGwsdGhpcy5fX2NsaXBQYXRocz1bXX1mdW5jdGlvbiBKZSh0KXtLZS5jYWxsKHRoaXMsdCl9ZnVuY3Rpb24gUWUodCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfWZ1bmN0aW9uIHRpKHQpe3JldHVybiEhdCYmKCEhdC5fX2J1aWx0aW5fX3x8ImZ1bmN0aW9uIj09dHlwZW9mIHQucmVzaXplJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5yZWZyZXNoKX1mdW5jdGlvbiBlaSh0LGUsaSl7cmV0dXJuIGV3LmNvcHkodC5nZXRCb3VuZGluZ1JlY3QoKSksdC50cmFuc2Zvcm0mJmV3LmFwcGx5VHJhbnNmb3JtKHQudHJhbnNmb3JtKSxpdy53aWR0aD1lLGl3LmhlaWdodD1pLCFldy5pbnRlcnNlY3QoaXcpfWZ1bmN0aW9uIGlpKHQsZSl7aWYodD09ZSlyZXR1cm4hMTtpZighdHx8IWV8fHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITA7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXSE9PWVbaV0pcmV0dXJuITB9ZnVuY3Rpb24gbmkodCxlKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLnNldFRyYW5zZm9ybShlKSxlLmJlZ2luUGF0aCgpLG4uYnVpbGRQYXRoKGUsbi5zaGFwZSksZS5jbGlwKCksbi5yZXN0b3JlVHJhbnNmb3JtKGUpfX1mdW5jdGlvbiBvaSh0LGUpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBpLnN0eWxlLmNzc1RleHQ9WyJwb3NpdGlvbjpyZWxhdGl2ZSIsIm92ZXJmbG93OmhpZGRlbiIsIndpZHRoOiIrdCsicHgiLCJoZWlnaHQ6IitlKyJweCIsInBhZGRpbmc6MCIsIm1hcmdpbjowIiwiYm9yZGVyLXdpZHRoOjAiXS5qb2luKCI7IikrIjsiLGl9ZnVuY3Rpb24gYWkodCl7cmV0dXJuIHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0P3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6e2xlZnQ6MCx0b3A6MH19ZnVuY3Rpb24gcmkodCxlLGksbil7cmV0dXJuIGk9aXx8e30sbnx8IUF4LmNhbnZhc1N1cHBvcnRlZD9zaSh0LGUsaSk6QXguYnJvd3Nlci5maXJlZm94JiZudWxsIT1lLmxheWVyWCYmZS5sYXllclghPT1lLm9mZnNldFg/KGkuenJYPWUubGF5ZXJYLGkuenJZPWUubGF5ZXJZKTpudWxsIT1lLm9mZnNldFg/KGkuenJYPWUub2Zmc2V0WCxpLnpyWT1lLm9mZnNldFkpOnNpKHQsZSxpKSxpfWZ1bmN0aW9uIHNpKHQsZSxpKXt2YXIgbj1haSh0KTtpLnpyWD1lLmNsaWVudFgtbi5sZWZ0LGkuenJZPWUuY2xpZW50WS1uLnRvcH1mdW5jdGlvbiBsaSh0LGUsaSl7aWYobnVsbCE9KGU9ZXx8d2luZG93LmV2ZW50KS56clgpcmV0dXJuIGU7dmFyIG49ZS50eXBlO2lmKG4mJm4uaW5kZXhPZigidG91Y2giKT49MCl7dmFyIG89InRvdWNoZW5kIiE9bj9lLnRhcmdldFRvdWNoZXNbMF06ZS5jaGFuZ2VkVG91Y2hlc1swXTtvJiZyaSh0LG8sZSxpKX1lbHNlIHJpKHQsZSxlLGkpLGUuenJEZWx0YT1lLndoZWVsRGVsdGE/ZS53aGVlbERlbHRhLzEyMDotKGUuZGV0YWlsfHwwKS8zO3ZhciBhPWUuYnV0dG9uO3JldHVybiBudWxsPT1lLndoaWNoJiZ2b2lkIDAhPT1hJiZhdy50ZXN0KGUudHlwZSkmJihlLndoaWNoPTEmYT8xOjImYT8zOjQmYT8yOjApLGV9ZnVuY3Rpb24gdWkodCxlLGkpe293P3QuYWRkRXZlbnRMaXN0ZW5lcihlLGkpOnQuYXR0YWNoRXZlbnQoIm9uIitlLGkpfWZ1bmN0aW9uIGhpKHQsZSxpKXtvdz90LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpKTp0LmRldGFjaEV2ZW50KCJvbiIrZSxpKX1mdW5jdGlvbiBjaSh0KXtyZXR1cm4gdC53aGljaD4xfWZ1bmN0aW9uIGRpKHQpe3ZhciBlPXRbMV1bMF0tdFswXVswXSxpPXRbMV1bMV0tdFswXVsxXTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStpKmkpfWZ1bmN0aW9uIGZpKHQpe3JldHVyblsodFswXVswXSt0WzFdWzBdKS8yLCh0WzBdWzFdK3RbMV1bMV0pLzJdfWZ1bmN0aW9uIHBpKHQpe3JldHVybiJtb3VzZXdoZWVsIj09PXQmJkF4LmJyb3dzZXIuZmlyZWZveD8iRE9NTW91c2VTY3JvbGwiOnR9ZnVuY3Rpb24gZ2kodCxlLGkpe3ZhciBuPXQuX2dlc3R1cmVNZ3I7InN0YXJ0Ij09PWkmJm4uY2xlYXIoKTt2YXIgbz1uLnJlY29nbml6ZShlLHQuaGFuZGxlci5maW5kSG92ZXIoZS56clgsZS56clksbnVsbCkudGFyZ2V0LHQuZG9tKTtpZigiZW5kIj09PWkmJm4uY2xlYXIoKSxvKXt2YXIgYT1vLnR5cGU7ZS5nZXN0dXJlRXZlbnQ9YSx0LmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQoe3RhcmdldDpvLnRhcmdldH0sYSxvLmV2ZW50KX19ZnVuY3Rpb24gbWkodCl7dC5fdG91Y2hpbmc9ITAsY2xlYXJUaW1lb3V0KHQuX3RvdWNoVGltZXIpLHQuX3RvdWNoVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3QuX3RvdWNoaW5nPSExfSw3MDApfWZ1bmN0aW9uIHZpKHQpe3ZhciBlPXQucG9pbnRlclR5cGU7cmV0dXJuInBlbiI9PT1lfHwidG91Y2giPT09ZX1mdW5jdGlvbiB5aSh0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIWUuX3RvdWNoaW5nKXJldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19ZChjdyxmdW5jdGlvbihlKXt0Ll9oYW5kbGVyc1tlXT1tKHB3W2VdLHQpfSksZChmdyxmdW5jdGlvbihlKXt0Ll9oYW5kbGVyc1tlXT1tKHB3W2VdLHQpfSksZChodyxmdW5jdGlvbihpKXt0Ll9oYW5kbGVyc1tpXT1lKHB3W2ldLHQpfSl9ZnVuY3Rpb24geGkodCl7ZnVuY3Rpb24gZShlLGkpe2QoZSxmdW5jdGlvbihlKXt1aSh0LHBpKGUpLGkuX2hhbmRsZXJzW2VdKX0saSl9JHguY2FsbCh0aGlzKSx0aGlzLmRvbT10LHRoaXMuX3RvdWNoaW5nPSExLHRoaXMuX3RvdWNoVGltZXIsdGhpcy5fZ2VzdHVyZU1ncj1uZXcgbHcsdGhpcy5faGFuZGxlcnM9e30seWkodGhpcyksQXgucG9pbnRlckV2ZW50c1N1cHBvcnRlZD9lKGZ3LHRoaXMpOihBeC50b3VjaEV2ZW50c1N1cHBvcnRlZCYmZShjdyx0aGlzKSxlKGh3LHRoaXMpKX1mdW5jdGlvbiBfaSh0LGUpe3ZhciBpPW5ldyB4dyhEeCgpLHQsZSk7cmV0dXJuIHl3W2kuaWRdPWksaX1mdW5jdGlvbiB3aSh0LGUpe3Z3W3RdPWV9ZnVuY3Rpb24gYmkodCl7ZGVsZXRlIHl3W3RdfWZ1bmN0aW9uIFNpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXk/dDpudWxsPT10P1tdOlt0XX1mdW5jdGlvbiBNaSh0LGUsaSl7aWYodCl7dFtlXT10W2VdfHx7fSx0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LHQuZW1waGFzaXNbZV09dC5lbXBoYXNpc1tlXXx8e307Zm9yKHZhciBuPTAsbz1pLmxlbmd0aDtuPG87bisrKXt2YXIgYT1pW25dOyF0LmVtcGhhc2lzW2VdLmhhc093blByb3BlcnR5KGEpJiZ0W2VdLmhhc093blByb3BlcnR5KGEpJiYodC5lbXBoYXNpc1tlXVthXT10W2VdW2FdKX19fWZ1bmN0aW9uIElpKHQpe3JldHVybiFidyh0KXx8U3codCl8fHQgaW5zdGFuY2VvZiBEYXRlP3Q6dC52YWx1ZX1mdW5jdGlvbiBEaSh0KXtyZXR1cm4gYncodCkmJiEodCBpbnN0YW5jZW9mIEFycmF5KX1mdW5jdGlvbiBUaSh0LGUpe2U9KGV8fFtdKS5zbGljZSgpO3ZhciBpPWYodHx8W10sZnVuY3Rpb24odCxlKXtyZXR1cm57ZXhpc3Q6dH19KTtyZXR1cm4gd3coZSxmdW5jdGlvbih0LG4pe2lmKGJ3KHQpKXtmb3Iobz0wO288aS5sZW5ndGg7bysrKWlmKCFpW29dLm9wdGlvbiYmbnVsbCE9dC5pZCYmaVtvXS5leGlzdC5pZD09PXQuaWQrIiIpcmV0dXJuIGlbb10ub3B0aW9uPXQsdm9pZChlW25dPW51bGwpO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dLmV4aXN0O2lmKCEoaVtvXS5vcHRpb258fG51bGwhPWEuaWQmJm51bGwhPXQuaWR8fG51bGw9PXQubmFtZXx8TGkodCl8fExpKGEpfHxhLm5hbWUhPT10Lm5hbWUrIiIpKXJldHVybiBpW29dLm9wdGlvbj10LHZvaWQoZVtuXT1udWxsKX19fSksd3coZSxmdW5jdGlvbih0LGUpe2lmKGJ3KHQpKXtmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXS5leGlzdDtpZighaVtuXS5vcHRpb24mJiFMaShvKSYmbnVsbD09dC5pZCl7aVtuXS5vcHRpb249dDticmVha319bj49aS5sZW5ndGgmJmkucHVzaCh7b3B0aW9uOnR9KX19KSxpfWZ1bmN0aW9uIEFpKHQpe3ZhciBlPXooKTt3dyh0LGZ1bmN0aW9uKHQsaSl7dmFyIG49dC5leGlzdDtuJiZlLnNldChuLmlkLHQpfSksd3codCxmdW5jdGlvbih0LGkpe3ZhciBuPXQub3B0aW9uO2soIW58fG51bGw9PW4uaWR8fCFlLmdldChuLmlkKXx8ZS5nZXQobi5pZCk9PT10LCJpZCBkdXBsaWNhdGVzOiAiKyhuJiZuLmlkKSksbiYmbnVsbCE9bi5pZCYmZS5zZXQobi5pZCx0KSwhdC5rZXlJbmZvJiYodC5rZXlJbmZvPXt9KX0pLHd3KHQsZnVuY3Rpb24odCxpKXt2YXIgbj10LmV4aXN0LG89dC5vcHRpb24sYT10LmtleUluZm87aWYoYncobykpe2lmKGEubmFtZT1udWxsIT1vLm5hbWU/by5uYW1lKyIiOm4/bi5uYW1lOk13K2ksbilhLmlkPW4uaWQ7ZWxzZSBpZihudWxsIT1vLmlkKWEuaWQ9by5pZCsiIjtlbHNle3ZhciByPTA7ZG97YS5pZD0iXDAiK2EubmFtZSsiXDAiK3IrK313aGlsZShlLmdldChhLmlkKSl9ZS5zZXQoYS5pZCx0KX19KX1mdW5jdGlvbiBDaSh0KXt2YXIgZT10Lm5hbWU7cmV0dXJuISghZXx8IWUuaW5kZXhPZihNdykpfWZ1bmN0aW9uIExpKHQpe3JldHVybiBidyh0KSYmdC5pZCYmMD09PSh0LmlkKyIiKS5pbmRleE9mKCJcMF9lY19cMCIpfWZ1bmN0aW9uIGtpKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7Zm9yKHZhciBuPTAsbz10Lmxlbmd0aDtuPG87bisrKWZvcih2YXIgYT10W25dLnNlcmllc0lkLHI9U2kodFtuXS5kYXRhSW5kZXgpLHM9aSYmaVthXSxsPTAsdT1yLmxlbmd0aDtsPHU7bCsrKXt2YXIgaD1yW2xdO3MmJnNbaF0/c1toXT1udWxsOihlW2FdfHwoZVthXT17fSkpW2hdPTF9fWZ1bmN0aW9uIG4odCxlKXt2YXIgaT1bXTtmb3IodmFyIG8gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG8pJiZudWxsIT10W29dKWlmKGUpaS5wdXNoKCtvKTtlbHNle3ZhciBhPW4odFtvXSwhMCk7YS5sZW5ndGgmJmkucHVzaCh7c2VyaWVzSWQ6byxkYXRhSW5kZXg6YX0pfXJldHVybiBpfXZhciBvPXt9LGE9e307cmV0dXJuIGkodHx8W10sbyksaShlfHxbXSxhLG8pLFtuKG8pLG4oYSldfWZ1bmN0aW9uIFBpKHQsZSl7cmV0dXJuIG51bGwhPWUuZGF0YUluZGV4SW5zaWRlP2UuZGF0YUluZGV4SW5zaWRlOm51bGwhPWUuZGF0YUluZGV4P3koZS5kYXRhSW5kZXgpP2YoZS5kYXRhSW5kZXgsZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5kZXhPZlJhd0luZGV4KGUpfSk6dC5pbmRleE9mUmF3SW5kZXgoZS5kYXRhSW5kZXgpOm51bGwhPWUubmFtZT95KGUubmFtZSk/ZihlLm5hbWUsZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5kZXhPZk5hbWUoZSl9KTp0LmluZGV4T2ZOYW1lKGUubmFtZSk6dm9pZCAwfWZ1bmN0aW9uIE5pKCl7dmFyIHQ9Il9fXDBlY19pbm5lcl8iK0R3KysrIl8iK01hdGgucmFuZG9tKCkudG9GaXhlZCg1KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGVbdF18fChlW3RdPXt9KX19ZnVuY3Rpb24gT2kodCxlLGkpe2lmKF8oZSkpe3ZhciBuPXt9O25bZSsiSW5kZXgiXT0wLGU9bn12YXIgbz1pJiZpLmRlZmF1bHRNYWluVHlwZTshb3x8RWkoZSxvKyJJbmRleCIpfHxFaShlLG8rIklkIil8fEVpKGUsbysiTmFtZSIpfHwoZVtvKyJJbmRleCJdPTApO3ZhciBhPXt9O3JldHVybiB3dyhlLGZ1bmN0aW9uKG4sbyl7dmFyIG49ZVtvXTtpZigiZGF0YUluZGV4IiE9PW8mJiJkYXRhSW5kZXhJbnNpZGUiIT09byl7dmFyIHI9by5tYXRjaCgvXihcdyspKEluZGV4fElkfE5hbWUpJC8pfHxbXSxzPXJbMV0sdT0oclsyXXx8IiIpLnRvTG93ZXJDYXNlKCk7aWYoISghc3x8IXV8fG51bGw9PW58fCJpbmRleCI9PT11JiYibm9uZSI9PT1ufHxpJiZpLmluY2x1ZGVNYWluVHlwZXMmJmwoaS5pbmNsdWRlTWFpblR5cGVzLHMpPDApKXt2YXIgaD17bWFpblR5cGU6c307ImluZGV4Ij09PXUmJiJhbGwiPT09bnx8KGhbdV09bik7dmFyIGM9dC5xdWVyeUNvbXBvbmVudHMoaCk7YVtzKyJNb2RlbHMiXT1jLGFbcysiTW9kZWwiXT1jWzBdfX1lbHNlIGFbb109bn0pLGF9ZnVuY3Rpb24gRWkodCxlKXtyZXR1cm4gdCYmdC5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiB6aSh0LGUsaSl7dC5zZXRBdHRyaWJ1dGU/dC5zZXRBdHRyaWJ1dGUoZSxpKTp0W2VdPWl9ZnVuY3Rpb24gUmkodCxlKXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGU/dC5nZXRBdHRyaWJ1dGUoZSk6dFtlXX1mdW5jdGlvbiBCaSh0KXt2YXIgZT17bWFpbjoiIixzdWI6IiJ9O3JldHVybiB0JiYodD10LnNwbGl0KFR3KSxlLm1haW49dFswXXx8IiIsZS5zdWI9dFsxXXx8IiIpLGV9ZnVuY3Rpb24gVmkodCl7aygvXlthLXpBLVowLTlfXSsoWy5dW2EtekEtWjAtOV9dKyk/JC8udGVzdCh0KSwnY29tcG9uZW50VHlwZSAiJyt0KyciIGlsbGVnYWwnKX1mdW5jdGlvbiBHaSh0LGUpe3QuJGNvbnN0cnVjdG9yPXQsdC5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPWZ1bmN0aW9uKCl7dC4kY29uc3RydWN0b3I/dC4kY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gYShpLnByb3RvdHlwZSx0KSxpLmV4dGVuZD10aGlzLmV4dGVuZCxpLnN1cGVyQ2FsbD1XaSxpLnN1cGVyQXBwbHk9SGksdShpLHRoaXMpLGkuc3VwZXJDbGFzcz1lLGl9fWZ1bmN0aW9uIEZpKHQpe3ZhciBlPVsiX19cMGlzX2NseiIsQ3crKyxNYXRoLnJhbmRvbSgpLnRvRml4ZWQoMyldLmpvaW4oIl8iKTt0LnByb3RvdHlwZVtlXT0hMCx0LmlzSW5zdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8IXRbZV0pfX1mdW5jdGlvbiBXaSh0LGUpe3ZhciBpPUMoYXJndW1lbnRzLDIpO3JldHVybiB0aGlzLnN1cGVyQ2xhc3MucHJvdG90eXBlW2VdLmFwcGx5KHQsaSl9ZnVuY3Rpb24gSGkodCxlLGkpe3JldHVybiB0aGlzLnN1cGVyQ2xhc3MucHJvdG90eXBlW2VdLmFwcGx5KHQsaSl9ZnVuY3Rpb24gWmkodCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBlPW5bdC5tYWluXTtyZXR1cm4gZSYmZVtBd118fCgoZT1uW3QubWFpbl09e30pW0F3XT0hMCksZX1lPWV8fHt9O3ZhciBuPXt9O2lmKHQucmVnaXN0ZXJDbGFzcz1mdW5jdGlvbih0LGUpe3JldHVybiBlJiYoVmkoZSksKGU9QmkoZSkpLnN1Yj9lLnN1YiE9PUF3JiYoaShlKVtlLnN1Yl09dCk6bltlLm1haW5dPXQpLHR9LHQuZ2V0Q2xhc3M9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPW5bdF07aWYobyYmb1tBd10mJihvPWU/b1tlXTpudWxsKSxpJiYhbyl0aHJvdyBuZXcgRXJyb3IoZT8iQ29tcG9uZW50ICIrdCsiLiIrKGV8fCIiKSsiIG5vdCBleGlzdHMuIExvYWQgaXQgZmlyc3QuIjp0KyIudHlwZSBzaG91bGQgYmUgc3BlY2lmaWVkLiIpO3JldHVybiBvfSx0LmdldENsYXNzZXNCeU1haW5UeXBlPWZ1bmN0aW9uKHQpe3Q9QmkodCk7dmFyIGU9W10saT1uW3QubWFpbl07cmV0dXJuIGkmJmlbQXddP2QoaSxmdW5jdGlvbih0LGkpe2khPT1BdyYmZS5wdXNoKHQpfSk6ZS5wdXNoKGkpLGV9LHQuaGFzQ2xhc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9QmkodCksISFuW3QubWFpbl19LHQuZ2V0QWxsQ2xhc3NNYWluVHlwZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gZChuLGZ1bmN0aW9uKGUsaSl7dC5wdXNoKGkpfSksdH0sdC5oYXNTdWJUeXBlcz1mdW5jdGlvbih0KXt0PUJpKHQpO3ZhciBlPW5bdC5tYWluXTtyZXR1cm4gZSYmZVtBd119LHQucGFyc2VDbGFzc1R5cGU9QmksZS5yZWdpc3RlcldoZW5FeHRlbmQpe3ZhciBvPXQuZXh0ZW5kO28mJih0LmV4dGVuZD1mdW5jdGlvbihlKXt2YXIgaT1vLmNhbGwodGhpcyxlKTtyZXR1cm4gdC5yZWdpc3RlckNsYXNzKGksZS50eXBlKX0pfXJldHVybiB0fWZ1bmN0aW9uIFVpKHQpe3JldHVybiB0Pi1SdyYmdDxSd31mdW5jdGlvbiBqaSh0KXtyZXR1cm4gdD5Sd3x8dDwtUnd9ZnVuY3Rpb24gWGkodCxlLGksbixvKXt2YXIgYT0xLW87cmV0dXJuIGEqYSooYSp0KzMqbyplKStvKm8qKG8qbiszKmEqaSl9ZnVuY3Rpb24gWWkodCxlLGksbixvKXt2YXIgYT0xLW87cmV0dXJuIDMqKCgoZS10KSphKzIqKGktZSkqbykqYSsobi1pKSpvKm8pfWZ1bmN0aW9uIHFpKHQsZSxpLG4sbyxhKXt2YXIgcj1uKzMqKGUtaSktdCxzPTMqKGktMiplK3QpLGw9MyooZS10KSx1PXQtbyxoPXMqcy0zKnIqbCxjPXMqbC05KnIqdSxkPWwqbC0zKnMqdSxmPTA7aWYoVWkoaCkmJlVpKGMpKVVpKHMpP2FbMF09MDooTT0tbC9zKT49MCYmTTw9MSYmKGFbZisrXT1NKTtlbHNle3ZhciBwPWMqYy00KmgqZDtpZihVaShwKSl7dmFyIGc9Yy9oLG09LWcvMjsoTT0tcy9yK2cpPj0wJiZNPD0xJiYoYVtmKytdPU0pLG0+PTAmJm08PTEmJihhW2YrK109bSl9ZWxzZSBpZihwPjApe3ZhciB2PXp3KHApLHk9aCpzKzEuNSpyKigtYyt2KSx4PWgqcysxLjUqciooLWMtdik7KE09KC1zLSgoeT15PDA/LUV3KC15LEd3KTpFdyh5LEd3KSkrKHg9eDwwPy1FdygteCxHdyk6RXcoeCxHdykpKSkvKDMqcikpPj0wJiZNPD0xJiYoYVtmKytdPU0pfWVsc2V7dmFyIF89KDIqaCpzLTMqcipjKS8oMip6dyhoKmgqaCkpLHc9TWF0aC5hY29zKF8pLzMsYj16dyhoKSxTPU1hdGguY29zKHcpLE09KC1zLTIqYipTKS8oMypyKSxtPSgtcytiKihTK1Z3Kk1hdGguc2luKHcpKSkvKDMqciksST0oLXMrYiooUy1WdypNYXRoLnNpbih3KSkpLygzKnIpO00+PTAmJk08PTEmJihhW2YrK109TSksbT49MCYmbTw9MSYmKGFbZisrXT1tKSxJPj0wJiZJPD0xJiYoYVtmKytdPUkpfX1yZXR1cm4gZn1mdW5jdGlvbiAkaSh0LGUsaSxuLG8pe3ZhciBhPTYqaS0xMiplKzYqdCxyPTkqZSszKm4tMyp0LTkqaSxzPTMqZS0zKnQsbD0wO2lmKFVpKHIpKWppKGEpJiYoYz0tcy9hKT49MCYmYzw9MSYmKG9bbCsrXT1jKTtlbHNle3ZhciB1PWEqYS00KnIqcztpZihVaSh1KSlvWzBdPS1hLygyKnIpO2Vsc2UgaWYodT4wKXt2YXIgaD16dyh1KSxjPSgtYStoKS8oMipyKSxkPSgtYS1oKS8oMipyKTtjPj0wJiZjPD0xJiYob1tsKytdPWMpLGQ+PTAmJmQ8PTEmJihvW2wrK109ZCl9fXJldHVybiBsfWZ1bmN0aW9uIEtpKHQsZSxpLG4sbyxhKXt2YXIgcj0oZS10KSpvK3Qscz0oaS1lKSpvK2UsbD0obi1pKSpvK2ksdT0ocy1yKSpvK3IsaD0obC1zKSpvK3MsYz0oaC11KSpvK3U7YVswXT10LGFbMV09cixhWzJdPXUsYVszXT1jLGFbNF09YyxhWzVdPWgsYVs2XT1sLGFbN109bn1mdW5jdGlvbiBKaSh0LGUsaSxuLG8sYSxyLHMsbCx1LGgpe3ZhciBjLGQsZixwLGcsbT0uMDA1LHY9MS8wO0Z3WzBdPWwsRndbMV09dTtmb3IodmFyIHk9MDt5PDE7eSs9LjA1KVd3WzBdPVhpKHQsaSxvLHIseSksV3dbMV09WGkoZSxuLGEscyx5KSwocD1YeChGdyxXdykpPHYmJihjPXksdj1wKTt2PTEvMDtmb3IodmFyIHg9MDt4PDMyJiYhKG08QncpO3grKylkPWMtbSxmPWMrbSxXd1swXT1YaSh0LGksbyxyLGQpLFd3WzFdPVhpKGUsbixhLHMsZCkscD1YeChXdyxGdyksZD49MCYmcDx2PyhjPWQsdj1wKTooSHdbMF09WGkodCxpLG8scixmKSxId1sxXT1YaShlLG4sYSxzLGYpLGc9WHgoSHcsRncpLGY8PTEmJmc8dj8oYz1mLHY9Zyk6bSo9LjUpO3JldHVybiBoJiYoaFswXT1YaSh0LGksbyxyLGMpLGhbMV09WGkoZSxuLGEscyxjKSksencodil9ZnVuY3Rpb24gUWkodCxlLGksbil7dmFyIG89MS1uO3JldHVybiBvKihvKnQrMipuKmUpK24qbippfWZ1bmN0aW9uIHRuKHQsZSxpLG4pe3JldHVybiAyKigoMS1uKSooZS10KStuKihpLWUpKX1mdW5jdGlvbiBlbih0LGUsaSxuLG8pe3ZhciBhPXQtMiplK2kscj0yKihlLXQpLHM9dC1uLGw9MDtpZihVaShhKSlqaShyKSYmKGM9LXMvcik+PTAmJmM8PTEmJihvW2wrK109Yyk7ZWxzZXt2YXIgdT1yKnItNCphKnM7aWYoVWkodSkpKGM9LXIvKDIqYSkpPj0wJiZjPD0xJiYob1tsKytdPWMpO2Vsc2UgaWYodT4wKXt2YXIgaD16dyh1KSxjPSgtcitoKS8oMiphKSxkPSgtci1oKS8oMiphKTtjPj0wJiZjPD0xJiYob1tsKytdPWMpLGQ+PTAmJmQ8PTEmJihvW2wrK109ZCl9fXJldHVybiBsfWZ1bmN0aW9uIG5uKHQsZSxpKXt2YXIgbj10K2ktMiplO3JldHVybiAwPT09bj8uNToodC1lKS9ufWZ1bmN0aW9uIG9uKHQsZSxpLG4sbyl7dmFyIGE9KGUtdCkqbit0LHI9KGktZSkqbitlLHM9KHItYSkqbithO29bMF09dCxvWzFdPWEsb1syXT1zLG9bM109cyxvWzRdPXIsb1s1XT1pfWZ1bmN0aW9uIGFuKHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgdSxoPS4wMDUsYz0xLzA7RndbMF09cixGd1sxXT1zO2Zvcih2YXIgZD0wO2Q8MTtkKz0uMDUpV3dbMF09UWkodCxpLG8sZCksV3dbMV09UWkoZSxuLGEsZCksKG09WHgoRncsV3cpKTxjJiYodT1kLGM9bSk7Yz0xLzA7Zm9yKHZhciBmPTA7ZjwzMiYmIShoPEJ3KTtmKyspe3ZhciBwPXUtaCxnPXUraDtXd1swXT1RaSh0LGksbyxwKSxXd1sxXT1RaShlLG4sYSxwKTt2YXIgbT1YeChXdyxGdyk7aWYocD49MCYmbTxjKXU9cCxjPW07ZWxzZXtId1swXT1RaSh0LGksbyxnKSxId1sxXT1RaShlLG4sYSxnKTt2YXIgdj1YeChIdyxGdyk7Zzw9MSYmdjxjPyh1PWcsYz12KTpoKj0uNX19cmV0dXJuIGwmJihsWzBdPVFpKHQsaSxvLHUpLGxbMV09UWkoZSxuLGEsdSkpLHp3KGMpfWZ1bmN0aW9uIHJuKHQsZSxpKXtpZigwIT09dC5sZW5ndGgpe3ZhciBuLG89dFswXSxhPW9bMF0scj1vWzBdLHM9b1sxXSxsPW9bMV07Zm9yKG49MTtuPHQubGVuZ3RoO24rKylvPXRbbl0sYT1adyhhLG9bMF0pLHI9VXcocixvWzBdKSxzPVp3KHMsb1sxXSksbD1VdyhsLG9bMV0pO2VbMF09YSxlWzFdPXMsaVswXT1yLGlbMV09bH19ZnVuY3Rpb24gc24odCxlLGksbixvLGEpe29bMF09WncodCxpKSxvWzFdPVp3KGUsbiksYVswXT1Vdyh0LGkpLGFbMV09VXcoZSxuKX1mdW5jdGlvbiBsbih0LGUsaSxuLG8sYSxyLHMsbCx1KXt2YXIgaCxjPSRpLGQ9WGksZj1jKHQsaSxvLHIsSncpO2ZvcihsWzBdPTEvMCxsWzFdPTEvMCx1WzBdPS0xLzAsdVsxXT0tMS8wLGg9MDtoPGY7aCsrKXt2YXIgcD1kKHQsaSxvLHIsSndbaF0pO2xbMF09WncocCxsWzBdKSx1WzBdPVV3KHAsdVswXSl9Zm9yKGY9YyhlLG4sYSxzLFF3KSxoPTA7aDxmO2grKyl7dmFyIGc9ZChlLG4sYSxzLFF3W2hdKTtsWzFdPVp3KGcsbFsxXSksdVsxXT1VdyhnLHVbMV0pfWxbMF09WncodCxsWzBdKSx1WzBdPVV3KHQsdVswXSksbFswXT1adyhyLGxbMF0pLHVbMF09VXcocix1WzBdKSxsWzFdPVp3KGUsbFsxXSksdVsxXT1VdyhlLHVbMV0pLGxbMV09WncocyxsWzFdKSx1WzFdPVV3KHMsdVsxXSl9ZnVuY3Rpb24gdW4odCxlLGksbixvLGEscixzKXt2YXIgbD1ubix1PVFpLGg9VXcoWncobCh0LGksbyksMSksMCksYz1VdyhadyhsKGUsbixhKSwxKSwwKSxkPXUodCxpLG8saCksZj11KGUsbixhLGMpO3JbMF09WncodCxvLGQpLHJbMV09WncoZSxhLGYpLHNbMF09VXcodCxvLGQpLHNbMV09VXcoZSxhLGYpfWZ1bmN0aW9uIGhuKHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgdT10dCxoPWV0LGM9TWF0aC5hYnMoby1hKTtpZihjJVl3PDFlLTQmJmM+MWUtNClyZXR1cm4gc1swXT10LWksc1sxXT1lLW4sbFswXT10K2ksdm9pZChsWzFdPWUrbik7aWYocXdbMF09WHcobykqaSt0LHF3WzFdPWp3KG8pKm4rZSwkd1swXT1YdyhhKSppK3QsJHdbMV09ancoYSkqbitlLHUocyxxdywkdyksaChsLHF3LCR3KSwobyU9WXcpPDAmJihvKz1ZdyksKGElPVl3KTwwJiYoYSs9WXcpLG8+YSYmIXI/YSs9WXc6bzxhJiZyJiYobys9WXcpLHIpe3ZhciBkPWE7YT1vLG89ZH1mb3IodmFyIGY9MDtmPGE7Zis9TWF0aC5QSS8yKWY+byYmKEt3WzBdPVh3KGYpKmkrdCxLd1sxXT1qdyhmKSpuK2UsdShzLEt3LHMpLGgobCxLdyxsKSl9ZnVuY3Rpb24gY24odCxlLGksbixvLGEscil7aWYoMD09PW8pcmV0dXJuITE7dmFyIHM9byxsPTAsdT10O2lmKHI+ZStzJiZyPm4rc3x8cjxlLXMmJnI8bi1zfHxhPnQrcyYmYT5pK3N8fGE8dC1zJiZhPGktcylyZXR1cm4hMTtpZih0PT09aSlyZXR1cm4gTWF0aC5hYnMoYS10KTw9cy8yO3ZhciBoPShsPShlLW4pLyh0LWkpKSphLXIrKHU9KHQqbi1pKmUpLyh0LWkpKTtyZXR1cm4gaCpoLyhsKmwrMSk8PXMvMipzLzJ9ZnVuY3Rpb24gZG4odCxlLGksbixvLGEscixzLGwsdSxoKXtpZigwPT09bClyZXR1cm4hMTt2YXIgYz1sO3JldHVybiEoaD5lK2MmJmg+bitjJiZoPmErYyYmaD5zK2N8fGg8ZS1jJiZoPG4tYyYmaDxhLWMmJmg8cy1jfHx1PnQrYyYmdT5pK2MmJnU+bytjJiZ1PnIrY3x8dTx0LWMmJnU8aS1jJiZ1PG8tYyYmdTxyLWMpJiZKaSh0LGUsaSxuLG8sYSxyLHMsdSxoLG51bGwpPD1jLzJ9ZnVuY3Rpb24gZm4odCxlLGksbixvLGEscixzLGwpe2lmKDA9PT1yKXJldHVybiExO3ZhciB1PXI7cmV0dXJuIShsPmUrdSYmbD5uK3UmJmw+YSt1fHxsPGUtdSYmbDxuLXUmJmw8YS11fHxzPnQrdSYmcz5pK3UmJnM+byt1fHxzPHQtdSYmczxpLXUmJnM8by11KSYmYW4odCxlLGksbixvLGEscyxsLG51bGwpPD11LzJ9ZnVuY3Rpb24gcG4odCl7cmV0dXJuKHQlPWZiKTwwJiYodCs9ZmIpLHR9ZnVuY3Rpb24gZ24odCxlLGksbixvLGEscixzLGwpe2lmKDA9PT1yKXJldHVybiExO3ZhciB1PXI7cy09dCxsLT1lO3ZhciBoPU1hdGguc3FydChzKnMrbCpsKTtpZihoLXU+aXx8aCt1PGkpcmV0dXJuITE7aWYoTWF0aC5hYnMobi1vKSVwYjwxZS00KXJldHVybiEwO2lmKGEpe3ZhciBjPW47bj1wbihvKSxvPXBuKGMpfWVsc2Ugbj1wbihuKSxvPXBuKG8pO24+byYmKG8rPXBiKTt2YXIgZD1NYXRoLmF0YW4yKGwscyk7cmV0dXJuIGQ8MCYmKGQrPXBiKSxkPj1uJiZkPD1vfHxkK3BiPj1uJiZkK3BiPD1vfWZ1bmN0aW9uIG1uKHQsZSxpLG4sbyxhKXtpZihhPmUmJmE+bnx8YTxlJiZhPG4pcmV0dXJuIDA7aWYobj09PWUpcmV0dXJuIDA7dmFyIHI9bjxlPzE6LTEscz0oYS1lKS8obi1lKTtyZXR1cm4gMSE9PXMmJjAhPT1zfHwocj1uPGU/LjU6LS41KSxzKihpLXQpK3Q+bz9yOjB9ZnVuY3Rpb24gdm4odCxlKXtyZXR1cm4gTWF0aC5hYnModC1lKTx2Yn1mdW5jdGlvbiB5bigpe3ZhciB0PXhiWzBdO3hiWzBdPXhiWzFdLHhiWzFdPXR9ZnVuY3Rpb24geG4odCxlLGksbixvLGEscixzLGwsdSl7aWYodT5lJiZ1Pm4mJnU+YSYmdT5zfHx1PGUmJnU8biYmdTxhJiZ1PHMpcmV0dXJuIDA7dmFyIGg9cWkoZSxuLGEscyx1LHliKTtpZigwPT09aClyZXR1cm4gMDtmb3IodmFyIGMsZCxmPTAscD0tMSxnPTA7ZzxoO2crKyl7dmFyIG09eWJbZ10sdj0wPT09bXx8MT09PW0/LjU6MTtYaSh0LGksbyxyLG0pPGx8fChwPDAmJihwPSRpKGUsbixhLHMseGIpLHhiWzFdPHhiWzBdJiZwPjEmJnluKCksYz1YaShlLG4sYSxzLHhiWzBdKSxwPjEmJihkPVhpKGUsbixhLHMseGJbMV0pKSksMj09cD9tPHhiWzBdP2YrPWM8ZT92Oi12Om08eGJbMV0/Zis9ZDxjP3Y6LXY6Zis9czxkP3Y6LXY6bTx4YlswXT9mKz1jPGU/djotdjpmKz1zPGM/djotdil9cmV0dXJuIGZ9ZnVuY3Rpb24gX24odCxlLGksbixvLGEscixzKXtpZihzPmUmJnM+biYmcz5hfHxzPGUmJnM8biYmczxhKXJldHVybiAwO3ZhciBsPWVuKGUsbixhLHMseWIpO2lmKDA9PT1sKXJldHVybiAwO3ZhciB1PW5uKGUsbixhKTtpZih1Pj0wJiZ1PD0xKXtmb3IodmFyIGg9MCxjPVFpKGUsbixhLHUpLGQ9MDtkPGw7ZCsrKXtmPTA9PT15YltkXXx8MT09PXliW2RdPy41OjE7KHA9UWkodCxpLG8seWJbZF0pKTxyfHwoeWJbZF08dT9oKz1jPGU/ZjotZjpoKz1hPGM/ZjotZil9cmV0dXJuIGh9dmFyIGY9MD09PXliWzBdfHwxPT09eWJbMF0/LjU6MSxwPVFpKHQsaSxvLHliWzBdKTtyZXR1cm4gcDxyPzA6YTxlP2Y6LWZ9ZnVuY3Rpb24gd24odCxlLGksbixvLGEscixzKXtpZigocy09ZSk+aXx8czwtaSlyZXR1cm4gMDt1PU1hdGguc3FydChpKmktcypzKTt5YlswXT0tdSx5YlsxXT11O3ZhciBsPU1hdGguYWJzKG4tbyk7aWYobDwxZS00KXJldHVybiAwO2lmKGwlbWI8MWUtNCl7bj0wLG89bWI7cD1hPzE6LTE7cmV0dXJuIHI+PXliWzBdK3QmJnI8PXliWzFdK3Q/cDowfWlmKGEpe3ZhciB1PW47bj1wbihvKSxvPXBuKHUpfWVsc2Ugbj1wbihuKSxvPXBuKG8pO24+byYmKG8rPW1iKTtmb3IodmFyIGg9MCxjPTA7YzwyO2MrKyl7dmFyIGQ9eWJbY107aWYoZCt0PnIpe3ZhciBmPU1hdGguYXRhbjIocyxkKSxwPWE/MTotMTtmPDAmJihmPW1iK2YpLChmPj1uJiZmPD1vfHxmK21iPj1uJiZmK21iPD1vKSYmKGY+TWF0aC5QSS8yJiZmPDEuNSpNYXRoLlBJJiYocD0tcCksaCs9cCl9fXJldHVybiBofWZ1bmN0aW9uIGJuKHQsZSxpLG4sbyl7Zm9yKHZhciBhPTAscj0wLHM9MCxsPTAsdT0wLGg9MDtoPHQubGVuZ3RoOyl7dmFyIGM9dFtoKytdO3N3aXRjaChjPT09Z2IuTSYmaD4xJiYoaXx8KGErPW1uKHIscyxsLHUsbixvKSkpLDE9PWgmJihsPXI9dFtoXSx1PXM9dFtoKzFdKSxjKXtjYXNlIGdiLk06cj1sPXRbaCsrXSxzPXU9dFtoKytdO2JyZWFrO2Nhc2UgZ2IuTDppZihpKXtpZihjbihyLHMsdFtoXSx0W2grMV0sZSxuLG8pKXJldHVybiEwfWVsc2UgYSs9bW4ocixzLHRbaF0sdFtoKzFdLG4sbyl8fDA7cj10W2grK10scz10W2grK107YnJlYWs7Y2FzZSBnYi5DOmlmKGkpe2lmKGRuKHIscyx0W2grK10sdFtoKytdLHRbaCsrXSx0W2grK10sdFtoXSx0W2grMV0sZSxuLG8pKXJldHVybiEwfWVsc2UgYSs9eG4ocixzLHRbaCsrXSx0W2grK10sdFtoKytdLHRbaCsrXSx0W2hdLHRbaCsxXSxuLG8pfHwwO3I9dFtoKytdLHM9dFtoKytdO2JyZWFrO2Nhc2UgZ2IuUTppZihpKXtpZihmbihyLHMsdFtoKytdLHRbaCsrXSx0W2hdLHRbaCsxXSxlLG4sbykpcmV0dXJuITB9ZWxzZSBhKz1fbihyLHMsdFtoKytdLHRbaCsrXSx0W2hdLHRbaCsxXSxuLG8pfHwwO3I9dFtoKytdLHM9dFtoKytdO2JyZWFrO2Nhc2UgZ2IuQTp2YXIgZD10W2grK10sZj10W2grK10scD10W2grK10sZz10W2grK10sbT10W2grK10sdj10W2grK10seT0odFtoKytdLDEtdFtoKytdKSx4PU1hdGguY29zKG0pKnArZCxfPU1hdGguc2luKG0pKmcrZjtoPjE/YSs9bW4ocixzLHgsXyxuLG8pOihsPXgsdT1fKTt2YXIgdz0obi1kKSpnL3ArZDtpZihpKXtpZihnbihkLGYsZyxtLG0rdix5LGUsdyxvKSlyZXR1cm4hMH1lbHNlIGErPXduKGQsZixnLG0sbSt2LHksdyxvKTtyPU1hdGguY29zKG0rdikqcCtkLHM9TWF0aC5zaW4obSt2KSpnK2Y7YnJlYWs7Y2FzZSBnYi5SOmw9cj10W2grK10sdT1zPXRbaCsrXTt2YXIgeD1sK3RbaCsrXSxfPXUrdFtoKytdO2lmKGkpe2lmKGNuKGwsdSx4LHUsZSxuLG8pfHxjbih4LHUseCxfLGUsbixvKXx8Y24oeCxfLGwsXyxlLG4sbyl8fGNuKGwsXyxsLHUsZSxuLG8pKXJldHVybiEwfWVsc2UgYSs9bW4oeCx1LHgsXyxuLG8pLGErPW1uKGwsXyxsLHUsbixvKTticmVhaztjYXNlIGdiLlo6aWYoaSl7aWYoY24ocixzLGwsdSxlLG4sbykpcmV0dXJuITB9ZWxzZSBhKz1tbihyLHMsbCx1LG4sbyk7cj1sLHM9dX19cmV0dXJuIGl8fHZuKHMsdSl8fChhKz1tbihyLHMsbCx1LG4sbyl8fDApLDAhPT1hfWZ1bmN0aW9uIFNuKHQsZSxpKXtyZXR1cm4gYm4odCwwLCExLGUsaSl9ZnVuY3Rpb24gTW4odCxlLGksbil7cmV0dXJuIGJuKHQsZSwhMCxpLG4pfWZ1bmN0aW9uIEluKHQpe0tlLmNhbGwodGhpcyx0KSx0aGlzLnBhdGg9bnVsbH1mdW5jdGlvbiBEbih0LGUsaSxuLG8sYSxyLHMsbCx1LGgpe3ZhciBjPWwqKFBiLzE4MCksZD1rYihjKSoodC1pKS8yK0xiKGMpKihlLW4pLzIsZj0tMSpMYihjKSoodC1pKS8yK2tiKGMpKihlLW4pLzIscD1kKmQvKHIqcikrZipmLyhzKnMpO3A+MSYmKHIqPUNiKHApLHMqPUNiKHApKTt2YXIgZz0obz09PWE/LTE6MSkqQ2IoKHIqcioocypzKS1yKnIqKGYqZiktcypzKihkKmQpKS8ocipyKihmKmYpK3MqcyooZCpkKSkpfHwwLG09ZypyKmYvcyx2PWcqLXMqZC9yLHk9KHQraSkvMitrYihjKSptLUxiKGMpKnYseD0oZStuKS8yK0xiKGMpKm0ra2IoYykqdixfPUViKFsxLDBdLFsoZC1tKS9yLChmLXYpL3NdKSx3PVsoZC1tKS9yLChmLXYpL3NdLGI9WygtMSpkLW0pL3IsKC0xKmYtdikvc10sUz1FYih3LGIpO09iKHcsYik8PS0xJiYoUz1QYiksT2IodyxiKT49MSYmKFM9MCksMD09PWEmJlM+MCYmKFMtPTIqUGIpLDE9PT1hJiZTPDAmJihTKz0yKlBiKSxoLmFkZERhdGEodSx5LHgscixzLF8sUyxjLGEpfWZ1bmN0aW9uIFRuKHQpe2lmKCF0KXJldHVybltdO3ZhciBlLGk9dC5yZXBsYWNlKC8tL2csIiAtIikucmVwbGFjZSgvICAvZywiICIpLnJlcGxhY2UoLyAvZywiLCIpLnJlcGxhY2UoLywsL2csIiwiKTtmb3IoZT0wO2U8QWIubGVuZ3RoO2UrKylpPWkucmVwbGFjZShuZXcgUmVnRXhwKEFiW2VdLCJnIiksInwiK0FiW2VdKTt2YXIgbixvPWkuc3BsaXQoInwiKSxhPTAscj0wLHM9bmV3IGRiLGw9ZGIuQ01EO2ZvcihlPTE7ZTxvLmxlbmd0aDtlKyspe3ZhciB1LGg9b1tlXSxjPWguY2hhckF0KDApLGQ9MCxmPWguc2xpY2UoMSkucmVwbGFjZSgvZSwtL2csImUtIikuc3BsaXQoIiwiKTtmLmxlbmd0aD4wJiYiIj09PWZbMF0mJmYuc2hpZnQoKTtmb3IodmFyIHA9MDtwPGYubGVuZ3RoO3ArKylmW3BdPXBhcnNlRmxvYXQoZltwXSk7Zm9yKDtkPGYubGVuZ3RoJiYhaXNOYU4oZltkXSkmJiFpc05hTihmWzBdKTspe3ZhciBnLG0sdix5LHgsXyx3LGI9YSxTPXI7c3dpdGNoKGMpe2Nhc2UibCI6YSs9ZltkKytdLHIrPWZbZCsrXSx1PWwuTCxzLmFkZERhdGEodSxhLHIpO2JyZWFrO2Nhc2UiTCI6YT1mW2QrK10scj1mW2QrK10sdT1sLkwscy5hZGREYXRhKHUsYSxyKTticmVhaztjYXNlIm0iOmErPWZbZCsrXSxyKz1mW2QrK10sdT1sLk0scy5hZGREYXRhKHUsYSxyKSxjPSJsIjticmVhaztjYXNlIk0iOmE9ZltkKytdLHI9ZltkKytdLHU9bC5NLHMuYWRkRGF0YSh1LGEsciksYz0iTCI7YnJlYWs7Y2FzZSJoIjphKz1mW2QrK10sdT1sLkwscy5hZGREYXRhKHUsYSxyKTticmVhaztjYXNlIkgiOmE9ZltkKytdLHU9bC5MLHMuYWRkRGF0YSh1LGEscik7YnJlYWs7Y2FzZSJ2IjpyKz1mW2QrK10sdT1sLkwscy5hZGREYXRhKHUsYSxyKTticmVhaztjYXNlIlYiOnI9ZltkKytdLHU9bC5MLHMuYWRkRGF0YSh1LGEscik7YnJlYWs7Y2FzZSJDIjp1PWwuQyxzLmFkZERhdGEodSxmW2QrK10sZltkKytdLGZbZCsrXSxmW2QrK10sZltkKytdLGZbZCsrXSksYT1mW2QtMl0scj1mW2QtMV07YnJlYWs7Y2FzZSJjIjp1PWwuQyxzLmFkZERhdGEodSxmW2QrK10rYSxmW2QrK10rcixmW2QrK10rYSxmW2QrK10rcixmW2QrK10rYSxmW2QrK10rciksYSs9ZltkLTJdLHIrPWZbZC0xXTticmVhaztjYXNlIlMiOmc9YSxtPXI7dmFyIE09cy5sZW4oKSxJPXMuZGF0YTtuPT09bC5DJiYoZys9YS1JW00tNF0sbSs9ci1JW00tM10pLHU9bC5DLGI9ZltkKytdLFM9ZltkKytdLGE9ZltkKytdLHI9ZltkKytdLHMuYWRkRGF0YSh1LGcsbSxiLFMsYSxyKTticmVhaztjYXNlInMiOmc9YSxtPXI7dmFyIE09cy5sZW4oKSxJPXMuZGF0YTtuPT09bC5DJiYoZys9YS1JW00tNF0sbSs9ci1JW00tM10pLHU9bC5DLGI9YStmW2QrK10sUz1yK2ZbZCsrXSxhKz1mW2QrK10scis9ZltkKytdLHMuYWRkRGF0YSh1LGcsbSxiLFMsYSxyKTticmVhaztjYXNlIlEiOmI9ZltkKytdLFM9ZltkKytdLGE9ZltkKytdLHI9ZltkKytdLHU9bC5RLHMuYWRkRGF0YSh1LGIsUyxhLHIpO2JyZWFrO2Nhc2UicSI6Yj1mW2QrK10rYSxTPWZbZCsrXStyLGErPWZbZCsrXSxyKz1mW2QrK10sdT1sLlEscy5hZGREYXRhKHUsYixTLGEscik7YnJlYWs7Y2FzZSJUIjpnPWEsbT1yO3ZhciBNPXMubGVuKCksST1zLmRhdGE7bj09PWwuUSYmKGcrPWEtSVtNLTRdLG0rPXItSVtNLTNdKSxhPWZbZCsrXSxyPWZbZCsrXSx1PWwuUSxzLmFkZERhdGEodSxnLG0sYSxyKTticmVhaztjYXNlInQiOmc9YSxtPXI7dmFyIE09cy5sZW4oKSxJPXMuZGF0YTtuPT09bC5RJiYoZys9YS1JW00tNF0sbSs9ci1JW00tM10pLGErPWZbZCsrXSxyKz1mW2QrK10sdT1sLlEscy5hZGREYXRhKHUsZyxtLGEscik7YnJlYWs7Y2FzZSJBIjp2PWZbZCsrXSx5PWZbZCsrXSx4PWZbZCsrXSxfPWZbZCsrXSx3PWZbZCsrXSxEbihiPWEsUz1yLGE9ZltkKytdLHI9ZltkKytdLF8sdyx2LHkseCx1PWwuQSxzKTticmVhaztjYXNlImEiOnY9ZltkKytdLHk9ZltkKytdLHg9ZltkKytdLF89ZltkKytdLHc9ZltkKytdLERuKGI9YSxTPXIsYSs9ZltkKytdLHIrPWZbZCsrXSxfLHcsdix5LHgsdT1sLkEscyl9fSJ6IiE9PWMmJiJaIiE9PWN8fCh1PWwuWixzLmFkZERhdGEodSkpLG49dX1yZXR1cm4gcy50b1N0YXRpYygpLHN9ZnVuY3Rpb24gQW4odCxlKXt2YXIgaT1Ubih0KTtyZXR1cm4gZT1lfHx7fSxlLmJ1aWxkUGF0aD1mdW5jdGlvbih0KXtpZih0LnNldERhdGEpdC5zZXREYXRhKGkuZGF0YSksKGU9dC5nZXRDb250ZXh0KCkpJiZ0LnJlYnVpbGRQYXRoKGUpO2Vsc2V7dmFyIGU9dDtpLnJlYnVpbGRQYXRoKGUpfX0sZS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0KXtUYihpLHQpLHRoaXMuZGlydHkoITApfSxlfWZ1bmN0aW9uIENuKHQsZSl7cmV0dXJuIG5ldyBJbihBbih0LGUpKX1mdW5jdGlvbiBMbih0LGUpe3JldHVybiBJbi5leHRlbmQoQW4odCxlKSl9ZnVuY3Rpb24ga24odCxlLGksbixvLGEscil7dmFyIHM9LjUqKGktdCksbD0uNSoobi1lKTtyZXR1cm4oMiooZS1pKStzK2wpKnIrKC0zKihlLWkpLTIqcy1sKSphK3MqbytlfWZ1bmN0aW9uIFBuKHQsZSxpKXt2YXIgbj1lLnBvaW50cyxvPWUuc21vb3RoO2lmKG4mJm4ubGVuZ3RoPj0yKXtpZihvJiYic3BsaW5lIiE9PW8pe3ZhciBhPUhiKG4sbyxpLGUuc21vb3RoQ29uc3RyYWludCk7dC5tb3ZlVG8oblswXVswXSxuWzBdWzFdKTtmb3IodmFyIHI9bi5sZW5ndGgscz0wO3M8KGk/cjpyLTEpO3MrKyl7dmFyIGw9YVsyKnNdLHU9YVsyKnMrMV0saD1uWyhzKzEpJXJdO3QuYmV6aWVyQ3VydmVUbyhsWzBdLGxbMV0sdVswXSx1WzFdLGhbMF0saFsxXSl9fWVsc2V7InNwbGluZSI9PT1vJiYobj1XYihuLGkpKSx0Lm1vdmVUbyhuWzBdWzBdLG5bMF1bMV0pO2Zvcih2YXIgcz0xLGM9bi5sZW5ndGg7czxjO3MrKyl0LmxpbmVUbyhuW3NdWzBdLG5bc11bMV0pfWkmJnQuY2xvc2VQYXRoKCl9fWZ1bmN0aW9uIE5uKHQsZSxpKXt2YXIgbj10LmNweDIsbz10LmNweTI7cmV0dXJuIG51bGw9PT1ufHxudWxsPT09bz9bKGk/WWk6WGkpKHQueDEsdC5jcHgxLHQuY3B4Mix0LngyLGUpLChpP1lpOlhpKSh0LnkxLHQuY3B5MSx0LmNweTIsdC55MixlKV06WyhpP3RuOlFpKSh0LngxLHQuY3B4MSx0LngyLGUpLChpP3RuOlFpKSh0LnkxLHQuY3B5MSx0LnkyLGUpXX1mdW5jdGlvbiBPbih0KXtLZS5jYWxsKHRoaXMsdCksdGhpcy5fZGlzcGxheWFibGVzPVtdLHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcz1bXSx0aGlzLl9jdXJzb3I9MCx0aGlzLm5vdENsZWFyPSEwfWZ1bmN0aW9uIEVuKHQpe3JldHVybiBJbi5leHRlbmQodCl9ZnVuY3Rpb24gem4odCxlLGksbil7dmFyIG89Q24odCxlKSxhPW8uZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIGkmJigiY2VudGVyIj09PW4mJihpPUJuKGksYSkpLFZuKG8saSkpLG99ZnVuY3Rpb24gUm4odCxlLGkpe3ZhciBuPW5ldyBKZSh7c3R5bGU6e2ltYWdlOnQseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LG9ubG9hZDpmdW5jdGlvbih0KXtpZigiY2VudGVyIj09PWkpe3ZhciBvPXt3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH07bi5zZXRTdHlsZShCbihlLG8pKX19fSk7cmV0dXJuIG59ZnVuY3Rpb24gQm4odCxlKXt2YXIgaSxuPWUud2lkdGgvZS5oZWlnaHQsbz10LmhlaWdodCpuO3JldHVybiBpPW88PXQud2lkdGg/dC5oZWlnaHQ6KG89dC53aWR0aCkvbix7eDp0LngrdC53aWR0aC8yLW8vMix5OnQueSt0LmhlaWdodC8yLWkvMix3aWR0aDpvLGhlaWdodDppfX1mdW5jdGlvbiBWbih0LGUpe2lmKHQuYXBwbHlUcmFuc2Zvcm0pe3ZhciBpPXQuZ2V0Qm91bmRpbmdSZWN0KCkuY2FsY3VsYXRlVHJhbnNmb3JtKGUpO3QuYXBwbHlUcmFuc2Zvcm0oaSl9fWZ1bmN0aW9uIEduKHQpe3ZhciBlPXQuc2hhcGUsaT10LnN0eWxlLmxpbmVXaWR0aDtyZXR1cm4gaVMoMiplLngxKT09PWlTKDIqZS54MikmJihlLngxPWUueDI9V24oZS54MSxpLCEwKSksaVMoMiplLnkxKT09PWlTKDIqZS55MikmJihlLnkxPWUueTI9V24oZS55MSxpLCEwKSksdH1mdW5jdGlvbiBGbih0KXt2YXIgZT10LnNoYXBlLGk9dC5zdHlsZS5saW5lV2lkdGgsbj1lLngsbz1lLnksYT1lLndpZHRoLHI9ZS5oZWlnaHQ7cmV0dXJuIGUueD1XbihlLngsaSwhMCksZS55PVduKGUueSxpLCEwKSxlLndpZHRoPU1hdGgubWF4KFduKG4rYSxpLCExKS1lLngsMD09PWE/MDoxKSxlLmhlaWdodD1NYXRoLm1heChXbihvK3IsaSwhMSktZS55LDA9PT1yPzA6MSksdH1mdW5jdGlvbiBXbih0LGUsaSl7dmFyIG49aVMoMip0KTtyZXR1cm4obitpUyhlKSklMj09MD9uLzI6KG4rKGk/MTotMSkpLzJ9ZnVuY3Rpb24gSG4odCl7cmV0dXJuIG51bGwhPXQmJiJub25lIiE9dH1mdW5jdGlvbiBabih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/a3QodCwtLjEpOnR9ZnVuY3Rpb24gVW4odCl7aWYodC5fX2hvdmVyU3RsRGlydHkpe3ZhciBlPXQuc3R5bGUuc3Ryb2tlLGk9dC5zdHlsZS5maWxsLG49dC5fX2hvdmVyU3RsO24uZmlsbD1uLmZpbGx8fChIbihpKT9abihpKTpudWxsKSxuLnN0cm9rZT1uLnN0cm9rZXx8KEhuKGUpP1puKGUpOm51bGwpO3ZhciBvPXt9O2Zvcih2YXIgYSBpbiBuKW51bGwhPW5bYV0mJihvW2FdPXQuc3R5bGVbYV0pO3QuX19ub3JtYWxTdGw9byx0Ll9faG92ZXJTdGxEaXJ0eT0hMX19ZnVuY3Rpb24gam4odCl7aWYoIXQuX19pc0hvdmVyKXtpZihVbih0KSx0LnVzZUhvdmVyTGF5ZXIpdC5fX3pyJiZ0Ll9fenIuYWRkSG92ZXIodCx0Ll9faG92ZXJTdGwpO2Vsc2V7dmFyIGU9dC5zdHlsZSxpPWUuaW5zaWRlUm9sbGJhY2tPcHQ7aSYmdW8oZSksZS5leHRlbmRGcm9tKHQuX19ob3ZlclN0bCksaSYmKGxvKGUsZS5pbnNpZGVPcmlnaW5hbFRleHRQb3NpdGlvbixpKSxudWxsPT1lLnRleHRGaWxsJiYoZS50ZXh0RmlsbD1pLmF1dG9Db2xvcikpLHQuZGlydHkoITEpLHQuejIrPTF9dC5fX2lzSG92ZXI9ITB9fWZ1bmN0aW9uIFhuKHQpe2lmKHQuX19pc0hvdmVyKXt2YXIgZT10Ll9fbm9ybWFsU3RsO3QudXNlSG92ZXJMYXllcj90Ll9fenImJnQuX196ci5yZW1vdmVIb3Zlcih0KTooZSYmdC5zZXRTdHlsZShlKSx0LnoyLT0xKSx0Ll9faXNIb3Zlcj0hMX19ZnVuY3Rpb24gWW4odCl7Imdyb3VwIj09PXQudHlwZT90LnRyYXZlcnNlKGZ1bmN0aW9uKHQpeyJncm91cCIhPT10LnR5cGUmJmpuKHQpfSk6am4odCl9ZnVuY3Rpb24gcW4odCl7Imdyb3VwIj09PXQudHlwZT90LnRyYXZlcnNlKGZ1bmN0aW9uKHQpeyJncm91cCIhPT10LnR5cGUmJlhuKHQpfSk6WG4odCl9ZnVuY3Rpb24gJG4odCxlKXt0Ll9faG92ZXJTdGw9dC5ob3ZlclN0eWxlfHxlfHx7fSx0Ll9faG92ZXJTdGxEaXJ0eT0hMCx0Ll9faXNIb3ZlciYmVW4odCl9ZnVuY3Rpb24gS24odCl7dGhpcy5fX2hvdmVyU2lsZW50T25Ub3VjaCYmdC56ckJ5VG91Y2h8fCF0aGlzLl9faXNFbXBoYXNpcyYmWW4odGhpcyl9ZnVuY3Rpb24gSm4odCl7dGhpcy5fX2hvdmVyU2lsZW50T25Ub3VjaCYmdC56ckJ5VG91Y2h8fCF0aGlzLl9faXNFbXBoYXNpcyYmcW4odGhpcyl9ZnVuY3Rpb24gUW4oKXt0aGlzLl9faXNFbXBoYXNpcz0hMCxZbih0aGlzKX1mdW5jdGlvbiB0bygpe3RoaXMuX19pc0VtcGhhc2lzPSExLHFuKHRoaXMpfWZ1bmN0aW9uIGVvKHQsZSxpKXt0Ll9faG92ZXJTaWxlbnRPblRvdWNoPWkmJmkuaG92ZXJTaWxlbnRPblRvdWNoLCJncm91cCI9PT10LnR5cGU/dC50cmF2ZXJzZShmdW5jdGlvbih0KXsiZ3JvdXAiIT09dC50eXBlJiYkbih0LGUpfSk6JG4odCxlKSx0Lm9uKCJtb3VzZW92ZXIiLEtuKS5vbigibW91c2VvdXQiLEpuKSx0Lm9uKCJlbXBoYXNpcyIsUW4pLm9uKCJub3JtYWwiLHRvKX1mdW5jdGlvbiBpbyh0LGUsaSxuLG8sYSxyKXt2YXIgcyxsPShvPW98fGFTKS5sYWJlbEZldGNoZXIsdT1vLmxhYmVsRGF0YUluZGV4LGg9by5sYWJlbERpbUluZGV4LGM9aS5nZXRTaGFsbG93KCJzaG93IiksZD1uLmdldFNoYWxsb3coInNob3ciKTsoY3x8ZCkmJihsJiYocz1sLmdldEZvcm1hdHRlZExhYmVsKHUsIm5vcm1hbCIsbnVsbCxoKSksbnVsbD09cyYmKHM9eChvLmRlZmF1bHRUZXh0KT9vLmRlZmF1bHRUZXh0KHUsbyk6by5kZWZhdWx0VGV4dCkpO3ZhciBmPWM/czpudWxsLHA9ZD9UKGw/bC5nZXRGb3JtYXR0ZWRMYWJlbCh1LCJlbXBoYXNpcyIsbnVsbCxoKTpudWxsLHMpOm51bGw7bnVsbD09ZiYmbnVsbD09cHx8KG5vKHQsaSxhLG8pLG5vKGUsbixyLG8sITApKSx0LnRleHQ9ZixlLnRleHQ9cH1mdW5jdGlvbiBubyh0LGUsaSxuLG8pe3JldHVybiBvbyh0LGUsbixvKSxpJiZhKHQsaSksdC5ob3N0JiZ0Lmhvc3QuZGlydHkmJnQuaG9zdC5kaXJ0eSghMSksdH1mdW5jdGlvbiBvbyh0LGUsaSxuKXtpZigoaT1pfHxhUykuaXNSZWN0VGV4dCl7dmFyIG89ZS5nZXRTaGFsbG93KCJwb3NpdGlvbiIpfHwobj9udWxsOiJpbnNpZGUiKTsib3V0c2lkZSI9PT1vJiYobz0idG9wIiksdC50ZXh0UG9zaXRpb249byx0LnRleHRPZmZzZXQ9ZS5nZXRTaGFsbG93KCJvZmZzZXQiKTt2YXIgYT1lLmdldFNoYWxsb3coInJvdGF0ZSIpO251bGwhPWEmJihhKj1NYXRoLlBJLzE4MCksdC50ZXh0Um90YXRpb249YSx0LnRleHREaXN0YW5jZT1UKGUuZ2V0U2hhbGxvdygiZGlzdGFuY2UiKSxuP251bGw6NSl9dmFyIHIscz1lLmVjTW9kZWwsbD1zJiZzLm9wdGlvbi50ZXh0U3R5bGUsdT1hbyhlKTtpZih1KXtyPXt9O2Zvcih2YXIgaCBpbiB1KWlmKHUuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBjPWUuZ2V0TW9kZWwoWyJyaWNoIixoXSk7cm8ocltoXT17fSxjLGwsaSxuKX19cmV0dXJuIHQucmljaD1yLHJvKHQsZSxsLGksbiwhMCksaS5mb3JjZVJpY2gmJiFpLnRleHRTdHlsZSYmKGkudGV4dFN0eWxlPXt9KSx0fWZ1bmN0aW9uIGFvKHQpe2Zvcih2YXIgZTt0JiZ0IT09dC5lY01vZGVsOyl7dmFyIGk9KHQub3B0aW9ufHxhUykucmljaDtpZihpKXtlPWV8fHt9O2Zvcih2YXIgbiBpbiBpKWkuaGFzT3duUHJvcGVydHkobikmJihlW25dPTEpfXQ9dC5wYXJlbnRNb2RlbH1yZXR1cm4gZX1mdW5jdGlvbiBybyh0LGUsaSxuLG8sYSl7aWYoaT0hbyYmaXx8YVMsdC50ZXh0RmlsbD1zbyhlLmdldFNoYWxsb3coImNvbG9yIiksbil8fGkuY29sb3IsdC50ZXh0U3Ryb2tlPXNvKGUuZ2V0U2hhbGxvdygidGV4dEJvcmRlckNvbG9yIiksbil8fGkudGV4dEJvcmRlckNvbG9yLHQudGV4dFN0cm9rZVdpZHRoPVQoZS5nZXRTaGFsbG93KCJ0ZXh0Qm9yZGVyV2lkdGgiKSxpLnRleHRCb3JkZXJXaWR0aCksIW8pe2lmKGEpe3ZhciByPXQudGV4dFBvc2l0aW9uO3QuaW5zaWRlUm9sbGJhY2s9bG8odCxyLG4pLHQuaW5zaWRlT3JpZ2luYWxUZXh0UG9zaXRpb249cix0Lmluc2lkZVJvbGxiYWNrT3B0PW59bnVsbD09dC50ZXh0RmlsbCYmKHQudGV4dEZpbGw9bi5hdXRvQ29sb3IpfXQuZm9udFN0eWxlPWUuZ2V0U2hhbGxvdygiZm9udFN0eWxlIil8fGkuZm9udFN0eWxlLHQuZm9udFdlaWdodD1lLmdldFNoYWxsb3coImZvbnRXZWlnaHQiKXx8aS5mb250V2VpZ2h0LHQuZm9udFNpemU9ZS5nZXRTaGFsbG93KCJmb250U2l6ZSIpfHxpLmZvbnRTaXplLHQuZm9udEZhbWlseT1lLmdldFNoYWxsb3coImZvbnRGYW1pbHkiKXx8aS5mb250RmFtaWx5LHQudGV4dEFsaWduPWUuZ2V0U2hhbGxvdygiYWxpZ24iKSx0LnRleHRWZXJ0aWNhbEFsaWduPWUuZ2V0U2hhbGxvdygidmVydGljYWxBbGlnbiIpfHxlLmdldFNoYWxsb3coImJhc2VsaW5lIiksdC50ZXh0TGluZUhlaWdodD1lLmdldFNoYWxsb3coImxpbmVIZWlnaHQiKSx0LnRleHRXaWR0aD1lLmdldFNoYWxsb3coIndpZHRoIiksdC50ZXh0SGVpZ2h0PWUuZ2V0U2hhbGxvdygiaGVpZ2h0IiksdC50ZXh0VGFnPWUuZ2V0U2hhbGxvdygidGFnIiksYSYmbi5kaXNhYmxlQm94fHwodC50ZXh0QmFja2dyb3VuZENvbG9yPXNvKGUuZ2V0U2hhbGxvdygiYmFja2dyb3VuZENvbG9yIiksbiksdC50ZXh0UGFkZGluZz1lLmdldFNoYWxsb3coInBhZGRpbmciKSx0LnRleHRCb3JkZXJDb2xvcj1zbyhlLmdldFNoYWxsb3coImJvcmRlckNvbG9yIiksbiksdC50ZXh0Qm9yZGVyV2lkdGg9ZS5nZXRTaGFsbG93KCJib3JkZXJXaWR0aCIpLHQudGV4dEJvcmRlclJhZGl1cz1lLmdldFNoYWxsb3coImJvcmRlclJhZGl1cyIpLHQudGV4dEJveFNoYWRvd0NvbG9yPWUuZ2V0U2hhbGxvdygic2hhZG93Q29sb3IiKSx0LnRleHRCb3hTaGFkb3dCbHVyPWUuZ2V0U2hhbGxvdygic2hhZG93Qmx1ciIpLHQudGV4dEJveFNoYWRvd09mZnNldFg9ZS5nZXRTaGFsbG93KCJzaGFkb3dPZmZzZXRYIiksdC50ZXh0Qm94U2hhZG93T2Zmc2V0WT1lLmdldFNoYWxsb3coInNoYWRvd09mZnNldFkiKSksdC50ZXh0U2hhZG93Q29sb3I9ZS5nZXRTaGFsbG93KCJ0ZXh0U2hhZG93Q29sb3IiKXx8aS50ZXh0U2hhZG93Q29sb3IsdC50ZXh0U2hhZG93Qmx1cj1lLmdldFNoYWxsb3coInRleHRTaGFkb3dCbHVyIil8fGkudGV4dFNoYWRvd0JsdXIsdC50ZXh0U2hhZG93T2Zmc2V0WD1lLmdldFNoYWxsb3coInRleHRTaGFkb3dPZmZzZXRYIil8fGkudGV4dFNoYWRvd09mZnNldFgsdC50ZXh0U2hhZG93T2Zmc2V0WT1lLmdldFNoYWxsb3coInRleHRTaGFkb3dPZmZzZXRZIil8fGkudGV4dFNoYWRvd09mZnNldFl9ZnVuY3Rpb24gc28odCxlKXtyZXR1cm4iYXV0byIhPT10P3Q6ZSYmZS5hdXRvQ29sb3I/ZS5hdXRvQ29sb3I6bnVsbH1mdW5jdGlvbiBsbyh0LGUsaSl7dmFyIG4sbz1pLnVzZUluc2lkZVN0eWxlO3JldHVybiBudWxsPT10LnRleHRGaWxsJiYhMSE9PW8mJighMD09PW98fGkuaXNSZWN0VGV4dCYmZSYmInN0cmluZyI9PXR5cGVvZiBlJiZlLmluZGV4T2YoImluc2lkZSIpPj0wKSYmKG49e3RleHRGaWxsOm51bGwsdGV4dFN0cm9rZTp0LnRleHRTdHJva2UsdGV4dFN0cm9rZVdpZHRoOnQudGV4dFN0cm9rZVdpZHRofSx0LnRleHRGaWxsPSIjZmZmIixudWxsPT10LnRleHRTdHJva2UmJih0LnRleHRTdHJva2U9aS5hdXRvQ29sb3IsbnVsbD09dC50ZXh0U3Ryb2tlV2lkdGgmJih0LnRleHRTdHJva2VXaWR0aD0yKSkpLG59ZnVuY3Rpb24gdW8odCl7dmFyIGU9dC5pbnNpZGVSb2xsYmFjaztlJiYodC50ZXh0RmlsbD1lLnRleHRGaWxsLHQudGV4dFN0cm9rZT1lLnRleHRTdHJva2UsdC50ZXh0U3Ryb2tlV2lkdGg9ZS50ZXh0U3Ryb2tlV2lkdGgpfWZ1bmN0aW9uIGhvKHQsZSl7dmFyIGk9ZXx8ZS5nZXRNb2RlbCgidGV4dFN0eWxlIik7cmV0dXJuIFAoW3QuZm9udFN0eWxlfHxpJiZpLmdldFNoYWxsb3coImZvbnRTdHlsZSIpfHwiIix0LmZvbnRXZWlnaHR8fGkmJmkuZ2V0U2hhbGxvdygiZm9udFdlaWdodCIpfHwiIiwodC5mb250U2l6ZXx8aSYmaS5nZXRTaGFsbG93KCJmb250U2l6ZSIpfHwxMikrInB4Iix0LmZvbnRGYW1pbHl8fGkmJmkuZ2V0U2hhbGxvdygiZm9udEZhbWlseSIpfHwic2Fucy1zZXJpZiJdLmpvaW4oIiAiKSl9ZnVuY3Rpb24gY28odCxlLGksbixvLGEpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBvJiYoYT1vLG89bnVsbCksbiYmbi5pc0FuaW1hdGlvbkVuYWJsZWQoKSl7dmFyIHI9dD8iVXBkYXRlIjoiIixzPW4uZ2V0U2hhbGxvdygiYW5pbWF0aW9uRHVyYXRpb24iK3IpLGw9bi5nZXRTaGFsbG93KCJhbmltYXRpb25FYXNpbmciK3IpLHU9bi5nZXRTaGFsbG93KCJhbmltYXRpb25EZWxheSIrcik7ImZ1bmN0aW9uIj09dHlwZW9mIHUmJih1PXUobyxuLmdldEFuaW1hdGlvbkRlbGF5UGFyYW1zP24uZ2V0QW5pbWF0aW9uRGVsYXlQYXJhbXMoZSxvKTpudWxsKSksImZ1bmN0aW9uIj09dHlwZW9mIHMmJihzPXMobykpLHM+MD9lLmFuaW1hdGVUbyhpLHMsdXx8MCxsLGEsISFhKTooZS5zdG9wQW5pbWF0aW9uKCksZS5hdHRyKGkpLGEmJmEoKSl9ZWxzZSBlLnN0b3BBbmltYXRpb24oKSxlLmF0dHIoaSksYSYmYSgpfWZ1bmN0aW9uIGZvKHQsZSxpLG4sbyl7Y28oITAsdCxlLGksbixvKX1mdW5jdGlvbiBwbyh0LGUsaSxuLG8pe2NvKCExLHQsZSxpLG4sbyl9ZnVuY3Rpb24gZ28odCxlKXtmb3IodmFyIGk9bHQoW10pO3QmJnQhPT1lOylodChpLHQuZ2V0TG9jYWxUcmFuc2Zvcm0oKSxpKSx0PXQucGFyZW50O3JldHVybiBpfWZ1bmN0aW9uIG1vKHQsZSxpKXtyZXR1cm4gZSYmIWMoZSkmJihlPW9fLmdldExvY2FsVHJhbnNmb3JtKGUpKSxpJiYoZT1wdChbXSxlKSksUShbXSx0LGUpfWZ1bmN0aW9uIHZvKHQsZSxpKXt2YXIgbj0wPT09ZVs0XXx8MD09PWVbNV18fDA9PT1lWzBdPzE6TWF0aC5hYnMoMiplWzRdL2VbMF0pLG89MD09PWVbNF18fDA9PT1lWzVdfHwwPT09ZVsyXT8xOk1hdGguYWJzKDIqZVs0XS9lWzJdKSxhPVsibGVmdCI9PT10Py1uOiJyaWdodCI9PT10P246MCwidG9wIj09PXQ/LW86ImJvdHRvbSI9PT10P286MF07cmV0dXJuIGE9bW8oYSxlLGkpLE1hdGguYWJzKGFbMF0pPk1hdGguYWJzKGFbMV0pP2FbMF0+MD8icmlnaHQiOiJsZWZ0IjphWzFdPjA/ImJvdHRvbSI6InRvcCJ9ZnVuY3Rpb24geW8odCxlLGksbil7ZnVuY3Rpb24gbyh0KXt2YXIgZT17cG9zaXRpb246Rih0LnBvc2l0aW9uKSxyb3RhdGlvbjp0LnJvdGF0aW9ufTtyZXR1cm4gdC5zaGFwZSYmKGUuc2hhcGU9YSh7fSx0LnNoYXBlKSksZX1pZih0JiZlKXt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4gdC50cmF2ZXJzZShmdW5jdGlvbih0KXshdC5pc0dyb3VwJiZ0LmFuaWQmJihlW3QuYW5pZF09dCl9KSxlfSh0KTtlLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe2lmKCF0LmlzR3JvdXAmJnQuYW5pZCl7dmFyIGU9clt0LmFuaWRdO2lmKGUpe3ZhciBuPW8odCk7dC5hdHRyKG8oZSkpLGZvKHQsbixpLHQuZGF0YUluZGV4KX19fSl9fWZ1bmN0aW9uIHhvKHQsZSl7cmV0dXJuIGYodCxmdW5jdGlvbih0KXt2YXIgaT10WzBdO2k9blMoaSxlLngpLGk9b1MoaSxlLngrZS53aWR0aCk7dmFyIG49dFsxXTtyZXR1cm4gbj1uUyhuLGUueSksbj1vUyhuLGUueStlLmhlaWdodCksW2ksbl19KX1mdW5jdGlvbiBfbyh0LGUsaSl7dmFyIG49KGU9YSh7cmVjdEhvdmVyOiEwfSxlKSkuc3R5bGU9e3N0cm9rZU5vU2NhbGU6ITB9O2lmKGk9aXx8e3g6LTEseTotMSx3aWR0aDoyLGhlaWdodDoyfSx0KXJldHVybiAwPT09dC5pbmRleE9mKCJpbWFnZTovLyIpPyhuLmltYWdlPXQuc2xpY2UoOCkscihuLGkpLG5ldyBKZShlKSk6em4odC5yZXBsYWNlKCJwYXRoOi8vIiwiIiksZSxpLCJjZW50ZXIiKX1mdW5jdGlvbiB3byh0LGUsaSl7dGhpcy5wYXJlbnRNb2RlbD1lLHRoaXMuZWNNb2RlbD1pLHRoaXMub3B0aW9uPXR9ZnVuY3Rpb24gYm8odCxlLGkpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGgmJighZVtuXXx8bnVsbCE9KHQ9dCYmIm9iamVjdCI9PXR5cGVvZiB0P3RbZVtuXV06bnVsbCkpO24rKyk7cmV0dXJuIG51bGw9PXQmJmkmJih0PWkuZ2V0KGUpKSx0fWZ1bmN0aW9uIFNvKHQsZSl7dmFyIGk9ZlModCkuZ2V0UGFyZW50O3JldHVybiBpP2kuY2FsbCh0LGUpOnQucGFyZW50TW9kZWx9ZnVuY3Rpb24gTW8odCl7cmV0dXJuW3R8fCIiLHBTKyssTWF0aC5yYW5kb20oKS50b0ZpeGVkKDUpXS5qb2luKCJfIil9ZnVuY3Rpb24gSW8odCl7cmV0dXJuIHQucmVwbGFjZSgvXlxzKy8sIiIpLnJlcGxhY2UoL1xzKyQvLCIiKX1mdW5jdGlvbiBEbyh0LGUsaSxuKXt2YXIgbz1lWzFdLWVbMF0sYT1pWzFdLWlbMF07aWYoMD09PW8pcmV0dXJuIDA9PT1hP2lbMF06KGlbMF0raVsxXSkvMjtpZihuKWlmKG8+MCl7aWYodDw9ZVswXSlyZXR1cm4gaVswXTtpZih0Pj1lWzFdKXJldHVybiBpWzFdfWVsc2V7aWYodD49ZVswXSlyZXR1cm4gaVswXTtpZih0PD1lWzFdKXJldHVybiBpWzFdfWVsc2V7aWYodD09PWVbMF0pcmV0dXJuIGlbMF07aWYodD09PWVbMV0pcmV0dXJuIGlbMV19cmV0dXJuKHQtZVswXSkvbyphK2lbMF19ZnVuY3Rpb24gVG8odCxlKXtzd2l0Y2godCl7Y2FzZSJjZW50ZXIiOmNhc2UibWlkZGxlIjp0PSI1MCUiO2JyZWFrO2Nhc2UibGVmdCI6Y2FzZSJ0b3AiOnQ9IjAlIjticmVhaztjYXNlInJpZ2h0IjpjYXNlImJvdHRvbSI6dD0iMTAwJSJ9cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P0lvKHQpLm1hdGNoKC8lJC8pP3BhcnNlRmxvYXQodCkvMTAwKmU6cGFyc2VGbG9hdCh0KTpudWxsPT10P05hTjordH1mdW5jdGlvbiBBbyh0LGUsaSl7cmV0dXJuIG51bGw9PWUmJihlPTEwKSxlPU1hdGgubWluKE1hdGgubWF4KDAsZSksMjApLHQ9KCt0KS50b0ZpeGVkKGUpLGk/dDordH1mdW5jdGlvbiBDbyh0KXtyZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pLHR9ZnVuY3Rpb24gTG8odCl7aWYodD0rdCxpc05hTih0KSlyZXR1cm4gMDtmb3IodmFyIGU9MSxpPTA7TWF0aC5yb3VuZCh0KmUpL2UhPT10OyllKj0xMCxpKys7cmV0dXJuIGl9ZnVuY3Rpb24ga28odCl7dmFyIGU9dC50b1N0cmluZygpLGk9ZS5pbmRleE9mKCJlIik7aWYoaT4wKXt2YXIgbj0rZS5zbGljZShpKzEpO3JldHVybiBuPDA/LW46MH12YXIgbz1lLmluZGV4T2YoIi4iKTtyZXR1cm4gbzwwPzA6ZS5sZW5ndGgtMS1vfWZ1bmN0aW9uIFBvKHQsZSl7dmFyIGk9TWF0aC5sb2csbj1NYXRoLkxOMTAsbz1NYXRoLmZsb29yKGkodFsxXS10WzBdKS9uKSxhPU1hdGgucm91bmQoaShNYXRoLmFicyhlWzFdLWVbMF0pKS9uKSxyPU1hdGgubWluKE1hdGgubWF4KC1vK2EsMCksMjApO3JldHVybiBpc0Zpbml0ZShyKT9yOjIwfWZ1bmN0aW9uIE5vKHQsZSxpKXtpZighdFtlXSlyZXR1cm4gMDt2YXIgbj1wKHQsZnVuY3Rpb24odCxlKXtyZXR1cm4gdCsoaXNOYU4oZSk/MDplKX0sMCk7aWYoMD09PW4pcmV0dXJuIDA7Zm9yKHZhciBvPU1hdGgucG93KDEwLGkpLGE9Zih0LGZ1bmN0aW9uKHQpe3JldHVybihpc05hTih0KT8wOnQpL24qbyoxMDB9KSxyPTEwMCpvLHM9ZihhLGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmZsb29yKHQpfSksbD1wKHMsZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSwwKSx1PWYoYSxmdW5jdGlvbih0LGUpe3JldHVybiB0LXNbZV19KTtsPHI7KXtmb3IodmFyIGg9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLGM9bnVsbCxkPTAsZz11Lmxlbmd0aDtkPGc7KytkKXVbZF0+aCYmKGg9dVtkXSxjPWQpOysrc1tjXSx1W2NdPTAsKytsfXJldHVybiBzW2VdL299ZnVuY3Rpb24gT28odCl7dmFyIGU9MipNYXRoLlBJO3JldHVybih0JWUrZSklZX1mdW5jdGlvbiBFbyh0KXtyZXR1cm4gdD4tZ1MmJnQ8Z1N9ZnVuY3Rpb24gem8odCl7aWYodCBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIHQ7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgZT12Uy5leGVjKHQpO2lmKCFlKXJldHVybiBuZXcgRGF0ZShOYU4pO2lmKGVbOF0pe3ZhciBpPStlWzRdfHwwO3JldHVybiJaIiE9PWVbOF0udG9VcHBlckNhc2UoKSYmKGktPWVbOF0uc2xpY2UoMCwzKSksbmV3IERhdGUoRGF0ZS5VVEMoK2VbMV0sKyhlWzJdfHwxKS0xLCtlWzNdfHwxLGksKyhlWzVdfHwwKSwrZVs2XXx8MCwrZVs3XXx8MCkpfXJldHVybiBuZXcgRGF0ZSgrZVsxXSwrKGVbMl18fDEpLTEsK2VbM118fDEsK2VbNF18fDAsKyhlWzVdfHwwKSwrZVs2XXx8MCwrZVs3XXx8MCl9cmV0dXJuIG51bGw9PXQ/bmV3IERhdGUoTmFOKTpuZXcgRGF0ZShNYXRoLnJvdW5kKHQpKX1mdW5jdGlvbiBSbyh0KXtyZXR1cm4gTWF0aC5wb3coMTAsQm8odCkpfWZ1bmN0aW9uIEJvKHQpe3JldHVybiBNYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4xMCl9ZnVuY3Rpb24gVm8odCxlKXt2YXIgaSxuPUJvKHQpLG89TWF0aC5wb3coMTAsbiksYT10L287cmV0dXJuIGk9ZT9hPDEuNT8xOmE8Mi41PzI6YTw0PzM6YTw3PzU6MTA6YTwxPzE6YTwyPzI6YTwzPzM6YTw1PzU6MTAsdD1pKm8sbj49LTIwPyt0LnRvRml4ZWQobjwwPy1uOjApOnR9ZnVuY3Rpb24gR28odCl7ZnVuY3Rpb24gZSh0LGksbil7cmV0dXJuIHQuaW50ZXJ2YWxbbl08aS5pbnRlcnZhbFtuXXx8dC5pbnRlcnZhbFtuXT09PWkuaW50ZXJ2YWxbbl0mJih0LmNsb3NlW25dLWkuY2xvc2Vbbl09PShuPy0xOjEpfHwhbiYmZSh0LGksMSkpfXQuc29ydChmdW5jdGlvbih0LGkpe3JldHVybiBlKHQsaSwwKT8tMToxfSk7Zm9yKHZhciBpPS0xLzAsbj0xLG89MDtvPHQubGVuZ3RoOyl7Zm9yKHZhciBhPXRbb10uaW50ZXJ2YWwscj10W29dLmNsb3NlLHM9MDtzPDI7cysrKWFbc108PWkmJihhW3NdPWkscltzXT1zPzE6MS1uKSxpPWFbc10sbj1yW3NdO2FbMF09PT1hWzFdJiZyWzBdKnJbMV0hPTE/dC5zcGxpY2UobywxKTpvKyt9cmV0dXJuIHR9ZnVuY3Rpb24gRm8odCl7cmV0dXJuIHQtcGFyc2VGbG9hdCh0KT49MH1mdW5jdGlvbiBXbyh0KXtyZXR1cm4gaXNOYU4odCk/Ii0iOih0PSh0KyIiKS5zcGxpdCgiLiIpKVswXS5yZXBsYWNlKC8oXGR7MSwzfSkoPz0oPzpcZHszfSkrKD8hXGQpKS9nLCIkMSwiKSsodC5sZW5ndGg+MT8iLiIrdFsxXToiIil9ZnVuY3Rpb24gSG8odCxlKXtyZXR1cm4gdD0odHx8IiIpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvLSguKS9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pLGUmJnQmJih0PXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKSksdH1mdW5jdGlvbiBabyh0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKS5yZXBsYWNlKC8iL2csIiZxdW90OyIpLnJlcGxhY2UoLycvZywiJiMzOTsiKX1mdW5jdGlvbiBVbyh0LGUsaSl7eShlKXx8KGU9W2VdKTt2YXIgbj1lLmxlbmd0aDtpZighbilyZXR1cm4iIjtmb3IodmFyIG89ZVswXS4kdmFyc3x8W10sYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcj1fU1thXTt0PXQucmVwbGFjZSh3UyhyKSx3UyhyLDApKX1mb3IodmFyIHM9MDtzPG47cysrKWZvcih2YXIgbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1lW3NdW29bbF1dO3Q9dC5yZXBsYWNlKHdTKF9TW2xdLHMpLGk/Wm8odSk6dSl9cmV0dXJuIHR9ZnVuY3Rpb24gam8odCxlLGkpe3JldHVybiBkKGUsZnVuY3Rpb24oZSxuKXt0PXQucmVwbGFjZSgieyIrbisifSIsaT9abyhlKTplKX0pLHR9ZnVuY3Rpb24gWG8odCxlKXt2YXIgaT0odD1fKHQpP3tjb2xvcjp0LGV4dHJhQ3NzVGV4dDplfTp0fHx7fSkuY29sb3Isbj10LnR5cGUsZT10LmV4dHJhQ3NzVGV4dDtyZXR1cm4gaT8ic3ViSXRlbSI9PT1uPyc8c3BhbiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo4cHg7bWFyZ2luLWxlZnQ6M3B4O2JvcmRlci1yYWRpdXM6NHB4O3dpZHRoOjRweDtoZWlnaHQ6NHB4O2JhY2tncm91bmQtY29sb3I6JytabyhpKSsiOyIrKGV8fCIiKSsnIj48L3NwYW4+JzonPHNwYW4gc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1yaWdodDo1cHg7Ym9yZGVyLXJhZGl1czoxMHB4O3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjonK1pvKGkpKyI7IisoZXx8IiIpKyciPjwvc3Bhbj4nOiIifWZ1bmN0aW9uIFlvKHQsZSl7cmV0dXJuIHQrPSIiLCIwMDAwIi5zdWJzdHIoMCxlLXQubGVuZ3RoKSt0fWZ1bmN0aW9uIHFvKHQsZSxpKXsid2VlayIhPT10JiYibW9udGgiIT09dCYmInF1YXJ0ZXIiIT09dCYmImhhbGYteWVhciIhPT10JiYieWVhciIhPT10fHwodD0iTU0tZGRcbnl5eXkiKTt2YXIgbj16byhlKSxvPWk/IlVUQyI6IiIsYT1uWyJnZXQiK28rIkZ1bGxZZWFyIl0oKSxyPW5bImdldCIrbysiTW9udGgiXSgpKzEscz1uWyJnZXQiK28rIkRhdGUiXSgpLGw9blsiZ2V0IitvKyJIb3VycyJdKCksdT1uWyJnZXQiK28rIk1pbnV0ZXMiXSgpLGg9blsiZ2V0IitvKyJTZWNvbmRzIl0oKSxjPW5bImdldCIrbysiTWlsbGlzZWNvbmRzIl0oKTtyZXR1cm4gdD10LnJlcGxhY2UoIk1NIixZbyhyLDIpKS5yZXBsYWNlKCJNIixyKS5yZXBsYWNlKCJ5eXl5IixhKS5yZXBsYWNlKCJ5eSIsYSUxMDApLnJlcGxhY2UoImRkIixZbyhzLDIpKS5yZXBsYWNlKCJkIixzKS5yZXBsYWNlKCJoaCIsWW8obCwyKSkucmVwbGFjZSgiaCIsbCkucmVwbGFjZSgibW0iLFlvKHUsMikpLnJlcGxhY2UoIm0iLHUpLnJlcGxhY2UoInNzIixZbyhoLDIpKS5yZXBsYWNlKCJzIixoKS5yZXBsYWNlKCJTU1MiLFlvKGMsMykpfWZ1bmN0aW9uICRvKHQpe3JldHVybiB0P3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSk6dH1mdW5jdGlvbiBLbyh0LGUsaSxuLG8pe3ZhciBhPTAscj0wO251bGw9PW4mJihuPTEvMCksbnVsbD09byYmKG89MS8wKTt2YXIgcz0wO2UuZWFjaENoaWxkKGZ1bmN0aW9uKGwsdSl7dmFyIGgsYyxkPWwucG9zaXRpb24sZj1sLmdldEJvdW5kaW5nUmVjdCgpLHA9ZS5jaGlsZEF0KHUrMSksZz1wJiZwLmdldEJvdW5kaW5nUmVjdCgpO2lmKCJob3Jpem9udGFsIj09PXQpe3ZhciBtPWYud2lkdGgrKGc/LWcueCtmLng6MCk7KGg9YSttKT5ufHxsLm5ld2xpbmU/KGE9MCxoPW0scis9cytpLHM9Zi5oZWlnaHQpOnM9TWF0aC5tYXgocyxmLmhlaWdodCl9ZWxzZXt2YXIgdj1mLmhlaWdodCsoZz8tZy55K2YueTowKTsoYz1yK3YpPm98fGwubmV3bGluZT8oYSs9cytpLHI9MCxjPXYscz1mLndpZHRoKTpzPU1hdGgubWF4KHMsZi53aWR0aCl9bC5uZXdsaW5lfHwoZFswXT1hLGRbMV09ciwiaG9yaXpvbnRhbCI9PT10P2E9aCtpOnI9YytpKX0pfWZ1bmN0aW9uIEpvKHQsZSxpKXt2YXIgbj1lLndpZHRoLG89ZS5oZWlnaHQsYT1Ubyh0Lngsbikscj1Ubyh0Lnksbykscz1Ubyh0LngyLG4pLGw9VG8odC55MixvKTtyZXR1cm4oaXNOYU4oYSl8fGlzTmFOKHBhcnNlRmxvYXQodC54KSkpJiYoYT0wKSwoaXNOYU4ocyl8fGlzTmFOKHBhcnNlRmxvYXQodC54MikpKSYmKHM9biksKGlzTmFOKHIpfHxpc05hTihwYXJzZUZsb2F0KHQueSkpKSYmKHI9MCksKGlzTmFOKGwpfHxpc05hTihwYXJzZUZsb2F0KHQueTIpKSkmJihsPW8pLGk9eFMoaXx8MCkse3dpZHRoOk1hdGgubWF4KHMtYS1pWzFdLWlbM10sMCksaGVpZ2h0Ok1hdGgubWF4KGwtci1pWzBdLWlbMl0sMCl9fWZ1bmN0aW9uIFFvKHQsZSxpKXtpPXhTKGl8fDApO3ZhciBuPWUud2lkdGgsbz1lLmhlaWdodCxhPVRvKHQubGVmdCxuKSxyPVRvKHQudG9wLG8pLHM9VG8odC5yaWdodCxuKSxsPVRvKHQuYm90dG9tLG8pLHU9VG8odC53aWR0aCxuKSxoPVRvKHQuaGVpZ2h0LG8pLGM9aVsyXStpWzBdLGQ9aVsxXStpWzNdLGY9dC5hc3BlY3Q7c3dpdGNoKGlzTmFOKHUpJiYodT1uLXMtZC1hKSxpc05hTihoKSYmKGg9by1sLWMtciksbnVsbCE9ZiYmKGlzTmFOKHUpJiZpc05hTihoKSYmKGY+bi9vP3U9LjgqbjpoPS44Km8pLGlzTmFOKHUpJiYodT1mKmgpLGlzTmFOKGgpJiYoaD11L2YpKSxpc05hTihhKSYmKGE9bi1zLXUtZCksaXNOYU4ocikmJihyPW8tbC1oLWMpLHQubGVmdHx8dC5yaWdodCl7Y2FzZSJjZW50ZXIiOmE9bi8yLXUvMi1pWzNdO2JyZWFrO2Nhc2UicmlnaHQiOmE9bi11LWR9c3dpdGNoKHQudG9wfHx0LmJvdHRvbSl7Y2FzZSJtaWRkbGUiOmNhc2UiY2VudGVyIjpyPW8vMi1oLzItaVswXTticmVhaztjYXNlImJvdHRvbSI6cj1vLWgtY31hPWF8fDAscj1yfHwwLGlzTmFOKHUpJiYodT1uLWQtYS0oc3x8MCkpLGlzTmFOKGgpJiYoaD1vLWMtci0obHx8MCkpO3ZhciBwPW5ldyBLdChhK2lbM10scitpWzBdLHUsaCk7cmV0dXJuIHAubWFyZ2luPWkscH1mdW5jdGlvbiB0YSh0LGUsaSxuLG8pe3ZhciBhPSFvfHwhby5odnx8by5odlswXSxzPSFvfHwhby5odnx8by5odlsxXSxsPW8mJm8uYm91bmRpbmdNb2RlfHwiYWxsIjtpZihhfHxzKXt2YXIgdTtpZigicmF3Ij09PWwpdT0iZ3JvdXAiPT09dC50eXBlP25ldyBLdCgwLDAsK2Uud2lkdGh8fDAsK2UuaGVpZ2h0fHwwKTp0LmdldEJvdW5kaW5nUmVjdCgpO2Vsc2UgaWYodT10LmdldEJvdW5kaW5nUmVjdCgpLHQubmVlZExvY2FsVHJhbnNmb3JtKCkpe3ZhciBoPXQuZ2V0TG9jYWxUcmFuc2Zvcm0oKTsodT11LmNsb25lKCkpLmFwcGx5VHJhbnNmb3JtKGgpfWU9UW8ocih7d2lkdGg6dS53aWR0aCxoZWlnaHQ6dS5oZWlnaHR9LGUpLGksbik7dmFyIGM9dC5wb3NpdGlvbixkPWE/ZS54LXUueDowLGY9cz9lLnktdS55OjA7dC5hdHRyKCJwb3NpdGlvbiIsInJhdyI9PT1sP1tkLGZdOltjWzBdK2QsY1sxXStmXSl9fWZ1bmN0aW9uIGVhKHQsZSl7cmV0dXJuIG51bGwhPXRbVFNbZV1bMF1dfHxudWxsIT10W1RTW2VdWzFdXSYmbnVsbCE9dFtUU1tlXVsyXV19ZnVuY3Rpb24gaWEodCxlLGkpe2Z1bmN0aW9uIG4oaSxuKXt2YXIgcj17fSxsPTAsdT17fSxoPTA7aWYoSVMoaSxmdW5jdGlvbihlKXt1W2VdPXRbZV19KSxJUyhpLGZ1bmN0aW9uKHQpe28oZSx0KSYmKHJbdF09dVt0XT1lW3RdKSxhKHIsdCkmJmwrKyxhKHUsdCkmJmgrK30pLHNbbl0pcmV0dXJuIGEoZSxpWzFdKT91W2lbMl1dPW51bGw6YShlLGlbMl0pJiYodVtpWzFdXT1udWxsKSx1O2lmKDIhPT1oJiZsKXtpZihsPj0yKXJldHVybiByO2Zvcih2YXIgYz0wO2M8aS5sZW5ndGg7YysrKXt2YXIgZD1pW2NdO2lmKCFvKHIsZCkmJm8odCxkKSl7cltkXT10W2RdO2JyZWFrfX1yZXR1cm4gcn1yZXR1cm4gdX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gYSh0LGUpe3JldHVybiBudWxsIT10W2VdJiYiYXV0byIhPT10W2VdfWZ1bmN0aW9uIHIodCxlLGkpe0lTKHQsZnVuY3Rpb24odCl7ZVt0XT1pW3RdfSl9IXcoaSkmJihpPXt9KTt2YXIgcz1pLmlnbm9yZVNpemU7IXkocykmJihzPVtzLHNdKTt2YXIgbD1uKFRTWzBdLDApLHU9bihUU1sxXSwxKTtyKFRTWzBdLHQsbCkscihUU1sxXSx0LHUpfWZ1bmN0aW9uIG5hKHQpe3JldHVybiBvYSh7fSx0KX1mdW5jdGlvbiBvYSh0LGUpe3JldHVybiBlJiZ0JiZJUyhEUyxmdW5jdGlvbihpKXtlLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pLHR9ZnVuY3Rpb24gYWEodCxlKXtmb3IodmFyIGk9dC5sZW5ndGgsbj0wO248aTtuKyspaWYodFtuXS5sZW5ndGg+ZSlyZXR1cm4gdFtuXTtyZXR1cm4gdFtpLTFdfWZ1bmN0aW9uIHJhKHQpe3ZhciBlPXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIiksaT17Y29vcmRTeXNOYW1lOmUsY29vcmRTeXNEaW1zOltdLGF4aXNNYXA6eigpLGNhdGVnb3J5QXhpc01hcDp6KCl9LG49elNbZV07aWYobilyZXR1cm4gbih0LGksaS5heGlzTWFwLGkuY2F0ZWdvcnlBeGlzTWFwKSxpfWZ1bmN0aW9uIHNhKHQpe3JldHVybiJjYXRlZ29yeSI9PT10LmdldCgidHlwZSIpfWZ1bmN0aW9uIGxhKHQpe3RoaXMuZnJvbURhdGFzZXQ9dC5mcm9tRGF0YXNldCx0aGlzLmRhdGE9dC5kYXRhfHwodC5zb3VyY2VGb3JtYXQ9PT1HUz97fTpbXSksdGhpcy5zb3VyY2VGb3JtYXQ9dC5zb3VyY2VGb3JtYXR8fEZTLHRoaXMuc2VyaWVzTGF5b3V0Qnk9dC5zZXJpZXNMYXlvdXRCeXx8SFMsdGhpcy5kaW1lbnNpb25zRGVmaW5lPXQuZGltZW5zaW9uc0RlZmluZSx0aGlzLmVuY29kZURlZmluZT10LmVuY29kZURlZmluZSYmeih0LmVuY29kZURlZmluZSksdGhpcy5zdGFydEluZGV4PXQuc3RhcnRJbmRleHx8MCx0aGlzLmRpbWVuc2lvbnNEZXRlY3RDb3VudD10LmRpbWVuc2lvbnNEZXRlY3RDb3VudH1mdW5jdGlvbiB1YSh0KXt2YXIgZT10Lm9wdGlvbi5zb3VyY2UsaT1GUztpZihTKGUpKWk9V1M7ZWxzZSBpZih5KGUpKWZvcih2YXIgbj0wLG89ZS5sZW5ndGg7bjxvO24rKyl7dmFyIGE9ZVtuXTtpZihudWxsIT1hKXtpZih5KGEpKXtpPUJTO2JyZWFrfWlmKHcoYSkpe2k9VlM7YnJlYWt9fX1lbHNlIGlmKHcoZSkpe2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikmJmMoZVtyXSkpe2k9R1M7YnJlYWt9fWVsc2UgaWYobnVsbCE9ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSIpO1VTKHQpLnNvdXJjZUZvcm1hdD1pfWZ1bmN0aW9uIGhhKHQpe3JldHVybiBVUyh0KS5zb3VyY2V9ZnVuY3Rpb24gY2EodCl7VVModCkuZGF0YXNldE1hcD16KCl9ZnVuY3Rpb24gZGEodCl7dmFyIGU9dC5vcHRpb24saT1lLmRhdGEsbj1TKGkpP1dTOlJTLG89ITEsYT1lLnNlcmllc0xheW91dEJ5LHI9ZS5zb3VyY2VIZWFkZXIscz1lLmRpbWVuc2lvbnMsbD15YSh0KTtpZihsKXt2YXIgdT1sLm9wdGlvbjtpPXUuc291cmNlLG49VVMobCkuc291cmNlRm9ybWF0LG89ITAsYT1hfHx1LnNlcmllc0xheW91dEJ5LG51bGw9PXImJihyPXUuc291cmNlSGVhZGVyKSxzPXN8fHUuZGltZW5zaW9uc312YXIgaD1mYShpLG4sYSxyLHMpLGM9ZS5lbmNvZGU7IWMmJmwmJihjPXZhKHQsbCxpLG4sYSxoKSksVVModCkuc291cmNlPW5ldyBsYSh7ZGF0YTppLGZyb21EYXRhc2V0Om8sc2VyaWVzTGF5b3V0Qnk6YSxzb3VyY2VGb3JtYXQ6bixkaW1lbnNpb25zRGVmaW5lOmguZGltZW5zaW9uc0RlZmluZSxzdGFydEluZGV4Omguc3RhcnRJbmRleCxkaW1lbnNpb25zRGV0ZWN0Q291bnQ6aC5kaW1lbnNpb25zRGV0ZWN0Q291bnQsZW5jb2RlRGVmaW5lOmN9KX1mdW5jdGlvbiBmYSh0LGUsaSxuLG8pe2lmKCF0KXJldHVybntkaW1lbnNpb25zRGVmaW5lOnBhKG8pfTt2YXIgYSxyLHM7aWYoZT09PUJTKSJhdXRvIj09PW58fG51bGw9PW4/Z2EoZnVuY3Rpb24odCl7bnVsbCE9dCYmIi0iIT09dCYmKF8odCk/bnVsbD09ciYmKHI9MSk6cj0wKX0saSx0LDEwKTpyPW4/MTowLG98fDEhPT1yfHwobz1bXSxnYShmdW5jdGlvbih0LGUpe29bZV09bnVsbCE9dD90OiIifSxpLHQpKSxhPW8/by5sZW5ndGg6aT09PVpTP3QubGVuZ3RoOnRbMF0/dFswXS5sZW5ndGg6bnVsbDtlbHNlIGlmKGU9PT1WUylvfHwobz1tYSh0KSxzPSEwKTtlbHNlIGlmKGU9PT1HUylvfHwobz1bXSxzPSEwLGQodCxmdW5jdGlvbih0LGUpe28ucHVzaChlKX0pKTtlbHNlIGlmKGU9PT1SUyl7dmFyIGw9SWkodFswXSk7YT15KGwpJiZsLmxlbmd0aHx8MX12YXIgdTtyZXR1cm4gcyYmZChvLGZ1bmN0aW9uKHQsZSl7Im5hbWUiPT09KHcodCk/dC5uYW1lOnQpJiYodT1lKX0pLHtzdGFydEluZGV4OnIsZGltZW5zaW9uc0RlZmluZTpwYShvKSxkaW1lbnNpb25zRGV0ZWN0Q291bnQ6YSxwb3RlbnRpYWxOYW1lRGltSW5kZXg6dX19ZnVuY3Rpb24gcGEodCl7aWYodCl7dmFyIGU9eigpO3JldHVybiBmKHQsZnVuY3Rpb24odCxpKXtpZihudWxsPT0odD1hKHt9LHcodCk/dDp7bmFtZTp0fSkpLm5hbWUpcmV0dXJuIHQ7dC5uYW1lKz0iIixudWxsPT10LmRpc3BsYXlOYW1lJiYodC5kaXNwbGF5TmFtZT10Lm5hbWUpO3ZhciBuPWUuZ2V0KHQubmFtZSk7cmV0dXJuIG4/dC5uYW1lKz0iLSIrbi5jb3VudCsrOmUuc2V0KHQubmFtZSx7Y291bnQ6MX0pLHR9KX19ZnVuY3Rpb24gZ2EodCxlLGksbil7aWYobnVsbD09biYmKG49MS8wKSxlPT09WlMpZm9yKGE9MDthPGkubGVuZ3RoJiZhPG47YSsrKXQoaVthXT9pW2FdWzBdOm51bGwsYSk7ZWxzZSBmb3IodmFyIG89aVswXXx8W10sYT0wO2E8by5sZW5ndGgmJmE8bjthKyspdChvW2FdLGEpfWZ1bmN0aW9uIG1hKHQpe2Zvcih2YXIgZSxpPTA7aTx0Lmxlbmd0aCYmIShlPXRbaSsrXSk7KTtpZihlKXt2YXIgbj1bXTtyZXR1cm4gZChlLGZ1bmN0aW9uKHQsZSl7bi5wdXNoKGUpfSksbn19ZnVuY3Rpb24gdmEodCxlLGksbixvLGEpe3ZhciByPXJhKHQpLHM9e30sbD1bXSx1PVtdLGg9dC5zdWJUeXBlLGM9eihbInBpZSIsIm1hcCIsImZ1bm5lbCJdKSxmPXooWyJsaW5lIiwiYmFyIiwicGljdG9yaWFsQmFyIiwic2NhdHRlciIsImVmZmVjdFNjYXR0ZXIiLCJjYW5kbGVzdGljayIsImJveHBsb3QiXSk7aWYociYmbnVsbCE9Zi5nZXQoaCkpe3ZhciBwPXQuZWNNb2RlbCxnPVVTKHApLmRhdGFzZXRNYXAsbT1lLnVpZCsiXyIrbyx2PWcuZ2V0KG0pfHxnLnNldChtLHtjYXRlZ29yeVdheURpbToxLHZhbHVlV2F5RGltOjB9KTtkKHIuY29vcmRTeXNEaW1zLGZ1bmN0aW9uKHQpe2lmKG51bGw9PXIuZmlyc3RDYXRlZ29yeURpbUluZGV4KXtlPXYudmFsdWVXYXlEaW0rKztzW3RdPWUsdS5wdXNoKGUpfWVsc2UgaWYoci5jYXRlZ29yeUF4aXNNYXAuZ2V0KHQpKXNbdF09MCxsLnB1c2goMCk7ZWxzZXt2YXIgZT12LmNhdGVnb3J5V2F5RGltKys7c1t0XT1lLHUucHVzaChlKX19KX1lbHNlIGlmKG51bGwhPWMuZ2V0KGgpKXtmb3IodmFyIHkseD0wO3g8NSYmbnVsbD09eTt4KyspX2EoaSxuLG8sYS5kaW1lbnNpb25zRGVmaW5lLGEuc3RhcnRJbmRleCx4KXx8KHk9eCk7aWYobnVsbCE9eSl7cy52YWx1ZT15O3ZhciBfPWEucG90ZW50aWFsTmFtZURpbUluZGV4fHxNYXRoLm1heCh5LTEsMCk7dS5wdXNoKF8pLGwucHVzaChfKX19cmV0dXJuIGwubGVuZ3RoJiYocy5pdGVtTmFtZT1sKSx1Lmxlbmd0aCYmKHMuc2VyaWVzTmFtZT11KSxzfWZ1bmN0aW9uIHlhKHQpe3ZhciBlPXQub3B0aW9uO2lmKCFlLmRhdGEpcmV0dXJuIHQuZWNNb2RlbC5nZXRDb21wb25lbnQoImRhdGFzZXQiLGUuZGF0YXNldEluZGV4fHwwKX1mdW5jdGlvbiB4YSh0LGUpe3JldHVybiBfYSh0LmRhdGEsdC5zb3VyY2VGb3JtYXQsdC5zZXJpZXNMYXlvdXRCeSx0LmRpbWVuc2lvbnNEZWZpbmUsdC5zdGFydEluZGV4LGUpfWZ1bmN0aW9uIF9hKHQsZSxpLG4sbyxhKXtmdW5jdGlvbiByKHQpe3JldHVybihudWxsPT10fHwhaXNGaW5pdGUodCl8fCIiPT09dCkmJighKCFfKHQpfHwiLSI9PT10KXx8dm9pZCAwKX12YXIgcztpZihTKHQpKXJldHVybiExO3ZhciBsO2lmKG4mJihsPXcobD1uW2FdKT9sLm5hbWU6bCksZT09PUJTKWlmKGk9PT1aUyl7Zm9yKHZhciB1PXRbYV0saD0wO2g8KHV8fFtdKS5sZW5ndGgmJmg8NTtoKyspaWYobnVsbCE9KHM9cih1W28raF0pKSlyZXR1cm4gc31lbHNlIGZvcihoPTA7aDx0Lmxlbmd0aCYmaDw1O2grKyl7dmFyIGM9dFtvK2hdO2lmKGMmJm51bGwhPShzPXIoY1thXSkpKXJldHVybiBzfWVsc2UgaWYoZT09PVZTKXtpZighbClyZXR1cm47Zm9yKGg9MDtoPHQubGVuZ3RoJiZoPDU7aCsrKWlmKChkPXRbaF0pJiZudWxsIT0ocz1yKGRbbF0pKSlyZXR1cm4gc31lbHNlIGlmKGU9PT1HUyl7aWYoIWwpcmV0dXJuO2lmKCEodT10W2xdKXx8Uyh1KSlyZXR1cm4hMTtmb3IoaD0wO2g8dS5sZW5ndGgmJmg8NTtoKyspaWYobnVsbCE9KHM9cih1W2hdKSkpcmV0dXJuIHN9ZWxzZSBpZihlPT09UlMpZm9yKGg9MDtoPHQubGVuZ3RoJiZoPDU7aCsrKXt2YXIgZD10W2hdLGY9SWkoZCk7aWYoIXkoZikpcmV0dXJuITE7aWYobnVsbCE9KHM9cihmW2FdKSkpcmV0dXJuIHN9cmV0dXJuITF9ZnVuY3Rpb24gd2EodCxlKXtpZihlKXt2YXIgaT1lLnNlaXJlc0luZGV4LG49ZS5zZXJpZXNJZCxvPWUuc2VyaWVzTmFtZTtyZXR1cm4gbnVsbCE9aSYmdC5jb21wb25lbnRJbmRleCE9PWl8fG51bGwhPW4mJnQuaWQhPT1ufHxudWxsIT1vJiZ0Lm5hbWUhPT1vfX1mdW5jdGlvbiBiYSh0LGUpe3ZhciBvPXQuY29sb3ImJiF0LmNvbG9yTGF5ZXI7ZChlLGZ1bmN0aW9uKGUsYSl7ImNvbG9yTGF5ZXIiPT09YSYmb3x8a1MuaGFzQ2xhc3MoYSl8fCgib2JqZWN0Ij09dHlwZW9mIGU/dFthXT10W2FdP24odFthXSxlLCExKTppKGUpOm51bGw9PXRbYV0mJih0W2FdPWUpKX0pfWZ1bmN0aW9uIFNhKHQpe3Q9dCx0aGlzLm9wdGlvbj17fSx0aGlzLm9wdGlvbltqU109MSx0aGlzLl9jb21wb25lbnRzTWFwPXooe3NlcmllczpbXX0pLHRoaXMuX3Nlcmllc0luZGljZXMsdGhpcy5fc2VyaWVzSW5kaWNlc01hcCxiYSh0LHRoaXMuX3RoZW1lLm9wdGlvbiksbih0LE5TLCExKSx0aGlzLm1lcmdlT3B0aW9uKHQpfWZ1bmN0aW9uIE1hKHQsZSl7eShlKXx8KGU9ZT9bZV06W10pO3ZhciBpPXt9O3JldHVybiBkKGUsZnVuY3Rpb24oZSl7aVtlXT0odC5nZXQoZSl8fFtdKS5zbGljZSgpfSksaX1mdW5jdGlvbiBJYSh0LGUsaSl7cmV0dXJuIGUudHlwZT9lLnR5cGU6aT9pLnN1YlR5cGU6a1MuZGV0ZXJtaW5lU3ViVHlwZSh0LGUpfWZ1bmN0aW9uIERhKHQsZSl7dC5fc2VyaWVzSW5kaWNlc01hcD16KHQuX3Nlcmllc0luZGljZXM9ZihlLGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbXBvbmVudEluZGV4fSl8fFtdKX1mdW5jdGlvbiBUYSh0LGUpe3JldHVybiBlLmhhc093blByb3BlcnR5KCJzdWJUeXBlIik/Zyh0LGZ1bmN0aW9uKHQpe3JldHVybiB0LnN1YlR5cGU9PT1lLnN1YlR5cGV9KTp0fWZ1bmN0aW9uIEFhKHQpe2QoWVMsZnVuY3Rpb24oZSl7dGhpc1tlXT1tKHRbZV0sdCl9LHRoaXMpfWZ1bmN0aW9uIENhKCl7dGhpcy5fY29vcmRpbmF0ZVN5c3RlbXM9W119ZnVuY3Rpb24gTGEodCl7dGhpcy5fYXBpPXQsdGhpcy5fdGltZWxpbmVPcHRpb25zPVtdLHRoaXMuX21lZGlhTGlzdD1bXSx0aGlzLl9tZWRpYURlZmF1bHQsdGhpcy5fY3VycmVudE1lZGlhSW5kaWNlcz1bXSx0aGlzLl9vcHRpb25CYWNrdXAsdGhpcy5fbmV3QmFzZU9wdGlvbn1mdW5jdGlvbiBrYSh0LGUsaSl7dmFyIG4sbyxhPVtdLHI9W10scz10LnRpbWVsaW5lO2lmKHQuYmFzZU9wdGlvbiYmKG89dC5iYXNlT3B0aW9uKSwoc3x8dC5vcHRpb25zKSYmKG89b3x8e30sYT0odC5vcHRpb25zfHxbXSkuc2xpY2UoKSksdC5tZWRpYSl7bz1vfHx7fTt2YXIgbD10Lm1lZGlhOyRTKGwsZnVuY3Rpb24odCl7dCYmdC5vcHRpb24mJih0LnF1ZXJ5P3IucHVzaCh0KTpufHwobj10KSl9KX1yZXR1cm4gb3x8KG89dCksby50aW1lbGluZXx8KG8udGltZWxpbmU9cyksJFMoW29dLmNvbmNhdChhKS5jb25jYXQoZihyLGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9wdGlvbn0pKSxmdW5jdGlvbih0KXskUyhlLGZ1bmN0aW9uKGUpe2UodCxpKX0pfSkse2Jhc2VPcHRpb246byx0aW1lbGluZU9wdGlvbnM6YSxtZWRpYURlZmF1bHQ6bixtZWRpYUxpc3Q6cn19ZnVuY3Rpb24gUGEodCxlLGkpe3ZhciBuPXt3aWR0aDplLGhlaWdodDppLGFzcGVjdHJhdGlvOmUvaX0sbz0hMDtyZXR1cm4gZCh0LGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5tYXRjaCh0TSk7aWYoaSYmaVsxXSYmaVsyXSl7dmFyIGE9aVsxXSxyPWlbMl0udG9Mb3dlckNhc2UoKTtOYShuW3JdLHQsYSl8fChvPSExKX19KSxvfWZ1bmN0aW9uIE5hKHQsZSxpKXtyZXR1cm4ibWluIj09PWk/dD49ZToibWF4Ij09PWk/dDw9ZTp0PT09ZX1mdW5jdGlvbiBPYSh0LGUpe3JldHVybiB0LmpvaW4oIiwiKT09PWUuam9pbigiLCIpfWZ1bmN0aW9uIEVhKHQsZSl7JFMoZT1lfHx7fSxmdW5jdGlvbihlLGkpe2lmKG51bGwhPWUpe3ZhciBuPXRbaV07aWYoa1MuaGFzQ2xhc3MoaSkpe2U9U2koZSk7dmFyIG89VGkobj1TaShuKSxlKTt0W2ldPUpTKG8sZnVuY3Rpb24odCl7cmV0dXJuIHQub3B0aW9uJiZ0LmV4aXN0P1FTKHQuZXhpc3QsdC5vcHRpb24sITApOnQuZXhpc3R8fHQub3B0aW9ufSl9ZWxzZSB0W2ldPVFTKG4sZSwhMCl9fSl9ZnVuY3Rpb24gemEodCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7aWYoZSlmb3IodmFyIGk9MCxvPW5NLmxlbmd0aDtpPG87aSsrKXt2YXIgYT1uTVtpXSxyPWUubm9ybWFsLHM9ZS5lbXBoYXNpcztyJiZyW2FdJiYodFthXT10W2FdfHx7fSx0W2FdLm5vcm1hbD9uKHRbYV0ubm9ybWFsLHJbYV0pOnRbYV0ubm9ybWFsPXJbYV0sclthXT1udWxsKSxzJiZzW2FdJiYodFthXT10W2FdfHx7fSx0W2FdLmVtcGhhc2lzP24odFthXS5lbXBoYXNpcyxzW2FdKTp0W2FdLmVtcGhhc2lzPXNbYV0sc1thXT1udWxsKX19ZnVuY3Rpb24gUmEodCxlLGkpe2lmKHQmJnRbZV0mJih0W2VdLm5vcm1hbHx8dFtlXS5lbXBoYXNpcykpe3ZhciBuPXRbZV0ubm9ybWFsLG89dFtlXS5lbXBoYXNpcztuJiYoaT8odFtlXS5ub3JtYWw9dFtlXS5lbXBoYXNpcz1udWxsLHIodFtlXSxuKSk6dFtlXT1uKSxvJiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPW8pfX1mdW5jdGlvbiBCYSh0KXtSYSh0LCJpdGVtU3R5bGUiKSxSYSh0LCJsaW5lU3R5bGUiKSxSYSh0LCJhcmVhU3R5bGUiKSxSYSh0LCJsYWJlbCIpLFJhKHQsImxhYmVsTGluZSIpLFJhKHQsInVwcGVyTGFiZWwiKSxSYSh0LCJlZGdlTGFiZWwiKX1mdW5jdGlvbiBWYSh0LGUpe3ZhciBpPWlNKHQpJiZ0W2VdLG49aU0oaSkmJmkudGV4dFN0eWxlO2lmKG4pZm9yKHZhciBvPTAsYT1Jdy5sZW5ndGg7bzxhO28rKyl7dmFyIGU9SXdbb107bi5oYXNPd25Qcm9wZXJ0eShlKSYmKGlbZV09bltlXSl9fWZ1bmN0aW9uIEdhKHQpe3QmJihCYSh0KSxWYSh0LCJsYWJlbCIpLHQuZW1waGFzaXMmJlZhKHQuZW1waGFzaXMsImxhYmVsIikpfWZ1bmN0aW9uIEZhKHQpe2lmKGlNKHQpKXt6YSh0KSxCYSh0KSxWYSh0LCJsYWJlbCIpLFZhKHQsInVwcGVyTGFiZWwiKSxWYSh0LCJlZGdlTGFiZWwiKSx0LmVtcGhhc2lzJiYoVmEodC5lbXBoYXNpcywibGFiZWwiKSxWYSh0LmVtcGhhc2lzLCJ1cHBlckxhYmVsIiksVmEodC5lbXBoYXNpcywiZWRnZUxhYmVsIikpO3ZhciBlPXQubWFya1BvaW50O2UmJih6YShlKSxHYShlKSk7dmFyIGk9dC5tYXJrTGluZTtpJiYoemEoaSksR2EoaSkpO3ZhciBuPXQubWFya0FyZWE7biYmR2Eobik7dmFyIG89dC5kYXRhO2lmKCJncmFwaCI9PT10LnR5cGUpe289b3x8dC5ub2Rlczt2YXIgYT10LmxpbmtzfHx0LmVkZ2VzO2lmKGEmJiFTKGEpKWZvcihzPTA7czxhLmxlbmd0aDtzKyspR2EoYVtzXSk7ZCh0LmNhdGVnb3JpZXMsZnVuY3Rpb24odCl7QmEodCl9KX1pZihvJiYhUyhvKSlmb3Iocz0wO3M8by5sZW5ndGg7cysrKUdhKG9bc10pO2lmKChlPXQubWFya1BvaW50KSYmZS5kYXRhKWZvcih2YXIgcj1lLmRhdGEscz0wO3M8ci5sZW5ndGg7cysrKUdhKHJbc10pO2lmKChpPXQubWFya0xpbmUpJiZpLmRhdGEpZm9yKHZhciBsPWkuZGF0YSxzPTA7czxsLmxlbmd0aDtzKyspeShsW3NdKT8oR2EobFtzXVswXSksR2EobFtzXVsxXSkpOkdhKGxbc10pOyJnYXVnZSI9PT10LnR5cGU/KFZhKHQsImF4aXNMYWJlbCIpLFZhKHQsInRpdGxlIiksVmEodCwiZGV0YWlsIikpOiJ0cmVlbWFwIj09PXQudHlwZSYmKFJhKHQuYnJlYWRjcnVtYiwiaXRlbVN0eWxlIiksZCh0LmxldmVscyxmdW5jdGlvbih0KXtCYSh0KX0pKX19ZnVuY3Rpb24gV2EodCl7cmV0dXJuIHkodCk/dDp0P1t0XTpbXX1mdW5jdGlvbiBIYSh0KXtyZXR1cm4oeSh0KT90WzBdOnQpfHx7fX1mdW5jdGlvbiBaYSh0LGUpe2U9ZS5zcGxpdCgiLCIpO2Zvcih2YXIgaT10LG49MDtuPGUubGVuZ3RoJiZudWxsIT0oaT1pJiZpW2Vbbl1dKTtuKyspO3JldHVybiBpfWZ1bmN0aW9uIFVhKHQsZSxpLG4pe2U9ZS5zcGxpdCgiLCIpO2Zvcih2YXIgbyxhPXQscj0wO3I8ZS5sZW5ndGgtMTtyKyspbnVsbD09YVtvPWVbcl1dJiYoYVtvXT17fSksYT1hW29dOyhufHxudWxsPT1hW2Vbcl1dKSYmKGFbZVtyXV09aSl9ZnVuY3Rpb24gamEodCl7ZChhTSxmdW5jdGlvbihlKXtlWzBdaW4gdCYmIShlWzFdaW4gdCkmJih0W2VbMV1dPXRbZVswXV0pfSl9ZnVuY3Rpb24gWGEodCl7ZCh0LGZ1bmN0aW9uKGUsaSl7dmFyIG49W10sbz1bTmFOLE5hTl0sYT1bZS5zdGFja1Jlc3VsdERpbWVuc2lvbixlLnN0YWNrZWRPdmVyRGltZW5zaW9uXSxyPWUuZGF0YSxzPWUuaXNTdGFja2VkQnlJbmRleCxsPXIubWFwKGEsZnVuY3Rpb24oYSxsLHUpe3ZhciBoPXIuZ2V0KGUuc3RhY2tlZERpbWVuc2lvbix1KTtpZihpc05hTihoKSlyZXR1cm4gbzt2YXIgYyxkO3M/ZD1yLmdldFJhd0luZGV4KHUpOmM9ci5nZXQoZS5zdGFja2VkQnlEaW1lbnNpb24sdSk7Zm9yKHZhciBmPU5hTixwPWktMTtwPj0wO3AtLSl7dmFyIGc9dFtwXTtpZihzfHwoZD1nLmRhdGEucmF3SW5kZXhPZihnLnN0YWNrZWRCeURpbWVuc2lvbixjKSksZD49MCl7dmFyIG09Zy5kYXRhLmdldEJ5UmF3SW5kZXgoZy5zdGFja1Jlc3VsdERpbWVuc2lvbixkKTtpZihoPj0wJiZtPjB8fGg8PTAmJm08MCl7aCs9bSxmPW07YnJlYWt9fX1yZXR1cm4gblswXT1oLG5bMV09ZixufSk7ci5ob3N0TW9kZWwuc2V0RGF0YShsKSxlLmRhdGE9bH0pfWZ1bmN0aW9uIFlhKHQsZSl7bGEuaXNJbnN0YW5jZSh0KXx8KHQ9bGEuc2VyaWVzRGF0YVRvU291cmNlKHQpKSx0aGlzLl9zb3VyY2U9dDt2YXIgaT10aGlzLl9kYXRhPXQuZGF0YSxuPXQuc291cmNlRm9ybWF0O249PT1XUyYmKHRoaXMuX29mZnNldD0wLHRoaXMuX2RpbVNpemU9ZSx0aGlzLl9kYXRhPWkpLGEodGhpcyx1TVtuPT09QlM/bisiXyIrdC5zZXJpZXNMYXlvdXRCeTpuXSl9ZnVuY3Rpb24gcWEoKXtyZXR1cm4gdGhpcy5fZGF0YS5sZW5ndGh9ZnVuY3Rpb24gJGEodCl7cmV0dXJuIHRoaXMuX2RhdGFbdF19ZnVuY3Rpb24gS2EodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy5fZGF0YS5wdXNoKHRbZV0pfWZ1bmN0aW9uIEphKHQsZSxpLG4pe3JldHVybiBudWxsIT1pP3RbaV06dH1mdW5jdGlvbiBRYSh0LGUsaSxuKXtyZXR1cm4gdHIodFtuXSx0aGlzLl9kaW1lbnNpb25JbmZvc1tlXSl9ZnVuY3Rpb24gdHIodCxlKXt2YXIgaT1lJiZlLnR5cGU7aWYoIm9yZGluYWwiPT09aSl7dmFyIG49ZSYmZS5vcmRpbmFsTWV0YTtyZXR1cm4gbj9uLnBhcnNlQW5kQ29sbGVjdCh0KTp0fXJldHVybiJ0aW1lIj09PWkmJiJudW1iZXIiIT10eXBlb2YgdCYmbnVsbCE9dCYmIi0iIT09dCYmKHQ9K3pvKHQpKSxudWxsPT10fHwiIj09PXQ/TmFOOit0fWZ1bmN0aW9uIGVyKHQsZSxpKXtpZih0KXt2YXIgbj10LmdldFJhd0RhdGFJdGVtKGUpO2lmKG51bGwhPW4pe3ZhciBvLGEscj10LmdldFByb3ZpZGVyKCkuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0LHM9dC5nZXREaW1lbnNpb25JbmZvKGkpO3JldHVybiBzJiYobz1zLm5hbWUsYT1zLmluZGV4KSxoTVtyXShuLGUsYSxvKX19fWZ1bmN0aW9uIGlyKHQsZSxpKXtpZih0KXt2YXIgbj10LmdldFByb3ZpZGVyKCkuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0O2lmKG49PT1SU3x8bj09PVZTKXt2YXIgbz10LmdldFJhd0RhdGFJdGVtKGUpO3JldHVybiBuIT09UlN8fHcobyl8fChvPW51bGwpLG8/b1tpXTp2b2lkIDB9fX1mdW5jdGlvbiBucih0KXtyZXR1cm4gbmV3IG9yKHQpfWZ1bmN0aW9uIG9yKHQpe3Q9dHx8e30sdGhpcy5fcmVzZXQ9dC5yZXNldCx0aGlzLl9wbGFuPXQucGxhbix0aGlzLl9jb3VudD10LmNvdW50LHRoaXMuX29uRGlydHk9dC5vbkRpcnR5LHRoaXMuX2RpcnR5PSEwLHRoaXMuY29udGV4dH1mdW5jdGlvbiBhcih0LGUpe3QuX2R1ZUluZGV4PXQuX291dHB1dER1ZUVuZD10Ll9kdWVFbmQ9MCx0Ll9zZXR0ZWRPdXRwdXRFbmQ9bnVsbDt2YXIgaSxuOyFlJiZ0Ll9yZXNldCYmKGk9dC5fcmVzZXQodC5jb250ZXh0KSkmJmkucHJvZ3Jlc3MmJihuPWkuZm9yY2VGaXJzdFByb2dyZXNzLGk9aS5wcm9ncmVzcyksdC5fcHJvZ3Jlc3M9aTt2YXIgbz10Ll9kb3duc3RyZWFtO3JldHVybiBvJiZvLmRpcnR5KCksbn1mdW5jdGlvbiBycih0KXt2YXIgZT10Lm5hbWU7Q2kodCl8fCh0Lm5hbWU9c3IodCl8fGUpfWZ1bmN0aW9uIHNyKHQpe3ZhciBlPXQuZ2V0UmF3RGF0YSgpLGk9W107cmV0dXJuIGQoZS5tYXBEaW1lbnNpb24oInNlcmllc05hbWUiLCEwKSxmdW5jdGlvbih0KXt2YXIgbj1lLmdldERpbWVuc2lvbkluZm8odCk7bi5kaXNwbGF5TmFtZSYmaS5wdXNoKG4uZGlzcGxheU5hbWUpfSksaS5qb2luKCIgIil9ZnVuY3Rpb24gbHIodCl7cmV0dXJuIHQubW9kZWwuZ2V0UmF3RGF0YSgpLmNvdW50KCl9ZnVuY3Rpb24gdXIodCl7dmFyIGU9dC5tb2RlbDtyZXR1cm4gZS5zZXREYXRhKGUuZ2V0UmF3RGF0YSgpLmNsb25lU2hhbGxvdygpKSxocn1mdW5jdGlvbiBocih0LGUpe3QuZW5kPmUub3V0cHV0RGF0YS5jb3VudCgpJiZlLm1vZGVsLmdldFJhd0RhdGEoKS5jbG9uZVNoYWxsb3coZS5vdXRwdXREYXRhKX1mdW5jdGlvbiBjcih0LGUpe2QodC5DSEFOR0FCTEVfTUVUSE9EUyxmdW5jdGlvbihpKXt0LndyYXBNZXRob2QoaSx2KGRyLGUpKX0pfWZ1bmN0aW9uIGRyKHQpe3ZhciBlPWZyKHQpO2UmJmUuc2V0T3V0cHV0RW5kKHRoaXMuY291bnQoKSl9ZnVuY3Rpb24gZnIodCl7dmFyIGU9KHQuZWNNb2RlbHx8e30pLnNjaGVkdWxlcixpPWUmJmUuZ2V0UGlwZWxpbmUodC51aWQpO2lmKGkpe3ZhciBuPWkuY3VycmVudFRhc2s7aWYobil7dmFyIG89bi5hZ2VudFN0dWJNYXA7byYmKG49by5nZXQodC51aWQpKX1yZXR1cm4gbn19ZnVuY3Rpb24gcHIoKXt0aGlzLmdyb3VwPW5ldyBMXyx0aGlzLnVpZD1Nbygidmlld0NoYXJ0IiksdGhpcy5yZW5kZXJUYXNrPW5yKHtwbGFuOnZyLHJlc2V0OnlyfSksdGhpcy5yZW5kZXJUYXNrLmNvbnRleHQ9e3ZpZXc6dGhpc319ZnVuY3Rpb24gZ3IodCxlKXtpZih0JiYodC50cmlnZ2VyKGUpLCJncm91cCI9PT10LnR5cGUpKWZvcih2YXIgaT0wO2k8dC5jaGlsZENvdW50KCk7aSsrKWdyKHQuY2hpbGRBdChpKSxlKX1mdW5jdGlvbiBtcih0LGUsaSl7dmFyIG49UGkodCxlKTtudWxsIT1uP2QoU2kobiksZnVuY3Rpb24oZSl7Z3IodC5nZXRJdGVtR3JhcGhpY0VsKGUpLGkpfSk6dC5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0KXtncih0LGkpfSl9ZnVuY3Rpb24gdnIodCl7cmV0dXJuIHdNKHQubW9kZWwpfWZ1bmN0aW9uIHlyKHQpe3ZhciBlPXQubW9kZWwsaT10LmVjTW9kZWwsbj10LmFwaSxvPXQucGF5bG9hZCxhPWUucGlwZWxpbmVDb250ZXh0LmNhblByb2dyZXNzaXZlUmVuZGVyLHI9dC52aWV3LHM9byYmX00obykudXBkYXRlTWV0aG9kLGw9YT8iaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyIjpzJiZyW3NdP3M6InJlbmRlciI7cmV0dXJuInJlbmRlciIhPT1sJiZyW2xdKGUsaSxuLG8pLFNNW2xdfWZ1bmN0aW9uIHhyKHQsZSxpKXtmdW5jdGlvbiBuKCl7aD0obmV3IERhdGUpLmdldFRpbWUoKSxjPW51bGwsdC5hcHBseShyLHN8fFtdKX12YXIgbyxhLHIscyxsLHU9MCxoPTAsYz1udWxsO2U9ZXx8MDt2YXIgZD1mdW5jdGlvbigpe289KG5ldyBEYXRlKS5nZXRUaW1lKCkscj10aGlzLHM9YXJndW1lbnRzO3ZhciB0PWx8fGUsZD1sfHxpO2w9bnVsbCxhPW8tKGQ/dTpoKS10LGNsZWFyVGltZW91dChjKSxkP2M9c2V0VGltZW91dChuLHQpOmE+PTA/bigpOmM9c2V0VGltZW91dChuLC1hKSx1PW99O3JldHVybiBkLmNsZWFyPWZ1bmN0aW9uKCl7YyYmKGNsZWFyVGltZW91dChjKSxjPW51bGwpfSxkLmRlYm91bmNlTmV4dENhbGw9ZnVuY3Rpb24odCl7bD10fSxkfWZ1bmN0aW9uIF9yKHQsZSxpLG4pe3ZhciBvPXRbZV07aWYobyl7dmFyIGE9b1tNTV18fG8scj1vW0RNXTtpZihvW0lNXSE9PWl8fHIhPT1uKXtpZihudWxsPT1pfHwhbilyZXR1cm4gdFtlXT1hOyhvPXRbZV09eHIoYSxpLCJkZWJvdW5jZSI9PT1uKSlbTU1dPWEsb1tETV09bixvW0lNXT1pfXJldHVybiBvfX1mdW5jdGlvbiB3cih0LGUpe3ZhciBpPXRbZV07aSYmaVtNTV0mJih0W2VdPWlbTU1dKX1mdW5jdGlvbiBicih0LGUsaSxuKXt0aGlzLmVjSW5zdGFuY2U9dCx0aGlzLmFwaT1lLHRoaXMudW5maW5pc2hlZCx0aGlzLl9kYXRhUHJvY2Vzc29ySGFuZGxlcnM9aS5zbGljZSgpLHRoaXMuX3Zpc3VhbEhhbmRsZXJzPW4uc2xpY2UoKSx0aGlzLl9zdGFnZVRhc2tNYXA9eigpfWZ1bmN0aW9uIFNyKHQsZSxpLG4sbyl7ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0LnNldERpcnR5JiYoIXQuZGlydHlNYXB8fHQuZGlydHlNYXAuZ2V0KGUuX19waXBlbGluZS5pZCkpfW89b3x8e307dmFyIHI7ZChlLGZ1bmN0aW9uKGUscyl7aWYoIW8udmlzdWFsVHlwZXx8by52aXN1YWxUeXBlPT09ZS52aXN1YWxUeXBlKXt2YXIgbD10Ll9zdGFnZVRhc2tNYXAuZ2V0KGUudWlkKSx1PWwuc2VyaWVzVGFza01hcCxoPWwub3ZlcmFsbFRhc2s7aWYoaCl7dmFyIGMsZD1oLmFnZW50U3R1Yk1hcDtkLmVhY2goZnVuY3Rpb24odCl7YShvLHQpJiYodC5kaXJ0eSgpLGM9ITApfSksYyYmaC5kaXJ0eSgpLFBNKGgsbik7dmFyIGY9dC5nZXRQZXJmb3JtQXJncyhoLG8uYmxvY2spO2QuZWFjaChmdW5jdGlvbih0KXt0LnBlcmZvcm0oZil9KSxyfD1oLnBlcmZvcm0oZil9ZWxzZSB1JiZ1LmVhY2goZnVuY3Rpb24ocyxsKXthKG8scykmJnMuZGlydHkoKTt2YXIgdT10LmdldFBlcmZvcm1BcmdzKHMsby5ibG9jayk7dS5za2lwPSFlLnBlcmZvcm1SYXdTZXJpZXMmJmkuaXNTZXJpZXNGaWx0ZXJlZChzLmNvbnRleHQubW9kZWwpLFBNKHMsbikscnw9cy5wZXJmb3JtKHUpfSl9fSksdC51bmZpbmlzaGVkfD1yfWZ1bmN0aW9uIE1yKHQsZSxpLG4sbyl7ZnVuY3Rpb24gYShpKXt2YXIgYT1pLnVpZCxzPXIuZ2V0KGEpfHxyLnNldChhLG5yKHtwbGFuOkxyLHJlc2V0OmtyLGNvdW50Ok5yfSkpO3MuY29udGV4dD17bW9kZWw6aSxlY01vZGVsOm4sYXBpOm8sdXNlQ2xlYXJWaXN1YWw6ZS5pc1Zpc3VhbCYmIWUuaXNMYXlvdXQscGxhbjplLnBsYW4scmVzZXQ6ZS5yZXNldCxzY2hlZHVsZXI6dH0sT3IodCxpLHMpfXZhciByPWkuc2VyaWVzVGFza01hcHx8KGkuc2VyaWVzVGFza01hcD16KCkpLHM9ZS5zZXJpZXNUeXBlLGw9ZS5nZXRUYXJnZXRTZXJpZXM7ZS5jcmVhdGVPbkFsbFNlcmllcz9uLmVhY2hSYXdTZXJpZXMoYSk6cz9uLmVhY2hSYXdTZXJpZXNCeVR5cGUocyxhKTpsJiZsKG4sbykuZWFjaChhKTt2YXIgdT10Ll9waXBlbGluZU1hcDtyLmVhY2goZnVuY3Rpb24odCxlKXt1LmdldChlKXx8KHQuZGlzcG9zZSgpLHIucmVtb3ZlS2V5KGUpKX0pfWZ1bmN0aW9uIElyKHQsZSxpLG4sbyl7ZnVuY3Rpb24gYShlKXt2YXIgaT1lLnVpZCxuPXMuZ2V0KGkpfHxzLnNldChpLG5yKHtyZXNldDpUcixvbkRpcnR5OkNyfSkpO24uY29udGV4dD17bW9kZWw6ZSxvdmVyYWxsUHJvZ3Jlc3M6aCxpc092ZXJhbGxGaWx0ZXI6Y30sbi5hZ2VudD1yLG4uX19ibG9jaz1oLE9yKHQsZSxuKX12YXIgcj1pLm92ZXJhbGxUYXNrPWkub3ZlcmFsbFRhc2t8fG5yKHtyZXNldDpEcn0pO3IuY29udGV4dD17ZWNNb2RlbDpuLGFwaTpvLG92ZXJhbGxSZXNldDplLm92ZXJhbGxSZXNldCxzY2hlZHVsZXI6dH07dmFyIHM9ci5hZ2VudFN0dWJNYXA9ci5hZ2VudFN0dWJNYXB8fHooKSxsPWUuc2VyaWVzVHlwZSx1PWUuZ2V0VGFyZ2V0U2VyaWVzLGg9ITAsYz1lLmlzT3ZlcmFsbEZpbHRlcjtsP24uZWFjaFJhd1Nlcmllc0J5VHlwZShsLGEpOnU/dShuLG8pLmVhY2goYSk6KGg9ITEsZChuLmdldFNlcmllcygpLGEpKTt2YXIgZj10Ll9waXBlbGluZU1hcDtzLmVhY2goZnVuY3Rpb24odCxlKXtmLmdldChlKXx8KHQuZGlzcG9zZSgpLHMucmVtb3ZlS2V5KGUpKX0pfWZ1bmN0aW9uIERyKHQpe3Qub3ZlcmFsbFJlc2V0KHQuZWNNb2RlbCx0LmFwaSx0LnBheWxvYWQpfWZ1bmN0aW9uIFRyKHQsZSl7cmV0dXJuIHQub3ZlcmFsbFByb2dyZXNzJiZBcn1mdW5jdGlvbiBBcigpe3RoaXMuYWdlbnQuZGlydHkoKSx0aGlzLmdldERvd25zdHJlYW0oKS5kaXJ0eSgpfWZ1bmN0aW9uIENyKCl7dGhpcy5hZ2VudCYmdGhpcy5hZ2VudC5kaXJ0eSgpfWZ1bmN0aW9uIExyKHQpe3JldHVybiB0LnBsYW4mJnQucGxhbih0Lm1vZGVsLHQuZWNNb2RlbCx0LmFwaSx0LnBheWxvYWQpfWZ1bmN0aW9uIGtyKHQpe2lmKHQudXNlQ2xlYXJWaXN1YWwmJnQuZGF0YS5jbGVhckFsbFZpc3VhbCgpLCh0LnJlc2V0RGVmaW5lcz1TaSh0LnJlc2V0KHQubW9kZWwsdC5lY01vZGVsLHQuYXBpLHQucGF5bG9hZCkpKS5sZW5ndGgpcmV0dXJuIFByfWZ1bmN0aW9uIFByKHQsZSl7Zm9yKHZhciBpPWUuZGF0YSxuPWUucmVzZXREZWZpbmVzLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXTtpZihhJiZhLmRhdGFFYWNoKWZvcih2YXIgcj10LnN0YXJ0O3I8dC5lbmQ7cisrKWEuZGF0YUVhY2goaSxyKTtlbHNlIGEmJmEucHJvZ3Jlc3MmJmEucHJvZ3Jlc3ModCxpKX19ZnVuY3Rpb24gTnIodCl7cmV0dXJuIHQuZGF0YS5jb3VudCgpfWZ1bmN0aW9uIE9yKHQsZSxpKXt2YXIgbj1lLnVpZCxvPXQuX3BpcGVsaW5lTWFwLmdldChuKTshby5oZWFkJiYoby5oZWFkPWkpLG8udGFpbCYmby50YWlsLnBpcGUoaSksby50YWlsPWksaS5fX2lkeEluUGlwZWxpbmU9by5jb3VudCsrLGkuX19waXBlbGluZT1vfWZ1bmN0aW9uIEVyKHQpe05NPW51bGw7dHJ5e3QoT00sRU0pfWNhdGNoKHQpe31yZXR1cm4gTk19ZnVuY3Rpb24genIodCxlKXtmb3IodmFyIGkgaW4gZS5wcm90b3R5cGUpdFtpXT1CfWZ1bmN0aW9uIFJyKHQpe3JldHVybiBmdW5jdGlvbihlLGksbil7ZT1lJiZlLnRvTG93ZXJDYXNlKCksJHgucHJvdG90eXBlW3RdLmNhbGwodGhpcyxlLGksbil9fWZ1bmN0aW9uIEJyKCl7JHguY2FsbCh0aGlzKX1mdW5jdGlvbiBWcih0LGUsbil7ZnVuY3Rpb24gbyh0LGUpe3JldHVybiB0Ll9fcHJpby1lLl9fcHJpb31uPW58fHt9LCJzdHJpbmciPT10eXBlb2YgZSYmKGU9bElbZV0pLHRoaXMuaWQsdGhpcy5ncm91cCx0aGlzLl9kb209dDt2YXIgYT10aGlzLl96cj1faSh0LHtyZW5kZXJlcjpuLnJlbmRlcmVyfHwiY2FudmFzIixkZXZpY2VQaXhlbFJhdGlvOm4uZGV2aWNlUGl4ZWxSYXRpbyx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodH0pO3RoaXMuX3Rocm90dGxlZFpyRmx1c2g9eHIobShhLmZsdXNoLGEpLDE3KSwoZT1pKGUpKSYmc00oZSwhMCksdGhpcy5fdGhlbWU9ZSx0aGlzLl9jaGFydHNWaWV3cz1bXSx0aGlzLl9jaGFydHNNYXA9e30sdGhpcy5fY29tcG9uZW50c1ZpZXdzPVtdLHRoaXMuX2NvbXBvbmVudHNNYXA9e30sdGhpcy5fY29vcmRTeXNNZ3I9bmV3IENhO3ZhciByPXRoaXMuX2FwaT1ucyh0aGlzKTthZShzSSxvKSxhZShvSSxvKSx0aGlzLl9zY2hlZHVsZXI9bmV3IGJyKHRoaXMscixvSSxzSSksJHguY2FsbCh0aGlzKSx0aGlzLl9tZXNzYWdlQ2VudGVyPW5ldyBCcix0aGlzLl9pbml0RXZlbnRzKCksdGhpcy5yZXNpemU9bSh0aGlzLnJlc2l6ZSx0aGlzKSx0aGlzLl9wZW5kaW5nQWN0aW9ucz1bXSxhLmFuaW1hdGlvbi5vbigiZnJhbWUiLHRoaXMuX29uZnJhbWUsdGhpcyksWHIoYSx0aGlzKSxOKHRoaXMpfWZ1bmN0aW9uIEdyKHQsZSxpKXt2YXIgbixvPXRoaXMuX21vZGVsLGE9dGhpcy5fY29vcmRTeXNNZ3IuZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKTtlPU9pKG8sZSk7Zm9yKHZhciByPTA7cjxhLmxlbmd0aDtyKyspe3ZhciBzPWFbcl07aWYoc1t0XSYmbnVsbCE9KG49c1t0XShvLGUsaSkpKXJldHVybiBufX1mdW5jdGlvbiBGcih0KXt2YXIgZT10Ll9tb2RlbCxpPXQuX3NjaGVkdWxlcjtpLnJlc3RvcmVQaXBlbGluZXMoZSksaS5wcmVwYXJlU3RhZ2VUYXNrcygpLFlyKHQsImNvbXBvbmVudCIsZSxpKSxZcih0LCJjaGFydCIsZSxpKSxpLnBsYW4oKX1mdW5jdGlvbiBXcih0LGUsaSxuLG8pe2Z1bmN0aW9uIGEobil7biYmbi5fX2FsaXZlJiZuW2VdJiZuW2VdKG4uX19tb2RlbCxyLHQuX2FwaSxpKX12YXIgcj10Ll9tb2RlbDtpZihuKXt2YXIgcz17fTtzW24rIklkIl09aVtuKyJJZCJdLHNbbisiSW5kZXgiXT1pW24rIkluZGV4Il0sc1tuKyJOYW1lIl09aVtuKyJOYW1lIl07dmFyIGw9e21haW5UeXBlOm4scXVlcnk6c307byYmKGwuc3ViVHlwZT1vKSxyJiZyLmVhY2hDb21wb25lbnQobCxmdW5jdGlvbihlLGkpe2EodFsic2VyaWVzIj09PW4/Il9jaGFydHNNYXAiOiJfY29tcG9uZW50c01hcCJdW2UuX192aWV3SWRdKX0sdCl9ZWxzZSBGTSh0Ll9jb21wb25lbnRzVmlld3MuY29uY2F0KHQuX2NoYXJ0c1ZpZXdzKSxhKX1mdW5jdGlvbiBIcih0LGUpe3ZhciBpPXQuX2NoYXJ0c01hcCxuPXQuX3NjaGVkdWxlcjtlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7bi51cGRhdGVTdHJlYW1Nb2Rlcyh0LGlbdC5fX3ZpZXdJZF0pfSl9ZnVuY3Rpb24gWnIodCxlKXt2YXIgaT10LnR5cGUsbj10LmVzY2FwZUNvbm5lY3Qsbz1pSVtpXSxzPW8uYWN0aW9uSW5mbyxsPShzLnVwZGF0ZXx8InVwZGF0ZSIpLnNwbGl0KCI6IiksdT1sLnBvcCgpO2w9bnVsbCE9bFswXSYmWk0obFswXSksdGhpc1skTV09ITA7dmFyIGg9W3RdLGM9ITE7dC5iYXRjaCYmKGM9ITAsaD1mKHQuYmF0Y2gsZnVuY3Rpb24oZSl7cmV0dXJuIGU9cihhKHt9LGUpLHQpLGUuYmF0Y2g9bnVsbCxlfSkpO3ZhciBkLHA9W10sZz0iaGlnaGxpZ2h0Ij09PWl8fCJkb3ducGxheSI9PT1pO0ZNKGgsZnVuY3Rpb24odCl7ZD1vLmFjdGlvbih0LHRoaXMuX21vZGVsLHRoaXMuX2FwaSksKGQ9ZHx8YSh7fSx0KSkudHlwZT1zLmV2ZW50fHxkLnR5cGUscC5wdXNoKGQpLGc/V3IodGhpcyx1LHQsInNlcmllcyIpOmwmJldyKHRoaXMsdSx0LGwubWFpbixsLnN1Yil9LHRoaXMpLCJub25lIj09PXV8fGd8fGx8fCh0aGlzW0tNXT8oRnIodGhpcyksdEkudXBkYXRlLmNhbGwodGhpcyx0KSx0aGlzW0tNXT0hMSk6dElbdV0uY2FsbCh0aGlzLHQpKSxkPWM/e3R5cGU6cy5ldmVudHx8aSxlc2NhcGVDb25uZWN0Om4sYmF0Y2g6cH06cFswXSx0aGlzWyRNXT0hMSwhZSYmdGhpcy5fbWVzc2FnZUNlbnRlci50cmlnZ2VyKGQudHlwZSxkKX1mdW5jdGlvbiBVcih0KXtmb3IodmFyIGU9dGhpcy5fcGVuZGluZ0FjdGlvbnM7ZS5sZW5ndGg7KXt2YXIgaT1lLnNoaWZ0KCk7WnIuY2FsbCh0aGlzLGksdCl9fWZ1bmN0aW9uIGpyKHQpeyF0JiZ0aGlzLnRyaWdnZXIoInVwZGF0ZWQiKX1mdW5jdGlvbiBYcih0LGUpe3Qub24oInJlbmRlcmVkIixmdW5jdGlvbigpe2UudHJpZ2dlcigicmVuZGVyZWQiKSwhdC5hbmltYXRpb24uaXNGaW5pc2hlZCgpfHxlW0tNXXx8ZS5fc2NoZWR1bGVyLnVuZmluaXNoZWR8fGUuX3BlbmRpbmdBY3Rpb25zLmxlbmd0aHx8ZS50cmlnZ2VyKCJmaW5pc2hlZCIpfSl9ZnVuY3Rpb24gWXIodCxlLGksbil7ZnVuY3Rpb24gbyh0KXt2YXIgZT0iX2VjXyIrdC5pZCsiXyIrdC50eXBlLG89c1tlXTtpZighbyl7dmFyIGg9Wk0odC50eXBlKTsobz1uZXcoYT92TS5nZXRDbGFzcyhoLm1haW4saC5zdWIpOnByLmdldENsYXNzKGguc3ViKSkpLmluaXQoaSx1KSxzW2VdPW8sci5wdXNoKG8pLGwuYWRkKG8uZ3JvdXApfXQuX192aWV3SWQ9by5fX2lkPWUsby5fX2FsaXZlPSEwLG8uX19tb2RlbD10LG8uZ3JvdXAuX19lY0NvbXBvbmVudEluZm89e21haW5UeXBlOnQubWFpblR5cGUsaW5kZXg6dC5jb21wb25lbnRJbmRleH0sIWEmJm4ucHJlcGFyZVZpZXcobyx0LGksdSl9Zm9yKHZhciBhPSJjb21wb25lbnQiPT09ZSxyPWE/dC5fY29tcG9uZW50c1ZpZXdzOnQuX2NoYXJ0c1ZpZXdzLHM9YT90Ll9jb21wb25lbnRzTWFwOnQuX2NoYXJ0c01hcCxsPXQuX3pyLHU9dC5fYXBpLGg9MDtoPHIubGVuZ3RoO2grKylyW2hdLl9fYWxpdmU9ITE7YT9pLmVhY2hDb21wb25lbnQoZnVuY3Rpb24odCxlKXsic2VyaWVzIiE9PXQmJm8oZSl9KTppLmVhY2hTZXJpZXMobyk7Zm9yKGg9MDtoPHIubGVuZ3RoOyl7dmFyIGM9cltoXTtjLl9fYWxpdmU/aCsrOighYSYmYy5yZW5kZXJUYXNrLmRpc3Bvc2UoKSxsLnJlbW92ZShjLmdyb3VwKSxjLmRpc3Bvc2UoaSx1KSxyLnNwbGljZShoLDEpLGRlbGV0ZSBzW2MuX19pZF0sYy5fX2lkPWMuZ3JvdXAuX19lY0NvbXBvbmVudEluZm89bnVsbCl9fWZ1bmN0aW9uIHFyKHQpe3QuY2xlYXJDb2xvclBhbGV0dGUoKSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dC5jbGVhckNvbG9yUGFsZXR0ZSgpfSl9ZnVuY3Rpb24gJHIodCxlLGksbil7S3IodCxlLGksbiksRk0odC5fY2hhcnRzVmlld3MsZnVuY3Rpb24odCl7dC5fX2FsaXZlPSExfSksSnIodCxlLGksbiksRk0odC5fY2hhcnRzVmlld3MsZnVuY3Rpb24odCl7dC5fX2FsaXZlfHx0LnJlbW92ZShlLGkpfSl9ZnVuY3Rpb24gS3IodCxlLGksbixvKXtGTShvfHx0Ll9jb21wb25lbnRzVmlld3MsZnVuY3Rpb24odCl7dmFyIG89dC5fX21vZGVsO3QucmVuZGVyKG8sZSxpLG4pLGlzKG8sdCl9KX1mdW5jdGlvbiBKcih0LGUsaSxuLG8pe3ZhciBhLHI9dC5fc2NoZWR1bGVyO2UuZWFjaFNlcmllcyhmdW5jdGlvbihlKXt2YXIgaT10Ll9jaGFydHNNYXBbZS5fX3ZpZXdJZF07aS5fX2FsaXZlPSEwO3ZhciBzPWkucmVuZGVyVGFzaztyLnVwZGF0ZVBheWxvYWQocyxuKSxvJiZvLmdldChlLnVpZCkmJnMuZGlydHkoKSxhfD1zLnBlcmZvcm0oci5nZXRQZXJmb3JtQXJncyhzKSksaS5ncm91cC5zaWxlbnQ9ISFlLmdldCgic2lsZW50IiksaXMoZSxpKSxlcyhlLGkpfSksci51bmZpbmlzaGVkfD1hLHRzKHQuX3pyLGUpLENNKHQuX3pyLmRvbSxlKX1mdW5jdGlvbiBRcih0LGUpe0ZNKHJJLGZ1bmN0aW9uKGkpe2kodCxlKX0pfWZ1bmN0aW9uIHRzKHQsZSl7dmFyIGk9dC5zdG9yYWdlLG49MDtpLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8bisrfSksbj5lLmdldCgiaG92ZXJMYXllclRocmVzaG9sZCIpJiYhQXgubm9kZSYmaS50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmlzR3JvdXB8fCh0LnVzZUhvdmVyTGF5ZXI9ITApfSl9ZnVuY3Rpb24gZXModCxlKXt2YXIgaT10LmdldCgiYmxlbmRNb2RlIil8fG51bGw7ZS5ncm91cC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmlzR3JvdXB8fHQuc3R5bGUuYmxlbmQhPT1pJiZ0LnNldFN0eWxlKCJibGVuZCIsaSksdC5lYWNoUGVuZGluZ0Rpc3BsYXlhYmxlJiZ0LmVhY2hQZW5kaW5nRGlzcGxheWFibGUoZnVuY3Rpb24odCl7dC5zZXRTdHlsZSgiYmxlbmQiLGkpfSl9KX1mdW5jdGlvbiBpcyh0LGUpe3ZhciBpPXQuZ2V0KCJ6Iiksbj10LmdldCgiemxldmVsIik7ZS5ncm91cC50cmF2ZXJzZShmdW5jdGlvbih0KXsiZ3JvdXAiIT09dC50eXBlJiYobnVsbCE9aSYmKHQuej1pKSxudWxsIT1uJiYodC56bGV2ZWw9bikpfSl9ZnVuY3Rpb24gbnModCl7dmFyIGU9dC5fY29vcmRTeXNNZ3I7cmV0dXJuIGEobmV3IEFhKHQpLHtnZXRDb29yZGluYXRlU3lzdGVtczptKGUuZ2V0Q29vcmRpbmF0ZVN5c3RlbXMsZSksZ2V0Q29tcG9uZW50QnlFbGVtZW50OmZ1bmN0aW9uKGUpe2Zvcig7ZTspe3ZhciBpPWUuX19lY0NvbXBvbmVudEluZm87aWYobnVsbCE9aSlyZXR1cm4gdC5fbW9kZWwuZ2V0Q29tcG9uZW50KGkubWFpblR5cGUsaS5pbmRleCk7ZT1lLnBhcmVudH19fSl9ZnVuY3Rpb24gb3ModCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRbbl1baV09ZX12YXIgaT0iX19jb25uZWN0VXBkYXRlU3RhdHVzIjtGTShuSSxmdW5jdGlvbihuLG8pe3QuX21lc3NhZ2VDZW50ZXIub24obyxmdW5jdGlvbihuKXtpZihjSVt0Lmdyb3VwXSYmMCE9PXRbaV0pe2lmKG4mJm4uZXNjYXBlQ29ubmVjdClyZXR1cm47dmFyIG89dC5tYWtlQWN0aW9uRnJvbUV2ZW50KG4pLGE9W107Rk0oaEksZnVuY3Rpb24oZSl7ZSE9PXQmJmUuZ3JvdXA9PT10Lmdyb3VwJiZhLnB1c2goZSl9KSxlKGEsMCksRk0oYSxmdW5jdGlvbih0KXsxIT09dFtpXSYmdC5kaXNwYXRjaEFjdGlvbihvKX0pLGUoYSwyKX19KX0pfWZ1bmN0aW9uIGFzKHQpe2NJW3RdPSExfWZ1bmN0aW9uIHJzKHQpe3JldHVybiBoSVtSaSh0LHBJKV19ZnVuY3Rpb24gc3ModCxlKXtsSVt0XT1lfWZ1bmN0aW9uIGxzKHQpe2FJLnB1c2godCl9ZnVuY3Rpb24gdXModCxlKXtwcyhvSSx0LGUsak0pfWZ1bmN0aW9uIGhzKHQsZSxpKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGk9ZSxlPSIiKTt2YXIgbj1ITSh0KT90LnR5cGU6W3QsdD17ZXZlbnQ6ZX1dWzBdO3QuZXZlbnQ9KHQuZXZlbnR8fG4pLnRvTG93ZXJDYXNlKCksZT10LmV2ZW50LEdNKEpNLnRlc3QobikmJkpNLnRlc3QoZSkpLGlJW25dfHwoaUlbbl09e2FjdGlvbjppLGFjdGlvbkluZm86dH0pLG5JW2VdPW59ZnVuY3Rpb24gY3ModCxlKXtDYS5yZWdpc3Rlcih0LGUpfWZ1bmN0aW9uIGRzKHQsZSl7cHMoc0ksdCxlLFhNLCJsYXlvdXQiKX1mdW5jdGlvbiBmcyh0LGUpe3BzKHNJLHQsZSxZTSwidmlzdWFsIil9ZnVuY3Rpb24gcHModCxlLGksbixvKXsoV00oZSl8fEhNKGUpKSYmKGk9ZSxlPW4pO3ZhciBhPWJyLndyYXBTdGFnZUhhbmRsZXIoaSxvKTtyZXR1cm4gYS5fX3ByaW89ZSxhLl9fcmF3PWksdC5wdXNoKGEpLGF9ZnVuY3Rpb24gZ3ModCxlKXt1SVt0XT1lfWZ1bmN0aW9uIG1zKHQpe3JldHVybiBrUy5leHRlbmQodCl9ZnVuY3Rpb24gdnModCl7cmV0dXJuIHZNLmV4dGVuZCh0KX1mdW5jdGlvbiB5cyh0KXtyZXR1cm4gbU0uZXh0ZW5kKHQpfWZ1bmN0aW9uIHhzKHQpe3JldHVybiBwci5leHRlbmQodCl9ZnVuY3Rpb24gX3ModCl7cmV0dXJuIGdJW3RdfWZ1bmN0aW9uIHdzKHQpe3JldHVybiB0fWZ1bmN0aW9uIGJzKHQsZSxpLG4sbyl7dGhpcy5fb2xkPXQsdGhpcy5fbmV3PWUsdGhpcy5fb2xkS2V5R2V0dGVyPWl8fHdzLHRoaXMuX25ld0tleUdldHRlcj1ufHx3cyx0aGlzLmNvbnRleHQ9b31mdW5jdGlvbiBTcyh0LGUsaSxuLG8pe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcj0iX2VjXyIrb1tuXSh0W2FdLGEpLHM9ZVtyXTtudWxsPT1zPyhpLnB1c2gociksZVtyXT1hKToocy5sZW5ndGh8fChlW3JdPXM9W3NdKSxzLnB1c2goYSkpfX1mdW5jdGlvbiBNcyh0KXt2YXIgZT17fSxpPWUuZW5jb2RlPXt9LG49eigpLG89W107ZCh0LmRpbWVuc2lvbnMsZnVuY3Rpb24oZSl7dmFyIGE9dC5nZXREaW1lbnNpb25JbmZvKGUpLHI9YS5jb29yZERpbTtpZihyKXt2YXIgcz1pW3JdO2kuaGFzT3duUHJvcGVydHkocil8fChzPWlbcl09W10pLHNbYS5jb29yZERpbUluZGV4XT1lLGEuaXNFeHRyYUNvb3JkfHwobi5zZXQociwxKSxEcyhhLnR5cGUpJiYob1swXT1lKSl9eUkuZWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWlbZV07aS5oYXNPd25Qcm9wZXJ0eShlKXx8KG49aVtlXT1bXSk7dmFyIG89YS5vdGhlckRpbXNbZV07bnVsbCE9byYmITEhPT1vJiYobltvXT1hLm5hbWUpfSl9KTt2YXIgYT1bXSxyPXt9O24uZWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWlbZV07cltlXT1uWzBdLGE9YS5jb25jYXQobil9KSxlLmRhdGFEaW1zT25Db29yZD1hLGUuZW5jb2RlRmlyc3REaW1Ob3RFeHRyYT1yO3ZhciBzPWkubGFiZWw7cyYmcy5sZW5ndGgmJihvPXMuc2xpY2UoKSk7dmFyIGw9by5zbGljZSgpLHU9aS50b29sdGlwO3JldHVybiB1JiZ1Lmxlbmd0aCYmKGw9dS5zbGljZSgpKSxpLmRlZmF1bHRlZExhYmVsPW8saS5kZWZhdWx0ZWRUb29sdGlwPWwsZX1mdW5jdGlvbiBJcyh0KXtyZXR1cm4iY2F0ZWdvcnkiPT09dD8ib3JkaW5hbCI6InRpbWUiPT09dD8idGltZSI6ImZsb2F0In1mdW5jdGlvbiBEcyh0KXtyZXR1cm4hKCJvcmRpbmFsIj09PXR8fCJ0aW1lIj09PXQpfWZ1bmN0aW9uIFRzKHQpe3JldHVybiB0Ll9yYXdDb3VudD42NTUzNT9TSTpNSX1mdW5jdGlvbiBBcyh0KXt2YXIgZT10LmNvbnN0cnVjdG9yO3JldHVybiBlPT09QXJyYXk/dC5zbGljZSgpOm5ldyBlKHQpfWZ1bmN0aW9uIENzKHQsZSl7ZChJSS5jb25jYXQoZS5fX3dyYXBwZWRNZXRob2RzfHxbXSksZnVuY3Rpb24oaSl7ZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KSx0Ll9fd3JhcHBlZE1ldGhvZHM9ZS5fX3dyYXBwZWRNZXRob2RzfWZ1bmN0aW9uIExzKHQpe3ZhciBlPXQuX2ludmVydGVkSW5kaWNlc01hcDtkKGUsZnVuY3Rpb24oaSxuKXt2YXIgbz10Ll9kaW1lbnNpb25JbmZvc1tuXS5vcmRpbmFsTWV0YTtpZihvKXtpPWVbbl09bmV3IFNJKG8uY2F0ZWdvcmllcy5sZW5ndGgpO2ZvcihhPTA7YTxpLmxlbmd0aDthKyspaVthXT1OYU47Zm9yKHZhciBhPTA7YTx0Ll9jb3VudDthKyspaVt0LmdldChuLGEpXT1hfX0pfWZ1bmN0aW9uIGtzKHQpe3JldHVybiB0fWZ1bmN0aW9uIFBzKHQpe3JldHVybiB0PHRoaXMuX2NvdW50JiZ0Pj0wP3RoaXMuX2luZGljZXNbdF06LTF9ZnVuY3Rpb24gTnModCxlKXt2YXIgaT10Ll9pZExpc3RbZV07cmV0dXJuIG51bGw9PWkmJihpPXQuX2dldElkRnJvbVN0b3JlKGUpKSxudWxsPT1pJiYoaT13SStlKSxpfWZ1bmN0aW9uIE9zKHQpe3JldHVybiB5KHQpfHwodD1bdF0pLHR9ZnVuY3Rpb24gRXModCxlKXt2YXIgaT10LmRpbWVuc2lvbnMsbj1uZXcgREkoZihpLHQuZ2V0RGltZW5zaW9uSW5mbyx0KSx0Lmhvc3RNb2RlbCk7Q3Mobix0KTtmb3IodmFyIG89bi5fc3RvcmFnZT17fSxyPXQuX3N0b3JhZ2Uscz1hKHt9LHQuX3Jhd0V4dGVudCksdT0wO3U8aS5sZW5ndGg7dSsrKXt2YXIgaD1pW3VdO3JbaF0mJihsKGUsaCk+PTA/KG9baF09enMocltoXSksc1toXT1ScygpKTpvW2hdPXJbaF0pfXJldHVybiBufWZ1bmN0aW9uIHpzKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodC5sZW5ndGgpLGk9MDtpPHQubGVuZ3RoO2krKyllW2ldPUFzKHRbaV0pO3JldHVybiBlfWZ1bmN0aW9uIFJzKCl7cmV0dXJuWzEvMCwtMS8wXX1mdW5jdGlvbiBCcyh0LGUsbil7ZnVuY3Rpb24gbyh0LGUsaSl7bnVsbCE9eUkuZ2V0KGUpP3Qub3RoZXJEaW1zW2VdPWk6KHQuY29vcmREaW09ZSx0LmNvb3JkRGltSW5kZXg9aSxoLnNldChlLCEwKSl9bGEuaXNJbnN0YW5jZShlKXx8KGU9bGEuc2VyaWVzRGF0YVRvU291cmNlKGUpKSxuPW58fHt9LHQ9KHR8fFtdKS5zbGljZSgpO2Zvcih2YXIgcz0obi5kaW1zRGVmfHxbXSkuc2xpY2UoKSxsPXoobi5lbmNvZGVEZWYpLHU9eigpLGg9eigpLGM9W10sZj1WcyhlLHQscyxuLmRpbUNvdW50KSxwPTA7cDxmO3ArKyl7dmFyIGc9c1twXT1hKHt9LHcoc1twXSk/c1twXTp7bmFtZTpzW3BdfSksbT1nLm5hbWUsdj1jW3BdPXtvdGhlckRpbXM6e319O251bGwhPW0mJm51bGw9PXUuZ2V0KG0pJiYodi5uYW1lPXYuZGlzcGxheU5hbWU9bSx1LnNldChtLHApKSxudWxsIT1nLnR5cGUmJih2LnR5cGU9Zy50eXBlKSxudWxsIT1nLmRpc3BsYXlOYW1lJiYodi5kaXNwbGF5TmFtZT1nLmRpc3BsYXlOYW1lKX1sLmVhY2goZnVuY3Rpb24odCxlKXt0PVNpKHQpLnNsaWNlKCk7dmFyIGk9bC5zZXQoZSxbXSk7ZCh0LGZ1bmN0aW9uKHQsbil7Xyh0KSYmKHQ9dS5nZXQodCkpLG51bGwhPXQmJnQ8ZiYmKGlbbl09dCxvKGNbdF0sZSxuKSl9KX0pO3ZhciB5PTA7ZCh0LGZ1bmN0aW9uKHQsZSl7dmFyIG4sdCxhLHM7aWYoXyh0KSluPXQsdD17fTtlbHNle249dC5uYW1lO3ZhciB1PXQub3JkaW5hbE1ldGE7dC5vcmRpbmFsTWV0YT1udWxsLCh0PWkodCkpLm9yZGluYWxNZXRhPXUsYT10LmRpbXNEZWYscz10Lm90aGVyRGltcyx0Lm5hbWU9dC5jb29yZERpbT10LmNvb3JkRGltSW5kZXg9dC5kaW1zRGVmPXQub3RoZXJEaW1zPW51bGx9dmFyIGg9U2kobC5nZXQobikpO2lmKCFoLmxlbmd0aClmb3IodmFyIGY9MDtmPChhJiZhLmxlbmd0aHx8MSk7ZisrKXtmb3IoO3k8Yy5sZW5ndGgmJm51bGwhPWNbeV0uY29vcmREaW07KXkrKzt5PGMubGVuZ3RoJiZoLnB1c2goeSsrKX1kKGgsZnVuY3Rpb24oZSxpKXt2YXIgbD1jW2VdO28ocihsLHQpLG4saSksbnVsbD09bC5uYW1lJiZhJiYobC5uYW1lPWwuZGlzcGxheU5hbWU9YVtpXSkscyYmcihsLm90aGVyRGltcyxzKX0pfSk7dmFyIHg9bi5nZW5lcmF0ZUNvb3JkLGI9bi5nZW5lcmF0ZUNvb3JkQ291bnQsUz1udWxsIT1iO2I9eD9ifHwxOjA7Zm9yKHZhciBNPXh8fCJ2YWx1ZSIsST0wO0k8ZjtJKyspbnVsbD09KHY9Y1tJXT1jW0ldfHx7fSkuY29vcmREaW0mJih2LmNvb3JkRGltPUdzKE0saCxTKSx2LmNvb3JkRGltSW5kZXg9MCwoIXh8fGI8PTApJiYodi5pc0V4dHJhQ29vcmQ9ITApLGItLSksbnVsbD09di5uYW1lJiYodi5uYW1lPUdzKHYuY29vcmREaW0sdSkpLG51bGw9PXYudHlwZSYmeGEoZSxJLHYubmFtZSkmJih2LnR5cGU9Im9yZGluYWwiKTtyZXR1cm4gY31mdW5jdGlvbiBWcyh0LGUsaSxuKXt2YXIgbz1NYXRoLm1heCh0LmRpbWVuc2lvbnNEZXRlY3RDb3VudHx8MSxlLmxlbmd0aCxpLmxlbmd0aCxufHwwKTtyZXR1cm4gZChlLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGltc0RlZjtlJiYobz1NYXRoLm1heChvLGUubGVuZ3RoKSl9KSxvfWZ1bmN0aW9uIEdzKHQsZSxpKXtpZihpfHxudWxsIT1lLmdldCh0KSl7Zm9yKHZhciBuPTA7bnVsbCE9ZS5nZXQodCtuKTspbisrO3QrPW59cmV0dXJuIGUuc2V0KHQsITApLHR9ZnVuY3Rpb24gRnModCxlLGkpe3ZhciBuLG8sYSxyLHM9KGk9aXx8e30pLmJ5SW5kZXgsbD1pLnN0YWNrZWRDb29yZERpbWVuc2lvbix1PSEoIXR8fCF0LmdldCgic3RhY2siKSk7aWYoZChlLGZ1bmN0aW9uKHQsaSl7Xyh0KSYmKGVbaV09dD17bmFtZTp0fSksdSYmIXQuaXNFeHRyYUNvb3JkJiYoc3x8bnx8IXQub3JkaW5hbE1ldGF8fChuPXQpLG98fCJvcmRpbmFsIj09PXQudHlwZXx8InRpbWUiPT09dC50eXBlfHxsJiZsIT09dC5jb29yZERpbXx8KG89dCkpfSksbyYmKHN8fG4pKXthPSJfX1wwZWNzdGFja3Jlc3VsdCIscj0iX19cMGVjc3RhY2tlZG92ZXIiLG4mJihuLmNyZWF0ZUludmVydGVkSW5kaWNlcz0hMCk7dmFyIGg9by5jb29yZERpbSxjPW8udHlwZSxmPTA7ZChlLGZ1bmN0aW9uKHQpe3QuY29vcmREaW09PT1oJiZmKyt9KSxlLnB1c2goe25hbWU6YSxjb29yZERpbTpoLGNvb3JkRGltSW5kZXg6Zix0eXBlOmMsaXNFeHRyYUNvb3JkOiEwLGlzQ2FsY3VsYXRpb25Db29yZDohMH0pLGYrKyxlLnB1c2goe25hbWU6cixjb29yZERpbTpyLGNvb3JkRGltSW5kZXg6Zix0eXBlOmMsaXNFeHRyYUNvb3JkOiEwLGlzQ2FsY3VsYXRpb25Db29yZDohMH0pfXJldHVybntzdGFja2VkRGltZW5zaW9uOm8mJm8ubmFtZSxzdGFja2VkQnlEaW1lbnNpb246biYmbi5uYW1lLGlzU3RhY2tlZEJ5SW5kZXg6cyxzdGFja2VkT3ZlckRpbWVuc2lvbjpyLHN0YWNrUmVzdWx0RGltZW5zaW9uOmF9fWZ1bmN0aW9uIFdzKHQsZSxpKXtyZXR1cm4gZSYmZT09PXQuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkRGltZW5zaW9uIikmJihudWxsIT1pP2k9PT10LmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZEJ5RGltZW5zaW9uIik6dC5nZXRDYWxjdWxhdGlvbkluZm8oImlzU3RhY2tlZEJ5SW5kZXgiKSl9ZnVuY3Rpb24gSHModCxlLGkpe2k9aXx8e30sbGEuaXNJbnN0YW5jZSh0KXx8KHQ9bGEuc2VyaWVzRGF0YVRvU291cmNlKHQpKTt2YXIgbixvPWUuZ2V0KCJjb29yZGluYXRlU3lzdGVtIiksYT1DYS5nZXQobykscj1yYShlKTtyJiYobj1mKHIuY29vcmRTeXNEaW1zLGZ1bmN0aW9uKHQpe3ZhciBlPXtuYW1lOnR9LGk9ci5heGlzTWFwLmdldCh0KTtpZihpKXt2YXIgbj1pLmdldCgidHlwZSIpO2UudHlwZT1JcyhuKX1yZXR1cm4gZX0pKSxufHwobj1hJiYoYS5nZXREaW1lbnNpb25zSW5mbz9hLmdldERpbWVuc2lvbnNJbmZvKCk6YS5kaW1lbnNpb25zLnNsaWNlKCkpfHxbIngiLCJ5Il0pO3ZhciBzLGwsdT1DSSh0LHtjb29yZERpbWVuc2lvbnM6bixnZW5lcmF0ZUNvb3JkOmkuZ2VuZXJhdGVDb29yZH0pO3ImJmQodSxmdW5jdGlvbih0LGUpe3ZhciBpPXQuY29vcmREaW0sbj1yLmNhdGVnb3J5QXhpc01hcC5nZXQoaSk7biYmKG51bGw9PXMmJihzPWUpLHQub3JkaW5hbE1ldGE9bi5nZXRPcmRpbmFsTWV0YSgpKSxudWxsIT10Lm90aGVyRGltcy5pdGVtTmFtZSYmKGw9ITApfSksbHx8bnVsbD09c3x8KHVbc10ub3RoZXJEaW1zLml0ZW1OYW1lPTApO3ZhciBoPUZzKGUsdSksYz1uZXcgREkodSxlKTtjLnNldENhbGN1bGF0aW9uSW5mbyhoKTt2YXIgcD1udWxsIT1zJiZacyh0KT9mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gbj09PXM/aTp0aGlzLmRlZmF1bHREaW1WYWx1ZUdldHRlcih0LGUsaSxuKX06bnVsbDtyZXR1cm4gYy5oYXNJdGVtT3B0aW9uPSExLGMuaW5pdERhdGEodCxudWxsLHApLGN9ZnVuY3Rpb24gWnModCl7aWYodC5zb3VyY2VGb3JtYXQ9PT1SUyl7dmFyIGU9VXModC5kYXRhfHxbXSk7cmV0dXJuIG51bGwhPWUmJiF5KElpKGUpKX19ZnVuY3Rpb24gVXModCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aCYmbnVsbD09dFtlXTspZSsrO3JldHVybiB0W2VdfWZ1bmN0aW9uIGpzKHQpe3RoaXMuX3NldHRpbmc9dHx8e30sdGhpcy5fZXh0ZW50PVsxLzAsLTEvMF0sdGhpcy5faW50ZXJ2YWw9MCx0aGlzLmluaXQmJnRoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWHModCl7dGhpcy5jYXRlZ29yaWVzPXQuY2F0ZWdvcmllc3x8W10sdGhpcy5fbmVlZENvbGxlY3Q9dC5uZWVkQ29sbGVjdCx0aGlzLl9kZWR1cGxpY2F0aW9uPXQuZGVkdXBsaWNhdGlvbix0aGlzLl9tYXB9ZnVuY3Rpb24gWXModCl7cmV0dXJuIHQuX21hcHx8KHQuX21hcD16KHQuY2F0ZWdvcmllcykpfWZ1bmN0aW9uIHFzKHQpe3JldHVybiB3KHQpJiZudWxsIT10LnZhbHVlP3QudmFsdWU6dCsiIn1mdW5jdGlvbiAkcyh0LGUsaSxuKXt2YXIgbz17fSxhPXRbMV0tdFswXSxyPW8uaW50ZXJ2YWw9Vm8oYS9lLCEwKTtudWxsIT1pJiZyPGkmJihyPW8uaW50ZXJ2YWw9aSksbnVsbCE9biYmcj5uJiYocj1vLmludGVydmFsPW4pO3ZhciBzPW8uaW50ZXJ2YWxQcmVjaXNpb249S3Mocik7cmV0dXJuIFFzKG8ubmljZVRpY2tFeHRlbnQ9W05JKE1hdGguY2VpbCh0WzBdL3IpKnIscyksTkkoTWF0aC5mbG9vcih0WzFdL3IpKnIscyldLHQpLG99ZnVuY3Rpb24gS3ModCl7cmV0dXJuIGtvKHQpKzJ9ZnVuY3Rpb24gSnModCxlLGkpe3RbZV09TWF0aC5tYXgoTWF0aC5taW4odFtlXSxpWzFdKSxpWzBdKX1mdW5jdGlvbiBRcyh0LGUpeyFpc0Zpbml0ZSh0WzBdKSYmKHRbMF09ZVswXSksIWlzRmluaXRlKHRbMV0pJiYodFsxXT1lWzFdKSxKcyh0LDAsZSksSnModCwxLGUpLHRbMF0+dFsxXSYmKHRbMF09dFsxXSl9ZnVuY3Rpb24gdGwodCxlLGksbil7dmFyIG89W107aWYoIXQpcmV0dXJuIG87ZVswXTxpWzBdJiZvLnB1c2goZVswXSk7Zm9yKHZhciBhPWlbMF07YTw9aVsxXSYmKG8ucHVzaChhKSwoYT1OSShhK3QsbikpIT09b1tvLmxlbmd0aC0xXSk7KWlmKG8ubGVuZ3RoPjFlNClyZXR1cm5bXTtyZXR1cm4gZVsxXT4oby5sZW5ndGg/b1tvLmxlbmd0aC0xXTppWzFdKSYmby5wdXNoKGVbMV0pLG99ZnVuY3Rpb24gZWwodCl7cmV0dXJuIHQuZ2V0KCJzdGFjayIpfHx6SSt0LnNlcmllc0luZGV4fWZ1bmN0aW9uIGlsKHQpe3JldHVybiB0LmRpbSt0LmluZGV4fWZ1bmN0aW9uIG5sKHQsZSl7dmFyIGk9W10sbj10LmF4aXM7aWYoImNhdGVnb3J5Ij09PW4udHlwZSl7Zm9yKHZhciBvPW4uZ2V0QmFuZFdpZHRoKCksYT0wO2E8dC5jb3VudDthKyspaS5wdXNoKHIoe2JhbmRXaWR0aDpvLGF4aXNLZXk6ImF4aXMwIixzdGFja0lkOnpJK2F9LHQpKTtmb3IodmFyIHM9YWwoaSxlKSxsPVtdLGE9MDthPHQuY291bnQ7YSsrKXt2YXIgdT1zLmF4aXMwW3pJK2FdO3Uub2Zmc2V0Q2VudGVyPXUub2Zmc2V0K3Uud2lkdGgvMixsLnB1c2godSl9cmV0dXJuIGx9fWZ1bmN0aW9uIG9sKHQsZSl7cmV0dXJuIGFsKGYodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxpPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRCYXNlQXhpcygpLG49aS5nZXRFeHRlbnQoKSxvPSJjYXRlZ29yeSI9PT1pLnR5cGU/aS5nZXRCYW5kV2lkdGgoKTpNYXRoLmFicyhuWzFdLW5bMF0pL2UuY291bnQoKTtyZXR1cm57YmFuZFdpZHRoOm8sYmFyV2lkdGg6VG8odC5nZXQoImJhcldpZHRoIiksbyksYmFyTWF4V2lkdGg6VG8odC5nZXQoImJhck1heFdpZHRoIiksbyksYmFyR2FwOnQuZ2V0KCJiYXJHYXAiKSxiYXJDYXRlZ29yeUdhcDp0LmdldCgiYmFyQ2F0ZWdvcnlHYXAiKSxheGlzS2V5OmlsKGkpLHN0YWNrSWQ6ZWwodCl9fSksZSl9ZnVuY3Rpb24gYWwodCxlKXt2YXIgaT17fTtkKHQsZnVuY3Rpb24odCxlKXt2YXIgbj10LmF4aXNLZXksbz10LmJhbmRXaWR0aCxhPWlbbl18fHtiYW5kV2lkdGg6byxyZW1haW5lZFdpZHRoOm8sYXV0b1dpZHRoQ291bnQ6MCxjYXRlZ29yeUdhcDoiMjAlIixnYXA6IjMwJSIsc3RhY2tzOnt9fSxyPWEuc3RhY2tzO2lbbl09YTt2YXIgcz10LnN0YWNrSWQ7cltzXXx8YS5hdXRvV2lkdGhDb3VudCsrLHJbc109cltzXXx8e3dpZHRoOjAsbWF4V2lkdGg6MH07dmFyIGw9dC5iYXJXaWR0aDtsJiYhcltzXS53aWR0aCYmKHJbc10ud2lkdGg9bCxsPU1hdGgubWluKGEucmVtYWluZWRXaWR0aCxsKSxhLnJlbWFpbmVkV2lkdGgtPWwpO3ZhciB1PXQuYmFyTWF4V2lkdGg7dSYmKHJbc10ubWF4V2lkdGg9dSk7dmFyIGg9dC5iYXJHYXA7bnVsbCE9aCYmKGEuZ2FwPWgpO3ZhciBjPXQuYmFyQ2F0ZWdvcnlHYXA7bnVsbCE9YyYmKGEuY2F0ZWdvcnlHYXA9Yyl9KTt2YXIgbj17fTtyZXR1cm4gZChpLGZ1bmN0aW9uKHQsZSl7bltlXT17fTt2YXIgaT10LnN0YWNrcyxvPXQuYmFuZFdpZHRoLGE9VG8odC5jYXRlZ29yeUdhcCxvKSxyPVRvKHQuZ2FwLDEpLHM9dC5yZW1haW5lZFdpZHRoLGw9dC5hdXRvV2lkdGhDb3VudCx1PShzLWEpLyhsKyhsLTEpKnIpO3U9TWF0aC5tYXgodSwwKSxkKGksZnVuY3Rpb24odCxlKXt2YXIgaT10Lm1heFdpZHRoO2kmJmk8dSYmKGk9TWF0aC5taW4oaSxzKSx0LndpZHRoJiYoaT1NYXRoLm1pbihpLHQud2lkdGgpKSxzLT1pLHQud2lkdGg9aSxsLS0pfSksdT0ocy1hKS8obCsobC0xKSpyKSx1PU1hdGgubWF4KHUsMCk7dmFyIGgsYz0wO2QoaSxmdW5jdGlvbih0LGUpe3Qud2lkdGh8fCh0LndpZHRoPXUpLGg9dCxjKz10LndpZHRoKigxK3IpfSksaCYmKGMtPWgud2lkdGgqcik7dmFyIGY9LWMvMjtkKGksZnVuY3Rpb24odCxpKXtuW2VdW2ldPW5bZV1baV18fHtvZmZzZXQ6Zix3aWR0aDp0LndpZHRofSxmKz10LndpZHRoKigxK3IpfSl9KSxufWZ1bmN0aW9uIHJsKHQsZSxpKXt2YXIgbj1bXTtlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXt0LmNvb3JkaW5hdGVTeXN0ZW0mJiJjYXJ0ZXNpYW4yZCI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZSYmbi5wdXNoKHQpfSk7dmFyIG89b2wobiksYT17fTtkKG4sZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1pLmdldEJhc2VBeGlzKCkscj1lbCh0KSxzPW9baWwobildW3JdLGw9cy5vZmZzZXQsdT1zLndpZHRoLGg9aS5nZXRPdGhlckF4aXMobiksYz10LmdldCgiYmFyTWluSGVpZ2h0Iil8fDA7YVtyXT1hW3JdfHxbXSxlLnNldExheW91dCh7b2Zmc2V0Omwsc2l6ZTp1fSk7Zm9yKHZhciBkPWUubWFwRGltZW5zaW9uKGguZGltKSxmPWUubWFwRGltZW5zaW9uKG4uZGltKSxwPVdzKGUsZCxmKSxnPWguaXNIb3Jpem9udGFsKCksbT1uLm9uWmVyb3x8cD9oLnRvR2xvYmFsQ29vcmQoaC5kYXRhVG9Db29yZCgwKSk6aC5nZXRHbG9iYWxFeHRlbnQoKVswXSx2PTAseT1lLmNvdW50KCk7djx5O3YrKyl7dmFyIHg9ZS5nZXQoZCx2KSxfPWUuZ2V0KGYsdik7aWYoIWlzTmFOKHgpKXt2YXIgdz14Pj0wPyJwIjoibiIsYj1tO3AmJihhW3JdW19dfHwoYVtyXVtfXT17cDptLG46bX0pLGI9YVtyXVtfXVt3XSk7dmFyIFMsTSxJLEQ7aWYoZylTPWIsTT0oVD1pLmRhdGFUb1BvaW50KFt4LF9dKSlbMV0rbCxJPVRbMF0tbSxEPXUsTWF0aC5hYnMoSSk8YyYmKEk9KEk8MD8tMToxKSpjKSxwJiYoYVtyXVtfXVt3XSs9SSk7ZWxzZXt2YXIgVD1pLmRhdGFUb1BvaW50KFtfLHhdKTtTPVRbMF0rbCxNPWIsST11LEQ9VFsxXS1tLE1hdGguYWJzKEQpPGMmJihEPShEPD0wPy0xOjEpKmMpLHAmJihhW3JdW19dW3ddKz1EKX1lLnNldEl0ZW1MYXlvdXQodix7eDpTLHk6TSx3aWR0aDpJLGhlaWdodDpEfSl9fX0sdGhpcyl9ZnVuY3Rpb24gc2wodCxlKXtyZXR1cm4gakkodCxVSShlKSl9ZnVuY3Rpb24gbGwodCxlKXt2YXIgaSxuLG8sYT10LnR5cGUscj1lLmdldE1pbigpLHM9ZS5nZXRNYXgoKSxsPW51bGwhPXIsdT1udWxsIT1zLGg9dC5nZXRFeHRlbnQoKTsib3JkaW5hbCI9PT1hP2k9ZS5nZXRDYXRlZ29yaWVzKCkubGVuZ3RoOih5KG49ZS5nZXQoImJvdW5kYXJ5R2FwIikpfHwobj1bbnx8MCxufHwwXSksImJvb2xlYW4iPT10eXBlb2YgblswXSYmKG49WzAsMF0pLG5bMF09VG8oblswXSwxKSxuWzFdPVRvKG5bMV0sMSksbz1oWzFdLWhbMF18fE1hdGguYWJzKGhbMF0pKSxudWxsPT1yJiYocj0ib3JkaW5hbCI9PT1hP2k/MDpOYU46aFswXS1uWzBdKm8pLG51bGw9PXMmJihzPSJvcmRpbmFsIj09PWE/aT9pLTE6TmFOOmhbMV0rblsxXSpvKSwiZGF0YU1pbiI9PT1yP3I9aFswXToiZnVuY3Rpb24iPT10eXBlb2YgciYmKHI9cih7bWluOmhbMF0sbWF4OmhbMV19KSksImRhdGFNYXgiPT09cz9zPWhbMV06ImZ1bmN0aW9uIj09dHlwZW9mIHMmJihzPXMoe21pbjpoWzBdLG1heDpoWzFdfSkpLChudWxsPT1yfHwhaXNGaW5pdGUocikpJiYocj1OYU4pLChudWxsPT1zfHwhaXNGaW5pdGUocykpJiYocz1OYU4pLHQuc2V0QmxhbmsoSShyKXx8SShzKSksZS5nZXROZWVkQ3Jvc3NaZXJvKCkmJihyPjAmJnM+MCYmIWwmJihyPTApLHI8MCYmczwwJiYhdSYmKHM9MCkpO3ZhciBjPWUuZWNNb2RlbDtpZihjJiYidGltZSI9PT1hKXt2YXIgZCxmPVtdO2lmKGMuZWFjaFNlcmllc0J5VHlwZSgiYmFyIixmdW5jdGlvbih0KXt0LmNvb3JkaW5hdGVTeXN0ZW0mJiJjYXJ0ZXNpYW4yZCI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZSYmKGYucHVzaCh0KSxkfD10LmdldEJhc2VBeGlzKCk9PT1lLmF4aXMpfSksZCl7dmFyIHA9dWwocixzLGUsZik7cj1wLm1pbixzPXAubWF4fX1yZXR1cm5bcixzXX1mdW5jdGlvbiB1bCh0LGUsaSxuKXt2YXIgbz1pLmF4aXMuZ2V0RXh0ZW50KCksYT1vWzFdLW9bMF0scj1vbChuKVtpLmF4aXMuZGltK2kuYXhpcy5pbmRleF07aWYodm9pZCAwPT09cilyZXR1cm57bWluOnQsbWF4OmV9O3ZhciBzPTEvMDtkKHIsZnVuY3Rpb24odCl7cz1NYXRoLm1pbih0Lm9mZnNldCxzKX0pO3ZhciBsPS0xLzA7ZChyLGZ1bmN0aW9uKHQpe2w9TWF0aC5tYXgodC5vZmZzZXQrdC53aWR0aCxsKX0pLHM9TWF0aC5hYnMocyksbD1NYXRoLmFicyhsKTt2YXIgdT1zK2wsaD1lLXQsYz1oLygxLShzK2wpL2EpLWg7cmV0dXJuIGUrPWMqKGwvdSksdC09Yyoocy91KSx7bWluOnQsbWF4OmV9fWZ1bmN0aW9uIGhsKHQsZSl7dmFyIGk9bGwodCxlKSxuPW51bGwhPWUuZ2V0TWluKCksbz1udWxsIT1lLmdldE1heCgpLGE9ZS5nZXQoInNwbGl0TnVtYmVyIik7ImxvZyI9PT10LnR5cGUmJih0LmJhc2U9ZS5nZXQoImxvZ0Jhc2UiKSk7dmFyIHI9dC50eXBlO3Quc2V0RXh0ZW50KGlbMF0saVsxXSksdC5uaWNlRXh0ZW50KHtzcGxpdE51bWJlcjphLGZpeE1pbjpuLGZpeE1heDpvLG1pbkludGVydmFsOiJpbnRlcnZhbCI9PT1yfHwidGltZSI9PT1yP2UuZ2V0KCJtaW5JbnRlcnZhbCIpOm51bGwsbWF4SW50ZXJ2YWw6ImludGVydmFsIj09PXJ8fCJ0aW1lIj09PXI/ZS5nZXQoIm1heEludGVydmFsIik6bnVsbH0pO3ZhciBzPWUuZ2V0KCJpbnRlcnZhbCIpO251bGwhPXMmJnQuc2V0SW50ZXJ2YWwmJnQuc2V0SW50ZXJ2YWwocyl9ZnVuY3Rpb24gY2wodCxlKXtpZihlPWV8fHQuZ2V0KCJ0eXBlIikpc3dpdGNoKGUpe2Nhc2UiY2F0ZWdvcnkiOnJldHVybiBuZXcgUEkodC5nZXRPcmRpbmFsTWV0YT90LmdldE9yZGluYWxNZXRhKCk6dC5nZXRDYXRlZ29yaWVzKCksWzEvMCwtMS8wXSk7Y2FzZSJ2YWx1ZSI6cmV0dXJuIG5ldyBFSTtkZWZhdWx0OnJldHVybihqcy5nZXRDbGFzcyhlKXx8RUkpLmNyZWF0ZSh0KX19ZnVuY3Rpb24gZGwodCxlLGksbixvKXt2YXIgYSxyPTAscz0wLGw9KG4tbykvMTgwKk1hdGguUEksdT0xO2UubGVuZ3RoPjQwJiYodT1NYXRoLmZsb29yKGUubGVuZ3RoLzQwKSk7Zm9yKHZhciBoPTA7aDx0Lmxlbmd0aDtoKz11KXt2YXIgYz10W2hdLGQ9bWUoZVtoXSxpLCJjZW50ZXIiLCJ0b3AiKTtkLngrPWMqTWF0aC5jb3MobCksZC55Kz1jKk1hdGguc2luKGwpLGQud2lkdGgqPTEuMyxkLmhlaWdodCo9MS4zLGE/YS5pbnRlcnNlY3QoZCk/KHMrKyxyPU1hdGgubWF4KHIscykpOihhLnVuaW9uKGQpLHM9MCk6YT1kLmNsb25lKCl9cmV0dXJuIDA9PT1yJiZ1PjE/dToocisxKSp1LTF9ZnVuY3Rpb24gZmwodCxlKXt2YXIgaT10LnNjYWxlLG49aS5nZXRUaWNrc0xhYmVscygpLG89aS5nZXRUaWNrcygpO3JldHVybiJzdHJpbmciPT10eXBlb2YgZT8oZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQucmVwbGFjZSgie3ZhbHVlfSIsbnVsbCE9ZT9lOiIiKX19KGUpLGYobixlKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZihvLGZ1bmN0aW9uKGksbil7cmV0dXJuIGUocGwodCxpKSxuKX0sdGhpcyk6bn1mdW5jdGlvbiBwbCh0LGUpe3JldHVybiJjYXRlZ29yeSI9PT10LnR5cGU/dC5zY2FsZS5nZXRMYWJlbChlKTplfWZ1bmN0aW9uIGdsKHQsZSl7aWYoImltYWdlIiE9PXRoaXMudHlwZSl7dmFyIGk9dGhpcy5zdHlsZSxuPXRoaXMuc2hhcGU7biYmImxpbmUiPT09bi5zeW1ib2xUeXBlP2kuc3Ryb2tlPXQ6dGhpcy5fX2lzRW1wdHlCcnVzaD8oaS5zdHJva2U9dCxpLmZpbGw9ZXx8IiNmZmYiKTooaS5maWxsJiYoaS5maWxsPXQpLGkuc3Ryb2tlJiYoaS5zdHJva2U9dCkpLHRoaXMuZGlydHkoITEpfX1mdW5jdGlvbiBtbCh0LGUsaSxuLG8sYSxyKXt2YXIgcz0wPT09dC5pbmRleE9mKCJlbXB0eSIpO3MmJih0PXQuc3Vic3RyKDUsMSkudG9Mb3dlckNhc2UoKSt0LnN1YnN0cig2KSk7dmFyIGw7cmV0dXJuIGw9MD09PXQuaW5kZXhPZigiaW1hZ2U6Ly8iKT9Sbih0LnNsaWNlKDgpLG5ldyBLdChlLGksbixvKSxyPyJjZW50ZXIiOiJjb3ZlciIpOjA9PT10LmluZGV4T2YoInBhdGg6Ly8iKT96bih0LnNsaWNlKDcpLHt9LG5ldyBLdChlLGksbixvKSxyPyJjZW50ZXIiOiJjb3ZlciIpOm5ldyBhRCh7c2hhcGU6e3N5bWJvbFR5cGU6dCx4OmUseTppLHdpZHRoOm4saGVpZ2h0Om99fSksbC5fX2lzRW1wdHlCcnVzaD1zLGwuc2V0Q29sb3I9Z2wsbC5zZXRDb2xvcihhKSxsfWZ1bmN0aW9uIHZsKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8bER9ZnVuY3Rpb24geWwodCxlLGkpe3ZhciBuPTAsbz10WzBdO2lmKCFvKXJldHVybiExO2Zvcih2YXIgYT0xO2E8dC5sZW5ndGg7YSsrKXt2YXIgcj10W2FdO24rPW1uKG9bMF0sb1sxXSxyWzBdLHJbMV0sZSxpKSxvPXJ9dmFyIHM9dFswXTtyZXR1cm4gdmwob1swXSxzWzBdKSYmdmwob1sxXSxzWzFdKXx8KG4rPW1uKG9bMF0sb1sxXSxzWzBdLHNbMV0sZSxpKSksMCE9PW59ZnVuY3Rpb24geGwodCxlLGkpe2lmKHRoaXMubmFtZT10LHRoaXMuZ2VvbWV0cmllcz1lLGkpaT1baVswXSxpWzFdXTtlbHNle3ZhciBuPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7aT1bbi54K24ud2lkdGgvMixuLnkrbi5oZWlnaHQvMl19dGhpcy5jZW50ZXI9aX1mdW5jdGlvbiBfbCh0KXtpZighdC5VVEY4RW5jb2RpbmcpcmV0dXJuIHQ7dmFyIGU9dC5VVEY4U2NhbGU7bnVsbD09ZSYmKGU9MTAyNCk7Zm9yKHZhciBpPXQuZmVhdHVyZXMsbj0wO248aS5sZW5ndGg7bisrKWZvcih2YXIgbz1pW25dLmdlb21ldHJ5LGE9by5jb29yZGluYXRlcyxyPW8uZW5jb2RlT2Zmc2V0cyxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBsPWFbc107aWYoIlBvbHlnb24iPT09by50eXBlKWFbc109d2wobCxyW3NdLGUpO2Vsc2UgaWYoIk11bHRpUG9seWdvbiI9PT1vLnR5cGUpZm9yKHZhciB1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBoPWxbdV07bFt1XT13bChoLHJbc11bdV0sZSl9fXJldHVybiB0LlVURjhFbmNvZGluZz0hMSx0fWZ1bmN0aW9uIHdsKHQsZSxpKXtmb3IodmFyIG49W10sbz1lWzBdLGE9ZVsxXSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXt2YXIgcz10LmNoYXJDb2RlQXQociktNjQsbD10LmNoYXJDb2RlQXQocisxKS02NDtzPXM+PjFeLSgxJnMpLGw9bD4+MV4tKDEmbCksbz1zKz1vLGE9bCs9YSxuLnB1c2goW3MvaSxsL2ldKX1yZXR1cm4gbn1mdW5jdGlvbiBibCh0LGUpe3ZhciBpPSh0WzFdLXRbMF0pL2UvMjt0WzBdKz1pLHRbMV0tPWl9ZnVuY3Rpb24gU2wodCxlKXt2YXIgaT10Lm1hcERpbWVuc2lvbigiZGVmYXVsdGVkTGFiZWwiLCEwKSxuPWkubGVuZ3RoO2lmKDE9PT1uKXJldHVybiBlcih0LGUsaVswXSk7aWYobil7Zm9yKHZhciBvPVtdLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHI9ZXIodCxlLGlbYV0pO28ucHVzaChyKX1yZXR1cm4gby5qb2luKCIgIil9fWZ1bmN0aW9uIE1sKHQsZSl7dmFyIGk9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKTtyZXR1cm4gaSBpbnN0YW5jZW9mIEFycmF5P2kuc2xpY2UoKTpbK2ksK2ldfWZ1bmN0aW9uIElsKHQpe3JldHVyblt0WzBdLzIsdFsxXS8yXX1mdW5jdGlvbiBEbCh0LGUsaSl7TF8uY2FsbCh0aGlzKSx0aGlzLnVwZGF0ZURhdGEodCxlLGkpfWZ1bmN0aW9uIFRsKHQsZSl7dGhpcy5wYXJlbnQuZHJpZnQodCxlKX1mdW5jdGlvbiBBbCh0KXt0aGlzLmdyb3VwPW5ldyBMXyx0aGlzLl9zeW1ib2xDdG9yPXR8fERsfWZ1bmN0aW9uIENsKHQsZSxpLG4pe3JldHVybiBlJiYhaXNOYU4oZVswXSkmJiFpc05hTihlWzFdKSYmIShuLmlzSWdub3JlJiZuLmlzSWdub3JlKGkpKSYmIShuLmNsaXBTaGFwZSYmIW4uY2xpcFNoYXBlLmNvbnRhaW4oZVswXSxlWzFdKSkmJiJub25lIiE9PXQuZ2V0SXRlbVZpc3VhbChpLCJzeW1ib2wiKX1mdW5jdGlvbiBMbCh0KXtyZXR1cm4gbnVsbD09dHx8dyh0KXx8KHQ9e2lzSWdub3JlOnR9KSx0fHx7fX1mdW5jdGlvbiBrbCh0KXt2YXIgZT10Lmhvc3RNb2RlbDtyZXR1cm57aXRlbVN0eWxlOmUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pLGhvdmVySXRlbVN0eWxlOmUuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHN5bWJvbFJvdGF0ZTplLmdldCgic3ltYm9sUm90YXRlIiksc3ltYm9sT2Zmc2V0OmUuZ2V0KCJzeW1ib2xPZmZzZXQiKSxob3ZlckFuaW1hdGlvbjplLmdldCgiaG92ZXJBbmltYXRpb24iKSxsYWJlbE1vZGVsOmUuZ2V0TW9kZWwoImxhYmVsIiksaG92ZXJMYWJlbE1vZGVsOmUuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIiksY3Vyc29yU3R5bGU6ZS5nZXQoImN1cnNvciIpfX1mdW5jdGlvbiBQbCh0LGUsaSl7dmFyIG49dC5nZXRCYXNlQXhpcygpLG89dC5nZXRPdGhlckF4aXMobiksYT1ObChvLGkpLHI9bi5kaW0scz1vLmRpbSxsPWUubWFwRGltZW5zaW9uKHMpLHU9ZS5tYXBEaW1lbnNpb24ociksaD0ieCI9PT1zfHwicmFkaXVzIj09PXM/MTowLGM9V3MoZSxsLHUpO3JldHVybntkYXRhRGltc0ZvclBvaW50OmYodC5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3JldHVybiBlLm1hcERpbWVuc2lvbih0KX0pLHZhbHVlU3RhcnQ6YSx2YWx1ZUF4aXNEaW06cyxiYXNlQXhpc0RpbTpyLHN0YWNrZWQ6Yyx2YWx1ZURpbTpsLGJhc2VEaW06dSxiYXNlRGF0YU9mZnNldDpoLHN0YWNrZWRPdmVyRGltZW5zaW9uOmUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpfX1mdW5jdGlvbiBObCh0LGUpe3ZhciBpPTAsbj10LnNjYWxlLmdldEV4dGVudCgpO3JldHVybiJzdGFydCI9PT1lP2k9blswXToiZW5kIj09PWU/aT1uWzFdOm5bMF0+MD9pPW5bMF06blsxXTwwJiYoaT1uWzFdKSxpfWZ1bmN0aW9uIE9sKHQsZSxpLG4pe3ZhciBvPU5hTjt0LnN0YWNrZWQmJihvPWkuZ2V0KGkuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpLG4pKSxpc05hTihvKSYmKG89dC52YWx1ZVN0YXJ0KTt2YXIgYT10LmJhc2VEYXRhT2Zmc2V0LHI9W107cmV0dXJuIHJbYV09aS5nZXQodC5iYXNlRGltLG4pLHJbMS1hXT1vLGUuZGF0YVRvUG9pbnQocil9ZnVuY3Rpb24gRWwodCxlKXt2YXIgaT1bXTtyZXR1cm4gZS5kaWZmKHQpLmFkZChmdW5jdGlvbih0KXtpLnB1c2goe2NtZDoiKyIsaWR4OnR9KX0pLnVwZGF0ZShmdW5jdGlvbih0LGUpe2kucHVzaCh7Y21kOiI9IixpZHg6ZSxpZHgxOnR9KX0pLnJlbW92ZShmdW5jdGlvbih0KXtpLnB1c2goe2NtZDoiLSIsaWR4OnR9KX0pLmV4ZWN1dGUoKSxpfWZ1bmN0aW9uIHpsKHQpe3JldHVybiBpc05hTih0WzBdKXx8aXNOYU4odFsxXSl9ZnVuY3Rpb24gUmwodCxlLGksbixvLGEscixzLGwsdSxoKXtyZXR1cm4gbnVsbD09dT9CbChlLCJ4Iik/VmwodCxlLGksbixvLGEscixzLGwsIngiLGgpOkJsKGUsInkiKT9WbCh0LGUsaSxuLG8sYSxyLHMsbCwieSIsaCk6R2wuYXBwbHkodGhpcyxhcmd1bWVudHMpOiJub25lIiE9PXUmJkJsKGUsdSk/VmwuYXBwbHkodGhpcyxhcmd1bWVudHMpOkdsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBCbCh0LGUpe2lmKHQubGVuZ3RoPD0xKXJldHVybiEwO2Zvcih2YXIgaT0ieCI9PT1lPzA6MSxuPXRbMF1baV0sbz0wLGE9MTthPHQubGVuZ3RoOysrYSl7dmFyIHI9dFthXVtpXS1uO2lmKCFpc05hTihyKSYmIWlzTmFOKG8pJiYwIT09ciYmMCE9PW8mJnI+PTAhPW8+PTApcmV0dXJuITE7aXNOYU4ocil8fDA9PT1yfHwobz1yLG49dFthXVtpXSl9cmV0dXJuITB9ZnVuY3Rpb24gVmwodCxlLGksbixvLGEscixzLGwsdSxoKXtmb3IodmFyIGM9MCxkPWksZj0wO2Y8bjtmKyspe3ZhciBwPWVbZF07aWYoZD49b3x8ZDwwKWJyZWFrO2lmKHpsKHApKXtpZihoKXtkKz1hO2NvbnRpbnVlfWJyZWFrfWlmKGQ9PT1pKXRbYT4wPyJtb3ZlVG8iOiJsaW5lVG8iXShwWzBdLHBbMV0pO2Vsc2UgaWYobD4wKXt2YXIgZz1lW2NdLG09InkiPT09dT8xOjAsdj0ocFttXS1nW21dKSpsO0lEKFRELGcpLFREW21dPWdbbV0rdixJRChBRCxwKSxBRFttXT1wW21dLXYsdC5iZXppZXJDdXJ2ZVRvKFREWzBdLFREWzFdLEFEWzBdLEFEWzFdLHBbMF0scFsxXSl9ZWxzZSB0LmxpbmVUbyhwWzBdLHBbMV0pO2M9ZCxkKz1hfXJldHVybiBmfWZ1bmN0aW9uIEdsKHQsZSxpLG4sbyxhLHIscyxsLHUsaCl7Zm9yKHZhciBjPTAsZD1pLGY9MDtmPG47ZisrKXt2YXIgcD1lW2RdO2lmKGQ+PW98fGQ8MClicmVhaztpZih6bChwKSl7aWYoaCl7ZCs9YTtjb250aW51ZX1icmVha31pZihkPT09aSl0W2E+MD8ibW92ZVRvIjoibGluZVRvIl0ocFswXSxwWzFdKSxJRChURCxwKTtlbHNlIGlmKGw+MCl7dmFyIGc9ZCthLG09ZVtnXTtpZihoKWZvcig7bSYmemwoZVtnXSk7KW09ZVtnKz1hXTt2YXIgdj0uNSx5PWVbY107aWYoIShtPWVbZ10pfHx6bChtKSlJRChBRCxwKTtlbHNle3psKG0pJiYhaCYmKG09cCksVShERCxtLHkpO3ZhciB4LF87aWYoIngiPT09dXx8InkiPT09dSl7dmFyIHc9IngiPT09dT8wOjE7eD1NYXRoLmFicyhwW3ddLXlbd10pLF89TWF0aC5hYnMocFt3XS1tW3ddKX1lbHNlIHg9angocCx5KSxfPWp4KHAsbSk7TUQoQUQscCxERCwtbCooMS0odj1fLyhfK3gpKSkpfWJEKFRELFRELHMpLFNEKFRELFRELHIpLGJEKEFELEFELHMpLFNEKEFELEFELHIpLHQuYmV6aWVyQ3VydmVUbyhURFswXSxURFsxXSxBRFswXSxBRFsxXSxwWzBdLHBbMV0pLE1EKFRELHAsREQsbCp2KX1lbHNlIHQubGluZVRvKHBbMF0scFsxXSk7Yz1kLGQrPWF9cmV0dXJuIGZ9ZnVuY3Rpb24gRmwodCxlKXt2YXIgaT1bMS8wLDEvMF0sbj1bLTEvMCwtMS8wXTtpZihlKWZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dO2FbMF08aVswXSYmKGlbMF09YVswXSksYVsxXTxpWzFdJiYoaVsxXT1hWzFdKSxhWzBdPm5bMF0mJihuWzBdPWFbMF0pLGFbMV0+blsxXSYmKG5bMV09YVsxXSl9cmV0dXJue21pbjplP2k6bixtYXg6ZT9uOml9fWZ1bmN0aW9uIFdsKHQsZSl7aWYodC5sZW5ndGg9PT1lLmxlbmd0aCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV0sbz1lW2ldO2lmKG5bMF0hPT1vWzBdfHxuWzFdIT09b1sxXSlyZXR1cm59cmV0dXJuITB9fWZ1bmN0aW9uIEhsKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90OnQ/LjU6MH1mdW5jdGlvbiBabCh0KXt2YXIgZT10LmdldEdsb2JhbEV4dGVudCgpO2lmKHQub25CYW5kKXt2YXIgaT10LmdldEJhbmRXaWR0aCgpLzItMSxuPWVbMV0+ZVswXT8xOi0xO2VbMF0rPW4qaSxlWzFdLT1uKml9cmV0dXJuIGV9ZnVuY3Rpb24gVWwodCxlLGkpe2lmKCFpLnZhbHVlRGltKXJldHVybltdO2Zvcih2YXIgbj1bXSxvPTAsYT1lLmNvdW50KCk7bzxhO28rKyluLnB1c2goT2woaSx0LGUsbykpO3JldHVybiBufWZ1bmN0aW9uIGpsKHQsZSxpKXt2YXIgbj1abCh0LmdldEF4aXMoIngiKSksbz1abCh0LmdldEF4aXMoInkiKSksYT10LmdldEJhc2VBeGlzKCkuaXNIb3Jpem9udGFsKCkscj1NYXRoLm1pbihuWzBdLG5bMV0pLHM9TWF0aC5taW4ob1swXSxvWzFdKSxsPU1hdGgubWF4KG5bMF0sblsxXSktcix1PU1hdGgubWF4KG9bMF0sb1sxXSktcyxoPWkuZ2V0KCJsaW5lU3R5bGUud2lkdGgiKXx8MixjPWkuZ2V0KCJjbGlwT3ZlcmZsb3ciKT9oLzI6TWF0aC5tYXgobCx1KTthPyhzLT1jLHUrPTIqYyk6KHItPWMsbCs9MipjKTt2YXIgZD1uZXcgamIoe3NoYXBlOnt4OnIseTpzLHdpZHRoOmwsaGVpZ2h0OnV9fSk7cmV0dXJuIGUmJihkLnNoYXBlW2E/IndpZHRoIjoiaGVpZ2h0Il09MCxwbyhkLHtzaGFwZTp7d2lkdGg6bCxoZWlnaHQ6dX19LGkpKSxkfWZ1bmN0aW9uIFhsKHQsZSxpKXt2YXIgbj10LmdldEFuZ2xlQXhpcygpLG89dC5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksYT1uLmdldEV4dGVudCgpLHI9TWF0aC5QSS8xODAscz1uZXcgR2Ioe3NoYXBlOntjeDp0LmN4LGN5OnQuY3kscjA6b1swXSxyOm9bMV0sc3RhcnRBbmdsZTotYVswXSpyLGVuZEFuZ2xlOi1hWzFdKnIsY2xvY2t3aXNlOm4uaW52ZXJzZX19KTtyZXR1cm4gZSYmKHMuc2hhcGUuZW5kQW5nbGU9LWFbMF0qcixwbyhzLHtzaGFwZTp7ZW5kQW5nbGU6LWFbMV0qcn19LGkpKSxzfWZ1bmN0aW9uIFlsKHQsZSxpKXtyZXR1cm4icG9sYXIiPT09dC50eXBlP1hsKHQsZSxpKTpqbCh0LGUsaSl9ZnVuY3Rpb24gcWwodCxlLGkpe2Zvcih2YXIgbj1lLmdldEJhc2VBeGlzKCksbz0ieCI9PT1uLmRpbXx8InJhZGl1cyI9PT1uLmRpbT8wOjEsYT1bXSxyPTA7cjx0Lmxlbmd0aC0xO3IrKyl7dmFyIHM9dFtyKzFdLGw9dFtyXTthLnB1c2gobCk7dmFyIHU9W107c3dpdGNoKGkpe2Nhc2UiZW5kIjp1W29dPXNbb10sdVsxLW9dPWxbMS1vXSxhLnB1c2godSk7YnJlYWs7Y2FzZSJtaWRkbGUiOnZhciBoPShsW29dK3Nbb10pLzIsYz1bXTt1W29dPWNbb109aCx1WzEtb109bFsxLW9dLGNbMS1vXT1zWzEtb10sYS5wdXNoKHUpLGEucHVzaChjKTticmVhaztkZWZhdWx0OnVbb109bFtvXSx1WzEtb109c1sxLW9dLGEucHVzaCh1KX19cmV0dXJuIHRbcl0mJmEucHVzaCh0W3JdKSxhfWZ1bmN0aW9uICRsKHQsZSl7dmFyIGk9dC5nZXRWaXN1YWwoInZpc3VhbE1ldGEiKTtpZihpJiZpLmxlbmd0aCYmdC5jb3VudCgpJiYiY2FydGVzaWFuMmQiPT09ZS50eXBlKXtmb3IodmFyIG4sbyxhPWkubGVuZ3RoLTE7YT49MDthLS0pe3ZhciByPWlbYV0uZGltZW5zaW9uLHM9dC5kaW1lbnNpb25zW3JdLGw9dC5nZXREaW1lbnNpb25JbmZvKHMpO2lmKCJ4Ij09PShuPWwmJmwuY29vcmREaW0pfHwieSI9PT1uKXtvPWlbYV07YnJlYWt9fWlmKG8pe3ZhciB1PWUuZ2V0QXhpcyhuKSxoPWYoby5zdG9wcyxmdW5jdGlvbih0KXtyZXR1cm57Y29vcmQ6dS50b0dsb2JhbENvb3JkKHUuZGF0YVRvQ29vcmQodC52YWx1ZSkpLGNvbG9yOnQuY29sb3J9fSksYz1oLmxlbmd0aCxwPW8ub3V0ZXJDb2xvcnMuc2xpY2UoKTtjJiZoWzBdLmNvb3JkPmhbYy0xXS5jb29yZCYmKGgucmV2ZXJzZSgpLHAucmV2ZXJzZSgpKTt2YXIgZz1oWzBdLmNvb3JkLTEwLG09aFtjLTFdLmNvb3JkKzEwLHY9bS1nO2lmKHY8LjAwMSlyZXR1cm4idHJhbnNwYXJlbnQiO2QoaCxmdW5jdGlvbih0KXt0Lm9mZnNldD0odC5jb29yZC1nKS92fSksaC5wdXNoKHtvZmZzZXQ6Yz9oW2MtMV0ub2Zmc2V0Oi41LGNvbG9yOnBbMV18fCJ0cmFuc3BhcmVudCJ9KSxoLnVuc2hpZnQoe29mZnNldDpjP2hbMF0ub2Zmc2V0Oi41LGNvbG9yOnBbMF18fCJ0cmFuc3BhcmVudCJ9KTt2YXIgeT1uZXcgUWIoMCwwLDAsMCxoLCEwKTtyZXR1cm4geVtuXT1nLHlbbisiMiJdPW0seX19fWZ1bmN0aW9uIEtsKHQpe3JldHVybiB0aGlzLl9heGVzW3RdfWZ1bmN0aW9uIEpsKHQpe0VELmNhbGwodGhpcyx0KX1mdW5jdGlvbiBRbCh0LGUpe3JldHVybiBlLnR5cGV8fChlLmRhdGE/ImNhdGVnb3J5IjoidmFsdWUiKX1mdW5jdGlvbiB0dSh0LGUsaSl7cmV0dXJuIHQuZ2V0Q29vcmRTeXNNb2RlbCgpPT09ZX1mdW5jdGlvbiBldSh0LGUpe3ZhciBpPWUqTWF0aC5QSS8xODAsbj10LnBsYWluKCksbz1uLndpZHRoLGE9bi5oZWlnaHQscj1vKk1hdGguY29zKGkpK2EqTWF0aC5zaW4oaSkscz1vKk1hdGguc2luKGkpK2EqTWF0aC5jb3MoaSk7cmV0dXJuIG5ldyBLdChuLngsbi55LHIscyl9ZnVuY3Rpb24gaXUodCl7dmFyIGUsaT10Lm1vZGVsLG49aS5nZXQoImF4aXNMYWJlbC5zaG93Iik/aS5nZXRGb3JtYXR0ZWRMYWJlbHMoKTpbXSxvPWkuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLGE9MSxyPW4ubGVuZ3RoO3I+NDAmJihhPU1hdGguY2VpbChyLzQwKSk7Zm9yKHZhciBzPTA7czxyO3MrPWEpaWYoIXQuaXNMYWJlbElnbm9yZWQocykpe3ZhciBsPWV1KG8uZ2V0VGV4dFJlY3QobltzXSksby5nZXQoInJvdGF0ZSIpfHwwKTtlP2UudW5pb24obCk6ZT1sfXJldHVybiBlfWZ1bmN0aW9uIG51KHQsZSxpKXt0aGlzLl9jb29yZHNNYXA9e30sdGhpcy5fY29vcmRzTGlzdD1bXSx0aGlzLl9heGVzTWFwPXt9LHRoaXMuX2F4ZXNMaXN0PVtdLHRoaXMuX2luaXRDYXJ0ZXNpYW4odCxlLGkpLHRoaXMubW9kZWw9dH1mdW5jdGlvbiBvdSh0LGUsaSl7dmFyIG49dFtlXTtpZihpLm9uWmVybyl7dmFyIG89aS5vblplcm9BeGlzSW5kZXg7aWYobnVsbD09byl7Zm9yKHZhciBhIGluIG4paWYobi5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHI9blthXTtpZihyJiYhYXUocikpe289K2E7YnJlYWt9fW51bGw9PW8mJihpLm9uWmVybz0hMSksaS5vblplcm9BeGlzSW5kZXg9b31lbHNlKHI9bltvXSkmJmF1KHIpJiYoaS5vblplcm89ITEpfX1mdW5jdGlvbiBhdSh0KXtyZXR1cm4iY2F0ZWdvcnkiPT09dC50eXBlfHwidGltZSI9PT10LnR5cGV8fCFaRCh0KX1mdW5jdGlvbiBydSh0LGUpe3ZhciBpPXQuZ2V0RXh0ZW50KCksbj1pWzBdK2lbMV07dC50b0dsb2JhbENvb3JkPSJ4Ij09PXQuZGltP2Z1bmN0aW9uKHQpe3JldHVybiB0K2V9OmZ1bmN0aW9uKHQpe3JldHVybiBuLXQrZX0sdC50b0xvY2FsQ29vcmQ9IngiPT09dC5kaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQtZX06ZnVuY3Rpb24odCl7cmV0dXJuIG4tdCtlfX1mdW5jdGlvbiBzdSh0LGUpe3JldHVybiBmKFhELGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFJlZmVycmluZ0NvbXBvbmVudHMoZSlbMF19KX1mdW5jdGlvbiBsdSh0KXtyZXR1cm4iY2FydGVzaWFuMmQiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKX1mdW5jdGlvbiB1dSh0KXt2YXIgZT17Y29tcG9uZW50VHlwZTp0Lm1haW5UeXBlfTtyZXR1cm4gZVt0Lm1haW5UeXBlKyJJbmRleCJdPXQuY29tcG9uZW50SW5kZXgsZX1mdW5jdGlvbiBodSh0LGUsaSxuKXt2YXIgbyxhLHI9T28oaS10LnJvdGF0aW9uKSxzPW5bMF0+blsxXSxsPSJzdGFydCI9PT1lJiYhc3x8InN0YXJ0IiE9PWUmJnM7cmV0dXJuIEVvKHItWUQvMik/KGE9bD8iYm90dG9tIjoidG9wIixvPSJjZW50ZXIiKTpFbyhyLTEuNSpZRCk/KGE9bD8idG9wIjoiYm90dG9tIixvPSJjZW50ZXIiKTooYT0ibWlkZGxlIixvPXI8MS41KllEJiZyPllELzI/bD8ibGVmdCI6InJpZ2h0IjpsPyJyaWdodCI6ImxlZnQiKSx7cm90YXRpb246cix0ZXh0QWxpZ246byx0ZXh0VmVydGljYWxBbGlnbjphfX1mdW5jdGlvbiBjdSh0KXt2YXIgZT10LmdldCgidG9vbHRpcCIpO3JldHVybiB0LmdldCgic2lsZW50Iil8fCEodC5nZXQoInRyaWdnZXJFdmVudCIpfHxlJiZlLnNob3cpfWZ1bmN0aW9uIGR1KHQsZSxpKXt2YXIgbj10LmdldCgiYXhpc0xhYmVsLnNob3dNaW5MYWJlbCIpLG89dC5nZXQoImF4aXNMYWJlbC5zaG93TWF4TGFiZWwiKTtlPWV8fFtdLGk9aXx8W107dmFyIGE9ZVswXSxyPWVbMV0scz1lW2UubGVuZ3RoLTFdLGw9ZVtlLmxlbmd0aC0yXSx1PWlbMF0saD1pWzFdLGM9aVtpLmxlbmd0aC0xXSxkPWlbaS5sZW5ndGgtMl07ITE9PT1uPyhmdShhKSxmdSh1KSk6cHUoYSxyKSYmKG4/KGZ1KHIpLGZ1KGgpKTooZnUoYSksZnUodSkpKSwhMT09PW8/KGZ1KHMpLGZ1KGMpKTpwdShsLHMpJiYobz8oZnUobCksZnUoZCkpOihmdShzKSxmdShjKSkpfWZ1bmN0aW9uIGZ1KHQpe3QmJih0Lmlnbm9yZT0hMCl9ZnVuY3Rpb24gcHUodCxlLGkpe3ZhciBuPXQmJnQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKSxvPWUmJmUuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtpZihuJiZvKXt2YXIgYT1sdChbXSk7cmV0dXJuIGR0KGEsYSwtdC5yb3RhdGlvbiksbi5hcHBseVRyYW5zZm9ybShodChbXSxhLHQuZ2V0TG9jYWxUcmFuc2Zvcm0oKSkpLG8uYXBwbHlUcmFuc2Zvcm0oaHQoW10sYSxlLmdldExvY2FsVHJhbnNmb3JtKCkpKSxuLmludGVyc2VjdChvKX19ZnVuY3Rpb24gZ3UodCl7cmV0dXJuIm1pZGRsZSI9PT10fHwiY2VudGVyIj09PXR9ZnVuY3Rpb24gbXUodCxlLGkpe3ZhciBuPWUuYXhpcztpZihlLmdldCgiYXhpc1RpY2suc2hvdyIpJiYhbi5zY2FsZS5pc0JsYW5rKCkpe2Zvcih2YXIgbz1lLmdldE1vZGVsKCJheGlzVGljayIpLGE9by5nZXRNb2RlbCgibGluZVN0eWxlIikscz1vLmdldCgibGVuZ3RoIiksbD1RRChvLGkubGFiZWxJbnRlcnZhbCksdT1uLmdldFRpY2tzQ29vcmRzKG8uZ2V0KCJhbGlnbldpdGhMYWJlbCIpKSxoPW4uc2NhbGUuZ2V0VGlja3MoKSxjPWUuZ2V0KCJheGlzTGFiZWwuc2hvd01pbkxhYmVsIiksZD1lLmdldCgiYXhpc0xhYmVsLnNob3dNYXhMYWJlbCIpLGY9W10scD1bXSxnPXQuX3RyYW5zZm9ybSxtPVtdLHY9dS5sZW5ndGgseT0wO3k8djt5KyspaWYoIUpEKG4seSxsLHYsYyxkKSl7dmFyIHg9dVt5XTtmWzBdPXgsZlsxXT0wLHBbMF09eCxwWzFdPWkudGlja0RpcmVjdGlvbipzLGcmJihRKGYsZixnKSxRKHAscCxnKSk7dmFyIF89bmV3IFhiKEduKHthbmlkOiJ0aWNrXyIraFt5XSxzaGFwZTp7eDE6ZlswXSx5MTpmWzFdLHgyOnBbMF0seTI6cFsxXX0sc3R5bGU6cihhLmdldExpbmVTdHlsZSgpLHtzdHJva2U6ZS5nZXQoImF4aXNMaW5lLmxpbmVTdHlsZS5jb2xvciIpfSksejI6MixzaWxlbnQ6ITB9KSk7dC5ncm91cC5hZGQoXyksbS5wdXNoKF8pfXJldHVybiBtfX1mdW5jdGlvbiB2dSh0LGUsaSl7dmFyIG49ZS5heGlzO2lmKEQoaS5heGlzTGFiZWxTaG93LGUuZ2V0KCJheGlzTGFiZWwuc2hvdyIpKSYmIW4uc2NhbGUuaXNCbGFuaygpKXt2YXIgbz1lLmdldE1vZGVsKCJheGlzTGFiZWwiKSxhPW8uZ2V0KCJtYXJnaW4iKSxyPW4uc2NhbGUuZ2V0VGlja3MoKSxzPWUuZ2V0Rm9ybWF0dGVkTGFiZWxzKCksbD0oRChpLmxhYmVsUm90YXRlLG8uZ2V0KCJyb3RhdGUiKSl8fDApKllELzE4MCx1PUtEKGkucm90YXRpb24sbCxpLmxhYmVsRGlyZWN0aW9uKSxoPWUuZ2V0Q2F0ZWdvcmllcygpLGM9W10sZj1jdShlKSxwPWUuZ2V0KCJ0cmlnZ2VyRXZlbnQiKSxnPWUuZ2V0KCJheGlzTGFiZWwuc2hvd01pbkxhYmVsIiksbT1lLmdldCgiYXhpc0xhYmVsLnNob3dNYXhMYWJlbCIpO3JldHVybiBkKHIsZnVuY3Rpb24obCxkKXtpZighSkQobixkLGkubGFiZWxJbnRlcnZhbCxyLmxlbmd0aCxnLG0pKXt2YXIgdj1vO2gmJmhbbF0mJmhbbF0udGV4dFN0eWxlJiYodj1uZXcgd28oaFtsXS50ZXh0U3R5bGUsbyxlLmVjTW9kZWwpKTt2YXIgeT12LmdldFRleHRDb2xvcigpfHxlLmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIikseD1bbi5kYXRhVG9Db29yZChsKSxpLmxhYmVsT2Zmc2V0K2kubGFiZWxEaXJlY3Rpb24qYV0sXz1uLnNjYWxlLmdldExhYmVsKGwpLHc9bmV3IHpiKHthbmlkOiJsYWJlbF8iK2wscG9zaXRpb246eCxyb3RhdGlvbjp1LnJvdGF0aW9uLHNpbGVudDpmLHoyOjEwfSk7bm8ody5zdHlsZSx2LHt0ZXh0OnNbZF0sdGV4dEFsaWduOnYuZ2V0U2hhbGxvdygiYWxpZ24iLCEwKXx8dS50ZXh0QWxpZ24sdGV4dFZlcnRpY2FsQWxpZ246di5nZXRTaGFsbG93KCJ2ZXJ0aWNhbEFsaWduIiwhMCl8fHYuZ2V0U2hhbGxvdygiYmFzZWxpbmUiLCEwKXx8dS50ZXh0VmVydGljYWxBbGlnbix0ZXh0RmlsbDoiZnVuY3Rpb24iPT10eXBlb2YgeT95KCJjYXRlZ29yeSI9PT1uLnR5cGU/XzoidmFsdWUiPT09bi50eXBlP2wrIiI6bCxkKTp5fSkscCYmKHcuZXZlbnREYXRhPXV1KGUpLHcuZXZlbnREYXRhLnRhcmdldFR5cGU9ImF4aXNMYWJlbCIsdy5ldmVudERhdGEudmFsdWU9XyksdC5fZHVtYkdyb3VwLmFkZCh3KSx3LnVwZGF0ZVRyYW5zZm9ybSgpLGMucHVzaCh3KSx0Lmdyb3VwLmFkZCh3KSx3LmRlY29tcG9zZVRyYW5zZm9ybSgpfX0pLGN9fWZ1bmN0aW9uIHl1KHQsZSl7dmFyIGk9e2F4ZXNJbmZvOnt9LHNlcmllc0ludm9sdmVkOiExLGNvb3JkU3lzQXhlc0luZm86e30sY29vcmRTeXNNYXA6e319O3JldHVybiB4dShpLHQsZSksaS5zZXJpZXNJbnZvbHZlZCYmd3UoaSx0KSxpfWZ1bmN0aW9uIHh1KHQsZSxpKXt2YXIgbj1lLmdldENvbXBvbmVudCgidG9vbHRpcCIpLG89ZS5nZXRDb21wb25lbnQoImF4aXNQb2ludGVyIiksYT1vLmdldCgibGluayIsITApfHxbXSxyPVtdO3RUKGkuZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKSxmdW5jdGlvbihpKXtmdW5jdGlvbiBzKG4scyxsKXt2YXIgYz1sLm1vZGVsLmdldE1vZGVsKCJheGlzUG9pbnRlciIsbyksZD1jLmdldCgic2hvdyIpO2lmKGQmJigiYXV0byIhPT1kfHxufHxUdShjKSkpe251bGw9PXMmJihzPWMuZ2V0KCJ0cmlnZ2VyVG9vbHRpcCIpKTt2YXIgZj0oYz1uP191KGwsaCxvLGUsbixzKTpjKS5nZXQoInNuYXAiKSxwPUF1KGwubW9kZWwpLGc9c3x8Znx8ImNhdGVnb3J5Ij09PWwudHlwZSxtPXQuYXhlc0luZm9bcF09e2tleTpwLGF4aXM6bCxjb29yZFN5czppLGF4aXNQb2ludGVyTW9kZWw6Yyx0cmlnZ2VyVG9vbHRpcDpzLGludm9sdmVTZXJpZXM6ZyxzbmFwOmYsdXNlSGFuZGxlOlR1KGMpLHNlcmllc01vZGVsczpbXX07dVtwXT1tLHQuc2VyaWVzSW52b2x2ZWR8PWc7dmFyIHY9YnUoYSxsKTtpZihudWxsIT12KXt2YXIgeT1yW3ZdfHwoclt2XT17YXhlc0luZm86e319KTt5LmF4ZXNJbmZvW3BdPW0seS5tYXBwZXI9YVt2XS5tYXBwZXIsbS5saW5rR3JvdXA9eX19fWlmKGkuYXhpc1BvaW50ZXJFbmFibGVkKXt2YXIgbD1BdShpLm1vZGVsKSx1PXQuY29vcmRTeXNBeGVzSW5mb1tsXT17fTt0LmNvb3JkU3lzTWFwW2xdPWk7dmFyIGg9aS5tb2RlbC5nZXRNb2RlbCgidG9vbHRpcCIsbik7aWYodFQoaS5nZXRBeGVzKCksZVQocywhMSxudWxsKSksaS5nZXRUb29sdGlwQXhlcyYmbiYmaC5nZXQoInNob3ciKSl7dmFyIGM9ImF4aXMiPT09aC5nZXQoInRyaWdnZXIiKSxkPSJjcm9zcyI9PT1oLmdldCgiYXhpc1BvaW50ZXIudHlwZSIpLGY9aS5nZXRUb29sdGlwQXhlcyhoLmdldCgiYXhpc1BvaW50ZXIuYXhpcyIpKTsoY3x8ZCkmJnRUKGYuYmFzZUF4ZXMsZVQocywhZHx8ImNyb3NzIixjKSksZCYmdFQoZi5vdGhlckF4ZXMsZVQocywiY3Jvc3MiLCExKSl9fX0pfWZ1bmN0aW9uIF91KHQsZSxuLG8sYSxzKXt2YXIgbD1lLmdldE1vZGVsKCJheGlzUG9pbnRlciIpLHU9e307dFQoWyJ0eXBlIiwic25hcCIsImxpbmVTdHlsZSIsInNoYWRvd1N0eWxlIiwibGFiZWwiLCJhbmltYXRpb24iLCJhbmltYXRpb25EdXJhdGlvblVwZGF0ZSIsImFuaW1hdGlvbkVhc2luZ1VwZGF0ZSIsInoiXSxmdW5jdGlvbih0KXt1W3RdPWkobC5nZXQodCkpfSksdS5zbmFwPSJjYXRlZ29yeSIhPT10LnR5cGUmJiEhcywiY3Jvc3MiPT09bC5nZXQoInR5cGUiKSYmKHUudHlwZT0ibGluZSIpO3ZhciBoPXUubGFiZWx8fCh1LmxhYmVsPXt9KTtpZihudWxsPT1oLnNob3cmJihoLnNob3c9ITEpLCJjcm9zcyI9PT1hKXt2YXIgYz1sLmdldCgibGFiZWwuc2hvdyIpO2lmKGguc2hvdz1udWxsPT1jfHxjLCFzKXt2YXIgZD11LmxpbmVTdHlsZT1sLmdldCgiY3Jvc3NTdHlsZSIpO2QmJnIoaCxkLnRleHRTdHlsZSl9fXJldHVybiB0Lm1vZGVsLmdldE1vZGVsKCJheGlzUG9pbnRlciIsbmV3IHdvKHUsbixvKSl9ZnVuY3Rpb24gd3UodCxlKXtlLmVhY2hTZXJpZXMoZnVuY3Rpb24oZSl7dmFyIGk9ZS5jb29yZGluYXRlU3lzdGVtLG49ZS5nZXQoInRvb2x0aXAudHJpZ2dlciIsITApLG89ZS5nZXQoInRvb2x0aXAuc2hvdyIsITApO2kmJiJub25lIiE9PW4mJiExIT09biYmIml0ZW0iIT09biYmITEhPT1vJiYhMSE9PWUuZ2V0KCJheGlzUG9pbnRlci5zaG93IiwhMCkmJnRUKHQuY29vcmRTeXNBeGVzSW5mb1tBdShpLm1vZGVsKV0sZnVuY3Rpb24odCl7dmFyIG49dC5heGlzO2kuZ2V0QXhpcyhuLmRpbSk9PT1uJiYodC5zZXJpZXNNb2RlbHMucHVzaChlKSxudWxsPT10LnNlcmllc0RhdGFDb3VudCYmKHQuc2VyaWVzRGF0YUNvdW50PTApLHQuc2VyaWVzRGF0YUNvdW50Kz1lLmdldERhdGEoKS5jb3VudCgpKX0pfSx0aGlzKX1mdW5jdGlvbiBidSh0LGUpe2Zvcih2YXIgaT1lLm1vZGVsLG49ZS5kaW0sbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dfHx7fTtpZihTdShhW24rIkF4aXNJZCJdLGkuaWQpfHxTdShhW24rIkF4aXNJbmRleCJdLGkuY29tcG9uZW50SW5kZXgpfHxTdShhW24rIkF4aXNOYW1lIl0saS5uYW1lKSlyZXR1cm4gb319ZnVuY3Rpb24gU3UodCxlKXtyZXR1cm4iYWxsIj09PXR8fHkodCkmJmwodCxlKT49MHx8dD09PWV9ZnVuY3Rpb24gTXUodCl7dmFyIGU9SXUodCk7aWYoZSl7dmFyIGk9ZS5heGlzUG9pbnRlck1vZGVsLG49ZS5heGlzLnNjYWxlLG89aS5vcHRpb24sYT1pLmdldCgic3RhdHVzIikscj1pLmdldCgidmFsdWUiKTtudWxsIT1yJiYocj1uLnBhcnNlKHIpKTt2YXIgcz1UdShpKTtudWxsPT1hJiYoby5zdGF0dXM9cz8ic2hvdyI6ImhpZGUiKTt2YXIgbD1uLmdldEV4dGVudCgpLnNsaWNlKCk7bFswXT5sWzFdJiZsLnJldmVyc2UoKSwobnVsbD09cnx8cj5sWzFdKSYmKHI9bFsxXSkscjxsWzBdJiYocj1sWzBdKSxvLnZhbHVlPXIscyYmKG8uc3RhdHVzPWUuYXhpcy5zY2FsZS5pc0JsYW5rKCk/ImhpZGUiOiJzaG93Iil9fWZ1bmN0aW9uIEl1KHQpe3ZhciBlPSh0LmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpfHx7fSkuY29vcmRTeXNBeGVzSW5mbztyZXR1cm4gZSYmZS5heGVzSW5mb1tBdSh0KV19ZnVuY3Rpb24gRHUodCl7dmFyIGU9SXUodCk7cmV0dXJuIGUmJmUuYXhpc1BvaW50ZXJNb2RlbH1mdW5jdGlvbiBUdSh0KXtyZXR1cm4hIXQuZ2V0KCJoYW5kbGUuc2hvdyIpfWZ1bmN0aW9uIEF1KHQpe3JldHVybiB0LnR5cGUrInx8Iit0LmlkfWZ1bmN0aW9uIEN1KHQsZSxpLG4sbyxhKXt2YXIgcj1pVC5nZXRBeGlzUG9pbnRlckNsYXNzKHQuYXhpc1BvaW50ZXJDbGFzcyk7aWYocil7dmFyIHM9RHUoZSk7cz8odC5fYXhpc1BvaW50ZXJ8fCh0Ll9heGlzUG9pbnRlcj1uZXcgcikpLnJlbmRlcihlLHMsbixhKTpMdSh0LG4pfX1mdW5jdGlvbiBMdSh0LGUsaSl7dmFyIG49dC5fYXhpc1BvaW50ZXI7biYmbi5kaXNwb3NlKGUsaSksdC5fYXhpc1BvaW50ZXI9bnVsbH1mdW5jdGlvbiBrdSh0LGUsaSl7aT1pfHx7fTt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0sbz1lLmF4aXMsYT17fSxyPW8ucG9zaXRpb24scz1vLm9uWmVybz8ib25aZXJvIjpyLGw9by5kaW0sdT1uLmdldFJlY3QoKSxoPVt1LngsdS54K3Uud2lkdGgsdS55LHUueSt1LmhlaWdodF0sYz17bGVmdDowLHJpZ2h0OjEsdG9wOjAsYm90dG9tOjEsb25aZXJvOjJ9LGQ9ZS5nZXQoIm9mZnNldCIpfHwwLGY9IngiPT09bD9baFsyXS1kLGhbM10rZF06W2hbMF0tZCxoWzFdK2RdO2lmKG8ub25aZXJvKXt2YXIgcD1uLmdldEF4aXMoIngiPT09bD8ieSI6IngiLG8ub25aZXJvQXhpc0luZGV4KSxnPXAudG9HbG9iYWxDb29yZChwLmRhdGFUb0Nvb3JkKDApKTtmW2Mub25aZXJvXT1NYXRoLm1heChNYXRoLm1pbihnLGZbMV0pLGZbMF0pfWEucG9zaXRpb249WyJ5Ij09PWw/ZltjW3NdXTpoWzBdLCJ4Ij09PWw/ZltjW3NdXTpoWzNdXSxhLnJvdGF0aW9uPU1hdGguUEkvMiooIngiPT09bD8wOjEpO3ZhciBtPXt0b3A6LTEsYm90dG9tOjEsbGVmdDotMSxyaWdodDoxfTthLmxhYmVsRGlyZWN0aW9uPWEudGlja0RpcmVjdGlvbj1hLm5hbWVEaXJlY3Rpb249bVtyXSxhLmxhYmVsT2Zmc2V0PW8ub25aZXJvP2ZbY1tyXV0tZltjLm9uWmVyb106MCxlLmdldCgiYXhpc1RpY2suaW5zaWRlIikmJihhLnRpY2tEaXJlY3Rpb249LWEudGlja0RpcmVjdGlvbiksRChpLmxhYmVsSW5zaWRlLGUuZ2V0KCJheGlzTGFiZWwuaW5zaWRlIikpJiYoYS5sYWJlbERpcmVjdGlvbj0tYS5sYWJlbERpcmVjdGlvbik7dmFyIHY9ZS5nZXQoImF4aXNMYWJlbC5yb3RhdGUiKTtyZXR1cm4gYS5sYWJlbFJvdGF0ZT0idG9wIj09PXM/LXY6dixhLmxhYmVsSW50ZXJ2YWw9by5nZXRMYWJlbEludGVydmFsKCksYS56Mj0xLGF9ZnVuY3Rpb24gUHUodCxlLGksbixvLGEscil7aW8odCxlLGkuZ2V0TW9kZWwoImxhYmVsIiksaS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSx7bGFiZWxGZXRjaGVyOm8sbGFiZWxEYXRhSW5kZXg6YSxkZWZhdWx0VGV4dDpTbChvLmdldERhdGEoKSxhKSxpc1JlY3RUZXh0OiEwLGF1dG9Db2xvcjpufSksTnUodCksTnUoZSl9ZnVuY3Rpb24gTnUodCxlKXsib3V0c2lkZSI9PT10LnRleHRQb3NpdGlvbiYmKHQudGV4dFBvc2l0aW9uPWUpfWZ1bmN0aW9uIE91KHQsZSxpKXtpLnN0eWxlLnRleHQ9bnVsbCxmbyhpLHtzaGFwZTp7d2lkdGg6MH19LGUsdCxmdW5jdGlvbigpe2kucGFyZW50JiZpLnBhcmVudC5yZW1vdmUoaSl9KX1mdW5jdGlvbiBFdSh0LGUsaSl7aS5zdHlsZS50ZXh0PW51bGwsZm8oaSx7c2hhcGU6e3I6aS5zaGFwZS5yMH19LGUsdCxmdW5jdGlvbigpe2kucGFyZW50JiZpLnBhcmVudC5yZW1vdmUoaSl9KX1mdW5jdGlvbiB6dSh0LGUsaSxuLG8sYSxzLGwpe3ZhciB1PWUuZ2V0SXRlbVZpc3VhbChpLCJjb2xvciIpLGg9ZS5nZXRJdGVtVmlzdWFsKGksIm9wYWNpdHkiKSxjPW4uZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLGQ9bi5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0QmFySXRlbVN0eWxlKCk7bHx8dC5zZXRTaGFwZSgiciIsYy5nZXQoImJhckJvcmRlclJhZGl1cyIpfHwwKSx0LnVzZVN0eWxlKHIoe2ZpbGw6dSxvcGFjaXR5Omh9LGMuZ2V0QmFySXRlbVN0eWxlKCkpKTt2YXIgZj1uLmdldFNoYWxsb3coImN1cnNvciIpO2YmJnQuYXR0cigiY3Vyc29yIixmKTt2YXIgcD1zP28uaGVpZ2h0PjA/ImJvdHRvbSI6InRvcCI6by53aWR0aD4wPyJsZWZ0IjoicmlnaHQiO2x8fFB1KHQuc3R5bGUsZCxuLHUsYSxpLHApLGVvKHQsZCl9ZnVuY3Rpb24gUnUodCxlKXt2YXIgaT10LmdldChkVCl8fDA7cmV0dXJuIE1hdGgubWluKGksTWF0aC5hYnMoZS53aWR0aCksTWF0aC5hYnMoZS5oZWlnaHQpKX1mdW5jdGlvbiBCdSh0LGUsaSxuKXt2YXIgbz1lLmdldERhdGEoKSxhPXRoaXMuZGF0YUluZGV4LHI9by5nZXROYW1lKGEpLHM9ZS5nZXQoInNlbGVjdGVkT2Zmc2V0Iik7bi5kaXNwYXRjaEFjdGlvbih7dHlwZToicGllVG9nZ2xlU2VsZWN0Iixmcm9tOnQsbmFtZTpyLHNlcmllc0lkOmUuaWR9KSxvLmVhY2goZnVuY3Rpb24odCl7VnUoby5nZXRJdGVtR3JhcGhpY0VsKHQpLG8uZ2V0SXRlbUxheW91dCh0KSxlLmlzU2VsZWN0ZWQoby5nZXROYW1lKHQpKSxzLGkpfSl9ZnVuY3Rpb24gVnUodCxlLGksbixvKXt2YXIgYT0oZS5zdGFydEFuZ2xlK2UuZW5kQW5nbGUpLzIscj1NYXRoLmNvcyhhKSxzPU1hdGguc2luKGEpLGw9aT9uOjAsdT1bcipsLHMqbF07bz90LmFuaW1hdGUoKS53aGVuKDIwMCx7cG9zaXRpb246dX0pLnN0YXJ0KCJib3VuY2VPdXQiKTp0LmF0dHIoInBvc2l0aW9uIix1KX1mdW5jdGlvbiBHdSh0LGUpe2Z1bmN0aW9uIGkoKXthLmlnbm9yZT1hLmhvdmVySWdub3JlLHIuaWdub3JlPXIuaG92ZXJJZ25vcmV9ZnVuY3Rpb24gbigpe2EuaWdub3JlPWEubm9ybWFsSWdub3JlLHIuaWdub3JlPXIubm9ybWFsSWdub3JlfUxfLmNhbGwodGhpcyk7dmFyIG89bmV3IEdiKHt6MjoyfSksYT1uZXcgVWIscj1uZXcgemI7dGhpcy5hZGQobyksdGhpcy5hZGQoYSksdGhpcy5hZGQociksdGhpcy51cGRhdGVEYXRhKHQsZSwhMCksdGhpcy5vbigiZW1waGFzaXMiLGkpLm9uKCJub3JtYWwiLG4pLm9uKCJtb3VzZW92ZXIiLGkpLm9uKCJtb3VzZW91dCIsbil9ZnVuY3Rpb24gRnUodCxlLGksbixvLGEscil7ZnVuY3Rpb24gcyhlLGkpe2Zvcih2YXIgbj1lO24+PTAmJih0W25dLnktPWksIShuPjAmJnRbbl0ueT50W24tMV0ueSt0W24tMV0uaGVpZ2h0KSk7bi0tKTt9ZnVuY3Rpb24gbCh0LGUsaSxuLG8sYSl7Zm9yKHZhciByPWU/TnVtYmVyLk1BWF9WQUxVRTowLHM9MCxsPXQubGVuZ3RoO3M8bDtzKyspaWYoImNlbnRlciIhPT10W3NdLnBvc2l0aW9uKXt2YXIgdT1NYXRoLmFicyh0W3NdLnktbiksaD10W3NdLmxlbixjPXRbc10ubGVuMixkPXU8bytoP01hdGguc3FydCgobytoK2MpKihvK2grYyktdSp1KTpNYXRoLmFicyh0W3NdLngtaSk7ZSYmZD49ciYmKGQ9ci0xMCksIWUmJmQ8PXImJihkPXIrMTApLHRbc10ueD1pK2QqYSxyPWR9fXQuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnktZS55fSk7Zm9yKHZhciB1LGg9MCxjPXQubGVuZ3RoLGQ9W10sZj1bXSxwPTA7cDxjO3ArKykodT10W3BdLnktaCk8MCYmZnVuY3Rpb24oZSxpLG4sbyl7Zm9yKHZhciBhPWU7YTxpO2ErKylpZih0W2FdLnkrPW4sYT5lJiZhKzE8aSYmdFthKzFdLnk+dFthXS55K3RbYV0uaGVpZ2h0KXJldHVybiB2b2lkIHMoYSxuLzIpO3MoaS0xLG4vMil9KHAsYywtdSksaD10W3BdLnkrdFtwXS5oZWlnaHQ7ci1oPDAmJnMoYy0xLGgtcik7Zm9yKHA9MDtwPGM7cCsrKXRbcF0ueT49aT9mLnB1c2godFtwXSk6ZC5wdXNoKHRbcF0pO2woZCwhMSxlLGksbixvKSxsKGYsITAsZSxpLG4sbyl9ZnVuY3Rpb24gV3UodCxlLGksbixvLGEpe2Zvcih2YXIgcj1bXSxzPVtdLGw9MDtsPHQubGVuZ3RoO2wrKyl0W2xdLng8ZT9yLnB1c2godFtsXSk6cy5wdXNoKHRbbF0pO0Z1KHMsZSxpLG4sMSxvLGEpLEZ1KHIsZSxpLG4sLTEsbyxhKTtmb3IobD0wO2w8dC5sZW5ndGg7bCsrKXt2YXIgdT10W2xdLmxpbmVQb2ludHM7aWYodSl7dmFyIGg9dVsxXVswXS11WzJdWzBdO3RbbF0ueDxlP3VbMl1bMF09dFtsXS54KzM6dVsyXVswXT10W2xdLngtMyx1WzFdWzFdPXVbMl1bMV09dFtsXS55LHVbMV1bMF09dVsyXVswXStofX19ZnVuY3Rpb24gSHUoKXt0aGlzLmdyb3VwPW5ldyBMX31mdW5jdGlvbiBadSh0LGUsaSl7ZEQuY2FsbCh0aGlzLHQsZSxpKSx0aGlzLnR5cGU9InZhbHVlIix0aGlzLmFuZ2xlPTAsdGhpcy5uYW1lPSIiLHRoaXMubW9kZWx9ZnVuY3Rpb24gVXUodCxlLGkpe3RoaXMuX21vZGVsPXQsdGhpcy5kaW1lbnNpb25zPVtdLHRoaXMuX2luZGljYXRvckF4ZXM9Zih0LmdldEluZGljYXRvck1vZGVscygpLGZ1bmN0aW9uKHQsZSl7dmFyIGk9ImluZGljYXRvcl8iK2Usbj1uZXcgWnUoaSxuZXcgRUkpO3JldHVybiBuLm5hbWU9dC5nZXQoIm5hbWUiKSxuLm1vZGVsPXQsdC5heGlzPW4sdGhpcy5kaW1lbnNpb25zLnB1c2goaSksbn0sdGhpcyksdGhpcy5yZXNpemUodCxpKSx0aGlzLmN4LHRoaXMuY3ksdGhpcy5yLHRoaXMuc3RhcnRBbmdsZX1mdW5jdGlvbiBqdSh0LGUpe3JldHVybiByKHtzaG93OmV9LHQpfWZ1bmN0aW9uIFh1KHQpe3JldHVybiB5KHQpfHwodD1bK3QsK3RdKSx0fWZ1bmN0aW9uIFl1KCl7b18uY2FsbCh0aGlzKX1mdW5jdGlvbiBxdSh0KXt0aGlzLm5hbWU9dCx0aGlzLnpvb21MaW1pdCxvXy5jYWxsKHRoaXMpLHRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlPW5ldyBZdSx0aGlzLl9yYXdUcmFuc2Zvcm1hYmxlPW5ldyBZdSx0aGlzLl9jZW50ZXIsdGhpcy5fem9vbX1mdW5jdGlvbiAkdSh0LGUsaSxuKXt2YXIgbz1pLnNlcmllc01vZGVsLGE9bz9vLmNvb3JkaW5hdGVTeXN0ZW06bnVsbDtyZXR1cm4gYT09PXRoaXM/YVt0XShuKTpudWxsfWZ1bmN0aW9uIEt1KHQsZSxpLG4sbyl7cXUuY2FsbCh0aGlzLHQpLHRoaXMubWFwPWUsdGhpcy5fbmFtZUNvb3JkTWFwPXooKSx0aGlzLmxvYWRHZW9Kc29uKGksbixvKX1mdW5jdGlvbiBKdSh0LGUsaSxuKXt2YXIgbz1pLmdlb01vZGVsLGE9aS5zZXJpZXNNb2RlbCxyPW8/by5jb29yZGluYXRlU3lzdGVtOmE/YS5jb29yZGluYXRlU3lzdGVtfHwoYS5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJnZW8iKVswXXx8e30pLmNvb3JkaW5hdGVTeXN0ZW06bnVsbDtyZXR1cm4gcj09PXRoaXM/clt0XShuKTpudWxsfWZ1bmN0aW9uIFF1KHQsZSl7dmFyIGk9dC5nZXQoImJvdW5kaW5nQ29vcmRzIik7aWYobnVsbCE9aSl7dmFyIG49aVswXSxvPWlbMV07aXNOYU4oblswXSl8fGlzTmFOKG5bMV0pfHxpc05hTihvWzBdKXx8aXNOYU4ob1sxXSl8fHRoaXMuc2V0Qm91bmRpbmdSZWN0KG5bMF0sblsxXSxvWzBdLW5bMF0sb1sxXS1uWzFdKX12YXIgYSxyPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkscz10LmdldCgibGF5b3V0Q2VudGVyIiksbD10LmdldCgibGF5b3V0U2l6ZSIpLHU9ZS5nZXRXaWR0aCgpLGg9ZS5nZXRIZWlnaHQoKSxjPXQuZ2V0KCJhc3BlY3RTY2FsZSIpfHwuNzUsZD1yLndpZHRoL3IuaGVpZ2h0KmMsZj0hMTtzJiZsJiYocz1bVG8oc1swXSx1KSxUbyhzWzFdLGgpXSxsPVRvKGwsTWF0aC5taW4odSxoKSksaXNOYU4oc1swXSl8fGlzTmFOKHNbMV0pfHxpc05hTihsKXx8KGY9ITApKTtpZihmKXt2YXIgcD17fTtkPjE/KHAud2lkdGg9bCxwLmhlaWdodD1sL2QpOihwLmhlaWdodD1sLHAud2lkdGg9bCpkKSxwLnk9c1sxXS1wLmhlaWdodC8yLHAueD1zWzBdLXAud2lkdGgvMn1lbHNlKGE9dC5nZXRCb3hMYXlvdXRQYXJhbXMoKSkuYXNwZWN0PWQscD1RbyhhLHt3aWR0aDp1LGhlaWdodDpofSk7dGhpcy5zZXRWaWV3UmVjdChwLngscC55LHAud2lkdGgscC5oZWlnaHQpLHRoaXMuc2V0Q2VudGVyKHQuZ2V0KCJjZW50ZXIiKSksdGhpcy5zZXRab29tKHQuZ2V0KCJ6b29tIikpfWZ1bmN0aW9uIHRoKHQsZSl7ZChlLmdldCgiZ2VvQ29vcmQiKSxmdW5jdGlvbihlLGkpe3QuYWRkR2VvQ29vcmQoaSxlKX0pfWZ1bmN0aW9uIGVoKHQsZSxpKXtvaCh0KVtlXT1pfWZ1bmN0aW9uIGloKHQsZSxpKXt2YXIgbj1vaCh0KTtuW2VdPT09aSYmKG5bZV09bnVsbCl9ZnVuY3Rpb24gbmgodCxlKXtyZXR1cm4hIW9oKHQpW2VdfWZ1bmN0aW9uIG9oKHQpe3JldHVybiB0W0ZUXXx8KHRbRlRdPXt9KX1mdW5jdGlvbiBhaCh0KXt0aGlzLnBvaW50ZXJDaGVja2VyLHRoaXMuX3pyPXQsdGhpcy5fb3B0PXt9O3ZhciBlPW0sbj1lKHJoLHRoaXMpLG89ZShzaCx0aGlzKSxhPWUobGgsdGhpcykscz1lKHVoLHRoaXMpLGw9ZShoaCx0aGlzKTskeC5jYWxsKHRoaXMpLHRoaXMuc2V0UG9pbnRlckNoZWNrZXI9ZnVuY3Rpb24odCl7dGhpcy5wb2ludGVyQ2hlY2tlcj10fSx0aGlzLmVuYWJsZT1mdW5jdGlvbihlLHUpe3RoaXMuZGlzYWJsZSgpLHRoaXMuX29wdD1yKGkodSl8fHt9LHt6b29tT25Nb3VzZVdoZWVsOiEwLG1vdmVPbk1vdXNlTW92ZTohMCxwcmV2ZW50RGVmYXVsdE1vdXNlTW92ZTohMH0pLG51bGw9PWUmJihlPSEwKSwhMCE9PWUmJiJtb3ZlIiE9PWUmJiJwYW4iIT09ZXx8KHQub24oIm1vdXNlZG93biIsbiksdC5vbigibW91c2Vtb3ZlIixvKSx0Lm9uKCJtb3VzZXVwIixhKSksITAhPT1lJiYic2NhbGUiIT09ZSYmInpvb20iIT09ZXx8KHQub24oIm1vdXNld2hlZWwiLHMpLHQub24oInBpbmNoIixsKSl9LHRoaXMuZGlzYWJsZT1mdW5jdGlvbigpe3Qub2ZmKCJtb3VzZWRvd24iLG4pLHQub2ZmKCJtb3VzZW1vdmUiLG8pLHQub2ZmKCJtb3VzZXVwIixhKSx0Lm9mZigibW91c2V3aGVlbCIscyksdC5vZmYoInBpbmNoIixsKX0sdGhpcy5kaXNwb3NlPXRoaXMuZGlzYWJsZSx0aGlzLmlzRHJhZ2dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2dpbmd9LHRoaXMuaXNQaW5jaGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waW5jaGluZ319ZnVuY3Rpb24gcmgodCl7aWYoIShjaSh0KXx8dC50YXJnZXQmJnQudGFyZ2V0LmRyYWdnYWJsZSkpe3ZhciBlPXQub2Zmc2V0WCxpPXQub2Zmc2V0WTt0aGlzLnBvaW50ZXJDaGVja2VyJiZ0aGlzLnBvaW50ZXJDaGVja2VyKHQsZSxpKSYmKHRoaXMuX3g9ZSx0aGlzLl95PWksdGhpcy5fZHJhZ2dpbmc9ITApfX1mdW5jdGlvbiBzaCh0KXtpZighY2kodCkmJmRoKHRoaXMsIm1vdmVPbk1vdXNlTW92ZSIsdCkmJnRoaXMuX2RyYWdnaW5nJiYicGluY2giIT09dC5nZXN0dXJlRXZlbnQmJiFuaCh0aGlzLl96ciwiZ2xvYmFsUGFuIikpe3ZhciBlPXQub2Zmc2V0WCxpPXQub2Zmc2V0WSxuPXRoaXMuX3gsbz10aGlzLl95LGE9ZS1uLHI9aS1vO3RoaXMuX3g9ZSx0aGlzLl95PWksdGhpcy5fb3B0LnByZXZlbnREZWZhdWx0TW91c2VNb3ZlJiZydyh0LmV2ZW50KSx0aGlzLnRyaWdnZXIoInBhbiIsYSxyLG4sbyxlLGkpfX1mdW5jdGlvbiBsaCh0KXtjaSh0KXx8KHRoaXMuX2RyYWdnaW5nPSExKX1mdW5jdGlvbiB1aCh0KXtpZihkaCh0aGlzLCJ6b29tT25Nb3VzZVdoZWVsIix0KSYmMCE9PXQud2hlZWxEZWx0YSl7dmFyIGU9dC53aGVlbERlbHRhPjA/MS4xOjEvMS4xO2NoLmNhbGwodGhpcyx0LGUsdC5vZmZzZXRYLHQub2Zmc2V0WSl9fWZ1bmN0aW9uIGhoKHQpe2lmKCFuaCh0aGlzLl96ciwiZ2xvYmFsUGFuIikpe3ZhciBlPXQucGluY2hTY2FsZT4xPzEuMToxLzEuMTtjaC5jYWxsKHRoaXMsdCxlLHQucGluY2hYLHQucGluY2hZKX19ZnVuY3Rpb24gY2godCxlLGksbil7dGhpcy5wb2ludGVyQ2hlY2tlciYmdGhpcy5wb2ludGVyQ2hlY2tlcih0LGksbikmJihydyh0LmV2ZW50KSx0aGlzLnRyaWdnZXIoInpvb20iLGUsaSxuKSl9ZnVuY3Rpb24gZGgodCxlLGkpe3ZhciBuPXQuX29wdFtlXTtyZXR1cm4gbiYmKCFfKG4pfHxpLmV2ZW50W24rIktleSJdKX1mdW5jdGlvbiBmaCh0LGUsaSl7dmFyIG49dC50YXJnZXQsbz1uLnBvc2l0aW9uO29bMF0rPWUsb1sxXSs9aSxuLmRpcnR5KCl9ZnVuY3Rpb24gcGgodCxlLGksbil7dmFyIG89dC50YXJnZXQsYT10Lnpvb21MaW1pdCxyPW8ucG9zaXRpb24scz1vLnNjYWxlLGw9dC56b29tPXQuem9vbXx8MTtpZihsKj1lLGEpe3ZhciB1PWEubWlufHwwLGg9YS5tYXh8fDEvMDtsPU1hdGgubWF4KE1hdGgubWluKGgsbCksdSl9dmFyIGM9bC90Lnpvb207dC56b29tPWwsclswXS09KGktclswXSkqKGMtMSksclsxXS09KG4tclsxXSkqKGMtMSksc1swXSo9YyxzWzFdKj1jLG8uZGlydHkoKX1mdW5jdGlvbiBnaCh0LGUsaSl7dmFyIG49ZS5nZXRDb21wb25lbnRCeUVsZW1lbnQodC50b3BUYXJnZXQpLG89biYmbi5jb29yZGluYXRlU3lzdGVtO3JldHVybiBuJiZuIT09aSYmIVdUW24ubWFpblR5cGVdJiZvJiZvLm1vZGVsIT09aX1mdW5jdGlvbiBtaCh0LGUpe3ZhciBpPXQuZ2V0SXRlbVN0eWxlKCksbj10LmdldCgiYXJlYUNvbG9yIik7cmV0dXJuIG51bGwhPW4mJihpLmZpbGw9biksaX1mdW5jdGlvbiB2aCh0LGUsaSxuLG8pe2kub2ZmKCJjbGljayIpLGkub2ZmKCJtb3VzZWRvd24iKSxlLmdldCgic2VsZWN0ZWRNb2RlIikmJihpLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7dC5fbW91c2VEb3duRmxhZz0hMH0pLGkub24oImNsaWNrIixmdW5jdGlvbihhKXtpZih0Ll9tb3VzZURvd25GbGFnKXt0Ll9tb3VzZURvd25GbGFnPSExO2Zvcih2YXIgcj1hLnRhcmdldDshci5fX3JlZ2lvbnM7KXI9ci5wYXJlbnQ7aWYocil7dmFyIHM9e3R5cGU6KCJnZW8iPT09ZS5tYWluVHlwZT8iZ2VvIjoibWFwIikrIlRvZ2dsZVNlbGVjdCIsYmF0Y2g6ZihyLl9fcmVnaW9ucyxmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0Lm5hbWUsZnJvbTpvLnVpZH19KX07c1tlLm1haW5UeXBlKyJJZCJdPWUuaWQsbi5kaXNwYXRjaEFjdGlvbihzKSx5aChlLGkpfX19KSl9ZnVuY3Rpb24geWgodCxlKXtlLmVhY2hDaGlsZChmdW5jdGlvbihlKXtkKGUuX19yZWdpb25zLGZ1bmN0aW9uKGkpe2UudHJpZ2dlcih0LmlzU2VsZWN0ZWQoaS5uYW1lKT8iZW1waGFzaXMiOiJub3JtYWwiKX0pfSl9ZnVuY3Rpb24geGgodCxlKXt2YXIgaT1uZXcgTF87dGhpcy5fY29udHJvbGxlcj1uZXcgYWgodC5nZXRacigpKSx0aGlzLl9jb250cm9sbGVySG9zdD17dGFyZ2V0OmU/aTpudWxsfSx0aGlzLmdyb3VwPWksdGhpcy5fdXBkYXRlR3JvdXA9ZSx0aGlzLl9tb3VzZURvd25GbGFnfWZ1bmN0aW9uIF9oKHQsZSxpKXt2YXIgbj10LmdldFpvb20oKSxvPXQuZ2V0Q2VudGVyKCksYT1lLnpvb20scj10LmRhdGFUb1BvaW50KG8pO2lmKG51bGwhPWUuZHgmJm51bGwhPWUuZHkpe3JbMF0tPWUuZHgsclsxXS09ZS5keTtvPXQucG9pbnRUb0RhdGEocik7dC5zZXRDZW50ZXIobyl9aWYobnVsbCE9YSl7aWYoaSl7dmFyIHM9aS5taW58fDAsbD1pLm1heHx8MS8wO2E9TWF0aC5tYXgoTWF0aC5taW4obiphLGwpLHMpL259dC5zY2FsZVswXSo9YSx0LnNjYWxlWzFdKj1hO3ZhciB1PXQucG9zaXRpb24saD0oZS5vcmlnaW5YLXVbMF0pKihhLTEpLGM9KGUub3JpZ2luWS11WzFdKSooYS0xKTt1WzBdLT1oLHVbMV0tPWMsdC51cGRhdGVUcmFuc2Zvcm0oKTtvPXQucG9pbnRUb0RhdGEocik7dC5zZXRDZW50ZXIobyksdC5zZXRab29tKGEqbil9cmV0dXJue2NlbnRlcjp0LmdldENlbnRlcigpLHpvb206dC5nZXRab29tKCl9fWZ1bmN0aW9uIHdoKHQsZSl7dmFyIGk9e307cmV0dXJuIGQodCxmdW5jdGlvbih0KXt0LmVhY2godC5tYXBEaW1lbnNpb24oInZhbHVlIiksZnVuY3Rpb24oZSxuKXt2YXIgbz0iZWMtIit0LmdldE5hbWUobik7aVtvXT1pW29dfHxbXSxpc05hTihlKXx8aVtvXS5wdXNoKGUpfSl9KSx0WzBdLm1hcCh0WzBdLm1hcERpbWVuc2lvbigidmFsdWUiKSxmdW5jdGlvbihuLG8pe2Zvcih2YXIgYT0iZWMtIit0WzBdLmdldE5hbWUobykscj0wLHM9MS8wLGw9LTEvMCx1PWlbYV0ubGVuZ3RoLGg9MDtoPHU7aCsrKXM9TWF0aC5taW4ocyxpW2FdW2hdKSxsPU1hdGgubWF4KGwsaVthXVtoXSkscis9aVthXVtoXTt2YXIgYztyZXR1cm4gYz0ibWluIj09PWU/czoibWF4Ij09PWU/bDoiYXZlcmFnZSI9PT1lP3IvdTpyLDA9PT11P05hTjpjfSl9ZnVuY3Rpb24gYmgodCl7dmFyIGU9dC5tYWluRGF0YSxpPXQuZGF0YXM7aXx8KGk9e21haW46ZX0sdC5kYXRhc0F0dHI9e21haW46ImRhdGEifSksdC5kYXRhcz10Lm1haW5EYXRhPW51bGwsQWgoZSxpLHQpLEhUKGksZnVuY3Rpb24oaSl7SFQoZS5UUkFOU0ZFUkFCTEVfTUVUSE9EUyxmdW5jdGlvbihlKXtpLndyYXBNZXRob2QoZSx2KFNoLHQpKX0pfSksZS53cmFwTWV0aG9kKCJjbG9uZVNoYWxsb3ciLHYoSWgsdCkpLEhUKGUuQ0hBTkdBQkxFX01FVEhPRFMsZnVuY3Rpb24oaSl7ZS53cmFwTWV0aG9kKGksdihNaCx0KSl9KSxrKGlbZS5kYXRhVHlwZV09PT1lKX1mdW5jdGlvbiBTaCh0LGUpe2lmKFRoKHRoaXMpKXt2YXIgaT1hKHt9LHRoaXNbWlRdKTtpW3RoaXMuZGF0YVR5cGVdPWUsQWgoZSxpLHQpfWVsc2UgQ2goZSx0aGlzLmRhdGFUeXBlLHRoaXNbVVRdLHQpO3JldHVybiBlfWZ1bmN0aW9uIE1oKHQsZSl7cmV0dXJuIHQuc3RydWN0JiZ0LnN0cnVjdC51cGRhdGUodGhpcyksZX1mdW5jdGlvbiBJaCh0LGUpe3JldHVybiBIVChlW1pUXSxmdW5jdGlvbihpLG4pe2khPT1lJiZDaChpLmNsb25lU2hhbGxvdygpLG4sZSx0KX0pLGV9ZnVuY3Rpb24gRGgodCl7dmFyIGU9dGhpc1tVVF07cmV0dXJuIG51bGw9PXR8fG51bGw9PWU/ZTplW1pUXVt0XX1mdW5jdGlvbiBUaCh0KXtyZXR1cm4gdFtVVF09PT10fWZ1bmN0aW9uIEFoKHQsZSxpKXt0W1pUXT17fSxIVChlLGZ1bmN0aW9uKGUsbil7Q2goZSxuLHQsaSl9KX1mdW5jdGlvbiBDaCh0LGUsaSxuKXtpW1pUXVtlXT10LHRbVVRdPWksdC5kYXRhVHlwZT1lLG4uc3RydWN0JiYodFtuLnN0cnVjdEF0dHJdPW4uc3RydWN0LG4uc3RydWN0W24uZGF0YXNBdHRyW2VdXT10KSx0LmdldExpbmtlZERhdGE9RGh9ZnVuY3Rpb24gTGgodCxlLGkpe3RoaXMucm9vdCx0aGlzLmRhdGEsdGhpcy5fbm9kZXM9W10sdGhpcy5ob3N0TW9kZWw9dCx0aGlzLmxldmVsTW9kZWxzPWYoZXx8W10sZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB3byhlLHQsdC5lY01vZGVsKX0pLHRoaXMubGVhdmVzTW9kZWw9bmV3IHdvKGl8fHt9LHQsdC5lY01vZGVsKX1mdW5jdGlvbiBraCh0LGUpe3ZhciBpPWUuY2hpbGRyZW47dC5wYXJlbnROb2RlIT09ZSYmKGkucHVzaCh0KSx0LnBhcmVudE5vZGU9ZSl9ZnVuY3Rpb24gUGgodCl7dC5oaWVyTm9kZT17ZGVmYXVsdEFuY2VzdG9yOm51bGwsYW5jZXN0b3I6dCxwcmVsaW06MCxtb2RpZmllcjowLGNoYW5nZTowLHNoaWZ0OjAsaTowLHRocmVhZDpudWxsfTtmb3IodmFyIGUsaSxuPVt0XTtlPW4ucG9wKCk7KWlmKGk9ZS5jaGlsZHJlbixlLmlzRXhwYW5kJiZpLmxlbmd0aClmb3IodmFyIG89aS5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9aVtvXTthLmhpZXJOb2RlPXtkZWZhdWx0QW5jZXN0b3I6bnVsbCxhbmNlc3RvcjphLHByZWxpbTowLG1vZGlmaWVyOjAsY2hhbmdlOjAsc2hpZnQ6MCxpOm8sdGhyZWFkOm51bGx9LG4ucHVzaChhKX19ZnVuY3Rpb24gTmgodCxlKXt2YXIgaT10LmlzRXhwYW5kP3QuY2hpbGRyZW46W10sbj10LnBhcmVudE5vZGUuY2hpbGRyZW4sbz10LmhpZXJOb2RlLmk/blt0LmhpZXJOb2RlLmktMV06bnVsbDtpZihpLmxlbmd0aCl7QmgodCk7dmFyIGE9KGlbMF0uaGllck5vZGUucHJlbGltK2lbaS5sZW5ndGgtMV0uaGllck5vZGUucHJlbGltKS8yO28/KHQuaGllck5vZGUucHJlbGltPW8uaGllck5vZGUucHJlbGltK2UodCxvKSx0LmhpZXJOb2RlLm1vZGlmaWVyPXQuaGllck5vZGUucHJlbGltLWEpOnQuaGllck5vZGUucHJlbGltPWF9ZWxzZSBvJiYodC5oaWVyTm9kZS5wcmVsaW09by5oaWVyTm9kZS5wcmVsaW0rZSh0LG8pKTt0LnBhcmVudE5vZGUuaGllck5vZGUuZGVmYXVsdEFuY2VzdG9yPVZoKHQsbyx0LnBhcmVudE5vZGUuaGllck5vZGUuZGVmYXVsdEFuY2VzdG9yfHxuWzBdLGUpfWZ1bmN0aW9uIE9oKHQpe3ZhciBlPXQuaGllck5vZGUucHJlbGltK3QucGFyZW50Tm9kZS5oaWVyTm9kZS5tb2RpZmllcjt0LnNldExheW91dCh7eDplfSwhMCksdC5oaWVyTm9kZS5tb2RpZmllcis9dC5wYXJlbnROb2RlLmhpZXJOb2RlLm1vZGlmaWVyfWZ1bmN0aW9uIEVoKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3Q6Wmh9ZnVuY3Rpb24gemgodCxlKXt2YXIgaT17fTtyZXR1cm4gdC09TWF0aC5QSS8yLGkueD1lKk1hdGguY29zKHQpLGkueT1lKk1hdGguc2luKHQpLGl9ZnVuY3Rpb24gUmgodCxlKXtyZXR1cm4gUW8odC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9ZnVuY3Rpb24gQmgodCl7Zm9yKHZhciBlPXQuY2hpbGRyZW4saT1lLmxlbmd0aCxuPTAsbz0wOy0taT49MDspe3ZhciBhPWVbaV07YS5oaWVyTm9kZS5wcmVsaW0rPW4sYS5oaWVyTm9kZS5tb2RpZmllcis9bixvKz1hLmhpZXJOb2RlLmNoYW5nZSxuKz1hLmhpZXJOb2RlLnNoaWZ0K299fWZ1bmN0aW9uIFZoKHQsZSxpLG4pe2lmKGUpe2Zvcih2YXIgbz10LGE9dCxyPWEucGFyZW50Tm9kZS5jaGlsZHJlblswXSxzPWUsbD1vLmhpZXJOb2RlLm1vZGlmaWVyLHU9YS5oaWVyTm9kZS5tb2RpZmllcixoPXIuaGllck5vZGUubW9kaWZpZXIsYz1zLmhpZXJOb2RlLm1vZGlmaWVyO3M9R2gocyksYT1GaChhKSxzJiZhOyl7bz1HaChvKSxyPUZoKHIpLG8uaGllck5vZGUuYW5jZXN0b3I9dDt2YXIgZD1zLmhpZXJOb2RlLnByZWxpbStjLWEuaGllck5vZGUucHJlbGltLXUrbihzLGEpO2Q+MCYmKEhoKFdoKHMsdCxpKSx0LGQpLHUrPWQsbCs9ZCksYys9cy5oaWVyTm9kZS5tb2RpZmllcix1Kz1hLmhpZXJOb2RlLm1vZGlmaWVyLGwrPW8uaGllck5vZGUubW9kaWZpZXIsaCs9ci5oaWVyTm9kZS5tb2RpZmllcn1zJiYhR2gobykmJihvLmhpZXJOb2RlLnRocmVhZD1zLG8uaGllck5vZGUubW9kaWZpZXIrPWMtbCksYSYmIUZoKHIpJiYoci5oaWVyTm9kZS50aHJlYWQ9YSxyLmhpZXJOb2RlLm1vZGlmaWVyKz11LWgsaT10KX1yZXR1cm4gaX1mdW5jdGlvbiBHaCh0KXt2YXIgZT10LmNoaWxkcmVuO3JldHVybiBlLmxlbmd0aCYmdC5pc0V4cGFuZD9lW2UubGVuZ3RoLTFdOnQuaGllck5vZGUudGhyZWFkfWZ1bmN0aW9uIEZoKHQpe3ZhciBlPXQuY2hpbGRyZW47cmV0dXJuIGUubGVuZ3RoJiZ0LmlzRXhwYW5kP2VbMF06dC5oaWVyTm9kZS50aHJlYWR9ZnVuY3Rpb24gV2godCxlLGkpe3JldHVybiB0LmhpZXJOb2RlLmFuY2VzdG9yLnBhcmVudE5vZGU9PT1lLnBhcmVudE5vZGU/dC5oaWVyTm9kZS5hbmNlc3RvcjppfWZ1bmN0aW9uIEhoKHQsZSxpKXt2YXIgbj1pLyhlLmhpZXJOb2RlLmktdC5oaWVyTm9kZS5pKTtlLmhpZXJOb2RlLmNoYW5nZS09bixlLmhpZXJOb2RlLnNoaWZ0Kz1pLGUuaGllck5vZGUubW9kaWZpZXIrPWksZS5oaWVyTm9kZS5wcmVsaW0rPWksdC5oaWVyTm9kZS5jaGFuZ2UrPW59ZnVuY3Rpb24gWmgodCxlKXtyZXR1cm4gdC5wYXJlbnROb2RlPT09ZS5wYXJlbnROb2RlPzE6Mn1mdW5jdGlvbiBVaCh0LGUpe3ZhciBpPXQuZ2V0SXRlbUxheW91dChlKTtyZXR1cm4gaSYmIWlzTmFOKGkueCkmJiFpc05hTihpLnkpJiYibm9uZSIhPT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIil9ZnVuY3Rpb24gamgodCxlLGkpe3JldHVybiBpLml0ZW1Nb2RlbD1lLGkuaXRlbVN0eWxlPWUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLGkuaG92ZXJJdGVtU3R5bGU9ZS5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksaS5saW5lU3R5bGU9ZS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksaS5sYWJlbE1vZGVsPWUuZ2V0TW9kZWwoImxhYmVsIiksaS5ob3ZlckxhYmVsTW9kZWw9ZS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSwhMT09PXQuaXNFeHBhbmQmJjAhPT10LmNoaWxkcmVuLmxlbmd0aD9pLnN5bWJvbElubmVyQ29sb3I9aS5pdGVtU3R5bGUuZmlsbDppLnN5bWJvbElubmVyQ29sb3I9IiNmZmYiLGl9ZnVuY3Rpb24gWGgodCxlLGksbixvLGEpe3ZhciBzPSFpLGw9dC50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKSxhPWpoKGwsbC5nZXRNb2RlbCgpLGEpLHU9dC50cmVlLnJvb3QsaD1sLnBhcmVudE5vZGU9PT11P2w6bC5wYXJlbnROb2RlfHxsLGM9dC5nZXRJdGVtR3JhcGhpY0VsKGguZGF0YUluZGV4KSxkPWguZ2V0TGF5b3V0KCksZj1jP3t4OmMucG9zaXRpb25bMF0seTpjLnBvc2l0aW9uWzFdLHJhd1g6Yy5fX3JhZGlhbE9sZFJhd1gscmF3WTpjLl9fcmFkaWFsT2xkUmF3WX06ZCxwPWwuZ2V0TGF5b3V0KCk7cz8oaT1uZXcgRGwodCxlLGEpKS5hdHRyKCJwb3NpdGlvbiIsW2YueCxmLnldKTppLnVwZGF0ZURhdGEodCxlLGEpLGkuX19yYWRpYWxPbGRSYXdYPWkuX19yYWRpYWxSYXdYLGkuX19yYWRpYWxPbGRSYXdZPWkuX19yYWRpYWxSYXdZLGkuX19yYWRpYWxSYXdYPXAucmF3WCxpLl9fcmFkaWFsUmF3WT1wLnJhd1ksbi5hZGQoaSksdC5zZXRJdGVtR3JhcGhpY0VsKGUsaSksZm8oaSx7cG9zaXRpb246W3AueCxwLnldfSxvKTt2YXIgZz1pLmdldFN5bWJvbFBhdGgoKTtpZigicmFkaWFsIj09PWEubGF5b3V0KXt2YXIgbSx2LHk9dS5jaGlsZHJlblswXSx4PXkuZ2V0TGF5b3V0KCksXz15LmNoaWxkcmVuLmxlbmd0aDtpZihwLng9PT14LngmJiEwPT09bC5pc0V4cGFuZCl7dmFyIHc9e307dy54PSh5LmNoaWxkcmVuWzBdLmdldExheW91dCgpLngreS5jaGlsZHJlbltfLTFdLmdldExheW91dCgpLngpLzIsdy55PSh5LmNoaWxkcmVuWzBdLmdldExheW91dCgpLnkreS5jaGlsZHJlbltfLTFdLmdldExheW91dCgpLnkpLzIsKG09TWF0aC5hdGFuMih3LnkteC55LHcueC14LngpKTwwJiYobT0yKk1hdGguUEkrbSksKHY9dy54PHgueCkmJihtLT1NYXRoLlBJKX1lbHNlKG09TWF0aC5hdGFuMihwLnkteC55LHAueC14LngpKTwwJiYobT0yKk1hdGguUEkrbSksMD09PWwuY2hpbGRyZW4ubGVuZ3RofHwwIT09bC5jaGlsZHJlbi5sZW5ndGgmJiExPT09bC5pc0V4cGFuZD8odj1wLng8eC54KSYmKG0tPU1hdGguUEkpOih2PXAueD54LngpfHwobS09TWF0aC5QSSk7dmFyIGI9dj8ibGVmdCI6InJpZ2h0IjtnLnNldFN0eWxlKHt0ZXh0UG9zaXRpb246Yix0ZXh0Um90YXRpb246LW0sdGV4dE9yaWdpbjoiY2VudGVyIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSl9aWYobC5wYXJlbnROb2RlJiZsLnBhcmVudE5vZGUhPT11KXt2YXIgUz1pLl9fZWRnZTtTfHwoUz1pLl9fZWRnZT1uZXcgcWIoe3NoYXBlOnFoKGEsZixmKSxzdHlsZTpyKHtvcGFjaXR5OjB9LGEubGluZVN0eWxlKX0pKSxmbyhTLHtzaGFwZTpxaChhLGQscCksc3R5bGU6e29wYWNpdHk6MX19LG8pLG4uYWRkKFMpfX1mdW5jdGlvbiBZaCh0LGUsaSxuLG8sYSl7Zm9yKHZhciByLHM9dC50cmVlLmdldE5vZGVCeURhdGFJbmRleChlKSxsPXQudHJlZS5yb290LGE9amgocyxzLmdldE1vZGVsKCksYSksdT1zLnBhcmVudE5vZGU9PT1sP3M6cy5wYXJlbnROb2RlfHxzO251bGw9PShyPXUuZ2V0TGF5b3V0KCkpOyl1PXUucGFyZW50Tm9kZT09PWw/dTp1LnBhcmVudE5vZGV8fHU7Zm8oaSx7cG9zaXRpb246W3IueCsxLHIueSsxXX0sbyxmdW5jdGlvbigpe24ucmVtb3ZlKGkpLHQuc2V0SXRlbUdyYXBoaWNFbChlLG51bGwpfSksaS5mYWRlT3V0KG51bGwse2tlZXBMYWJlbDohMH0pO3ZhciBoPWkuX19lZGdlO2gmJmZvKGgse3NoYXBlOnFoKGEscixyKSxzdHlsZTp7b3BhY2l0eTowfX0sbyxmdW5jdGlvbigpe24ucmVtb3ZlKGgpfSl9ZnVuY3Rpb24gcWgodCxlLGkpe3ZhciBuLG8sYSxyLHM9dC5vcmllbnQ7aWYoInJhZGlhbCI9PT10LmxheW91dCl7dmFyIGw9ZS5yYXdYLHU9ZS5yYXdZLGg9aS5yYXdYLGM9aS5yYXdZLGQ9emgobCx1KSxmPXpoKGwsdSsoYy11KSp0LmN1cnZhdHVyZSkscD16aChoLGMrKHUtYykqdC5jdXJ2YXR1cmUpLGc9emgoaCxjKTtyZXR1cm57eDE6ZC54LHkxOmQueSx4MjpnLngseTI6Zy55LGNweDE6Zi54LGNweTE6Zi55LGNweDI6cC54LGNweTI6cC55fX12YXIgbD1lLngsdT1lLnksaD1pLngsYz1pLnk7cmV0dXJuImhvcml6b250YWwiPT09cyYmKG49bCsoaC1sKSp0LmN1cnZhdHVyZSxvPXUsYT1oKyhsLWgpKnQuY3VydmF0dXJlLHI9YyksInZlcnRpY2FsIj09PXMmJihuPWwsbz11KyhjLXUpKnQuY3VydmF0dXJlLGE9aCxyPWMrKHUtYykqdC5jdXJ2YXR1cmUpLHt4MTpsLHkxOnUseDI6aCx5MjpjLGNweDE6bixjcHkxOm8sY3B4MjphLGNweTI6cn19ZnVuY3Rpb24gJGgodCxlLGkpe2Zvcih2YXIgbixvPVt0XSxhPVtdO249by5wb3AoKTspaWYoYS5wdXNoKG4pLG4uaXNFeHBhbmQpe3ZhciByPW4uY2hpbGRyZW47aWYoci5sZW5ndGgpZm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspby5wdXNoKHJbc10pfWZvcig7bj1hLnBvcCgpOyllKG4saSl9ZnVuY3Rpb24gS2godCxlKXtmb3IodmFyIGksbj1bdF07aT1uLnBvcCgpOylpZihlKGkpLGkuaXNFeHBhbmQpe3ZhciBvPWkuY2hpbGRyZW47aWYoby5sZW5ndGgpZm9yKHZhciBhPW8ubGVuZ3RoLTE7YT49MDthLS0pbi5wdXNoKG9bYV0pfX1mdW5jdGlvbiBKaCh0LGUsaSl7aWYodCYmbChlLHQudHlwZSk+PTApe3ZhciBuPWkuZ2V0RGF0YSgpLnRyZWUucm9vdCxvPXQudGFyZ2V0Tm9kZTtpZihvJiZuLmNvbnRhaW5zKG8pKXJldHVybntub2RlOm99O3ZhciBhPXQudGFyZ2V0Tm9kZUlkO2lmKG51bGwhPWEmJihvPW4uZ2V0Tm9kZUJ5SWQoYSkpKXJldHVybntub2RlOm99fX1mdW5jdGlvbiBRaCh0KXtmb3IodmFyIGU9W107dDspKHQ9dC5wYXJlbnROb2RlKSYmZS5wdXNoKHQpO3JldHVybiBlLnJldmVyc2UoKX1mdW5jdGlvbiB0Yyh0LGUpe3JldHVybiBsKFFoKHQpLGUpPj0wfWZ1bmN0aW9uIGVjKHQsZSl7Zm9yKHZhciBpPVtdO3Q7KXt2YXIgbj10LmRhdGFJbmRleDtpLnB1c2goe25hbWU6dC5uYW1lLGRhdGFJbmRleDpuLHZhbHVlOmUuZ2V0UmF3VmFsdWUobil9KSx0PXQucGFyZW50Tm9kZX1yZXR1cm4gaS5yZXZlcnNlKCksaX1mdW5jdGlvbiBpYyh0KXt2YXIgZT0wO2QodC5jaGlsZHJlbixmdW5jdGlvbih0KXtpYyh0KTt2YXIgaT10LnZhbHVlO3koaSkmJihpPWlbMF0pLGUrPWl9KTt2YXIgaT10LnZhbHVlO3koaSkmJihpPWlbMF0pLChudWxsPT1pfHxpc05hTihpKSkmJihpPWUpLGk8MCYmKGk9MCkseSh0LnZhbHVlKT90LnZhbHVlWzBdPWk6dC52YWx1ZT1pfWZ1bmN0aW9uIG5jKHQsZSl7dmFyIGk9ZS5nZXQoImNvbG9yIik7aWYoaSl7dmFyIG47cmV0dXJuIGQodD10fHxbXSxmdW5jdGlvbih0KXt2YXIgZT1uZXcgd28odCksaT1lLmdldCgiY29sb3IiKTsoZS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpfHxpJiYibm9uZSIhPT1pKSYmKG49ITApfSksbnx8KCh0WzBdfHwodFswXT17fSkpLmNvbG9yPWkuc2xpY2UoKSksdH19ZnVuY3Rpb24gb2ModCl7dGhpcy5ncm91cD1uZXcgTF8sdC5hZGQodGhpcy5ncm91cCl9ZnVuY3Rpb24gYWModCxlLGksbixvLGEpe3ZhciByPVtbbz90OnQtWVQsZV0sW3QraSxlXSxbdCtpLGUrbl0sW28/dDp0LVlULGUrbl1dO3JldHVybiFhJiZyLnNwbGljZSgyLDAsW3QraStZVCxlK24vMl0pLCFvJiZyLnB1c2goW3QsZStuLzJdKSxyfWZ1bmN0aW9uIHJjKHQsZSxpKXt0LmV2ZW50RGF0YT17Y29tcG9uZW50VHlwZToic2VyaWVzIixjb21wb25lbnRTdWJUeXBlOiJ0cmVlbWFwIixzZXJpZXNJbmRleDplLmNvbXBvbmVudEluZGV4LHNlcmllc05hbWU6ZS5uYW1lLHNlcmllc1R5cGU6InRyZWVtYXAiLHNlbGZUeXBlOiJicmVhZGNydW1iIixub2RlRGF0YTp7ZGF0YUluZGV4OmkmJmkuZGF0YUluZGV4LG5hbWU6aSYmaS5uYW1lfSx0cmVlUGF0aEluZm86aSYmZWMoaSxlKX19ZnVuY3Rpb24gc2MoKXt2YXIgdCxlPVtdLGk9e307cmV0dXJue2FkZDpmdW5jdGlvbih0LG4sbyxhLHIpe3JldHVybiBfKGEpJiYocj1hLGE9MCksIWlbdC5pZF0mJihpW3QuaWRdPTEsZS5wdXNoKHtlbDp0LHRhcmdldDpuLHRpbWU6byxkZWxheTphLGVhc2luZzpyfSksITApfSxkb25lOmZ1bmN0aW9uKGUpe3JldHVybiB0PWUsdGhpc30sc3RhcnQ6ZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5sZW5ndGgsbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyl7dmFyIHI9ZVtvXTtyLmVsLmFuaW1hdGVUbyhyLnRhcmdldCxyLnRpbWUsci5kZWxheSxyLmVhc2luZyxmdW5jdGlvbigpey0tbnx8KGUubGVuZ3RoPTAsaT17fSx0JiZ0KCkpfSl9cmV0dXJuIHRoaXN9fX1mdW5jdGlvbiBsYyh0LGUsbixvLHIscyxsLHUsaCxjKXtmdW5jdGlvbiBkKHQsZSl7dz8hdC5pbnZpc2libGUmJnMucHVzaCh0KTooZSgpLHQuX190bVdpbGxWaXNpYmxlfHwodC5pbnZpc2libGU9ITEpKX1mdW5jdGlvbiBmKGUsbixvLGEscixzKXt2YXIgdT1sLmdldE1vZGVsKCksaD1EKHQuZ2V0Rm9ybWF0dGVkTGFiZWwobC5kYXRhSW5kZXgsIm5vcm1hbCIsbnVsbCxudWxsLHM/InVwcGVyTGFiZWwiOiJsYWJlbCIpLHUuZ2V0KCJuYW1lIikpO2lmKCFzJiZ2LmlzTGVhZlJvb3Qpe3ZhciBjPXQuZ2V0KCJkcmlsbERvd25JY29uIiwhMCk7aD1jP2MrIiAiK2g6aH12YXIgZD11LmdldE1vZGVsKHM/ZUE6UVQpLGY9dS5nZXRNb2RlbChzP2lBOnRBKSxwPWQuZ2V0U2hhbGxvdygic2hvdyIpO2lvKGUsbixkLGYse2RlZmF1bHRUZXh0OnA/aDpudWxsLGF1dG9Db2xvcjpvLGlzUmVjdFRleHQ6ITB9KSxzJiYoZS50ZXh0UmVjdD1pKHMpKSxlLnRydW5jYXRlPXAmJmQuZ2V0KCJlbGxpcHNpcyIpP3tvdXRlcldpZHRoOmEsb3V0ZXJIZWlnaHQ6cixtaW5DaGFyOjJ9Om51bGx9ZnVuY3Rpb24gcCh0LGksbyxhKXt2YXIgcz1udWxsIT1TJiZuW3RdW1NdLGw9clt0XTtyZXR1cm4gcz8oblt0XVtTXT1udWxsLGcobCxzLHQpKTp3fHwoKHM9bmV3IGkoe3o6dWMobyxhKX0pKS5fX3RtRGVwdGg9byxzLl9fdG1TdG9yYWdlTmFtZT10LG0obCxzLHQpKSxlW3RdW2JdPXN9ZnVuY3Rpb24gZyh0LGUsaSl7KHRbYl09e30pLm9sZD0ibm9kZUdyb3VwIj09PWk/ZS5wb3NpdGlvbi5zbGljZSgpOmEoe30sZS5zaGFwZSl9ZnVuY3Rpb24gbSh0LGUsaSl7dmFyIG49dFtiXT17fSxhPWwucGFyZW50Tm9kZTtpZihhJiYoIW98fCJkcmlsbERvd24iPT09by5kaXJlY3Rpb24pKXt2YXIgcz0wLHU9MCxoPXIuYmFja2dyb3VuZFthLmdldFJhd0luZGV4KCldOyFvJiZoJiZoLm9sZCYmKHM9aC5vbGQud2lkdGgsdT1oLm9sZC5oZWlnaHQpLG4ub2xkPSJub2RlR3JvdXAiPT09aT9bMCx1XTp7eDpzLHk6dSx3aWR0aDowLGhlaWdodDowfX1uLmZhZGVpbj0ibm9kZUdyb3VwIiE9PWl9aWYobCl7dmFyIHY9bC5nZXRMYXlvdXQoKTtpZih2JiZ2LmlzSW5WaWV3KXt2YXIgeT12LndpZHRoLHg9di5oZWlnaHQsXz12LmJvcmRlcldpZHRoLHc9di5pbnZpc2libGUsYj1sLmdldFJhd0luZGV4KCksUz11JiZ1LmdldFJhd0luZGV4KCksTT1sLnZpZXdDaGlsZHJlbixJPXYudXBwZXJIZWlnaHQsVD1NJiZNLmxlbmd0aCxBPWwuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLEM9bC5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIiksTD1wKCJub2RlR3JvdXAiLCRUKTtpZihMKXtpZihoLmFkZChMKSxMLmF0dHIoInBvc2l0aW9uIixbdi54fHwwLHYueXx8MF0pLEwuX190bU5vZGVXaWR0aD15LEwuX190bU5vZGVIZWlnaHQ9eCx2LmlzQWJvdmVWaWV3Um9vdClyZXR1cm4gTDt2YXIgaz1wKCJiYWNrZ3JvdW5kIixLVCxjLG9BKTtpZihrJiZmdW5jdGlvbihlLGksbil7aS5kYXRhSW5kZXg9bC5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LGkuc2V0U2hhcGUoe3g6MCx5OjAsd2lkdGg6eSxoZWlnaHQ6eH0pO3ZhciBvPWwuZ2V0VmlzdWFsKCJib3JkZXJDb2xvciIsITApLGE9Qy5nZXQoImJvcmRlckNvbG9yIik7ZChpLGZ1bmN0aW9uKCl7dmFyIHQ9c0EoQSk7dC5maWxsPW87dmFyIGU9ckEoQyk7aWYoZS5maWxsPWEsbil7dmFyIHI9eS0yKl87Zih0LGUsbyxyLEkse3g6Xyx5OjAsd2lkdGg6cixoZWlnaHQ6SX0pfWVsc2UgdC50ZXh0PWUudGV4dD1udWxsO2kuc2V0U3R5bGUodCksZW8oaSxlKX0pLGUuYWRkKGkpfShMLGssVCYmdi51cHBlckhlaWdodCksIVQpe3ZhciBQPXAoImNvbnRlbnQiLEtULGMsYUEpO1AmJmZ1bmN0aW9uKGUsaSl7aS5kYXRhSW5kZXg9bC5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4O3ZhciBuPU1hdGgubWF4KHktMipfLDApLG89TWF0aC5tYXgoeC0yKl8sMCk7aS5jdWxsaW5nPSEwLGkuc2V0U2hhcGUoe3g6Xyx5Ol8sd2lkdGg6bixoZWlnaHQ6b30pO3ZhciBhPWwuZ2V0VmlzdWFsKCJjb2xvciIsITApO2QoaSxmdW5jdGlvbigpe3ZhciB0PXNBKEEpO3QuZmlsbD1hO3ZhciBlPXJBKEMpO2YodCxlLGEsbixvKSxpLnNldFN0eWxlKHQpLGVvKGksZSl9KSxlLmFkZChpKX0oTCxQKX1yZXR1cm4gTH19fX1mdW5jdGlvbiB1Yyh0LGUpe3ZhciBpPXQqbkErZTtyZXR1cm4oaS0xKS9pfWZ1bmN0aW9uIGhjKHQpe3ZhciBlPXQucGllY2VMaXN0O3QuaGFzU3BlY2lhbFZpc3VhbD0hMSxkKGUsZnVuY3Rpb24oZSxpKXtlLm9yaWdpbkluZGV4PWksbnVsbCE9ZS52aXN1YWwmJih0Lmhhc1NwZWNpYWxWaXN1YWw9ITApfSl9ZnVuY3Rpb24gY2ModCl7dmFyIGU9dC5jYXRlZ29yaWVzLGk9dC52aXN1YWwsbj10LmNhdGVnb3J5TWFwPXt9O2lmKGhBKGUsZnVuY3Rpb24odCxlKXtuW3RdPWV9KSwheShpKSl7dmFyIG89W107dyhpKT9oQShpLGZ1bmN0aW9uKHQsZSl7dmFyIGk9bltlXTtvW251bGwhPWk/aTpkQV09dH0pOm9bZEFdPWksaT1fYyh0LG8pfWZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKW51bGw9PWlbYV0mJihkZWxldGUgbltlW2FdXSxlLnBvcCgpKX1mdW5jdGlvbiBkYyh0LGUpe3ZhciBpPXQudmlzdWFsLG49W107dyhpKT9oQShpLGZ1bmN0aW9uKHQpe24ucHVzaCh0KX0pOm51bGwhPWkmJm4ucHVzaChpKTt2YXIgbz17Y29sb3I6MSxzeW1ib2w6MX07ZXx8MSE9PW4ubGVuZ3RofHxvLmhhc093blByb3BlcnR5KHQudHlwZSl8fChuWzFdPW5bMF0pLF9jKHQsbil9ZnVuY3Rpb24gZmModCl7cmV0dXJue2FwcGx5VmlzdWFsOmZ1bmN0aW9uKGUsaSxuKXtlPXRoaXMubWFwVmFsdWVUb1Zpc3VhbChlKSxuKCJjb2xvciIsdChpKCJjb2xvciIpLGUpKX0sX2RvTWFwOnljKFswLDFdKX19ZnVuY3Rpb24gcGModCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBlW01hdGgucm91bmQoRG8odCxbMCwxXSxbMCxlLmxlbmd0aC0xXSwhMCkpXXx8e319ZnVuY3Rpb24gZ2ModCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSxuKXtuKHQsdGhpcy5tYXBWYWx1ZVRvVmlzdWFsKGUpKX19ZnVuY3Rpb24gbWModCl7dmFyIGU9dGhpcy5vcHRpb24udmlzdWFsO3JldHVybiBlW3RoaXMub3B0aW9uLmxvb3AmJnQhPT1kQT90JWUubGVuZ3RoOnRdfWZ1bmN0aW9uIHZjKCl7cmV0dXJuIHRoaXMub3B0aW9uLnZpc3VhbFswXX1mdW5jdGlvbiB5Yyh0KXtyZXR1cm57bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBEbyhlLHQsdGhpcy5vcHRpb24udmlzdWFsLCEwKX0sY2F0ZWdvcnk6bWMscGllY2V3aXNlOmZ1bmN0aW9uKGUsaSl7dmFyIG49eGMuY2FsbCh0aGlzLGkpO3JldHVybiBudWxsPT1uJiYobj1EbyhlLHQsdGhpcy5vcHRpb24udmlzdWFsLCEwKSksbn0sZml4ZWQ6dmN9fWZ1bmN0aW9uIHhjKHQpe3ZhciBlPXRoaXMub3B0aW9uLGk9ZS5waWVjZUxpc3Q7aWYoZS5oYXNTcGVjaWFsVmlzdWFsKXt2YXIgbj1pW2ZBLmZpbmRQaWVjZUluZGV4KHQsaSldO2lmKG4mJm4udmlzdWFsKXJldHVybiBuLnZpc3VhbFt0aGlzLnR5cGVdfX1mdW5jdGlvbiBfYyh0LGUpe3JldHVybiB0LnZpc3VhbD1lLCJjb2xvciI9PT10LnR5cGUmJih0LnBhcnNlZFZpc3VhbD1mKGUsZnVuY3Rpb24odCl7cmV0dXJuIEF0KHQpfSkpLGV9ZnVuY3Rpb24gd2ModCxlLGkpe3JldHVybiB0P2U8PWk6ZTxpfWZ1bmN0aW9uIGJjKHQsZSxpLG4sbyxhKXt2YXIgcj10LmdldE1vZGVsKCkscz10LmdldExheW91dCgpO2lmKHMmJiFzLmludmlzaWJsZSYmcy5pc0luVmlldyl7dmFyIGwsdT10LmdldE1vZGVsKHZBKSxoPVNjKHUsZSxpW3QuZGVwdGhdLG4pLGM9dS5nZXQoImJvcmRlckNvbG9yIiksZj11LmdldCgiYm9yZGVyQ29sb3JTYXR1cmF0aW9uIik7bnVsbCE9ZiYmKGM9SWMoZixsPU1jKGgpKSksdC5zZXRWaXN1YWwoImJvcmRlckNvbG9yIixjKTt2YXIgcD10LnZpZXdDaGlsZHJlbjtpZihwJiZwLmxlbmd0aCl7dmFyIGc9VGModCxyLHMsdSxoLHApO2QocCxmdW5jdGlvbih0LGUpeyh0LmRlcHRoPj1vLmxlbmd0aHx8dD09PW9bdC5kZXB0aF0pJiZiYyh0LENjKHIsaCx0LGUsZyxhKSxpLG4sbyxhKX0pfWVsc2UgbD1NYyhoKSx0LnNldFZpc3VhbCgiY29sb3IiLGwpfX1mdW5jdGlvbiBTYyh0LGUsaSxuKXt2YXIgbz1hKHt9LGUpO3JldHVybiBkKFsiY29sb3IiLCJjb2xvckFscGhhIiwiY29sb3JTYXR1cmF0aW9uIl0sZnVuY3Rpb24oYSl7dmFyIHI9dC5nZXQoYSwhMCk7bnVsbD09ciYmaSYmKHI9aVthXSksbnVsbD09ciYmKHI9ZVthXSksbnVsbD09ciYmKHI9bi5nZXQoYSkpLG51bGwhPXImJihvW2FdPXIpfSksb31mdW5jdGlvbiBNYyh0KXt2YXIgZT1EYyh0LCJjb2xvciIpO2lmKGUpe3ZhciBpPURjKHQsImNvbG9yQWxwaGEiKSxuPURjKHQsImNvbG9yU2F0dXJhdGlvbiIpO3JldHVybiBuJiYoZT1FdChlLG51bGwsbnVsbCxuKSksaSYmKGU9enQoZSxpKSksZX19ZnVuY3Rpb24gSWModCxlKXtyZXR1cm4gbnVsbCE9ZT9FdChlLG51bGwsbnVsbCx0KTpudWxsfWZ1bmN0aW9uIERjKHQsZSl7dmFyIGk9dFtlXTtpZihudWxsIT1pJiYibm9uZSIhPT1pKXJldHVybiBpfWZ1bmN0aW9uIFRjKHQsZSxpLG4sbyxhKXtpZihhJiZhLmxlbmd0aCl7dmFyIHI9QWMoZSwiY29sb3IiKXx8bnVsbCE9by5jb2xvciYmIm5vbmUiIT09by5jb2xvciYmKEFjKGUsImNvbG9yQWxwaGEiKXx8QWMoZSwiY29sb3JTYXR1cmF0aW9uIikpO2lmKHIpe3ZhciBzPWUuZ2V0KCJ2aXN1YWxNaW4iKSxsPWUuZ2V0KCJ2aXN1YWxNYXgiKSx1PWkuZGF0YUV4dGVudC5zbGljZSgpO251bGwhPXMmJnM8dVswXSYmKHVbMF09cyksbnVsbCE9bCYmbD51WzFdJiYodVsxXT1sKTt2YXIgaD1lLmdldCgiY29sb3JNYXBwaW5nQnkiKSxjPXt0eXBlOnIubmFtZSxkYXRhRXh0ZW50OnUsdmlzdWFsOnIucmFuZ2V9OyJjb2xvciIhPT1jLnR5cGV8fCJpbmRleCIhPT1oJiYiaWQiIT09aD9jLm1hcHBpbmdNZXRob2Q9ImxpbmVhciI6KGMubWFwcGluZ01ldGhvZD0iY2F0ZWdvcnkiLGMubG9vcD0hMCk7dmFyIGQ9bmV3IGZBKGMpO3JldHVybiBkLl9fZHJDb2xvck1hcHBpbmdCeT1oLGR9fX1mdW5jdGlvbiBBYyh0LGUpe3ZhciBpPXQuZ2V0KGUpO3JldHVybiBtQShpKSYmaS5sZW5ndGg/e25hbWU6ZSxyYW5nZTppfTpudWxsfWZ1bmN0aW9uIENjKHQsZSxpLG4sbyxyKXt2YXIgcz1hKHt9LGUpO2lmKG8pe3ZhciBsPW8udHlwZSx1PSJjb2xvciI9PT1sJiZvLl9fZHJDb2xvck1hcHBpbmdCeSxoPSJpbmRleCI9PT11P246ImlkIj09PXU/ci5tYXBJZFRvSW5kZXgoaS5nZXRJZCgpKTppLmdldFZhbHVlKHQuZ2V0KCJ2aXN1YWxEaW1lbnNpb24iKSk7c1tsXT1vLm1hcFZhbHVlVG9WaXN1YWwoaCl9cmV0dXJuIHN9ZnVuY3Rpb24gTGModCxlLGksbil7dmFyIG8sYTtpZighdC5pc1JlbW92ZWQoKSl7dmFyIHI9dC5nZXRMYXlvdXQoKTtvPXIud2lkdGgsYT1yLmhlaWdodDt2YXIgcz0oZj10LmdldE1vZGVsKCkpLmdldChTQSksbD1mLmdldChNQSkvMix1PUdjKGYpLGg9TWF0aC5tYXgocyx1KSxjPXMtbCxkPWgtbCxmPXQuZ2V0TW9kZWwoKTt0LnNldExheW91dCh7Ym9yZGVyV2lkdGg6cyx1cHBlckhlaWdodDpoLHVwcGVyTGFiZWxIZWlnaHQ6dX0sITApO3ZhciBwPShvPXhBKG8tMipjLDApKSooYT14QShhLWMtZCwwKSksZz1rYyh0LGYscCxlLGksbik7aWYoZy5sZW5ndGgpe3ZhciBtPXt4OmMseTpkLHdpZHRoOm8saGVpZ2h0OmF9LHY9X0EobyxhKSx5PTEvMCx4PVtdO3guYXJlYT0wO2Zvcih2YXIgXz0wLHc9Zy5sZW5ndGg7Xzx3Oyl7dmFyIGI9Z1tfXTt4LnB1c2goYikseC5hcmVhKz1iLmdldExheW91dCgpLmFyZWE7dmFyIFM9RWMoeCx2LGUuc3F1YXJlUmF0aW8pO1M8PXk/KF8rKyx5PVMpOih4LmFyZWEtPXgucG9wKCkuZ2V0TGF5b3V0KCkuYXJlYSx6Yyh4LHYsbSxsLCExKSx2PV9BKG0ud2lkdGgsbS5oZWlnaHQpLHgubGVuZ3RoPXguYXJlYT0wLHk9MS8wKX1pZih4Lmxlbmd0aCYmemMoeCx2LG0sbCwhMCksIWkpe3ZhciBNPWYuZ2V0KCJjaGlsZHJlblZpc2libGVNaW4iKTtudWxsIT1NJiZwPE0mJihpPSEwKX1mb3IodmFyIF89MCx3PWcubGVuZ3RoO188dztfKyspTGMoZ1tfXSxlLGksbisxKX19fWZ1bmN0aW9uIGtjKHQsZSxpLG4sbyxhKXt2YXIgcj10LmNoaWxkcmVufHxbXSxzPW4uc29ydDsiYXNjIiE9PXMmJiJkZXNjIiE9PXMmJihzPW51bGwpO3ZhciBsPW51bGwhPW4ubGVhZkRlcHRoJiZuLmxlYWZEZXB0aDw9YTtpZihvJiYhbClyZXR1cm4gdC52aWV3Q2hpbGRyZW49W107TmMocj1nKHIsZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNSZW1vdmVkKCl9KSxzKTt2YXIgdT1PYyhlLHIscyk7aWYoMD09PXUuc3VtKXJldHVybiB0LnZpZXdDaGlsZHJlbj1bXTtpZih1LnN1bT1QYyhlLGksdS5zdW0scyxyKSwwPT09dS5zdW0pcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdO2Zvcih2YXIgaD0wLGM9ci5sZW5ndGg7aDxjO2grKyl7dmFyIGQ9cltoXS5nZXRWYWx1ZSgpL3Uuc3VtKmk7cltoXS5zZXRMYXlvdXQoe2FyZWE6ZH0pfXJldHVybiBsJiYoci5sZW5ndGgmJnQuc2V0TGF5b3V0KHtpc0xlYWZSb290OiEwfSwhMCksci5sZW5ndGg9MCksdC52aWV3Q2hpbGRyZW49cix0LnNldExheW91dCh7ZGF0YUV4dGVudDp1LmRhdGFFeHRlbnR9LCEwKSxyfWZ1bmN0aW9uIFBjKHQsZSxpLG4sbyl7aWYoIW4pcmV0dXJuIGk7Zm9yKHZhciBhPXQuZ2V0KCJ2aXNpYmxlTWluIikscj1vLmxlbmd0aCxzPXIsbD1yLTE7bD49MDtsLS0pe3ZhciB1PW9bImFzYyI9PT1uP3ItbC0xOmxdLmdldFZhbHVlKCk7dS9pKmU8YSYmKHM9bCxpLT11KX1yZXR1cm4iYXNjIj09PW4/by5zcGxpY2UoMCxyLXMpOm8uc3BsaWNlKHMsci1zKSxpfWZ1bmN0aW9uIE5jKHQsZSl7cmV0dXJuIGUmJnQuc29ydChmdW5jdGlvbih0LGkpe3ZhciBuPSJhc2MiPT09ZT90LmdldFZhbHVlKCktaS5nZXRWYWx1ZSgpOmkuZ2V0VmFsdWUoKS10LmdldFZhbHVlKCk7cmV0dXJuIDA9PT1uPyJhc2MiPT09ZT90LmRhdGFJbmRleC1pLmRhdGFJbmRleDppLmRhdGFJbmRleC10LmRhdGFJbmRleDpufSksdH1mdW5jdGlvbiBPYyh0LGUsaSl7Zm9yKHZhciBuPTAsbz0wLGE9ZS5sZW5ndGg7bzxhO28rKyluKz1lW29dLmdldFZhbHVlKCk7dmFyIHI9dC5nZXQoInZpc3VhbERpbWVuc2lvbiIpO2lmKGUmJmUubGVuZ3RoKWlmKCJ2YWx1ZSI9PT1yJiZpKXM9W2VbZS5sZW5ndGgtMV0uZ2V0VmFsdWUoKSxlWzBdLmdldFZhbHVlKCldLCJhc2MiPT09aSYmcy5yZXZlcnNlKCk7ZWxzZXt2YXIgcz1bMS8wLC0xLzBdO2JBKGUsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRWYWx1ZShyKTtlPHNbMF0mJihzWzBdPWUpLGU+c1sxXSYmKHNbMV09ZSl9KX1lbHNlIHM9W05hTixOYU5dO3JldHVybntzdW06bixkYXRhRXh0ZW50OnN9fWZ1bmN0aW9uIEVjKHQsZSxpKXtmb3IodmFyIG4sbz0wLGE9MS8wLHI9MCxzPXQubGVuZ3RoO3I8cztyKyspKG49dFtyXS5nZXRMYXlvdXQoKS5hcmVhKSYmKG48YSYmKGE9biksbj5vJiYobz1uKSk7dmFyIGw9dC5hcmVhKnQuYXJlYSx1PWUqZSppO3JldHVybiBsP3hBKHUqby9sLGwvKHUqYSkpOjEvMH1mdW5jdGlvbiB6Yyh0LGUsaSxuLG8pe3ZhciBhPWU9PT1pLndpZHRoPzA6MSxyPTEtYSxzPVsieCIsInkiXSxsPVsid2lkdGgiLCJoZWlnaHQiXSx1PWlbc1thXV0saD1lP3QuYXJlYS9lOjA7KG98fGg+aVtsW3JdXSkmJihoPWlbbFtyXV0pO2Zvcih2YXIgYz0wLGQ9dC5sZW5ndGg7YzxkO2MrKyl7dmFyIGY9dFtjXSxwPXt9LGc9aD9mLmdldExheW91dCgpLmFyZWEvaDowLG09cFtsW3JdXT14QShoLTIqbiwwKSx2PWlbc1thXV0raVtsW2FdXS11LHk9Yz09PWQtMXx8djxnP3Y6Zyx4PXBbbFthXV09eEEoeS0yKm4sMCk7cFtzW3JdXT1pW3Nbcl1dK19BKG4sbS8yKSxwW3NbYV1dPXUrX0Eobix4LzIpLHUrPXksZi5zZXRMYXlvdXQocCwhMCl9aVtzW3JdXSs9aCxpW2xbcl1dLT1ofWZ1bmN0aW9uIFJjKHQsZSxpLG4sbyl7dmFyIGE9KGV8fHt9KS5ub2RlLHI9W24sb107aWYoIWF8fGE9PT1pKXJldHVybiByO2Zvcih2YXIgcyxsPW4qbyx1PWwqdC5vcHRpb24uem9vbVRvTm9kZVJhdGlvO3M9YS5wYXJlbnROb2RlOyl7Zm9yKHZhciBoPTAsYz1zLmNoaWxkcmVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspaCs9Y1tkXS5nZXRWYWx1ZSgpO3ZhciBwPWEuZ2V0VmFsdWUoKTtpZigwPT09cClyZXR1cm4gcjt1Kj1oL3A7dmFyIGc9cy5nZXRNb2RlbCgpLG09Zy5nZXQoU0EpOyh1Kz00Km0qbSsoMyptK01hdGgubWF4KG0sR2MoZykpKSpNYXRoLnBvdyh1LC41KSk+bVMmJih1PW1TKSxhPXN9dTxsJiYodT1sKTt2YXIgdj1NYXRoLnBvdyh1L2wsLjUpO3JldHVybltuKnYsbyp2XX1mdW5jdGlvbiBCYyh0LGUsaSl7aWYoZSlyZXR1cm57eDplLngseTplLnl9O3ZhciBuPXt4OjAseTowfTtpZighaSlyZXR1cm4gbjt2YXIgbz1pLm5vZGUsYT1vLmdldExheW91dCgpO2lmKCFhKXJldHVybiBuO2Zvcih2YXIgcj1bYS53aWR0aC8yLGEuaGVpZ2h0LzJdLHM9bztzOyl7dmFyIGw9cy5nZXRMYXlvdXQoKTtyWzBdKz1sLngsclsxXSs9bC55LHM9cy5wYXJlbnROb2RlfXJldHVybnt4OnQud2lkdGgvMi1yWzBdLHk6dC5oZWlnaHQvMi1yWzFdfX1mdW5jdGlvbiBWYyh0LGUsaSxuLG8pe3ZhciBhPXQuZ2V0TGF5b3V0KCkscj1pW29dLHM9ciYmcj09PXQ7aWYoIShyJiYhc3x8bz09PWkubGVuZ3RoJiZ0IT09bikpe3Quc2V0TGF5b3V0KHtpc0luVmlldzohMCxpbnZpc2libGU6IXMmJiFlLmludGVyc2VjdChhKSxpc0Fib3ZlVmlld1Jvb3Q6c30sITApO3ZhciBsPW5ldyBLdChlLngtYS54LGUueS1hLnksZS53aWR0aCxlLmhlaWdodCk7YkEodC52aWV3Q2hpbGRyZW58fFtdLGZ1bmN0aW9uKHQpe1ZjKHQsbCxpLG4sbysxKX0pfX1mdW5jdGlvbiBHYyh0KXtyZXR1cm4gdC5nZXQoSUEpP3QuZ2V0KERBKTowfWZ1bmN0aW9uIEZjKHQpe3JldHVybiJfRUNfIit0fWZ1bmN0aW9uIFdjKHQsZSl7dGhpcy5pZD1udWxsPT10PyIiOnQsdGhpcy5pbkVkZ2VzPVtdLHRoaXMub3V0RWRnZXM9W10sdGhpcy5lZGdlcz1bXSx0aGlzLmhvc3RHcmFwaCx0aGlzLmRhdGFJbmRleD1udWxsPT1lPy0xOmV9ZnVuY3Rpb24gSGModCxlLGkpe3RoaXMubm9kZTE9dCx0aGlzLm5vZGUyPWUsdGhpcy5kYXRhSW5kZXg9bnVsbD09aT8tMTppfWZ1bmN0aW9uIFpjKHQpe3JldHVybiBpc05hTigrdC5jcHgxKXx8aXNOYU4oK3QuY3B5MSl9ZnVuY3Rpb24gVWModCl7cmV0dXJuIl8iK3QrIlR5cGUifWZ1bmN0aW9uIGpjKHQsZSxpKXt2YXIgbj1lLmdldEl0ZW1WaXN1YWwoaSwiY29sb3IiKSxvPWUuZ2V0SXRlbVZpc3VhbChpLHQpLGE9ZS5nZXRJdGVtVmlzdWFsKGksdCsiU2l6ZSIpO2lmKG8mJiJub25lIiE9PW8pe3koYSl8fChhPVthLGFdKTt2YXIgcj1tbChvLC1hWzBdLzIsLWFbMV0vMixhWzBdLGFbMV0sbik7cmV0dXJuIHIubmFtZT10LHJ9fWZ1bmN0aW9uIFhjKHQpe3ZhciBlPW5ldyBFQSh7bmFtZToibGluZSJ9KTtyZXR1cm4gWWMoZS5zaGFwZSx0KSxlfWZ1bmN0aW9uIFljKHQsZSl7dmFyIGk9ZVswXSxuPWVbMV0sbz1lWzJdO3QueDE9aVswXSx0LnkxPWlbMV0sdC54Mj1uWzBdLHQueTI9blsxXSx0LnBlcmNlbnQ9MSxvPyh0LmNweDE9b1swXSx0LmNweTE9b1sxXSk6KHQuY3B4MT1OYU4sdC5jcHkxPU5hTil9ZnVuY3Rpb24gcWModCxlLGkpe0xfLmNhbGwodGhpcyksdGhpcy5fY3JlYXRlTGluZSh0LGUsaSl9ZnVuY3Rpb24gJGModCl7dGhpcy5fY3Rvcj10fHxxYyx0aGlzLmdyb3VwPW5ldyBMX31mdW5jdGlvbiBLYyh0LGUsaSxuKXtpZihlZChlLmdldEl0ZW1MYXlvdXQoaSkpKXt2YXIgbz1uZXcgdC5fY3RvcihlLGksbik7ZS5zZXRJdGVtR3JhcGhpY0VsKGksbyksdC5ncm91cC5hZGQobyl9fWZ1bmN0aW9uIEpjKHQsZSxpLG4sbyxhKXt2YXIgcj1lLmdldEl0ZW1HcmFwaGljRWwobik7ZWQoaS5nZXRJdGVtTGF5b3V0KG8pKT8ocj9yLnVwZGF0ZURhdGEoaSxvLGEpOnI9bmV3IHQuX2N0b3IoaSxvLGEpLGkuc2V0SXRlbUdyYXBoaWNFbChvLHIpLHQuZ3JvdXAuYWRkKHIpKTp0Lmdyb3VwLnJlbW92ZShyKX1mdW5jdGlvbiBRYyh0KXt2YXIgZT10Lmhvc3RNb2RlbDtyZXR1cm57bGluZVN0eWxlOmUuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGhvdmVyTGluZVN0eWxlOmUuZ2V0TW9kZWwoImVtcGhhc2lzLmxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGxhYmVsTW9kZWw6ZS5nZXRNb2RlbCgibGFiZWwiKSxob3ZlckxhYmVsTW9kZWw6ZS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKX19ZnVuY3Rpb24gdGQodCl7cmV0dXJuIGlzTmFOKHRbMF0pfHxpc05hTih0WzFdKX1mdW5jdGlvbiBlZCh0KXtyZXR1cm4hdGQodFswXSkmJiF0ZCh0WzFdKX1mdW5jdGlvbiBpZCh0LGUsaSl7Zm9yKHZhciBuLG89dFswXSxhPXRbMV0scj10WzJdLHM9MS8wLGw9aSppLHU9LjEsaD0uMTtoPD0uOTtoKz0uMSlWQVswXT1XQShvWzBdLGFbMF0sclswXSxoKSxWQVsxXT1XQShvWzFdLGFbMV0sclsxXSxoKSwoZj1aQShIQShWQSxlKS1sKSk8cyYmKHM9ZixuPWgpO2Zvcih2YXIgYz0wO2M8MzI7YysrKXt2YXIgZD1uK3U7R0FbMF09V0Eob1swXSxhWzBdLHJbMF0sbiksR0FbMV09V0Eob1sxXSxhWzFdLHJbMV0sbiksRkFbMF09V0Eob1swXSxhWzBdLHJbMF0sZCksRkFbMV09V0Eob1sxXSxhWzFdLHJbMV0sZCk7dmFyIGY9SEEoR0EsZSktbDtpZihaQShmKTwuMDEpYnJlYWs7dmFyIHA9SEEoRkEsZSktbDt1Lz0yLGY8MD9wPj0wP24rPXU6bi09dTpwPj0wP24tPXU6bis9dX1yZXR1cm4gbn1mdW5jdGlvbiBuZCh0LGUpe3JldHVybiB0LmdldFZpc3VhbCgib3BhY2l0eSIpfHx0LmdldE1vZGVsKCkuZ2V0KGUpfWZ1bmN0aW9uIG9kKHQsZSxpKXt2YXIgbj10LmdldEdyYXBoaWNFbCgpLG89bmQodCxlKTtudWxsIT1pJiYobnVsbD09byYmKG89MSksbyo9aSksbi5kb3ducGxheSYmbi5kb3ducGxheSgpLG4udHJhdmVyc2UoZnVuY3Rpb24odCl7Imdyb3VwIiE9PXQudHlwZSYmdC5zZXRTdHlsZSgib3BhY2l0eSIsbyl9KX1mdW5jdGlvbiBhZCh0LGUpe3ZhciBpPW5kKHQsZSksbj10LmdldEdyYXBoaWNFbCgpO24uaGlnaGxpZ2h0JiZuLmhpZ2hsaWdodCgpLG4udHJhdmVyc2UoZnVuY3Rpb24odCl7Imdyb3VwIiE9PXQudHlwZSYmdC5zZXRTdHlsZSgib3BhY2l0eSIsaSl9KX1mdW5jdGlvbiByZCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdCx0XSksdH1mdW5jdGlvbiBzZCh0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIWV8fCJ2aWV3Ij09PWUudHlwZSl7dmFyIGk9dC5nZXRHcmFwaCgpO2kuZWFjaE5vZGUoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRNb2RlbCgpO3Quc2V0TGF5b3V0KFsrZS5nZXQoIngiKSwrZS5nZXQoInkiKV0pfSksbGQoaSl9fWZ1bmN0aW9uIGxkKHQpe3QuZWFjaEVkZ2UoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRNb2RlbCgpLmdldCgibGluZVN0eWxlLmN1cnZlbmVzcyIpfHwwLGk9Rih0Lm5vZGUxLmdldExheW91dCgpKSxuPUYodC5ub2RlMi5nZXRMYXlvdXQoKSksbz1baSxuXTsrZSYmby5wdXNoKFsoaVswXStuWzBdKS8yLShpWzFdLW5bMV0pKmUsKGlbMV0rblsxXSkvMi0oblswXS1pWzBdKSplXSksdC5zZXRMYXlvdXQobyl9KX1mdW5jdGlvbiB1ZCh0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoIWV8fCJ2aWV3Ij09PWUudHlwZSl7dmFyIGk9ZS5nZXRCb3VuZGluZ1JlY3QoKSxuPXQuZ2V0RGF0YSgpLG89bi5ncmFwaCxhPTAscj1uLmdldFN1bSgidmFsdWUiKSxzPTIqTWF0aC5QSS8ocnx8bi5jb3VudCgpKSxsPWkud2lkdGgvMitpLngsdT1pLmhlaWdodC8yK2kueSxoPU1hdGgubWluKGkud2lkdGgsaS5oZWlnaHQpLzI7by5lYWNoTm9kZShmdW5jdGlvbih0KXt2YXIgZT10LmdldFZhbHVlKCJ2YWx1ZSIpO2ErPXMqKHI/ZToxKS8yLHQuc2V0TGF5b3V0KFtoKk1hdGguY29zKGEpK2wsaCpNYXRoLnNpbihhKSt1XSksYSs9cyoocj9lOjEpLzJ9KSxuLnNldExheW91dCh7Y3g6bCxjeTp1fSksby5lYWNoRWRnZShmdW5jdGlvbih0KXt2YXIgZSxpPXQuZ2V0TW9kZWwoKS5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKXx8MCxuPUYodC5ub2RlMS5nZXRMYXlvdXQoKSksbz1GKHQubm9kZTIuZ2V0TGF5b3V0KCkpLGE9KG5bMF0rb1swXSkvMixyPShuWzFdK29bMV0pLzI7K2kmJihlPVtsKihpKj0zKSthKigxLWkpLHUqaStyKigxLWkpXSksdC5zZXRMYXlvdXQoW24sbyxlXSl9KX19ZnVuY3Rpb24gaGQodCxlLGkpe2Zvcih2YXIgbj1pLnJlY3Qsbz1uLndpZHRoLGE9bi5oZWlnaHQscj1bbi54K28vMixuLnkrYS8yXSxzPW51bGw9PWkuZ3Jhdml0eT8uMTppLmdyYXZpdHksbD0wO2w8dC5sZW5ndGg7bCsrKXt2YXIgdT10W2xdO3UucHx8KHUucD1WKG8qKE1hdGgucmFuZG9tKCktLjUpK3JbMF0sYSooTWF0aC5yYW5kb20oKS0uNSkrclsxXSkpLHUucHA9Rih1LnApLHUuZWRnZXM9bnVsbH12YXIgaD0uNjtyZXR1cm57d2FybVVwOmZ1bmN0aW9uKCl7aD0uNX0sc2V0Rml4ZWQ6ZnVuY3Rpb24oZSl7dFtlXS5maXhlZD0hMH0sc2V0VW5maXhlZDpmdW5jdGlvbihlKXt0W2VdLmZpeGVkPSExfSxzdGVwOmZ1bmN0aW9uKGkpe2Zvcih2YXIgbj1bXSxvPXQubGVuZ3RoLGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIGw9ZVthXSx1PWwubjE7VShuLChwPWwubjIpLnAsdS5wKTt2YXIgYz1qKG4pLWwuZCxkPXAudy8odS53K3Audyk7aXNOYU4oZCkmJihkPTApLHEobixuKSwhdS5maXhlZCYmWUEodS5wLHUucCxuLGQqYypoKSwhcC5maXhlZCYmWUEocC5wLHAucCxuLC0oMS1kKSpjKmgpfWZvcihhPTA7YTxvO2ErKykodj10W2FdKS5maXhlZHx8KFUobixyLHYucCksWUEodi5wLHYucCxuLHMqaCkpO2ZvcihhPTA7YTxvO2ErKylmb3IodmFyIHU9dFthXSxmPWErMTtmPG87ZisrKXt2YXIgcD10W2ZdO1UobixwLnAsdS5wKSwwPT09KGM9aihuKSkmJihXKG4sTWF0aC5yYW5kb20oKS0uNSxNYXRoLnJhbmRvbSgpLS41KSxjPTEpO3ZhciBnPSh1LnJlcCtwLnJlcCkvYy9jOyF1LmZpeGVkJiZZQSh1LnBwLHUucHAsbixnKSwhcC5maXhlZCYmWUEocC5wcCxwLnBwLG4sLWcpfWZvcih2YXIgbT1bXSxhPTA7YTxvO2ErKyl7dmFyIHY9dFthXTt2LmZpeGVkfHwoVShtLHYucCx2LnBwKSxZQSh2LnAsdi5wLG0saCksRyh2LnBwLHYucCkpfWgqPS45OTIsaSYmaSh0LGUsaDwuMDEpfX19ZnVuY3Rpb24gY2QodCxlLGkpe3ZhciBuPXQuZ2V0Qm94TGF5b3V0UGFyYW1zKCk7cmV0dXJuIG4uYXNwZWN0PWksUW8obix7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9ZnVuY3Rpb24gZGQodCxlKXt2YXIgaT10LmdldCgiY2VudGVyIiksbj1lLmdldFdpZHRoKCksbz1lLmdldEhlaWdodCgpLGE9TWF0aC5taW4obixvKTtyZXR1cm57Y3g6VG8oaVswXSxlLmdldFdpZHRoKCkpLGN5OlRvKGlbMV0sZS5nZXRIZWlnaHQoKSkscjpUbyh0LmdldCgicmFkaXVzIiksYS8yKX19ZnVuY3Rpb24gZmQodCxlKXtyZXR1cm4gZSYmKCJzdHJpbmciPT10eXBlb2YgZT90PWUucmVwbGFjZSgie3ZhbHVlfSIsbnVsbCE9dD90OiIiKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSh0KSkpLHR9ZnVuY3Rpb24gcGQodCxlKXtmdW5jdGlvbiBpKCl7YS5pZ25vcmU9YS5ob3Zlcklnbm9yZSxyLmlnbm9yZT1yLmhvdmVySWdub3JlfWZ1bmN0aW9uIG4oKXthLmlnbm9yZT1hLm5vcm1hbElnbm9yZSxyLmlnbm9yZT1yLm5vcm1hbElnbm9yZX1MXy5jYWxsKHRoaXMpO3ZhciBvPW5ldyBaYixhPW5ldyBVYixyPW5ldyB6Yjt0aGlzLmFkZChvKSx0aGlzLmFkZChhKSx0aGlzLmFkZChyKSx0aGlzLnVwZGF0ZURhdGEodCxlLCEwKSx0aGlzLm9uKCJlbXBoYXNpcyIsaSkub24oIm5vcm1hbCIsbikub24oIm1vdXNlb3ZlciIsaSkub24oIm1vdXNlb3V0IixuKX1mdW5jdGlvbiBnZCh0LGUpe3JldHVybiBRbyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX1mdW5jdGlvbiBtZCh0LGUpe2Zvcih2YXIgaT10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxuPXQubWFwQXJyYXkoaSxmdW5jdGlvbih0KXtyZXR1cm4gdH0pLG89W10sYT0iYXNjZW5kaW5nIj09PWUscj0wLHM9dC5jb3VudCgpO3I8cztyKyspb1tyXT1yO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP28uc29ydChlKToibm9uZSIhPT1lJiZvLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gYT9uW3RdLW5bZV06bltlXS1uW3RdfSksb31mdW5jdGlvbiB2ZCh0KXt0LmVhY2goZnVuY3Rpb24oZSl7dmFyIGksbixvLGEscj10LmdldEl0ZW1Nb2RlbChlKSxzPXIuZ2V0TW9kZWwoImxhYmVsIikuZ2V0KCJwb3NpdGlvbiIpLGw9ci5nZXRNb2RlbCgibGFiZWxMaW5lIiksdT10LmdldEl0ZW1MYXlvdXQoZSksaD11LnBvaW50cyxjPSJpbm5lciI9PT1zfHwiaW5zaWRlIj09PXN8fCJjZW50ZXIiPT09cztpZihjKWk9ImNlbnRlciIsYT1bW249KGhbMF1bMF0raFsxXVswXStoWzJdWzBdK2hbM11bMF0pLzQsbz0oaFswXVsxXStoWzFdWzFdK2hbMl1bMV0raFszXVsxXSkvNF0sW24sb11dO2Vsc2V7dmFyIGQsZixwLGc9bC5nZXQoImxlbmd0aCIpOyJsZWZ0Ij09PXM/KGQ9KGhbM11bMF0raFswXVswXSkvMixmPShoWzNdWzFdK2hbMF1bMV0pLzIsbj0ocD1kLWcpLTUsaT0icmlnaHQiKTooZD0oaFsxXVswXStoWzJdWzBdKS8yLGY9KGhbMV1bMV0raFsyXVsxXSkvMixuPShwPWQrZykrNSxpPSJsZWZ0Iik7dmFyIG09ZjthPVtbZCxmXSxbcCxtXV0sbz1tfXUubGFiZWw9e2xpbmVQb2ludHM6YSx4Om4seTpvLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOmksaW5zaWRlOmN9fSl9ZnVuY3Rpb24geWQodCl7aWYoIXQucGFyYWxsZWwpe3ZhciBlPSExO2QodC5zZXJpZXMsZnVuY3Rpb24odCl7dCYmInBhcmFsbGVsIj09PXQudHlwZSYmKGU9ITApfSksZSYmKHQucGFyYWxsZWw9W3t9XSl9fWZ1bmN0aW9uIHhkKHQpe2QoU2kodC5wYXJhbGxlbEF4aXMpLGZ1bmN0aW9uKGUpe2lmKHcoZSkpe3ZhciBpPWUucGFyYWxsZWxJbmRleHx8MCxvPVNpKHQucGFyYWxsZWwpW2ldO28mJm8ucGFyYWxsZWxBeGlzRGVmYXVsdCYmbihlLG8ucGFyYWxsZWxBeGlzRGVmYXVsdCwhMSl9fSl9ZnVuY3Rpb24gX2QodCxlKXt2YXIgaT10W2VdLXRbMS1lXTtyZXR1cm57c3BhbjpNYXRoLmFicyhpKSxzaWduOmk+MD8tMTppPDA/MTplPy0xOjF9fWZ1bmN0aW9uIHdkKHQsZSl7cmV0dXJuIE1hdGgubWluKGVbMV0sTWF0aC5tYXgoZVswXSx0KSl9ZnVuY3Rpb24gYmQodCxlLGkpe3RoaXMuX2F4ZXNNYXA9eigpLHRoaXMuX2F4ZXNMYXlvdXQ9e30sdGhpcy5kaW1lbnNpb25zPXQuZGltZW5zaW9ucyx0aGlzLl9yZWN0LHRoaXMuX21vZGVsPXQsdGhpcy5faW5pdCh0LGUsaSl9ZnVuY3Rpb24gU2QodCxlKXtyZXR1cm4gbkMob0ModCxlWzBdKSxlWzFdKX1mdW5jdGlvbiBNZCh0LGUpe3ZhciBpPWUubGF5b3V0TGVuZ3RoLyhlLmF4aXNDb3VudC0xKTtyZXR1cm57cG9zaXRpb246aSp0LGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6aSxheGlzTGFiZWxTaG93OiEwfX1mdW5jdGlvbiBJZCh0LGUpe3ZhciBpLG4sbz1lLmxheW91dExlbmd0aCxhPWUuYXhpc0V4cGFuZFdpZHRoLHI9ZS5heGlzQ291bnQscz1lLmF4aXNDb2xsYXBzZVdpZHRoLGw9ZS53aW5Jbm5lckluZGljZXMsdT1zLGg9ITE7cmV0dXJuIHQ8bFswXT8oaT10KnMsbj1zKTp0PD1sWzFdPyhpPWUuYXhpc0V4cGFuZFdpbmRvdzBQb3MrdCphLWUuYXhpc0V4cGFuZFdpbmRvd1swXSx1PWEsaD0hMCk6KGk9by0oci0xLXQpKnMsbj1zKSx7cG9zaXRpb246aSxheGlzTmFtZUF2YWlsYWJsZVdpZHRoOnUsYXhpc0xhYmVsU2hvdzpoLG5hbWVUcnVuY2F0ZU1heFdpZHRoOm59fWZ1bmN0aW9uIERkKHQpeyR4LmNhbGwodGhpcyksdGhpcy5fenI9dCx0aGlzLmdyb3VwPW5ldyBMXyx0aGlzLl9icnVzaFR5cGUsdGhpcy5fYnJ1c2hPcHRpb24sdGhpcy5fcGFuZWxzLHRoaXMuX3RyYWNrPVtdLHRoaXMuX2RyYWdnaW5nLHRoaXMuX2NvdmVycz1bXSx0aGlzLl9jcmVhdGluZ0NvdmVyLHRoaXMuX2NyZWF0aW5nUGFuZWwsdGhpcy5fZW5hYmxlR2xvYmFsUGFuLHRoaXMuX3VpZD0iYnJ1c2hDb250cm9sbGVyXyIrTUMrKyx0aGlzLl9oYW5kbGVycz17fSxkQyhJQyxmdW5jdGlvbih0LGUpe3RoaXMuX2hhbmRsZXJzW2VdPW0odCx0aGlzKX0sdGhpcyl9ZnVuY3Rpb24gVGQodCxlKXt2YXIgbz10Ll96cjt0Ll9lbmFibGVHbG9iYWxQYW58fGVoKG8sX0MsdC5fdWlkKSxkQyh0Ll9oYW5kbGVycyxmdW5jdGlvbih0LGUpe28ub24oZSx0KX0pLHQuX2JydXNoVHlwZT1lLmJydXNoVHlwZSx0Ll9icnVzaE9wdGlvbj1uKGkoU0MpLGUsITApfWZ1bmN0aW9uIEFkKHQpe3ZhciBlPXQuX3pyO2loKGUsX0MsdC5fdWlkKSxkQyh0Ll9oYW5kbGVycyxmdW5jdGlvbih0LGkpe2Uub2ZmKGksdCl9KSx0Ll9icnVzaFR5cGU9dC5fYnJ1c2hPcHRpb249bnVsbH1mdW5jdGlvbiBDZCh0LGUpe3ZhciBpPURDW2UuYnJ1c2hUeXBlXS5jcmVhdGVDb3Zlcih0LGUpO3JldHVybiBpLl9fYnJ1c2hPcHRpb249ZSxQZChpLGUpLHQuZ3JvdXAuYWRkKGkpLGl9ZnVuY3Rpb24gTGQodCxlKXt2YXIgaT1PZChlKTtyZXR1cm4gaS5lbmRDcmVhdGluZyYmKGkuZW5kQ3JlYXRpbmcodCxlKSxQZChlLGUuX19icnVzaE9wdGlvbikpLGV9ZnVuY3Rpb24ga2QodCxlKXt2YXIgaT1lLl9fYnJ1c2hPcHRpb247T2QoZSkudXBkYXRlQ292ZXJTaGFwZSh0LGUsaS5yYW5nZSxpKX1mdW5jdGlvbiBQZCh0LGUpe3ZhciBpPWUuejtudWxsPT1pJiYoaT12QyksdC50cmF2ZXJzZShmdW5jdGlvbih0KXt0Lno9aSx0LnoyPWl9KX1mdW5jdGlvbiBOZCh0LGUpe09kKGUpLnVwZGF0ZUNvbW1vbih0LGUpLGtkKHQsZSl9ZnVuY3Rpb24gT2QodCl7cmV0dXJuIERDW3QuX19icnVzaE9wdGlvbi5icnVzaFR5cGVdfWZ1bmN0aW9uIEVkKHQsZSxpKXt2YXIgbj10Ll9wYW5lbHM7aWYoIW4pcmV0dXJuITA7dmFyIG8sYT10Ll90cmFuc2Zvcm07cmV0dXJuIGRDKG4sZnVuY3Rpb24odCl7dC5pc1RhcmdldEJ5Q3Vyc29yKGUsaSxhKSYmKG89dCl9KSxvfWZ1bmN0aW9uIHpkKHQsZSl7dmFyIGk9dC5fcGFuZWxzO2lmKCFpKXJldHVybiEwO3ZhciBuPWUuX19icnVzaE9wdGlvbi5wYW5lbElkO3JldHVybiBudWxsPT1ufHxpW25dfWZ1bmN0aW9uIFJkKHQpe3ZhciBlPXQuX2NvdmVycyxpPWUubGVuZ3RoO3JldHVybiBkQyhlLGZ1bmN0aW9uKGUpe3QuZ3JvdXAucmVtb3ZlKGUpfSx0KSxlLmxlbmd0aD0wLCEhaX1mdW5jdGlvbiBCZCh0LGUpe3ZhciBuPWZDKHQuX2NvdmVycyxmdW5jdGlvbih0KXt2YXIgZT10Ll9fYnJ1c2hPcHRpb24sbj1pKGUucmFuZ2UpO3JldHVybnticnVzaFR5cGU6ZS5icnVzaFR5cGUscGFuZWxJZDplLnBhbmVsSWQscmFuZ2U6bn19KTt0LnRyaWdnZXIoImJydXNoIixuLHtpc0VuZDohIWUuaXNFbmQscmVtb3ZlT25DbGljazohIWUucmVtb3ZlT25DbGlja30pfWZ1bmN0aW9uIFZkKHQpe3ZhciBlPXQuX3RyYWNrO2lmKCFlLmxlbmd0aClyZXR1cm4hMTt2YXIgaT1lW2UubGVuZ3RoLTFdLG49ZVswXSxvPWlbMF0tblswXSxhPWlbMV0tblsxXTtyZXR1cm4gbUMobypvK2EqYSwuNSk+eUN9ZnVuY3Rpb24gR2QodCl7dmFyIGU9dC5sZW5ndGgtMTtyZXR1cm4gZTwwJiYoZT0wKSxbdFswXSx0W2VdXX1mdW5jdGlvbiBGZCh0LGUsaSxuKXt2YXIgbz1uZXcgTF87cmV0dXJuIG8uYWRkKG5ldyBqYih7bmFtZToibWFpbiIsc3R5bGU6VWQoaSksc2lsZW50OiEwLGRyYWdnYWJsZTohMCxjdXJzb3I6Im1vdmUiLGRyaWZ0OmNDKHQsZSxvLCJuc3dlIiksb25kcmFnZW5kOmNDKEJkLGUse2lzRW5kOiEwfSl9KSksZEMobixmdW5jdGlvbihpKXtvLmFkZChuZXcgamIoe25hbWU6aSxzdHlsZTp7b3BhY2l0eTowfSxkcmFnZ2FibGU6ITAsc2lsZW50OiEwLGludmlzaWJsZTohMCxkcmlmdDpjQyh0LGUsbyxpKSxvbmRyYWdlbmQ6Y0MoQmQsZSx7aXNFbmQ6ITB9KX0pKX0pLG99ZnVuY3Rpb24gV2QodCxlLGksbil7dmFyIG89bi5icnVzaFN0eWxlLmxpbmVXaWR0aHx8MCxhPWdDKG8seEMpLHI9aVswXVswXSxzPWlbMV1bMF0sbD1yLW8vMix1PXMtby8yLGg9aVswXVsxXSxjPWlbMV1bMV0sZD1oLWErby8yLGY9Yy1hK28vMixwPWgtcixnPWMtcyxtPXArbyx2PWcrbztaZCh0LGUsIm1haW4iLHIscyxwLGcpLG4udHJhbnNmb3JtYWJsZSYmKFpkKHQsZSwidyIsbCx1LGEsdiksWmQodCxlLCJlIixkLHUsYSx2KSxaZCh0LGUsIm4iLGwsdSxtLGEpLFpkKHQsZSwicyIsbCxmLG0sYSksWmQodCxlLCJudyIsbCx1LGEsYSksWmQodCxlLCJuZSIsZCx1LGEsYSksWmQodCxlLCJzdyIsbCxmLGEsYSksWmQodCxlLCJzZSIsZCxmLGEsYSkpfWZ1bmN0aW9uIEhkKHQsZSl7dmFyIGk9ZS5fX2JydXNoT3B0aW9uLG49aS50cmFuc2Zvcm1hYmxlLG89ZS5jaGlsZEF0KDApO28udXNlU3R5bGUoVWQoaSkpLG8uYXR0cih7c2lsZW50OiFuLGN1cnNvcjpuPyJtb3ZlIjoiZGVmYXVsdCJ9KSxkQyhbInciLCJlIiwibiIsInMiLCJzZSIsInN3IiwibmUiLCJudyJdLGZ1bmN0aW9uKGkpe3ZhciBvPWUuY2hpbGRPZk5hbWUoaSksYT1ZZCh0LGkpO28mJm8uYXR0cih7c2lsZW50OiFuLGludmlzaWJsZTohbixjdXJzb3I6bj9iQ1thXSsiLXJlc2l6ZSI6bnVsbH0pfSl9ZnVuY3Rpb24gWmQodCxlLGksbixvLGEscil7dmFyIHM9ZS5jaGlsZE9mTmFtZShpKTtzJiZzLnNldFNoYXBlKFFkKEpkKHQsZSxbW24sb10sW24rYSxvK3JdXSkpKX1mdW5jdGlvbiBVZCh0KXtyZXR1cm4gcih7c3Ryb2tlTm9TY2FsZTohMH0sdC5icnVzaFN0eWxlKX1mdW5jdGlvbiBqZCh0LGUsaSxuKXt2YXIgbz1bcEModCxpKSxwQyhlLG4pXSxhPVtnQyh0LGkpLGdDKGUsbildO3JldHVybltbb1swXSxhWzBdXSxbb1sxXSxhWzFdXV19ZnVuY3Rpb24gWGQodCl7cmV0dXJuIGdvKHQuZ3JvdXApfWZ1bmN0aW9uIFlkKHQsZSl7aWYoZS5sZW5ndGg+MSlyZXR1cm4oImUiPT09KG49W1lkKHQsKGU9ZS5zcGxpdCgiIikpWzBdKSxZZCh0LGVbMV0pXSlbMF18fCJ3Ij09PW5bMF0pJiZuLnJldmVyc2UoKSxuLmpvaW4oIiIpO3ZhciBpPXtsZWZ0OiJ3IixyaWdodDoiZSIsdG9wOiJuIixib3R0b206InMifSxuPXZvKHt3OiJsZWZ0IixlOiJyaWdodCIsbjoidG9wIixzOiJib3R0b20ifVtlXSxYZCh0KSk7cmV0dXJuIGlbbl19ZnVuY3Rpb24gcWQodCxlLGksbixvLGEscixzKXt2YXIgbD1uLl9fYnJ1c2hPcHRpb24sdT10KGwucmFuZ2UpLGg9S2QoaSxhLHIpO2RDKG8uc3BsaXQoIiIpLGZ1bmN0aW9uKHQpe3ZhciBlPXdDW3RdO3VbZVswXV1bZVsxXV0rPWhbZVswXV19KSxsLnJhbmdlPWUoamQodVswXVswXSx1WzFdWzBdLHVbMF1bMV0sdVsxXVsxXSkpLE5kKGksbiksQmQoaSx7aXNFbmQ6ITF9KX1mdW5jdGlvbiAkZCh0LGUsaSxuLG8pe3ZhciBhPWUuX19icnVzaE9wdGlvbi5yYW5nZSxyPUtkKHQsaSxuKTtkQyhhLGZ1bmN0aW9uKHQpe3RbMF0rPXJbMF0sdFsxXSs9clsxXX0pLE5kKHQsZSksQmQodCx7aXNFbmQ6ITF9KX1mdW5jdGlvbiBLZCh0LGUsaSl7dmFyIG49dC5ncm91cCxvPW4udHJhbnNmb3JtQ29vcmRUb0xvY2FsKGUsaSksYT1uLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCgwLDApO3JldHVybltvWzBdLWFbMF0sb1sxXS1hWzFdXX1mdW5jdGlvbiBKZCh0LGUsbil7dmFyIG89emQodCxlKTtyZXR1cm4gbyYmITAhPT1vP28uY2xpcFBhdGgobix0Ll90cmFuc2Zvcm0pOmkobil9ZnVuY3Rpb24gUWQodCl7dmFyIGU9cEModFswXVswXSx0WzFdWzBdKSxpPXBDKHRbMF1bMV0sdFsxXVsxXSk7cmV0dXJue3g6ZSx5Omksd2lkdGg6Z0ModFswXVswXSx0WzFdWzBdKS1lLGhlaWdodDpnQyh0WzBdWzFdLHRbMV1bMV0pLWl9fWZ1bmN0aW9uIHRmKHQsZSxpKXtpZih0Ll9icnVzaFR5cGUpe3ZhciBuPXQuX3pyLG89dC5fY292ZXJzLGE9RWQodCxlLGkpO2lmKCF0Ll9kcmFnZ2luZylmb3IodmFyIHI9MDtyPG8ubGVuZ3RoO3IrKyl7dmFyIHM9b1tyXS5fX2JydXNoT3B0aW9uO2lmKGEmJighMD09PWF8fHMucGFuZWxJZD09PWEucGFuZWxJZCkmJkRDW3MuYnJ1c2hUeXBlXS5jb250YWluKG9bcl0saVswXSxpWzFdKSlyZXR1cm59YSYmbi5zZXRDdXJzb3JTdHlsZSgiY3Jvc3NoYWlyIil9fWZ1bmN0aW9uIGVmKHQpe3ZhciBlPXQuZXZlbnQ7ZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIG5mKHQsZSxpKXtyZXR1cm4gdC5jaGlsZE9mTmFtZSgibWFpbiIpLmNvbnRhaW4oZSxpKX1mdW5jdGlvbiBvZih0LGUsbixvKXt2YXIgYSxyPXQuX2NyZWF0aW5nQ292ZXIscz10Ll9jcmVhdGluZ1BhbmVsLGw9dC5fYnJ1c2hPcHRpb247aWYodC5fdHJhY2sucHVzaChuLnNsaWNlKCkpLFZkKHQpfHxyKXtpZihzJiYhcil7InNpbmdsZSI9PT1sLmJydXNoTW9kZSYmUmQodCk7dmFyIHU9aShsKTt1LmJydXNoVHlwZT1hZih1LmJydXNoVHlwZSxzKSx1LnBhbmVsSWQ9ITA9PT1zP251bGw6cy5wYW5lbElkLHI9dC5fY3JlYXRpbmdDb3Zlcj1DZCh0LHUpLHQuX2NvdmVycy5wdXNoKHIpfWlmKHIpe3ZhciBoPURDW2FmKHQuX2JydXNoVHlwZSxzKV07ci5fX2JydXNoT3B0aW9uLnJhbmdlPWguZ2V0Q3JlYXRpbmdSYW5nZShKZCh0LHIsdC5fdHJhY2spKSxvJiYoTGQodCxyKSxoLnVwZGF0ZUNvbW1vbih0LHIpKSxrZCh0LHIpLGE9e2lzRW5kOm99fX1lbHNlIG8mJiJzaW5nbGUiPT09bC5icnVzaE1vZGUmJmwucmVtb3ZlT25DbGljayYmRWQodCxlLG4pJiZSZCh0KSYmKGE9e2lzRW5kOm8scmVtb3ZlT25DbGljazohMH0pO3JldHVybiBhfWZ1bmN0aW9uIGFmKHQsZSl7cmV0dXJuImF1dG8iPT09dD9lLmRlZmF1bHRCcnVzaFR5cGU6dH1mdW5jdGlvbiByZih0KXtpZih0aGlzLl9kcmFnZ2luZyl7ZWYodCk7dmFyIGU9b2YodGhpcyx0LHRoaXMuZ3JvdXAudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQub2Zmc2V0WCx0Lm9mZnNldFkpLCEwKTt0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLl90cmFjaz1bXSx0aGlzLl9jcmVhdGluZ0NvdmVyPW51bGwsZSYmQmQodGhpcyxlKX19ZnVuY3Rpb24gc2YodCl7cmV0dXJue2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIEZkKGNDKHFkLGZ1bmN0aW9uKGUpe3ZhciBpPVtlLFswLDEwMF1dO3JldHVybiB0JiZpLnJldmVyc2UoKSxpfSxmdW5jdGlvbihlKXtyZXR1cm4gZVt0XX0pLGUsaSxbWyJ3IiwiZSJdLFsibiIsInMiXV1bdF0pfSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKGUpe3ZhciBpPUdkKGUpO3JldHVybltwQyhpWzBdW3RdLGlbMV1bdF0pLGdDKGlbMF1bdF0saVsxXVt0XSldfSx1cGRhdGVDb3ZlclNoYXBlOmZ1bmN0aW9uKGUsaSxuLG8pe3ZhciBhLHI9emQoZSxpKTtpZighMCE9PXImJnIuZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudClhPXIuZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudCh0LGUuX3RyYW5zZm9ybSk7ZWxzZXt2YXIgcz1lLl96cjthPVswLFtzLmdldFdpZHRoKCkscy5nZXRIZWlnaHQoKV1bMS10XV19dmFyIGw9W24sYV07dCYmbC5yZXZlcnNlKCksV2QoZSxpLGwsbyl9LHVwZGF0ZUNvbW1vbjpIZCxjb250YWluOm5mfX1mdW5jdGlvbiBsZih0KXtyZXR1cm4gdD1jZih0KSxmdW5jdGlvbihlLGkpe3JldHVybiB4byhlLHQpfX1mdW5jdGlvbiB1Zih0LGUpe3JldHVybiB0PWNmKHQpLGZ1bmN0aW9uKGkpe3ZhciBuPW51bGwhPWU/ZTppLG89bj90LndpZHRoOnQuaGVpZ2h0LGE9bj90Lng6dC55O3JldHVyblthLGErKG98fDApXX19ZnVuY3Rpb24gaGYodCxlLGkpe3JldHVybiB0PWNmKHQpLGZ1bmN0aW9uKG4sbyxhKXtyZXR1cm4gdC5jb250YWluKG9bMF0sb1sxXSkmJiFnaChuLGUsaSl9fWZ1bmN0aW9uIGNmKHQpe3JldHVybiBLdC5jcmVhdGUodCl9ZnVuY3Rpb24gZGYodCxlLGkpe3JldHVybiBpJiYiYXhpc0FyZWFTZWxlY3QiPT09aS50eXBlJiZlLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToicGFyYWxsZWxBeGlzIixxdWVyeTppfSlbMF09PT10fWZ1bmN0aW9uIGZmKHQpe3ZhciBlPXQuYXhpcztyZXR1cm4gZih0LmFjdGl2ZUludGVydmFscyxmdW5jdGlvbih0KXtyZXR1cm57YnJ1c2hUeXBlOiJsaW5lWCIscGFuZWxJZDoicGwiLHJhbmdlOltlLmRhdGFUb0Nvb3JkKHRbMF0sITApLGUuZGF0YVRvQ29vcmQodFsxXSwhMCldfX0pfWZ1bmN0aW9uIHBmKHQsZSl7cmV0dXJuIGUuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsdC5nZXQoInBhcmFsbGVsSW5kZXgiKSl9ZnVuY3Rpb24gZ2YodCxlKXt2YXIgaT10Ll9tb2RlbDtyZXR1cm4gaS5nZXQoImF4aXNFeHBhbmRhYmxlIikmJmkuZ2V0KCJheGlzRXhwYW5kVHJpZ2dlck9uIik9PT1lfWZ1bmN0aW9uIG1mKHQsZSl7aWYoIXQuZW5jb2RlRGVmaW5lKXt2YXIgaT1lLmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsZS5nZXQoInBhcmFsbGVsSW5kZXgiKSk7aWYoaSl7dmFyIG49dC5lbmNvZGVEZWZpbmU9eigpO2QoaS5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3ZhciBlPXZmKHQpO24uc2V0KHQsZSl9KX19fWZ1bmN0aW9uIHZmKHQpe3JldHVybit0LnJlcGxhY2UoImRpbSIsIiIpfWZ1bmN0aW9uIHlmKHQsZSxpKXt2YXIgbj10Lm1vZGVsLG89dC5nZXRSZWN0KCksYT1uZXcgamIoe3NoYXBlOnt4Om8ueCx5Om8ueSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH19KSxyPSJob3Jpem9udGFsIj09PW4uZ2V0KCJsYXlvdXQiKT8id2lkdGgiOiJoZWlnaHQiO3JldHVybiBhLnNldFNoYXBlKHIsMCkscG8oYSx7c2hhcGU6e3dpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0fX0sZSxpKSxhfWZ1bmN0aW9uIHhmKHQsZSxpLG4pe2Zvcih2YXIgbz1bXSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciByPWlbYV0scz10LmdldCh0Lm1hcERpbWVuc2lvbihyKSxlKTtiZihzLG4uZ2V0QXhpcyhyKS50eXBlKXx8by5wdXNoKG4uZGF0YVRvUG9pbnQocyxyKSl9cmV0dXJuIG99ZnVuY3Rpb24gX2YodCxlLGksbixvKXt2YXIgYT14Zih0LGksbixvKSxyPW5ldyBVYih7c2hhcGU6e3BvaW50czphfSxzaWxlbnQ6ITAsejI6MTB9KTtlLmFkZChyKSx0LnNldEl0ZW1HcmFwaGljRWwoaSxyKX1mdW5jdGlvbiB3Zih0LGUpe3ZhciBpPXQuaG9zdE1vZGVsLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxuPWkuZ2V0TGluZVN0eWxlKCk7dC5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbihvLHIpe2lmKHQuaGFzSXRlbU9wdGlvbil7dmFyIHM9dC5nZXRJdGVtTW9kZWwocikuZ2V0TW9kZWwoImxpbmVTdHlsZSIsaSk7bj1zLmdldExpbmVTdHlsZShbImNvbG9yIiwic3Ryb2tlIl0pfW8udXNlU3R5bGUoYShuLHtmaWxsOm51bGwsc3Ryb2tlOnQuZ2V0SXRlbVZpc3VhbChyLCJjb2xvciIpLG9wYWNpdHk6dC5nZXRJdGVtVmlzdWFsKHIsIm9wYWNpdHkiKX0pKSxvLnNoYXBlLnNtb290aD1lfSl9ZnVuY3Rpb24gYmYodCxlKXtyZXR1cm4iY2F0ZWdvcnkiPT09ZT9udWxsPT10Om51bGw9PXR8fGlzTmFOKHQpfWZ1bmN0aW9uIFNmKHQsZSxpKXt2YXIgbj1uZXcgamIoe3NoYXBlOnt4OnQueC0xMCx5OnQueS0xMCx3aWR0aDowLGhlaWdodDp0LmhlaWdodCsyMH19KTtyZXR1cm4gcG8obix7c2hhcGU6e3dpZHRoOnQud2lkdGgrMjAsaGVpZ2h0OnQuaGVpZ2h0KzIwfX0sZSxpKSxufWZ1bmN0aW9uIE1mKCl7ZnVuY3Rpb24gdChlLG4pe2lmKG4+PWkubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgbz0tMSxhPWUubGVuZ3RoLHI9aVtuKytdLHM9e30sbD17fTsrK288YTspe3ZhciB1PXIoZVtvXSksaD1sW3VdO2g/aC5wdXNoKGVbb10pOmxbdV09W2Vbb11dfXJldHVybiBkKGwsZnVuY3Rpb24oZSxpKXtzW2ldPXQoZSxuKX0pLHN9ZnVuY3Rpb24gZSh0LG8pe2lmKG8+PWkubGVuZ3RoKXJldHVybiB0O3ZhciBhPVtdLHI9bltvKytdO3JldHVybiBkKHQsZnVuY3Rpb24odCxpKXthLnB1c2goe2tleTppLHZhbHVlczplKHQsbyl9KX0pLHI/YS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIodC5rZXksZS5rZXkpfSk6YX12YXIgaT1bXSxuPVtdO3JldHVybntrZXk6ZnVuY3Rpb24odCl7cmV0dXJuIGkucHVzaCh0KSx0aGlzfSxzb3J0S2V5czpmdW5jdGlvbih0KXtyZXR1cm4gbltpLmxlbmd0aC0xXT10LHRoaXN9LGVudHJpZXM6ZnVuY3Rpb24oaSl7cmV0dXJuIGUodChpLDApLDApfX19ZnVuY3Rpb24gSWYodCxlKXtyZXR1cm4gUW8odC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSl9ZnVuY3Rpb24gRGYodCxlLGksbixvLGEscil7QWYodCxpLG8pLGtmKHQsZSxhLG4sciksQmYodCl9ZnVuY3Rpb24gVGYodCl7ZCh0LGZ1bmN0aW9uKHQpe3ZhciBlPUZmKHQub3V0RWRnZXMsVWYpLGk9RmYodC5pbkVkZ2VzLFVmKSxuPU1hdGgubWF4KGUsaSk7dC5zZXRMYXlvdXQoe3ZhbHVlOm59LCEwKX0pfWZ1bmN0aW9uIEFmKHQsZSxpKXtmb3IodmFyIG49dCxvPW51bGwsYT0wO24ubGVuZ3RoOyl7bz1bXTtmb3IodmFyIHI9MCxzPW4ubGVuZ3RoO3I8cztyKyspe3ZhciBsPW5bcl07bC5zZXRMYXlvdXQoe3g6YX0sITApLGwuc2V0TGF5b3V0KHtkeDplfSwhMCk7Zm9yKHZhciB1PTAsaD1sLm91dEVkZ2VzLmxlbmd0aDt1PGg7dSsrKW8ucHVzaChsLm91dEVkZ2VzW3VdLm5vZGUyKX1uPW8sKythfUNmKHQsYSksTGYodCwoaS1lKS8oYS0xKSl9ZnVuY3Rpb24gQ2YodCxlKXtkKHQsZnVuY3Rpb24odCl7dC5vdXRFZGdlcy5sZW5ndGh8fHQuc2V0TGF5b3V0KHt4OmUtMX0sITApfSl9ZnVuY3Rpb24gTGYodCxlKXtkKHQsZnVuY3Rpb24odCl7dmFyIGk9dC5nZXRMYXlvdXQoKS54KmU7dC5zZXRMYXlvdXQoe3g6aX0sITApfSl9ZnVuY3Rpb24ga2YodCxlLGksbixvKXt2YXIgYT1NZigpLmtleShmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRMYXlvdXQoKS54fSkuc29ydEtleXMoWmYpLmVudHJpZXModCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlc30pO1BmKHQsYSxlLGksbiksTmYoYSxuLGkpO2Zvcih2YXIgcj0xO28+MDtvLS0pT2YoYSxyKj0uOTkpLE5mKGEsbixpKSx6ZihhLHIpLE5mKGEsbixpKX1mdW5jdGlvbiBQZih0LGUsaSxuLG8pe3ZhciBhPVtdO2QoZSxmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxpPTA7ZCh0LGZ1bmN0aW9uKHQpe2krPXQuZ2V0TGF5b3V0KCkudmFsdWV9KTt2YXIgcj0obi0oZS0xKSpvKS9pO2EucHVzaChyKX0pLGEuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KTt2YXIgcj1hWzBdO2QoZSxmdW5jdGlvbih0KXtkKHQsZnVuY3Rpb24odCxlKXt0LnNldExheW91dCh7eTplfSwhMCk7dmFyIGk9dC5nZXRMYXlvdXQoKS52YWx1ZSpyO3Quc2V0TGF5b3V0KHtkeTppfSwhMCl9KX0pLGQoaSxmdW5jdGlvbih0KXt2YXIgZT0rdC5nZXRWYWx1ZSgpKnI7dC5zZXRMYXlvdXQoe2R5OmV9LCEwKX0pfWZ1bmN0aW9uIE5mKHQsZSxpKXtkKHQsZnVuY3Rpb24odCl7dmFyIG4sbyxhLHI9MCxzPXQubGVuZ3RoO2Zvcih0LnNvcnQoSGYpLGE9MDthPHM7YSsrKXtpZihuPXRbYV0sKG89ci1uLmdldExheW91dCgpLnkpPjApe2w9bi5nZXRMYXlvdXQoKS55K287bi5zZXRMYXlvdXQoe3k6bH0sITApfXI9bi5nZXRMYXlvdXQoKS55K24uZ2V0TGF5b3V0KCkuZHkrZX1pZigobz1yLWUtaSk+MCl7dmFyIGw9bi5nZXRMYXlvdXQoKS55LW87Zm9yKG4uc2V0TGF5b3V0KHt5Omx9LCEwKSxyPW4uZ2V0TGF5b3V0KCkueSxhPXMtMjthPj0wOy0tYSkobz0obj10W2FdKS5nZXRMYXlvdXQoKS55K24uZ2V0TGF5b3V0KCkuZHkrZS1yKT4wJiYobD1uLmdldExheW91dCgpLnktbyxuLnNldExheW91dCh7eTpsfSwhMCkpLHI9bi5nZXRMYXlvdXQoKS55fX0pfWZ1bmN0aW9uIE9mKHQsZSl7ZCh0LnNsaWNlKCkucmV2ZXJzZSgpLGZ1bmN0aW9uKHQpe2QodCxmdW5jdGlvbih0KXtpZih0Lm91dEVkZ2VzLmxlbmd0aCl7dmFyIGk9RmYodC5vdXRFZGdlcyxFZikvRmYodC5vdXRFZGdlcyxVZiksbj10LmdldExheW91dCgpLnkrKGktV2YodCkpKmU7dC5zZXRMYXlvdXQoe3k6bn0sITApfX0pfSl9ZnVuY3Rpb24gRWYodCl7cmV0dXJuIFdmKHQubm9kZTIpKnQuZ2V0VmFsdWUoKX1mdW5jdGlvbiB6Zih0LGUpe2QodCxmdW5jdGlvbih0KXtkKHQsZnVuY3Rpb24odCl7aWYodC5pbkVkZ2VzLmxlbmd0aCl7dmFyIGk9RmYodC5pbkVkZ2VzLFJmKS9GZih0LmluRWRnZXMsVWYpLG49dC5nZXRMYXlvdXQoKS55KyhpLVdmKHQpKSplO3Quc2V0TGF5b3V0KHt5Om59LCEwKX19KX0pfWZ1bmN0aW9uIFJmKHQpe3JldHVybiBXZih0Lm5vZGUxKSp0LmdldFZhbHVlKCl9ZnVuY3Rpb24gQmYodCl7ZCh0LGZ1bmN0aW9uKHQpe3Qub3V0RWRnZXMuc29ydChWZiksdC5pbkVkZ2VzLnNvcnQoR2YpfSksZCh0LGZ1bmN0aW9uKHQpe3ZhciBlPTAsaT0wO2QodC5vdXRFZGdlcyxmdW5jdGlvbih0KXt0LnNldExheW91dCh7c3k6ZX0sITApLGUrPXQuZ2V0TGF5b3V0KCkuZHl9KSxkKHQuaW5FZGdlcyxmdW5jdGlvbih0KXt0LnNldExheW91dCh7dHk6aX0sITApLGkrPXQuZ2V0TGF5b3V0KCkuZHl9KX0pfWZ1bmN0aW9uIFZmKHQsZSl7cmV0dXJuIHQubm9kZTIuZ2V0TGF5b3V0KCkueS1lLm5vZGUyLmdldExheW91dCgpLnl9ZnVuY3Rpb24gR2YodCxlKXtyZXR1cm4gdC5ub2RlMS5nZXRMYXlvdXQoKS55LWUubm9kZTEuZ2V0TGF5b3V0KCkueX1mdW5jdGlvbiBGZih0LGUpe2Zvcih2YXIgaT0wLG49dC5sZW5ndGgsbz0tMTsrK288bjspe3ZhciBhPStlLmNhbGwodCx0W29dLG8pO2lzTmFOKGEpfHwoaSs9YSl9cmV0dXJuIGl9ZnVuY3Rpb24gV2YodCl7cmV0dXJuIHQuZ2V0TGF5b3V0KCkueSt0LmdldExheW91dCgpLmR5LzJ9ZnVuY3Rpb24gSGYodCxlKXtyZXR1cm4gdC5nZXRMYXlvdXQoKS55LWUuZ2V0TGF5b3V0KCkueX1mdW5jdGlvbiBaZih0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6dD09PWU/MDpOYU59ZnVuY3Rpb24gVWYodCl7cmV0dXJuIHQuZ2V0VmFsdWUoKX1mdW5jdGlvbiBqZih0LGUsaSxuKXtMXy5jYWxsKHRoaXMpLHRoaXMuYm9keUluZGV4LHRoaXMud2hpc2tlckluZGV4LHRoaXMuc3R5bGVVcGRhdGVyPWksdGhpcy5fY3JlYXRlQ29udGVudCh0LGUsbiksdGhpcy51cGRhdGVEYXRhKHQsZSxuKSx0aGlzLl9zZXJpZXNNb2RlbH1mdW5jdGlvbiBYZih0LGUsaSl7cmV0dXJuIGYodCxmdW5jdGlvbih0KXtyZXR1cm4gdD10LnNsaWNlKCksdFtlXT1pLmluaXRCYXNlbGluZSx0fSl9ZnVuY3Rpb24gWWYodCl7dmFyIGU9e307cmV0dXJuIGQodCxmdW5jdGlvbih0LGkpe2VbImVuZHMiK2ldPXR9KSxlfWZ1bmN0aW9uIHFmKHQpe3RoaXMuZ3JvdXA9bmV3IExfLHRoaXMuc3R5bGVVcGRhdGVyPXR9ZnVuY3Rpb24gJGYodCxlLGkpe3ZhciBuPWUuZ2V0SXRlbU1vZGVsKGkpLG89bi5nZXRNb2RlbChCQyksYT1lLmdldEl0ZW1WaXN1YWwoaSwiY29sb3IiKSxyPW8uZ2V0SXRlbVN0eWxlKFsiYm9yZGVyQ29sb3IiXSkscz10LmNoaWxkQXQodC53aGlza2VySW5kZXgpO3Muc3R5bGUuc2V0KHIpLHMuc3R5bGUuc3Ryb2tlPWEscy5kaXJ0eSgpO3ZhciBsPXQuY2hpbGRBdCh0LmJvZHlJbmRleCk7bC5zdHlsZS5zZXQociksbC5zdHlsZS5zdHJva2U9YSxsLmRpcnR5KCksZW8odCxuLmdldE1vZGVsKFZDKS5nZXRJdGVtU3R5bGUoKSl9ZnVuY3Rpb24gS2YodCl7dmFyIGU9W10saT1bXTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKCJib3hwbG90IixmdW5jdGlvbih0KXt2YXIgbj10LmdldEJhc2VBeGlzKCksbz1sKGksbik7bzwwJiYobz1pLmxlbmd0aCxpW29dPW4sZVtvXT17YXhpczpuLHNlcmllc01vZGVsczpbXX0pLGVbb10uc2VyaWVzTW9kZWxzLnB1c2godCl9KSxlfWZ1bmN0aW9uIEpmKHQpe3ZhciBlLGksbj10LmF4aXMsbz10LnNlcmllc01vZGVscyxhPW8ubGVuZ3RoLHI9dC5ib3hXaWR0aExpc3Q9W10scz10LmJveE9mZnNldExpc3Q9W10sbD1bXTtpZigiY2F0ZWdvcnkiPT09bi50eXBlKWk9bi5nZXRCYW5kV2lkdGgoKTtlbHNle3ZhciB1PTA7RkMobyxmdW5jdGlvbih0KXt1PU1hdGgubWF4KHUsdC5nZXREYXRhKCkuY291bnQoKSl9KSxlPW4uZ2V0RXh0ZW50KCksTWF0aC5hYnMoZVsxXS1lWzBdKX1GQyhvLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJib3hXaWR0aCIpO3koZSl8fChlPVtlLGVdKSxsLnB1c2goW1RvKGVbMF0saSl8fDAsVG8oZVsxXSxpKXx8MF0pfSk7dmFyIGg9LjgqaS0yLGM9aC9hKi4zLGQ9KGgtYyooYS0xKSkvYSxmPWQvMi1oLzI7RkMobyxmdW5jdGlvbih0LGUpe3MucHVzaChmKSxmKz1jK2Qsci5wdXNoKE1hdGgubWluKE1hdGgubWF4KGQsbFtlXVswXSksbFtlXVsxXSkpfSl9ZnVuY3Rpb24gUWYodCxlLGkpe3ZhciBuLG89dC5jb29yZGluYXRlU3lzdGVtLGE9dC5nZXREYXRhKCkscj1pLzIscz10LmdldCgibGF5b3V0IiksbD0iaG9yaXpvbnRhbCI9PT1zPzA6MSx1PTEtbCxoPVsieCIsInkiXSxjPVtdO2QoYS5kaW1lbnNpb25zLGZ1bmN0aW9uKHQpe3ZhciBlPWEuZ2V0RGltZW5zaW9uSW5mbyh0KS5jb29yZERpbTtlPT09aFt1XT9jLnB1c2godCk6ZT09PWhbbF0mJihuPXQpfSksbnVsbD09bnx8Yy5sZW5ndGg8NXx8YS5lYWNoKFtuXS5jb25jYXQoYyksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBpPVtdO2lbbF09ZCxpW3VdPXQ7dmFyIG47cmV0dXJuIGlzTmFOKGQpfHxpc05hTih0KT9uPVtOYU4sTmFOXToobj1vLmRhdGFUb1BvaW50KGkpKVtsXSs9ZSxufWZ1bmN0aW9uIGkodCxlKXt2YXIgaT10LnNsaWNlKCksbj10LnNsaWNlKCk7aVtsXSs9cixuW2xdLT1yLGU/eS5wdXNoKGksbik6eS5wdXNoKG4saSl9ZnVuY3Rpb24gbih0KXt2YXIgZT1bdC5zbGljZSgpLHQuc2xpY2UoKV07ZVswXVtsXS09cixlWzFdW2xdKz1yLHYucHVzaChlKX12YXIgaD1hcmd1bWVudHMsZD1oWzBdLGY9aFtjLmxlbmd0aCsxXSxwPXQoaFszXSksZz10KGhbMV0pLG09dChoWzVdKSx2PVtbZyx0KGhbMl0pXSxbbSx0KGhbNF0pXV07bihnKSxuKG0pLG4ocCk7dmFyIHk9W107aSh2WzBdWzFdLDApLGkodlsxXVsxXSwxKSxhLnNldEl0ZW1MYXlvdXQoZix7Y2hhcnRMYXlvdXQ6cyxpbml0QmFzZWxpbmU6cFt1XSxtZWRpYW46cCxib2R5RW5kczp5LHdoaXNrZXJFbmRzOnZ9KX0pfWZ1bmN0aW9uIHRwKHQsZSxpKXt2YXIgbj1lLmdldEl0ZW1Nb2RlbChpKSxvPW4uZ2V0TW9kZWwoV0MpLGE9ZS5nZXRJdGVtVmlzdWFsKGksImNvbG9yIikscj1lLmdldEl0ZW1WaXN1YWwoaSwiYm9yZGVyQ29sb3IiKXx8YSxzPW8uZ2V0SXRlbVN0eWxlKFsiY29sb3IiLCJjb2xvcjAiLCJib3JkZXJDb2xvciIsImJvcmRlckNvbG9yMCJdKSxsPXQuY2hpbGRBdCh0LndoaXNrZXJJbmRleCk7bC51c2VTdHlsZShzKSxsLnN0eWxlLnN0cm9rZT1yO3ZhciB1PXQuY2hpbGRBdCh0LmJvZHlJbmRleCk7dS51c2VTdHlsZShzKSx1LnN0eWxlLmZpbGw9YSx1LnN0eWxlLnN0cm9rZT1yLGVvKHQsbi5nZXRNb2RlbChIQykuZ2V0SXRlbVN0eWxlKCkpfWZ1bmN0aW9uIGVwKHQsZSl7dmFyIGksbj10LmdldEJhc2VBeGlzKCksbz0iY2F0ZWdvcnkiPT09bi50eXBlP24uZ2V0QmFuZFdpZHRoKCk6KGk9bi5nZXRFeHRlbnQoKSxNYXRoLmFicyhpWzFdLWlbMF0pL2UuY291bnQoKSksYT1UbyhZQyh0LmdldCgiYmFyTWF4V2lkdGgiKSxvKSxvKSxyPVRvKFlDKHQuZ2V0KCJiYXJNaW5XaWR0aCIpLDEpLG8pLHM9dC5nZXQoImJhcldpZHRoIik7cmV0dXJuIG51bGwhPXM/VG8ocyxvKTpNYXRoLm1heChNYXRoLm1pbihvLzIsYSkscil9ZnVuY3Rpb24gaXAodCl7cmV0dXJuIHkodCl8fCh0PVsrdCwrdF0pLHR9ZnVuY3Rpb24gbnAodCxlKXt0LmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LmF0dHIoe3o6ZS56LHpsZXZlbDplLnpsZXZlbCxzdHlsZTp7c3Ryb2tlOiJzdHJva2UiPT09ZS5icnVzaFR5cGU/ZS5jb2xvcjpudWxsLGZpbGw6ImZpbGwiPT09ZS5icnVzaFR5cGU/ZS5jb2xvcjpudWxsfX0pfSl9ZnVuY3Rpb24gb3AodCxlKXtMXy5jYWxsKHRoaXMpO3ZhciBpPW5ldyBEbCh0LGUpLG49bmV3IExfO3RoaXMuYWRkKGkpLHRoaXMuYWRkKG4pLG4uYmVmb3JlVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5hdHRyKGkuZ2V0U2NhbGUoKSl9LHRoaXMudXBkYXRlRGF0YSh0LGUpfWZ1bmN0aW9uIGFwKHQpe3ZhciBlPXQuZGF0YTtlJiZlWzBdJiZlWzBdWzBdJiZlWzBdWzBdLmNvb3JkJiYodC5kYXRhPWYoZSxmdW5jdGlvbih0KXt2YXIgZT17Y29vcmRzOlt0WzBdLmNvb3JkLHRbMV0uY29vcmRdfTtyZXR1cm4gdFswXS5uYW1lJiYoZS5mcm9tTmFtZT10WzBdLm5hbWUpLHRbMV0ubmFtZSYmKGUudG9OYW1lPXRbMV0ubmFtZSksbyhbZSx0WzBdLHRbMV1dKX0pKX1mdW5jdGlvbiBycCh0LGUsaSl7TF8uY2FsbCh0aGlzKSx0aGlzLmFkZCh0aGlzLmNyZWF0ZUxpbmUodCxlLGkpKSx0aGlzLl91cGRhdGVFZmZlY3RTeW1ib2wodCxlKX1mdW5jdGlvbiBzcCh0LGUsaSl7TF8uY2FsbCh0aGlzKSx0aGlzLl9jcmVhdGVQb2x5bGluZSh0LGUsaSl9ZnVuY3Rpb24gbHAodCxlLGkpe3JwLmNhbGwodGhpcyx0LGUsaSksdGhpcy5fbGFzdEZyYW1lPTAsdGhpcy5fbGFzdEZyYW1lUGVyY2VudD0wfWZ1bmN0aW9uIHVwKCl7dGhpcy5ncm91cD1uZXcgTF99ZnVuY3Rpb24gaHAodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3QsdF0pLHR9ZnVuY3Rpb24gY3AoKXt2YXIgdD1WeCgpO3RoaXMuY2FudmFzPXQsdGhpcy5ibHVyU2l6ZT0zMCx0aGlzLnBvaW50U2l6ZT0yMCx0aGlzLm1heE9wYWNpdHk9MSx0aGlzLm1pbk9wYWNpdHk9MCx0aGlzLl9ncmFkaWVudFBpeGVscz17fX1mdW5jdGlvbiBkcCh0LGUsaSl7dmFyIG49dFsxXS10WzBdLG89KGU9ZihlLGZ1bmN0aW9uKGUpe3JldHVybntpbnRlcnZhbDpbKGUuaW50ZXJ2YWxbMF0tdFswXSkvbiwoZS5pbnRlcnZhbFsxXS10WzBdKS9uXX19KSkubGVuZ3RoLGE9MDtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKG49YTtuPG87bisrKWlmKChyPWVbbl0uaW50ZXJ2YWwpWzBdPD10JiZ0PD1yWzFdKXthPW47YnJlYWt9aWYobj09PW8pZm9yKHZhciBuPWEtMTtuPj0wO24tLSl7dmFyIHI9ZVtuXS5pbnRlcnZhbDtpZihyWzBdPD10JiZ0PD1yWzFdKXthPW47YnJlYWt9fXJldHVybiBuPj0wJiZuPG8mJmlbbl19fWZ1bmN0aW9uIGZwKHQsZSl7dmFyIGk9dFsxXS10WzBdO3JldHVybiBlPVsoZVswXS10WzBdKS9pLChlWzFdLXRbMF0pL2ldLGZ1bmN0aW9uKHQpe3JldHVybiB0Pj1lWzBdJiZ0PD1lWzFdfX1mdW5jdGlvbiBwcCh0KXt2YXIgZT10LmRpbWVuc2lvbnM7cmV0dXJuImxuZyI9PT1lWzBdJiYibGF0Ij09PWVbMV19ZnVuY3Rpb24gZ3AodCxlLGksbil7dmFyIG89dC5nZXRJdGVtTGF5b3V0KGUpLGE9aS5nZXQoInN5bWJvbFJlcGVhdCIpLHI9aS5nZXQoInN5bWJvbENsaXAiKSxzPWkuZ2V0KCJzeW1ib2xQb3NpdGlvbiIpfHwic3RhcnQiLGw9KGkuZ2V0KCJzeW1ib2xSb3RhdGUiKXx8MCkqTWF0aC5QSS8xODB8fDAsdT1pLmdldCgic3ltYm9sUGF0dGVyblNpemUiKXx8MixoPWkuaXNBbmltYXRpb25FbmFibGVkKCksYz17ZGF0YUluZGV4OmUsbGF5b3V0Om8saXRlbU1vZGVsOmksc3ltYm9sVHlwZTp0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIil8fCJjaXJjbGUiLGNvbG9yOnQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpLHN5bWJvbENsaXA6cixzeW1ib2xSZXBlYXQ6YSxzeW1ib2xSZXBlYXREaXJlY3Rpb246aS5nZXQoInN5bWJvbFJlcGVhdERpcmVjdGlvbiIpLHN5bWJvbFBhdHRlcm5TaXplOnUscm90YXRpb246bCxhbmltYXRpb25Nb2RlbDpoP2k6bnVsbCxob3ZlckFuaW1hdGlvbjpoJiZpLmdldCgiaG92ZXJBbmltYXRpb24iKSx6MjppLmdldFNoYWxsb3coInoiLCEwKXx8MH07bXAoaSxhLG8sbixjKSx5cCh0LGUsbyxhLHIsYy5ib3VuZGluZ0xlbmd0aCxjLnB4U2lnbix1LG4sYykseHAoaSxjLnN5bWJvbFNjYWxlLGwsbixjKTt2YXIgZD1jLnN5bWJvbFNpemUsZj1pLmdldCgic3ltYm9sT2Zmc2V0Iik7cmV0dXJuIHkoZikmJihmPVtUbyhmWzBdLGRbMF0pLFRvKGZbMV0sZFsxXSldKSxfcChpLGQsbyxhLHIsZixzLGMudmFsdWVMaW5lV2lkdGgsYy5ib3VuZGluZ0xlbmd0aCxjLnJlcGVhdEN1dExlbmd0aCxuLGMpLGN9ZnVuY3Rpb24gbXAodCxlLGksbixvKXt2YXIgYSxyPW4udmFsdWVEaW0scz10LmdldCgic3ltYm9sQm91bmRpbmdEYXRhIiksbD1uLmNvb3JkU3lzLmdldE90aGVyQXhpcyhuLmNvb3JkU3lzLmdldEJhc2VBeGlzKCkpLHU9bC50b0dsb2JhbENvb3JkKGwuZGF0YVRvQ29vcmQoMCkpLGg9MS0rKGlbci53aF08PTApO2lmKHkocykpe3ZhciBjPVt2cChsLHNbMF0pLXUsdnAobCxzWzFdKS11XTtjWzFdPGNbMF0mJmMucmV2ZXJzZSgpLGE9Y1toXX1lbHNlIGE9bnVsbCE9cz92cChsLHMpLXU6ZT9uLmNvb3JkU3lzRXh0ZW50W3IuaW5kZXhdW2hdLXU6aVtyLndoXTtvLmJvdW5kaW5nTGVuZ3RoPWEsZSYmKG8ucmVwZWF0Q3V0TGVuZ3RoPWlbci53aF0pLG8ucHhTaWduPWE+MD8xOmE8MD8tMTowfWZ1bmN0aW9uIHZwKHQsZSl7cmV0dXJuIHQudG9HbG9iYWxDb29yZCh0LmRhdGFUb0Nvb3JkKHQuc2NhbGUucGFyc2UoZSkpKX1mdW5jdGlvbiB5cCh0LGUsaSxuLG8sYSxyLHMsbCx1KXt2YXIgaD1sLnZhbHVlRGltLGM9bC5jYXRlZ29yeURpbSxkPU1hdGguYWJzKGlbYy53aF0pLGY9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKTt5KGYpP2Y9Zi5zbGljZSgpOihudWxsPT1mJiYoZj0iMTAwJSIpLGY9W2YsZl0pLGZbYy5pbmRleF09VG8oZltjLmluZGV4XSxkKSxmW2guaW5kZXhdPVRvKGZbaC5pbmRleF0sbj9kOk1hdGguYWJzKGEpKSx1LnN5bWJvbFNpemU9ZiwodS5zeW1ib2xTY2FsZT1bZlswXS9zLGZbMV0vc10pW2guaW5kZXhdKj0obC5pc0hvcml6b250YWw/LTE6MSkqcn1mdW5jdGlvbiB4cCh0LGUsaSxuLG8pe3ZhciBhPXQuZ2V0KHVMKXx8MDthJiYoY0wuYXR0cih7c2NhbGU6ZS5zbGljZSgpLHJvdGF0aW9uOml9KSxjTC51cGRhdGVUcmFuc2Zvcm0oKSxhLz1jTC5nZXRMaW5lU2NhbGUoKSxhKj1lW24udmFsdWVEaW0uaW5kZXhdKSxvLnZhbHVlTGluZVdpZHRoPWF9ZnVuY3Rpb24gX3AodCxlLGksbixvLHIscyxsLHUsaCxjLGQpe3ZhciBmPWMuY2F0ZWdvcnlEaW0scD1jLnZhbHVlRGltLGc9ZC5weFNpZ24sbT1NYXRoLm1heChlW3AuaW5kZXhdK2wsMCksdj1tO2lmKG4pe3ZhciB5PU1hdGguYWJzKHUpLHg9RCh0LmdldCgic3ltYm9sTWFyZ2luIiksIjE1JSIpKyIiLF89ITE7eC5sYXN0SW5kZXhPZigiISIpPT09eC5sZW5ndGgtMSYmKF89ITAseD14LnNsaWNlKDAseC5sZW5ndGgtMSkpLHg9VG8oeCxlW3AuaW5kZXhdKTt2YXIgdz1NYXRoLm1heChtKzIqeCwwKSxiPV8/MDoyKngsUz1GbyhuKSxNPVM/bjpScCgoeStiKS93KTt3PW0rMiooeD0oeS1NKm0pLzIvKF8/TTpNLTEpKSxiPV8/MDoyKngsU3x8ImZpeGVkIj09PW58fChNPWg/UnAoKE1hdGguYWJzKGgpK2IpL3cpOjApLHY9TSp3LWIsZC5yZXBlYXRUaW1lcz1NLGQuc3ltYm9sTWFyZ2luPXh9dmFyIEk9Zyoodi8yKSxUPWQucGF0aFBvc2l0aW9uPVtdO1RbZi5pbmRleF09aVtmLndoXS8yLFRbcC5pbmRleF09InN0YXJ0Ij09PXM/SToiZW5kIj09PXM/dS1JOnUvMixyJiYoVFswXSs9clswXSxUWzFdKz1yWzFdKTt2YXIgQT1kLmJ1bmRsZVBvc2l0aW9uPVtdO0FbZi5pbmRleF09aVtmLnh5XSxBW3AuaW5kZXhdPWlbcC54eV07dmFyIEM9ZC5iYXJSZWN0U2hhcGU9YSh7fSxpKTtDW3Aud2hdPWcqTWF0aC5tYXgoTWF0aC5hYnMoaVtwLndoXSksTWF0aC5hYnMoVFtwLmluZGV4XStJKSksQ1tmLndoXT1pW2Yud2hdO3ZhciBMPWQuY2xpcFNoYXBlPXt9O0xbZi54eV09LWlbZi54eV0sTFtmLndoXT1jLmVjU2l6ZVtmLndoXSxMW3AueHldPTAsTFtwLndoXT1pW3Aud2hdfWZ1bmN0aW9uIHdwKHQpe3ZhciBlPXQuc3ltYm9sUGF0dGVyblNpemUsaT1tbCh0LnN5bWJvbFR5cGUsLWUvMiwtZS8yLGUsZSx0LmNvbG9yKTtyZXR1cm4gaS5hdHRyKHtjdWxsaW5nOiEwfSksImltYWdlIiE9PWkudHlwZSYmaS5zZXRTdHlsZSh7c3Ryb2tlTm9TY2FsZTohMH0pLGl9ZnVuY3Rpb24gYnAodCxlLGksbil7ZnVuY3Rpb24gbyh0KXt2YXIgZT1sLnNsaWNlKCksbj1pLnB4U2lnbixvPXQ7cmV0dXJuKCJzdGFydCI9PT1pLnN5bWJvbFJlcGVhdERpcmVjdGlvbj9uPjA6bjwwKSYmKG89aC0xLXQpLGVbdS5pbmRleF09ZCooby1oLzIrLjUpK2xbdS5pbmRleF0se3Bvc2l0aW9uOmUsc2NhbGU6aS5zeW1ib2xTY2FsZS5zbGljZSgpLHJvdGF0aW9uOmkucm90YXRpb259fXZhciBhPXQuX19waWN0b3JpYWxCdW5kbGUscj1pLnN5bWJvbFNpemUscz1pLnZhbHVlTGluZVdpZHRoLGw9aS5wYXRoUG9zaXRpb24sdT1lLnZhbHVlRGltLGg9aS5yZXBlYXRUaW1lc3x8MCxjPTAsZD1yW2UudmFsdWVEaW0uaW5kZXhdK3MrMippLnN5bWJvbE1hcmdpbjtmb3IoT3AodCxmdW5jdGlvbih0KXt0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXg9Yyx0Ll9fcGljdG9yaWFsUmVwZWF0VGltZXM9aCxjPGg/RXAodCxudWxsLG8oYyksaSxuKTpFcCh0LG51bGwse3NjYWxlOlswLDBdfSxpLG4sZnVuY3Rpb24oKXthLnJlbW92ZSh0KX0pLENwKHQsaSksYysrfSk7YzxoO2MrKyl7dmFyIGY9d3AoaSk7Zi5fX3BpY3RvcmlhbEFuaW1hdGlvbkluZGV4PWMsZi5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzPWgsYS5hZGQoZik7dmFyIHA9byhjKTtFcChmLHtwb3NpdGlvbjpwLnBvc2l0aW9uLHNjYWxlOlswLDBdfSx7c2NhbGU6cC5zY2FsZSxyb3RhdGlvbjpwLnJvdGF0aW9ufSxpLG4pLGYub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtPcCh0LGZ1bmN0aW9uKHQpe3QudHJpZ2dlcigiZW1waGFzaXMiKX0pfSkub24oIm1vdXNlb3V0IixmdW5jdGlvbigpe09wKHQsZnVuY3Rpb24odCl7dC50cmlnZ2VyKCJub3JtYWwiKX0pfSksQ3AoZixpKX19ZnVuY3Rpb24gU3AodCxlLGksbil7dmFyIG89dC5fX3BpY3RvcmlhbEJ1bmRsZSxhPXQuX19waWN0b3JpYWxNYWluUGF0aDthP0VwKGEsbnVsbCx7cG9zaXRpb246aS5wYXRoUG9zaXRpb24uc2xpY2UoKSxzY2FsZTppLnN5bWJvbFNjYWxlLnNsaWNlKCkscm90YXRpb246aS5yb3RhdGlvbn0saSxuKTooYT10Ll9fcGljdG9yaWFsTWFpblBhdGg9d3AoaSksby5hZGQoYSksRXAoYSx7cG9zaXRpb246aS5wYXRoUG9zaXRpb24uc2xpY2UoKSxzY2FsZTpbMCwwXSxyb3RhdGlvbjppLnJvdGF0aW9ufSx7c2NhbGU6aS5zeW1ib2xTY2FsZS5zbGljZSgpfSxpLG4pLGEub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoImVtcGhhc2lzIil9KS5vbigibW91c2VvdXQiLGZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJub3JtYWwiKX0pKSxDcChhLGkpfWZ1bmN0aW9uIE1wKHQsZSxpKXt2YXIgbj1hKHt9LGUuYmFyUmVjdFNoYXBlKSxvPXQuX19waWN0b3JpYWxCYXJSZWN0O28/RXAobyxudWxsLHtzaGFwZTpufSxlLGkpOihvPXQuX19waWN0b3JpYWxCYXJSZWN0PW5ldyBqYih7ejI6MixzaGFwZTpuLHNpbGVudDohMCxzdHlsZTp7c3Ryb2tlOiJ0cmFuc3BhcmVudCIsZmlsbDoidHJhbnNwYXJlbnQiLGxpbmVXaWR0aDowfX0pLHQuYWRkKG8pKX1mdW5jdGlvbiBJcCh0LGUsaSxuKXtpZihpLnN5bWJvbENsaXApe3ZhciBvPXQuX19waWN0b3JpYWxDbGlwUGF0aCxyPWEoe30saS5jbGlwU2hhcGUpLHM9ZS52YWx1ZURpbSxsPWkuYW5pbWF0aW9uTW9kZWwsdT1pLmRhdGFJbmRleDtpZihvKWZvKG8se3NoYXBlOnJ9LGwsdSk7ZWxzZXtyW3Mud2hdPTAsbz1uZXcgamIoe3NoYXBlOnJ9KSx0Ll9fcGljdG9yaWFsQnVuZGxlLnNldENsaXBQYXRoKG8pLHQuX19waWN0b3JpYWxDbGlwUGF0aD1vO3ZhciBoPXt9O2hbcy53aF09aS5jbGlwU2hhcGVbcy53aF0sc1Nbbj8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXShvLHtzaGFwZTpofSxsLHUpfX19ZnVuY3Rpb24gRHAodCxlKXt2YXIgaT10LmdldEl0ZW1Nb2RlbChlKTtyZXR1cm4gaS5nZXRBbmltYXRpb25EZWxheVBhcmFtcz1UcCxpLmlzQW5pbWF0aW9uRW5hYmxlZD1BcCxpfWZ1bmN0aW9uIFRwKHQpe3JldHVybntpbmRleDp0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXgsY291bnQ6dC5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzfX1mdW5jdGlvbiBBcCgpe3JldHVybiB0aGlzLnBhcmVudE1vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpJiYhIXRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIil9ZnVuY3Rpb24gQ3AodCxlKXt0Lm9mZigiZW1waGFzaXMiKS5vZmYoIm5vcm1hbCIpO3ZhciBpPWUuc3ltYm9sU2NhbGUuc2xpY2UoKTtlLmhvdmVyQW5pbWF0aW9uJiZ0Lm9uKCJlbXBoYXNpcyIsZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGVUbyh7c2NhbGU6WzEuMSppWzBdLDEuMSppWzFdXX0sNDAwLCJlbGFzdGljT3V0Iil9KS5vbigibm9ybWFsIixmdW5jdGlvbigpe3RoaXMuYW5pbWF0ZVRvKHtzY2FsZTppLnNsaWNlKCl9LDQwMCwiZWxhc3RpY091dCIpfSl9ZnVuY3Rpb24gTHAodCxlLGksbil7dmFyIG89bmV3IExfLGE9bmV3IExfO3JldHVybiBvLmFkZChhKSxvLl9fcGljdG9yaWFsQnVuZGxlPWEsYS5hdHRyKCJwb3NpdGlvbiIsaS5idW5kbGVQb3NpdGlvbi5zbGljZSgpKSxpLnN5bWJvbFJlcGVhdD9icChvLGUsaSk6U3AobyxlLGkpLE1wKG8saSxuKSxJcChvLGUsaSxuKSxvLl9fcGljdG9yaWFsU2hhcGVTdHI9TnAodCxpKSxvLl9fcGljdG9yaWFsU3ltYm9sTWV0YT1pLG99ZnVuY3Rpb24ga3AodCxlLGkpe3ZhciBuPWkuYW5pbWF0aW9uTW9kZWwsbz1pLmRhdGFJbmRleDtmbyh0Ll9fcGljdG9yaWFsQnVuZGxlLHtwb3NpdGlvbjppLmJ1bmRsZVBvc2l0aW9uLnNsaWNlKCl9LG4sbyksaS5zeW1ib2xSZXBlYXQ/YnAodCxlLGksITApOlNwKHQsZSxpLCEwKSxNcCh0LGksITApLElwKHQsZSxpLCEwKX1mdW5jdGlvbiBQcCh0LGUsaSxuKXt2YXIgbz1uLl9fcGljdG9yaWFsQmFyUmVjdDtvJiYoby5zdHlsZS50ZXh0PW51bGwpO3ZhciBhPVtdO09wKG4sZnVuY3Rpb24odCl7YS5wdXNoKHQpfSksbi5fX3BpY3RvcmlhbE1haW5QYXRoJiZhLnB1c2gobi5fX3BpY3RvcmlhbE1haW5QYXRoKSxuLl9fcGljdG9yaWFsQ2xpcFBhdGgmJihpPW51bGwpLGQoYSxmdW5jdGlvbih0KXtmbyh0LHtzY2FsZTpbMCwwXX0saSxlLGZ1bmN0aW9uKCl7bi5wYXJlbnQmJm4ucGFyZW50LnJlbW92ZShuKX0pfSksdC5zZXRJdGVtR3JhcGhpY0VsKGUsbnVsbCl9ZnVuY3Rpb24gTnAodCxlKXtyZXR1cm5bdC5nZXRJdGVtVmlzdWFsKGUuZGF0YUluZGV4LCJzeW1ib2wiKXx8Im5vbmUiLCEhZS5zeW1ib2xSZXBlYXQsISFlLnN5bWJvbENsaXBdLmpvaW4oIjoiKX1mdW5jdGlvbiBPcCh0LGUsaSl7ZCh0Ll9fcGljdG9yaWFsQnVuZGxlLmNoaWxkcmVuKCksZnVuY3Rpb24obil7biE9PXQuX19waWN0b3JpYWxCYXJSZWN0JiZlLmNhbGwoaSxuKX0pfWZ1bmN0aW9uIEVwKHQsZSxpLG4sbyxhKXtlJiZ0LmF0dHIoZSksbi5zeW1ib2xDbGlwJiYhbz9pJiZ0LmF0dHIoaSk6aSYmc1Nbbz8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXSh0LGksbi5hbmltYXRpb25Nb2RlbCxuLmRhdGFJbmRleCxhKX1mdW5jdGlvbiB6cCh0LGUsaSl7dmFyIG49aS5jb2xvcixvPWkuZGF0YUluZGV4LGE9aS5pdGVtTW9kZWwscz1hLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSxsPWEuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHU9YS5nZXRTaGFsbG93KCJjdXJzb3IiKTtPcCh0LGZ1bmN0aW9uKHQpe3Quc2V0Q29sb3IobiksdC5zZXRTdHlsZShyKHtmaWxsOm4sb3BhY2l0eTppLm9wYWNpdHl9LHMpKSxlbyh0LGwpLHUmJih0LmN1cnNvcj11KSx0LnoyPWkuejJ9KTt2YXIgaD17fSxjPWUudmFsdWVEaW0ucG9zRGVzY1srKGkuYm91bmRpbmdMZW5ndGg+MCldLGQ9dC5fX3BpY3RvcmlhbEJhclJlY3Q7UHUoZC5zdHlsZSxoLGEsbixlLnNlcmllc01vZGVsLG8sYyksZW8oZCxoKX1mdW5jdGlvbiBScCh0KXt2YXIgZT1NYXRoLnJvdW5kKHQpO3JldHVybiBNYXRoLmFicyh0LWUpPDFlLTQ/ZTpNYXRoLmNlaWwodCl9ZnVuY3Rpb24gQnAodCxlLGkpe3RoaXMuZGltZW5zaW9uPSJzaW5nbGUiLHRoaXMuZGltZW5zaW9ucz1bInNpbmdsZSJdLHRoaXMuX2F4aXM9bnVsbCx0aGlzLl9yZWN0LHRoaXMuX2luaXQodCxlLGkpLHRoaXMubW9kZWw9dH1mdW5jdGlvbiBWcCh0LGUpe2U9ZXx8e307dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLG49dC5heGlzLG89e30sYT1uLnBvc2l0aW9uLHI9bi5vcmllbnQscz1pLmdldFJlY3QoKSxsPVtzLngscy54K3Mud2lkdGgscy55LHMueStzLmhlaWdodF0sdT17aG9yaXpvbnRhbDp7dG9wOmxbMl0sYm90dG9tOmxbM119LHZlcnRpY2FsOntsZWZ0OmxbMF0scmlnaHQ6bFsxXX19O28ucG9zaXRpb249WyJ2ZXJ0aWNhbCI9PT1yP3UudmVydGljYWxbYV06bFswXSwiaG9yaXpvbnRhbCI9PT1yP3UuaG9yaXpvbnRhbFthXTpsWzNdXTt2YXIgaD17aG9yaXpvbnRhbDowLHZlcnRpY2FsOjF9O28ucm90YXRpb249TWF0aC5QSS8yKmhbcl07dmFyIGM9e3RvcDotMSxib3R0b206MSxyaWdodDoxLGxlZnQ6LTF9O28ubGFiZWxEaXJlY3Rpb249by50aWNrRGlyZWN0aW9uPW8ubmFtZURpcmVjdGlvbj1jW2FdLHQuZ2V0KCJheGlzVGljay5pbnNpZGUiKSYmKG8udGlja0RpcmVjdGlvbj0tby50aWNrRGlyZWN0aW9uKSxEKGUubGFiZWxJbnNpZGUsdC5nZXQoImF4aXNMYWJlbC5pbnNpZGUiKSkmJihvLmxhYmVsRGlyZWN0aW9uPS1vLmxhYmVsRGlyZWN0aW9uKTt2YXIgZD1lLnJvdGF0ZTtyZXR1cm4gbnVsbD09ZCYmKGQ9dC5nZXQoImF4aXNMYWJlbC5yb3RhdGUiKSksby5sYWJlbFJvdGF0aW9uPSJ0b3AiPT09YT8tZDpkLG8ubGFiZWxJbnRlcnZhbD1uLmdldExhYmVsSW50ZXJ2YWwoKSxvLnoyPTEsb31mdW5jdGlvbiBHcCh0LGUsaSxuLG8pe3ZhciByPXQuYXhpcztpZighci5zY2FsZS5pc0JsYW5rKCkmJnIuY29udGFpbkRhdGEoZSkpaWYodC5pbnZvbHZlU2VyaWVzKXt2YXIgcz1GcChlLHQpLGw9cy5wYXlsb2FkQmF0Y2gsdT1zLnNuYXBUb1ZhbHVlO2xbMF0mJm51bGw9PW8uc2VyaWVzSW5kZXgmJmEobyxsWzBdKSwhbiYmdC5zbmFwJiZyLmNvbnRhaW5EYXRhKHUpJiZudWxsIT11JiYoZT11KSxpLnNob3dQb2ludGVyKHQsZSxsLG8pLGkuc2hvd1Rvb2x0aXAodCxzLHUpfWVsc2UgaS5zaG93UG9pbnRlcih0LGUpfWZ1bmN0aW9uIEZwKHQsZSl7dmFyIGk9ZS5heGlzLG49aS5kaW0sbz10LGE9W10scj1OdW1iZXIuTUFYX1ZBTFVFLHM9LTE7cmV0dXJuIF9MKGUuc2VyaWVzTW9kZWxzLGZ1bmN0aW9uKGUsbCl7dmFyIHUsaCxjPWUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbihuLCEwKTtpZihlLmdldEF4aXNUb29sdGlwRGF0YSl7dmFyIGQ9ZS5nZXRBeGlzVG9vbHRpcERhdGEoYyx0LGkpO2g9ZC5kYXRhSW5kaWNlcyx1PWQubmVzdGVzdFZhbHVlfWVsc2V7aWYoIShoPWUuZ2V0RGF0YSgpLmluZGljZXNPZk5lYXJlc3QoY1swXSx0LCJjYXRlZ29yeSI9PT1pLnR5cGU/LjU6bnVsbCkpLmxlbmd0aClyZXR1cm47dT1lLmdldERhdGEoKS5nZXQoY1swXSxoWzBdKX1pZihudWxsIT11JiZpc0Zpbml0ZSh1KSl7dmFyIGY9dC11LHA9TWF0aC5hYnMoZik7cDw9ciYmKChwPHJ8fGY+PTAmJnM8MCkmJihyPXAscz1mLG89dSxhLmxlbmd0aD0wKSxfTChoLGZ1bmN0aW9uKHQpe2EucHVzaCh7c2VyaWVzSW5kZXg6ZS5zZXJpZXNJbmRleCxkYXRhSW5kZXhJbnNpZGU6dCxkYXRhSW5kZXg6ZS5nZXREYXRhKCkuZ2V0UmF3SW5kZXgodCl9KX0pKX19KSx7cGF5bG9hZEJhdGNoOmEsc25hcFRvVmFsdWU6b319ZnVuY3Rpb24gV3AodCxlLGksbil7dFtlLmtleV09e3ZhbHVlOmkscGF5bG9hZEJhdGNoOm59fWZ1bmN0aW9uIEhwKHQsZSxpLG4pe3ZhciBvPWkucGF5bG9hZEJhdGNoLGE9ZS5heGlzLHI9YS5tb2RlbCxzPWUuYXhpc1BvaW50ZXJNb2RlbDtpZihlLnRyaWdnZXJUb29sdGlwJiZvLmxlbmd0aCl7dmFyIGw9ZS5jb29yZFN5cy5tb2RlbCx1PUF1KGwpLGg9dC5tYXBbdV07aHx8KGg9dC5tYXBbdV09e2Nvb3JkU3lzSWQ6bC5pZCxjb29yZFN5c0luZGV4OmwuY29tcG9uZW50SW5kZXgsY29vcmRTeXNUeXBlOmwudHlwZSxjb29yZFN5c01haW5UeXBlOmwubWFpblR5cGUsZGF0YUJ5QXhpczpbXX0sdC5saXN0LnB1c2goaCkpLGguZGF0YUJ5QXhpcy5wdXNoKHtheGlzRGltOmEuZGltLGF4aXNJbmRleDpyLmNvbXBvbmVudEluZGV4LGF4aXNUeXBlOnIudHlwZSxheGlzSWQ6ci5pZCx2YWx1ZTpuLHZhbHVlTGFiZWxPcHQ6e3ByZWNpc2lvbjpzLmdldCgibGFiZWwucHJlY2lzaW9uIiksZm9ybWF0dGVyOnMuZ2V0KCJsYWJlbC5mb3JtYXR0ZXIiKX0sc2VyaWVzRGF0YUluZGljZXM6by5zbGljZSgpfSl9fWZ1bmN0aW9uIFpwKHQsZSxpKXt2YXIgbj1pLmF4ZXNJbmZvPVtdO19MKGUsZnVuY3Rpb24oZSxpKXt2YXIgbz1lLmF4aXNQb2ludGVyTW9kZWwub3B0aW9uLGE9dFtpXTthPyghZS51c2VIYW5kbGUmJihvLnN0YXR1cz0ic2hvdyIpLG8udmFsdWU9YS52YWx1ZSxvLnNlcmllc0RhdGFJbmRpY2VzPShhLnBheWxvYWRCYXRjaHx8W10pLnNsaWNlKCkpOiFlLnVzZUhhbmRsZSYmKG8uc3RhdHVzPSJoaWRlIiksInNob3ciPT09by5zdGF0dXMmJm4ucHVzaCh7YXhpc0RpbTplLmF4aXMuZGltLGF4aXNJbmRleDplLmF4aXMubW9kZWwuY29tcG9uZW50SW5kZXgsdmFsdWU6by52YWx1ZX0pfSl9ZnVuY3Rpb24gVXAodCxlLGksbil7aWYoIXFwKGUpJiZ0Lmxpc3QubGVuZ3RoKXt2YXIgbz0oKHQubGlzdFswXS5kYXRhQnlBeGlzWzBdfHx7fSkuc2VyaWVzRGF0YUluZGljZXN8fFtdKVswXXx8e307bih7dHlwZToic2hvd1RpcCIsZXNjYXBlQ29ubmVjdDohMCx4OmVbMF0seTplWzFdLHRvb2x0aXBPcHRpb246aS50b29sdGlwT3B0aW9uLHBvc2l0aW9uOmkucG9zaXRpb24sZGF0YUluZGV4SW5zaWRlOm8uZGF0YUluZGV4SW5zaWRlLGRhdGFJbmRleDpvLmRhdGFJbmRleCxzZXJpZXNJbmRleDpvLnNlcmllc0luZGV4LGRhdGFCeUNvb3JkU3lzOnQubGlzdH0pfWVsc2Ugbih7dHlwZToiaGlkZVRpcCJ9KX1mdW5jdGlvbiBqcCh0LGUsaSl7dmFyIG49aS5nZXRacigpLG89YkwobikuYXhpc1BvaW50ZXJMYXN0SGlnaGxpZ2h0c3x8e30sYT1iTChuKS5heGlzUG9pbnRlckxhc3RIaWdobGlnaHRzPXt9O19MKHQsZnVuY3Rpb24odCxlKXt2YXIgaT10LmF4aXNQb2ludGVyTW9kZWwub3B0aW9uOyJzaG93Ij09PWkuc3RhdHVzJiZfTChpLnNlcmllc0RhdGFJbmRpY2VzLGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VyaWVzSW5kZXgrIiB8ICIrdC5kYXRhSW5kZXg7YVtlXT10fSl9KTt2YXIgcj1bXSxzPVtdO2QobyxmdW5jdGlvbih0LGUpeyFhW2VdJiZzLnB1c2godCl9KSxkKGEsZnVuY3Rpb24odCxlKXshb1tlXSYmci5wdXNoKHQpfSkscy5sZW5ndGgmJmkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRvd25wbGF5Iixlc2NhcGVDb25uZWN0OiEwLGJhdGNoOnN9KSxyLmxlbmd0aCYmaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiaGlnaGxpZ2h0Iixlc2NhcGVDb25uZWN0OiEwLGJhdGNoOnJ9KX1mdW5jdGlvbiBYcCh0LGUpe2Zvcih2YXIgaT0wO2k8KHR8fFtdKS5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO2lmKGUuYXhpcy5kaW09PT1uLmF4aXNEaW0mJmUuYXhpcy5tb2RlbC5jb21wb25lbnRJbmRleD09PW4uYXhpc0luZGV4KXJldHVybiBufX1mdW5jdGlvbiBZcCh0KXt2YXIgZT10LmF4aXMubW9kZWwsaT17fSxuPWkuYXhpc0RpbT10LmF4aXMuZGltO3JldHVybiBpLmF4aXNJbmRleD1pW24rIkF4aXNJbmRleCJdPWUuY29tcG9uZW50SW5kZXgsaS5heGlzTmFtZT1pW24rIkF4aXNOYW1lIl09ZS5uYW1lLGkuYXhpc0lkPWlbbisiQXhpc0lkIl09ZS5pZCxpfWZ1bmN0aW9uIHFwKHQpe3JldHVybiF0fHxudWxsPT10WzBdfHxpc05hTih0WzBdKXx8bnVsbD09dFsxXXx8aXNOYU4odFsxXSl9ZnVuY3Rpb24gJHAodCxlLGkpe2lmKCFBeC5ub2RlKXt2YXIgbj1lLmdldFpyKCk7U0wobikucmVjb3Jkc3x8KFNMKG4pLnJlY29yZHM9e30pLEtwKG4sZSksKFNMKG4pLnJlY29yZHNbdF18fChTTChuKS5yZWNvcmRzW3RdPXt9KSkuaGFuZGxlcj1pfX1mdW5jdGlvbiBLcCh0LGUpe2Z1bmN0aW9uIGkoaSxuKXt0Lm9uKGksZnVuY3Rpb24oaSl7dmFyIG89ZWcoZSk7TUwoU0wodCkucmVjb3JkcyxmdW5jdGlvbih0KXt0JiZuKHQsaSxvLmRpc3BhdGNoQWN0aW9uKX0pLEpwKG8ucGVuZGluZ3MsZSl9KX1TTCh0KS5pbml0aWFsaXplZHx8KFNMKHQpLmluaXRpYWxpemVkPSEwLGkoImNsaWNrIix2KHRnLCJjbGljayIpKSxpKCJtb3VzZW1vdmUiLHYodGcsIm1vdXNlbW92ZSIpKSxpKCJnbG9iYWxvdXQiLFFwKSl9ZnVuY3Rpb24gSnAodCxlKXt2YXIgaSxuPXQuc2hvd1RpcC5sZW5ndGgsbz10LmhpZGVUaXAubGVuZ3RoO24/aT10LnNob3dUaXBbbi0xXTpvJiYoaT10LmhpZGVUaXBbby0xXSksaSYmKGkuZGlzcGF0Y2hBY3Rpb249bnVsbCxlLmRpc3BhdGNoQWN0aW9uKGkpKX1mdW5jdGlvbiBRcCh0LGUsaSl7dC5oYW5kbGVyKCJsZWF2ZSIsbnVsbCxpKX1mdW5jdGlvbiB0Zyh0LGUsaSxuKXtlLmhhbmRsZXIodCxpLG4pfWZ1bmN0aW9uIGVnKHQpe3ZhciBlPXtzaG93VGlwOltdLGhpZGVUaXA6W119LGk9ZnVuY3Rpb24obil7dmFyIG89ZVtuLnR5cGVdO28/by5wdXNoKG4pOihuLmRpc3BhdGNoQWN0aW9uPWksdC5kaXNwYXRjaEFjdGlvbihuKSl9O3JldHVybntkaXNwYXRjaEFjdGlvbjppLHBlbmRpbmdzOmV9fWZ1bmN0aW9uIGlnKHQsZSl7aWYoIUF4Lm5vZGUpe3ZhciBpPWUuZ2V0WnIoKTsoU0woaSkucmVjb3Jkc3x8e30pW3RdJiYoU0woaSkucmVjb3Jkc1t0XT1udWxsKX19ZnVuY3Rpb24gbmcoKXt9ZnVuY3Rpb24gb2codCxlLGksbil7YWcoREwoaSkubGFzdFByb3Asbil8fChETChpKS5sYXN0UHJvcD1uLGU/Zm8oaSxuLHQpOihpLnN0b3BBbmltYXRpb24oKSxpLmF0dHIobikpKX1mdW5jdGlvbiBhZyh0LGUpe2lmKHcodCkmJncoZSkpe3ZhciBpPSEwO3JldHVybiBkKGUsZnVuY3Rpb24oZSxuKXtpPWkmJmFnKHRbbl0sZSl9KSwhIWl9cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIHJnKHQsZSl7dFtlLmdldCgibGFiZWwuc2hvdyIpPyJzaG93IjoiaGlkZSJdKCl9ZnVuY3Rpb24gc2codCl7cmV0dXJue3Bvc2l0aW9uOnQucG9zaXRpb24uc2xpY2UoKSxyb3RhdGlvbjp0LnJvdGF0aW9ufHwwfX1mdW5jdGlvbiBsZyh0LGUsaSl7dmFyIG49ZS5nZXQoInoiKSxvPWUuZ2V0KCJ6bGV2ZWwiKTt0JiZ0LnRyYXZlcnNlKGZ1bmN0aW9uKHQpeyJncm91cCIhPT10LnR5cGUmJihudWxsIT1uJiYodC56PW4pLG51bGwhPW8mJih0LnpsZXZlbD1vKSx0LnNpbGVudD1pKX0pfWZ1bmN0aW9uIHVnKHQpe3ZhciBlLGk9dC5nZXQoInR5cGUiKSxuPXQuZ2V0TW9kZWwoaSsiU3R5bGUiKTtyZXR1cm4ibGluZSI9PT1pPyhlPW4uZ2V0TGluZVN0eWxlKCkpLmZpbGw9bnVsbDoic2hhZG93Ij09PWkmJigoZT1uLmdldEFyZWFTdHlsZSgpKS5zdHJva2U9bnVsbCksZX1mdW5jdGlvbiBoZyh0LGUsaSxuLG8pe3ZhciBhPWRnKGkuZ2V0KCJ2YWx1ZSIpLGUuYXhpcyxlLmVjTW9kZWwsaS5nZXQoInNlcmllc0RhdGFJbmRpY2VzIikse3ByZWNpc2lvbjppLmdldCgibGFiZWwucHJlY2lzaW9uIiksZm9ybWF0dGVyOmkuZ2V0KCJsYWJlbC5mb3JtYXR0ZXIiKX0pLHI9aS5nZXRNb2RlbCgibGFiZWwiKSxzPXhTKHIuZ2V0KCJwYWRkaW5nIil8fDApLGw9ci5nZXRGb250KCksdT1tZShhLGwpLGg9by5wb3NpdGlvbixjPXUud2lkdGgrc1sxXStzWzNdLGQ9dS5oZWlnaHQrc1swXStzWzJdLGY9by5hbGlnbjsicmlnaHQiPT09ZiYmKGhbMF0tPWMpLCJjZW50ZXIiPT09ZiYmKGhbMF0tPWMvMik7dmFyIHA9by52ZXJ0aWNhbEFsaWduOyJib3R0b20iPT09cCYmKGhbMV0tPWQpLCJtaWRkbGUiPT09cCYmKGhbMV0tPWQvMiksY2coaCxjLGQsbik7dmFyIGc9ci5nZXQoImJhY2tncm91bmRDb2xvciIpO2cmJiJhdXRvIiE9PWd8fChnPWUuZ2V0KCJheGlzTGluZS5saW5lU3R5bGUuY29sb3IiKSksdC5sYWJlbD17c2hhcGU6e3g6MCx5OjAsd2lkdGg6YyxoZWlnaHQ6ZCxyOnIuZ2V0KCJib3JkZXJSYWRpdXMiKX0scG9zaXRpb246aC5zbGljZSgpLHN0eWxlOnt0ZXh0OmEsdGV4dEZvbnQ6bCx0ZXh0RmlsbDpyLmdldFRleHRDb2xvcigpLHRleHRQb3NpdGlvbjoiaW5zaWRlIixmaWxsOmcsc3Ryb2tlOnIuZ2V0KCJib3JkZXJDb2xvciIpfHwidHJhbnNwYXJlbnQiLGxpbmVXaWR0aDpyLmdldCgiYm9yZGVyV2lkdGgiKXx8MCxzaGFkb3dCbHVyOnIuZ2V0KCJzaGFkb3dCbHVyIiksc2hhZG93Q29sb3I6ci5nZXQoInNoYWRvd0NvbG9yIiksc2hhZG93T2Zmc2V0WDpyLmdldCgic2hhZG93T2Zmc2V0WCIpLHNoYWRvd09mZnNldFk6ci5nZXQoInNoYWRvd09mZnNldFkiKX0sejI6MTB9fWZ1bmN0aW9uIGNnKHQsZSxpLG4pe3ZhciBvPW4uZ2V0V2lkdGgoKSxhPW4uZ2V0SGVpZ2h0KCk7dFswXT1NYXRoLm1pbih0WzBdK2UsbyktZSx0WzFdPU1hdGgubWluKHRbMV0raSxhKS1pLHRbMF09TWF0aC5tYXgodFswXSwwKSx0WzFdPU1hdGgubWF4KHRbMV0sMCl9ZnVuY3Rpb24gZGcodCxlLGksbixvKXt2YXIgYT1lLnNjYWxlLmdldExhYmVsKHQse3ByZWNpc2lvbjpvLnByZWNpc2lvbn0pLHI9by5mb3JtYXR0ZXI7aWYocil7dmFyIHM9e3ZhbHVlOnBsKGUsdCksc2VyaWVzRGF0YTpbXX07ZChuLGZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0U2VyaWVzQnlJbmRleCh0LnNlcmllc0luZGV4KSxuPXQuZGF0YUluZGV4SW5zaWRlLG89ZSYmZS5nZXREYXRhUGFyYW1zKG4pO28mJnMuc2VyaWVzRGF0YS5wdXNoKG8pfSksXyhyKT9hPXIucmVwbGFjZSgie3ZhbHVlfSIsYSk6eChyKSYmKGE9cihzKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZmcodCxlLGkpe3ZhciBuPXN0KCk7cmV0dXJuIGR0KG4sbixpLnJvdGF0aW9uKSxjdChuLG4saS5wb3NpdGlvbiksbW8oW3QuZGF0YVRvQ29vcmQoZSksKGkubGFiZWxPZmZzZXR8fDApKyhpLmxhYmVsRGlyZWN0aW9ufHwxKSooaS5sYWJlbE1hcmdpbnx8MCldLG4pfWZ1bmN0aW9uIHBnKHQsZSxpLG4sbyxhKXt2YXIgcj1xRC5pbm5lclRleHRMYXlvdXQoaS5yb3RhdGlvbiwwLGkubGFiZWxEaXJlY3Rpb24pO2kubGFiZWxNYXJnaW49by5nZXQoImxhYmVsLm1hcmdpbiIpLGhnKGUsbixvLGEse3Bvc2l0aW9uOmZnKG4uYXhpcyx0LGkpLGFsaWduOnIudGV4dEFsaWduLHZlcnRpY2FsQWxpZ246ci50ZXh0VmVydGljYWxBbGlnbn0pfWZ1bmN0aW9uIGdnKHQsZSxpKXtyZXR1cm4gaT1pfHwwLHt4MTp0W2ldLHkxOnRbMS1pXSx4MjplW2ldLHkyOmVbMS1pXX19ZnVuY3Rpb24gbWcodCxlLGkpe3JldHVybiBpPWl8fDAse3g6dFtpXSx5OnRbMS1pXSx3aWR0aDplW2ldLGhlaWdodDplWzEtaV19fWZ1bmN0aW9uIHZnKHQsZSxpLG4sbyxhKXtyZXR1cm57Y3g6dCxjeTplLHIwOmkscjpuLHN0YXJ0QW5nbGU6byxlbmRBbmdsZTphLGNsb2Nrd2lzZTohMH19ZnVuY3Rpb24geWcodCxlKXt2YXIgaT17fTtyZXR1cm4gaVtlLmRpbSsiQXhpc0luZGV4Il09ZS5pbmRleCx0LmdldENhcnRlc2lhbihpKX1mdW5jdGlvbiB4Zyh0KXtyZXR1cm4ieCI9PT10LmRpbT8wOjF9ZnVuY3Rpb24gX2codCl7cmV0dXJuIHQuaXNIb3Jpem9udGFsKCk/MDoxfWZ1bmN0aW9uIHdnKHQsZSl7dmFyIGk9dC5nZXRSZWN0KCk7cmV0dXJuW2lba0xbZV1dLGlba0xbZV1dK2lbUExbZV1dXX1mdW5jdGlvbiBiZyh0LGUsaSl7dmFyIG49bmV3IGpiKHtzaGFwZTp7eDp0LngtMTAseTp0LnktMTAsd2lkdGg6MCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSk7cmV0dXJuIHBvKG4se3NoYXBlOnt3aWR0aDp0LndpZHRoKzIwLGhlaWdodDp0LmhlaWdodCsyMH19LGUsaSksbn1mdW5jdGlvbiBTZyh0LGUsaSl7aWYodC5jb3VudCgpKWZvcih2YXIgbixvPWUuY29vcmRpbmF0ZVN5c3RlbSxhPWUuZ2V0TGF5ZXJTZXJpZXMoKSxyPXQubWFwRGltZW5zaW9uKCJzaW5nbGUiKSxzPXQubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGw9ZihhLGZ1bmN0aW9uKGUpe3JldHVybiBmKGUuaW5kaWNlcyxmdW5jdGlvbihlKXt2YXIgaT1vLmRhdGFUb1BvaW50KHQuZ2V0KHIsZSkpO3JldHVybiBpWzFdPXQuZ2V0KHMsZSksaX0pfSksdT1NZyhsKSxoPXUueTAsYz1pL3UubWF4LGQ9YS5sZW5ndGgscD1hWzBdLmluZGljZXMubGVuZ3RoLGc9MDtnPHA7KytnKXtuPWhbZ10qYyx0LnNldEl0ZW1MYXlvdXQoYVswXS5pbmRpY2VzW2ddLHtsYXllckluZGV4OjAseDpsWzBdW2ddWzBdLHkwOm4seTpsWzBdW2ddWzFdKmN9KTtmb3IodmFyIG09MTttPGQ7KyttKW4rPWxbbS0xXVtnXVsxXSpjLHQuc2V0SXRlbUxheW91dChhW21dLmluZGljZXNbZ10se2xheWVySW5kZXg6bSx4OmxbbV1bZ11bMF0seTA6bix5OmxbbV1bZ11bMV0qY30pfX1mdW5jdGlvbiBNZyh0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT10WzBdLmxlbmd0aCxuPVtdLG89W10sYT0wLHI9e30scz0wO3M8aTsrK3Mpe2Zvcih2YXIgbD0wLHU9MDtsPGU7KytsKXUrPXRbbF1bc11bMV07dT5hJiYoYT11KSxuLnB1c2godSl9Zm9yKHZhciBoPTA7aDxpOysraClvW2hdPShhLW5baF0pLzI7YT0wO2Zvcih2YXIgYz0wO2M8aTsrK2Mpe3ZhciBkPW5bY10rb1tjXTtkPmEmJihhPWQpfXJldHVybiByLnkwPW8sci5tYXg9YSxyfWZ1bmN0aW9uIElnKHQpe3ZhciBlPTA7ZCh0LmNoaWxkcmVuLGZ1bmN0aW9uKHQpe0lnKHQpO3ZhciBpPXQudmFsdWU7eShpKSYmKGk9aVswXSksZSs9aX0pO3ZhciBpPXQudmFsdWU7eShpKSYmKGk9aVswXSksKG51bGw9PWl8fGlzTmFOKGkpKSYmKGk9ZSksaTwwJiYoaT0wKSx5KHQudmFsdWUpP3QudmFsdWVbMF09aTp0LnZhbHVlPWl9ZnVuY3Rpb24gRGcodCxlLGkpe2Z1bmN0aW9uIG4oKXtyLmlnbm9yZT1yLmhvdmVySWdub3JlfWZ1bmN0aW9uIG8oKXtyLmlnbm9yZT1yLm5vcm1hbElnbm9yZX1MXy5jYWxsKHRoaXMpO3ZhciBhPW5ldyBHYih7ejI6Ukx9KSxyPW5ldyB6Yih7ejI6Qkwsc2lsZW50OnQuZ2V0TW9kZWwoImxhYmVsIikuZ2V0KCJzaWxlbnQiKX0pO3RoaXMuYWRkKGEpLHRoaXMuYWRkKHIpLHRoaXMudXBkYXRlRGF0YSghMCx0LCJub3JtYWwiLGUsaSksdGhpcy5vbigiZW1waGFzaXMiLG4pLm9uKCJub3JtYWwiLG8pLm9uKCJtb3VzZW92ZXIiLG4pLm9uKCJtb3VzZW91dCIsbyl9ZnVuY3Rpb24gVGcodCxlLGkpe3ZhciBuPXQuZ2V0VmlzdWFsKCJjb2xvciIpLG89dC5nZXRWaXN1YWwoInZpc3VhbE1ldGEiKTtvJiYwIT09by5sZW5ndGh8fChuPW51bGwpO3ZhciBhPXQuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldCgiY29sb3IiKTtpZihhKXJldHVybiBhO2lmKG4pcmV0dXJuIG47aWYoMD09PXQuZGVwdGgpcmV0dXJuIGkub3B0aW9uLmNvbG9yWzBdO3ZhciByPWkub3B0aW9uLmNvbG9yLmxlbmd0aDtyZXR1cm4gYT1pLm9wdGlvbi5jb2xvcltBZyh0KSVyXX1mdW5jdGlvbiBBZyh0KXtmb3IodmFyIGU9dDtlLmRlcHRoPjE7KWU9ZS5wYXJlbnROb2RlO3JldHVybiBsKHQuZ2V0QW5jZXN0b3JzKClbMF0uY2hpbGRyZW4sZSl9ZnVuY3Rpb24gQ2codCxlLGkpe3JldHVybiBpIT09ekwuTk9ORSYmKGk9PT16TC5TRUxGP3Q9PT1lOmk9PT16TC5BTkNFU1RPUj90PT09ZXx8dC5pc0FuY2VzdG9yT2YoZSk6dD09PWV8fHQuaXNEZXNjZW5kYW50T2YoZSkpfWZ1bmN0aW9uIExnKHQsZSl7dmFyIGk9dC5jaGlsZHJlbnx8W107dC5jaGlsZHJlbj1rZyhpLGUpLGkubGVuZ3RoJiZkKHQuY2hpbGRyZW4sZnVuY3Rpb24odCl7TGcodCxlKX0pfWZ1bmN0aW9uIGtnKHQsZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpcmV0dXJuIHQuc29ydChlKTt2YXIgaT0iYXNjIj09PWU7cmV0dXJuIHQuc29ydChmdW5jdGlvbih0LGUpe3ZhciBuPSh0LmdldFZhbHVlKCktZS5nZXRWYWx1ZSgpKSooaT8xOi0xKTtyZXR1cm4gMD09PW4/KHQuZGF0YUluZGV4LWUuZGF0YUluZGV4KSooaT8tMToxKTpufSl9ZnVuY3Rpb24gUGcodCxlKXtyZXR1cm4gZT1lfHxbMCwwXSxmKFsieCIsInkiXSxmdW5jdGlvbihpLG4pe3ZhciBvPXRoaXMuZ2V0QXhpcyhpKSxhPWVbbl0scj10W25dLzI7cmV0dXJuImNhdGVnb3J5Ij09PW8udHlwZT9vLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKG8uZGF0YVRvQ29vcmQoYS1yKS1vLmRhdGFUb0Nvb3JkKGErcikpfSx0aGlzKX1mdW5jdGlvbiBOZyh0LGUpe3JldHVybiBlPWV8fFswLDBdLGYoWzAsMV0sZnVuY3Rpb24oaSl7dmFyIG49ZVtpXSxvPXRbaV0vMixhPVtdLHI9W107cmV0dXJuIGFbaV09bi1vLHJbaV09bitvLGFbMS1pXT1yWzEtaV09ZVsxLWldLE1hdGguYWJzKHRoaXMuZGF0YVRvUG9pbnQoYSlbaV0tdGhpcy5kYXRhVG9Qb2ludChyKVtpXSl9LHRoaXMpfWZ1bmN0aW9uIE9nKHQsZSl7dmFyIGk9dGhpcy5nZXRBeGlzKCksbj1lIGluc3RhbmNlb2YgQXJyYXk/ZVswXTplLG89KHQgaW5zdGFuY2VvZiBBcnJheT90WzBdOnQpLzI7cmV0dXJuImNhdGVnb3J5Ij09PWkudHlwZT9pLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKGkuZGF0YVRvQ29vcmQobi1vKS1pLmRhdGFUb0Nvb3JkKG4rbykpfWZ1bmN0aW9uIEVnKHQsZSl7cmV0dXJuIGYoWyJSYWRpdXMiLCJBbmdsZSJdLGZ1bmN0aW9uKGksbil7dmFyIG89dGhpc1siZ2V0IitpKyJBeGlzIl0oKSxhPWVbbl0scj10W25dLzIscz0iZGF0YVRvIitpLGw9ImNhdGVnb3J5Ij09PW8udHlwZT9vLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKG9bc10oYS1yKS1vW3NdKGErcikpO3JldHVybiJBbmdsZSI9PT1pJiYobD1sKk1hdGguUEkvMTgwKSxsfSx0aGlzKX1mdW5jdGlvbiB6Zyh0KXt2YXIgZSxpPXQudHlwZTtpZigicGF0aCI9PT1pKXt2YXIgbj10LnNoYXBlOyhlPXpuKG4ucGF0aERhdGEsbnVsbCx7eDpuLnh8fDAseTpuLnl8fDAsd2lkdGg6bi53aWR0aHx8MCxoZWlnaHQ6bi5oZWlnaHR8fDB9LCJjZW50ZXIiKSkuX19jdXN0b21QYXRoRGF0YT10LnBhdGhEYXRhfWVsc2UiaW1hZ2UiPT09aT8oZT1uZXcgSmUoe30pKS5fX2N1c3RvbUltYWdlUGF0aD10LnN0eWxlLmltYWdlOiJ0ZXh0Ij09PWk/KGU9bmV3IHpiKHt9KSkuX19jdXN0b21UZXh0PXQuc3R5bGUudGV4dDplPW5ldygwLHNTW2kuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraS5zbGljZSgxKV0pO3JldHVybiBlLl9fY3VzdG9tR3JhcGhpY1R5cGU9aSxlLm5hbWU9dC5uYW1lLGV9ZnVuY3Rpb24gUmcodCxlLG4sbyxhLHIpe3ZhciBzPXt9LGw9bi5zdHlsZXx8e307aWYobi5zaGFwZSYmKHMuc2hhcGU9aShuLnNoYXBlKSksbi5wb3NpdGlvbiYmKHMucG9zaXRpb249bi5wb3NpdGlvbi5zbGljZSgpKSxuLnNjYWxlJiYocy5zY2FsZT1uLnNjYWxlLnNsaWNlKCkpLG4ub3JpZ2luJiYocy5vcmlnaW49bi5vcmlnaW4uc2xpY2UoKSksbi5yb3RhdGlvbiYmKHMucm90YXRpb249bi5yb3RhdGlvbiksImltYWdlIj09PXQudHlwZSYmbi5zdHlsZSl7dT1zLnN0eWxlPXt9O2QoWyJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oZSl7QmcoZSx1LGwsdC5zdHlsZSxyKX0pfWlmKCJ0ZXh0Ij09PXQudHlwZSYmbi5zdHlsZSl7dmFyIHU9cy5zdHlsZT17fTtkKFsieCIsInkiXSxmdW5jdGlvbihlKXtCZyhlLHUsbCx0LnN0eWxlLHIpfSksIWwuaGFzT3duUHJvcGVydHkoInRleHRGaWxsIikmJmwuZmlsbCYmKGwudGV4dEZpbGw9bC5maWxsKSwhbC5oYXNPd25Qcm9wZXJ0eSgidGV4dFN0cm9rZSIpJiZsLnN0cm9rZSYmKGwudGV4dFN0cm9rZT1sLnN0cm9rZSl9aWYoImdyb3VwIiE9PXQudHlwZSYmKHQudXNlU3R5bGUobCkscikpe3Quc3R5bGUub3BhY2l0eT0wO3ZhciBoPWwub3BhY2l0eTtudWxsPT1oJiYoaD0xKSxwbyh0LHtzdHlsZTp7b3BhY2l0eTpofX0sbyxlKX1yP3QuYXR0cihzKTpmbyh0LHMsbyxlKSx0LmF0dHIoe3oyOm4uejJ8fDAsc2lsZW50Om4uc2lsZW50fSksITEhPT1uLnN0eWxlRW1waGFzaXMmJmVvKHQsbi5zdHlsZUVtcGhhc2lzKX1mdW5jdGlvbiBCZyh0LGUsaSxuLG8pe251bGw9PWlbdF18fG98fChlW3RdPWlbdF0saVt0XT1uW3RdKX1mdW5jdGlvbiBWZyh0LGUsaSxuKXtmdW5jdGlvbiBvKHQpe251bGw9PXQmJih0PWgpLHYmJihjPWUuZ2V0SXRlbU1vZGVsKHQpLGQ9Yy5nZXRNb2RlbChVTCksZj1jLmdldE1vZGVsKGpMKSxwPWUuZ2V0SXRlbVZpc3VhbCh0LCJjb2xvciIpLHY9ITEpfXZhciBzPXQuZ2V0KCJyZW5kZXJJdGVtIiksbD10LmNvb3JkaW5hdGVTeXN0ZW0sdT17fTtsJiYodT1sLnByZXBhcmVDdXN0b21zP2wucHJlcGFyZUN1c3RvbXMoKTpZTFtsLnR5cGVdKGwpKTt2YXIgaCxjLGQsZixwLGc9cih7Z2V0V2lkdGg6bi5nZXRXaWR0aCxnZXRIZWlnaHQ6bi5nZXRIZWlnaHQsZ2V0WnI6bi5nZXRacixnZXREZXZpY2VQaXhlbFJhdGlvOm4uZ2V0RGV2aWNlUGl4ZWxSYXRpbyx2YWx1ZTpmdW5jdGlvbih0LGkpe3JldHVybiBudWxsPT1pJiYoaT1oKSxlLmdldChlLmdldERpbWVuc2lvbih0fHwwKSxpKX0sc3R5bGU6ZnVuY3Rpb24oaSxuKXtudWxsPT1uJiYobj1oKSxvKG4pO3ZhciByPWMuZ2V0TW9kZWwoSEwpLmdldEl0ZW1TdHlsZSgpO251bGwhPXAmJihyLmZpbGw9cCk7dmFyIHM9ZS5nZXRJdGVtVmlzdWFsKG4sIm9wYWNpdHkiKTtyZXR1cm4gbnVsbCE9cyYmKHIub3BhY2l0eT1zKSxubyhyLGQsbnVsbCx7YXV0b0NvbG9yOnAsaXNSZWN0VGV4dDohMH0pLHIudGV4dD1kLmdldFNoYWxsb3coInNob3ciKT9UKHQuZ2V0Rm9ybWF0dGVkTGFiZWwobiwibm9ybWFsIiksU2woZSxuKSk6bnVsbCxpJiZhKHIsaSkscn0sc3R5bGVFbXBoYXNpczpmdW5jdGlvbihpLG4pe251bGw9PW4mJihuPWgpLG8obik7dmFyIHI9Yy5nZXRNb2RlbChaTCkuZ2V0SXRlbVN0eWxlKCk7cmV0dXJuIG5vKHIsZixudWxsLHtpc1JlY3RUZXh0OiEwfSwhMCksci50ZXh0PWYuZ2V0U2hhbGxvdygic2hvdyIpP0EodC5nZXRGb3JtYXR0ZWRMYWJlbChuLCJlbXBoYXNpcyIpLHQuZ2V0Rm9ybWF0dGVkTGFiZWwobiwibm9ybWFsIiksU2woZSxuKSk6bnVsbCxpJiZhKHIsaSkscn0sdmlzdWFsOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG51bGw9PWkmJihpPWgpLGUuZ2V0SXRlbVZpc3VhbChpLHQpfSxiYXJMYXlvdXQ6ZnVuY3Rpb24odCl7aWYobC5nZXRCYXNlQXhpcylyZXR1cm4gbmwocih7YXhpczpsLmdldEJhc2VBeGlzKCl9LHQpLG4pfSxjdXJyZW50U2VyaWVzSW5kaWNlczpmdW5jdGlvbigpe3JldHVybiBpLmdldEN1cnJlbnRTZXJpZXNJbmRpY2VzKCl9LGZvbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIGhvKHQsaSl9fSx1LmFwaXx8e30pLG09e2NvbnRleHQ6e30sc2VyaWVzSWQ6dC5pZCxzZXJpZXNOYW1lOnQubmFtZSxzZXJpZXNJbmRleDp0LnNlcmllc0luZGV4LGNvb3JkU3lzOnUuY29vcmRTeXMsZGF0YUluc2lkZUxlbmd0aDplLmNvdW50KCksZW5jb2RlOkdnKHQuZ2V0RGF0YSgpKX0sdj0hMDtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGg9dCx2PSEwLHMmJnMocih7ZGF0YUluZGV4SW5zaWRlOnQsZGF0YUluZGV4OmUuZ2V0UmF3SW5kZXgodCl9LG0pLGcpfHx7fX19ZnVuY3Rpb24gR2codCl7dmFyIGU9e307cmV0dXJuIGQodC5kaW1lbnNpb25zLGZ1bmN0aW9uKGksbil7dmFyIG89dC5nZXREaW1lbnNpb25JbmZvKGkpO2lmKCFvLmlzRXh0cmFDb29yZCl7dmFyIGE9by5jb29yZERpbTsoZVthXT1lW2FdfHxbXSlbby5jb29yZERpbUluZGV4XT1ufX0pLGV9ZnVuY3Rpb24gRmcodCxlLGksbixvLGEpe3JldHVybih0PVdnKHQsZSxpLG4sbyxhKSkmJmEuc2V0SXRlbUdyYXBoaWNFbChlLHQpLHR9ZnVuY3Rpb24gV2codCxlLGksbixvLGEpe3ZhciByPWkudHlwZTtpZighdHx8cj09PXQuX19jdXN0b21HcmFwaGljVHlwZXx8InBhdGgiPT09ciYmaS5wYXRoRGF0YT09PXQuX19jdXN0b21QYXRoRGF0YXx8ImltYWdlIj09PXImJmkuc3R5bGUuaW1hZ2U9PT10Ll9fY3VzdG9tSW1hZ2VQYXRofHwidGV4dCI9PT1yJiZpLnN0eWxlLnRleHQ9PT10Ll9fY3VzdG9tVGV4dHx8KG8ucmVtb3ZlKHQpLHQ9bnVsbCksbnVsbCE9cil7dmFyIHM9IXQ7aWYoIXQmJih0PXpnKGkpKSxSZyh0LGUsaSxuLGEscyksImdyb3VwIj09PXIpe3ZhciBsPXQuY2hpbGRyZW4oKXx8W10sdT1pLmNoaWxkcmVufHxbXTtpZihpLmRpZmZDaGlsZHJlbkJ5TmFtZSlIZyh7b2xkQ2hpbGRyZW46bCxuZXdDaGlsZHJlbjp1LGRhdGFJbmRleDplLGFuaW1hdGFibGVNb2RlbDpuLGdyb3VwOnQsZGF0YTphfSk7ZWxzZXtmb3IodmFyIGg9MDtoPHUubGVuZ3RoO2grKylXZyh0LmNoaWxkQXQoaCksZSx1W2hdLG4sdCxhKTtmb3IoO2g8bC5sZW5ndGg7aCsrKWxbaF0mJnQucmVtb3ZlKGxbaF0pfX1yZXR1cm4gby5hZGQodCksdH19ZnVuY3Rpb24gSGcodCl7bmV3IGJzKHQub2xkQ2hpbGRyZW4sdC5uZXdDaGlsZHJlbixaZyxaZyx0KS5hZGQoVWcpLnVwZGF0ZShVZykucmVtb3ZlKGpnKS5leGVjdXRlKCl9ZnVuY3Rpb24gWmcodCxlKXt2YXIgaT10JiZ0Lm5hbWU7cmV0dXJuIG51bGwhPWk/aTpYTCtlfWZ1bmN0aW9uIFVnKHQsZSl7dmFyIGk9dGhpcy5jb250ZXh0LG49bnVsbCE9dD9pLm5ld0NoaWxkcmVuW3RdOm51bGw7V2cobnVsbCE9ZT9pLm9sZENoaWxkcmVuW2VdOm51bGwsaS5kYXRhSW5kZXgsbixpLmFuaW1hdGFibGVNb2RlbCxpLmdyb3VwLGkuZGF0YSl9ZnVuY3Rpb24gamcodCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9ZS5vbGRDaGlsZHJlblt0XTtpJiZlLmdyb3VwLnJlbW92ZShpKX1mdW5jdGlvbiBYZyh0LGUsaSxuKXt2YXIgbz1pLnR5cGUsYT1uZXcoMCxzU1tvLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK28uc2xpY2UoMSldKShpKTtlLmFkZChhKSxuLnNldCh0LGEpLGEuX19lY0dyYXBoaWNJZD10fWZ1bmN0aW9uIFlnKHQsZSl7dmFyIGk9dCYmdC5wYXJlbnQ7aSYmKCJncm91cCI9PT10LnR5cGUmJnQudHJhdmVyc2UoZnVuY3Rpb24odCl7WWcodCxlKX0pLGUucmVtb3ZlS2V5KHQuX19lY0dyYXBoaWNJZCksaS5yZW1vdmUodCkpfWZ1bmN0aW9uIHFnKHQpe3JldHVybiB0PWEoe30sdCksZChbImlkIiwicGFyZW50SWQiLCIkYWN0aW9uIiwiaHYiLCJib3VuZGluZyJdLmNvbmNhdChEUyksZnVuY3Rpb24oZSl7ZGVsZXRlIHRbZV19KSx0fWZ1bmN0aW9uICRnKHQsZSl7dmFyIGk7cmV0dXJuIGQoZSxmdW5jdGlvbihlKXtudWxsIT10W2VdJiYiYXV0byIhPT10W2VdJiYoaT0hMCl9KSxpfWZ1bmN0aW9uIEtnKHQsZSl7dmFyIGk9dC5leGlzdDtpZihlLmlkPXQua2V5SW5mby5pZCwhZS50eXBlJiZpJiYoZS50eXBlPWkudHlwZSksbnVsbD09ZS5wYXJlbnRJZCl7dmFyIG49ZS5wYXJlbnRPcHRpb247bj9lLnBhcmVudElkPW4uaWQ6aSYmKGUucGFyZW50SWQ9aS5wYXJlbnRJZCl9ZS5wYXJlbnRPcHRpb249bnVsbH1mdW5jdGlvbiBKZyh0LGUsaSl7dmFyIG89YSh7fSxpKSxyPXRbZV0scz1pLiRhY3Rpb258fCJtZXJnZSI7Im1lcmdlIj09PXM/cj8obihyLG8sITApLGlhKHIsbyx7aWdub3JlU2l6ZTohMH0pLG9hKGkscikpOnRbZV09bzoicmVwbGFjZSI9PT1zP3RbZV09bzoicmVtb3ZlIj09PXMmJnImJih0W2VdPW51bGwpfWZ1bmN0aW9uIFFnKHQsZSl7dCYmKHQuaHY9ZS5odj1bJGcoZSxbImxlZnQiLCJyaWdodCJdKSwkZyhlLFsidG9wIiwiYm90dG9tIl0pXSwiZ3JvdXAiPT09dC50eXBlJiYobnVsbD09dC53aWR0aCYmKHQud2lkdGg9ZS53aWR0aD0wKSxudWxsPT10LmhlaWdodCYmKHQuaGVpZ2h0PWUuaGVpZ2h0PTApKSl9ZnVuY3Rpb24gdG0odCxlLGkpe3ZhciBuLG89e30sYT0idG9nZ2xlU2VsZWN0ZWQiPT09dDtyZXR1cm4gaS5lYWNoQ29tcG9uZW50KCJsZWdlbmQiLGZ1bmN0aW9uKGkpe2EmJm51bGwhPW4/aVtuPyJzZWxlY3QiOiJ1blNlbGVjdCJdKGUubmFtZSk6KGlbdF0oZS5uYW1lKSxuPWkuaXNTZWxlY3RlZChlLm5hbWUpKSxkKGkuZ2V0RGF0YSgpLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJuYW1lIik7aWYoIlxuIiE9PWUmJiIiIT09ZSl7dmFyIG49aS5pc1NlbGVjdGVkKGUpO28uaGFzT3duUHJvcGVydHkoZSk/b1tlXT1vW2VdJiZuOm9bZV09bn19KX0pLHtuYW1lOmUubmFtZSxzZWxlY3RlZDpvfX1mdW5jdGlvbiBlbSh0LGUsaSl7dmFyIG49ZS5nZXRCb3hMYXlvdXRQYXJhbXMoKSxvPWUuZ2V0KCJwYWRkaW5nIiksYT17d2lkdGg6aS5nZXRXaWR0aCgpLGhlaWdodDppLmdldEhlaWdodCgpfSxyPVFvKG4sYSxvKTtBUyhlLmdldCgib3JpZW50IiksdCxlLmdldCgiaXRlbUdhcCIpLHIud2lkdGgsci5oZWlnaHQpLHRhKHQsbixhLG8pfWZ1bmN0aW9uIGltKHQsZSl7dmFyIGk9eFMoZS5nZXQoInBhZGRpbmciKSksbj1lLmdldEl0ZW1TdHlsZShbImNvbG9yIiwib3BhY2l0eSJdKTtyZXR1cm4gbi5maWxsPWUuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKSx0PW5ldyBqYih7c2hhcGU6e3g6dC54LWlbM10seTp0LnktaVswXSx3aWR0aDp0LndpZHRoK2lbMV0raVszXSxoZWlnaHQ6dC5oZWlnaHQraVswXStpWzJdLHI6ZS5nZXQoImJvcmRlclJhZGl1cyIpfSxzdHlsZTpuLHNpbGVudDohMCx6MjotMX0pfWZ1bmN0aW9uIG5tKHQsZSl7ZS5kaXNwYXRjaEFjdGlvbih7dHlwZToibGVnZW5kVG9nZ2xlU2VsZWN0IixuYW1lOnR9KX1mdW5jdGlvbiBvbSh0LGUsaSl7dmFyIG49aS5nZXRacigpLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoKVswXTtuJiZuLnVzZUhvdmVyTGF5ZXJ8fHQuZ2V0KCJsZWdlbmRIb3ZlckxpbmsiKSYmaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiaGlnaGxpZ2h0IixzZXJpZXNOYW1lOnQubmFtZSxuYW1lOmV9KX1mdW5jdGlvbiBhbSh0LGUsaSl7dmFyIG49aS5nZXRacigpLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoKVswXTtuJiZuLnVzZUhvdmVyTGF5ZXJ8fHQuZ2V0KCJsZWdlbmRIb3ZlckxpbmsiKSYmaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZG93bnBsYXkiLHNlcmllc05hbWU6dC5uYW1lLG5hbWU6ZX0pfWZ1bmN0aW9uIHJtKHQsZSxpKXt2YXIgbj1bMSwxXTtuW3QuZ2V0T3JpZW50KCkuaW5kZXhdPTAsaWEoZSxpLHt0eXBlOiJib3giLGlnbm9yZVNpemU6bn0pfWZ1bmN0aW9uIHNtKHQpe3ZhciBlPSJsZWZ0ICIrdCsicyBjdWJpYy1iZXppZXIoMC4yMywgMSwgMC4zMiwgMSksdG9wICIrdCsicyBjdWJpYy1iZXppZXIoMC4yMywgMSwgMC4zMiwgMSkiO3JldHVybiBmKGxrLGZ1bmN0aW9uKHQpe3JldHVybiB0KyJ0cmFuc2l0aW9uOiIrZX0pLmpvaW4oIjsiKX1mdW5jdGlvbiBsbSh0KXt2YXIgZT1bXSxpPXQuZ2V0KCJmb250U2l6ZSIpLG49dC5nZXRUZXh0Q29sb3IoKTtyZXR1cm4gbiYmZS5wdXNoKCJjb2xvcjoiK24pLGUucHVzaCgiZm9udDoiK3QuZ2V0Rm9udCgpKSxpJiZlLnB1c2goImxpbmUtaGVpZ2h0OiIrTWF0aC5yb3VuZCgzKmkvMikrInB4IikscmsoWyJkZWNvcmF0aW9uIiwiYWxpZ24iXSxmdW5jdGlvbihpKXt2YXIgbj10LmdldChpKTtuJiZlLnB1c2goInRleHQtIitpKyI6IituKX0pLGUuam9pbigiOyIpfWZ1bmN0aW9uIHVtKHQpe3ZhciBlPVtdLGk9dC5nZXQoInRyYW5zaXRpb25EdXJhdGlvbiIpLG49dC5nZXQoImJhY2tncm91bmRDb2xvciIpLG89dC5nZXRNb2RlbCgidGV4dFN0eWxlIiksYT10LmdldCgicGFkZGluZyIpO3JldHVybiBpJiZlLnB1c2goc20oaSkpLG4mJihBeC5jYW52YXNTdXBwb3J0ZWQ/ZS5wdXNoKCJiYWNrZ3JvdW5kLUNvbG9yOiIrbik6KGUucHVzaCgiYmFja2dyb3VuZC1Db2xvcjojIitQdChuKSksZS5wdXNoKCJmaWx0ZXI6YWxwaGEob3BhY2l0eT03MCkiKSkpLHJrKFsid2lkdGgiLCJjb2xvciIsInJhZGl1cyJdLGZ1bmN0aW9uKGkpe3ZhciBuPSJib3JkZXItIitpLG89c2sobiksYT10LmdldChvKTtudWxsIT1hJiZlLnB1c2gobisiOiIrYSsoImNvbG9yIj09PWk/IiI6InB4IikpfSksZS5wdXNoKGxtKG8pKSxudWxsIT1hJiZlLnB1c2goInBhZGRpbmc6Iit4UyhhKS5qb2luKCJweCAiKSsicHgiKSxlLmpvaW4oIjsiKSsiOyJ9ZnVuY3Rpb24gaG0odCxlKXtpZihBeC53eGEpcmV0dXJuIG51bGw7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksbj10aGlzLl96cj1lLmdldFpyKCk7dGhpcy5lbD1pLHRoaXMuX3g9ZS5nZXRXaWR0aCgpLzIsdGhpcy5feT1lLmdldEhlaWdodCgpLzIsdC5hcHBlbmRDaGlsZChpKSx0aGlzLl9jb250YWluZXI9dCx0aGlzLl9zaG93PSExLHRoaXMuX2hpZGVUaW1lb3V0O3ZhciBvPXRoaXM7aS5vbm1vdXNlZW50ZXI9ZnVuY3Rpb24oKXtvLl9lbnRlcmFibGUmJihjbGVhclRpbWVvdXQoby5faGlkZVRpbWVvdXQpLG8uX3Nob3c9ITApLG8uX2luQ29udGVudD0hMH0saS5vbm1vdXNlbW92ZT1mdW5jdGlvbihlKXtpZihlPWV8fHdpbmRvdy5ldmVudCwhby5fZW50ZXJhYmxlKXt2YXIgaT1uLmhhbmRsZXI7bGkodCxlLCEwKSxpLmRpc3BhdGNoKCJtb3VzZW1vdmUiLGUpfX0saS5vbm1vdXNlbGVhdmU9ZnVuY3Rpb24oKXtvLl9lbnRlcmFibGUmJm8uX3Nob3cmJm8uaGlkZUxhdGVyKG8uX2hpZGVEZWxheSksby5faW5Db250ZW50PSExfX1mdW5jdGlvbiBjbSh0KXtmb3IodmFyIGU9dC5wb3AoKTt0Lmxlbmd0aDspe3ZhciBpPXQucG9wKCk7aSYmKHdvLmlzSW5zdGFuY2UoaSkmJihpPWkuZ2V0KCJ0b29sdGlwIiwhMCkpLCJzdHJpbmciPT10eXBlb2YgaSYmKGk9e2Zvcm1hdHRlcjppfSksZT1uZXcgd28oaSxlLGUuZWNNb2RlbCkpfXJldHVybiBlfWZ1bmN0aW9uIGRtKHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2hBY3Rpb258fG0oZS5kaXNwYXRjaEFjdGlvbixlKX1mdW5jdGlvbiBmbSh0LGUsaSxuLG8sYSxyKXt2YXIgcz1nbShpKSxsPXMud2lkdGgsdT1zLmhlaWdodDtyZXR1cm4gbnVsbCE9YSYmKHQrbCthPm4/dC09bCthOnQrPWEpLG51bGwhPXImJihlK3Urcj5vP2UtPXUrcjplKz1yKSxbdCxlXX1mdW5jdGlvbiBwbSh0LGUsaSxuLG8pe3ZhciBhPWdtKGkpLHI9YS53aWR0aCxzPWEuaGVpZ2h0O3JldHVybiB0PU1hdGgubWluKHQrcixuKS1yLGU9TWF0aC5taW4oZStzLG8pLXMsdD1NYXRoLm1heCh0LDApLGU9TWF0aC5tYXgoZSwwKSxbdCxlXX1mdW5jdGlvbiBnbSh0KXt2YXIgZT10LmNsaWVudFdpZHRoLGk9dC5jbGllbnRIZWlnaHQ7aWYoZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpe3ZhciBuPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCk7biYmKGUrPXBhcnNlSW50KG4ucGFkZGluZ0xlZnQsMTApK3BhcnNlSW50KG4ucGFkZGluZ1JpZ2h0LDEwKStwYXJzZUludChuLmJvcmRlckxlZnRXaWR0aCwxMCkrcGFyc2VJbnQobi5ib3JkZXJSaWdodFdpZHRoLDEwKSxpKz1wYXJzZUludChuLnBhZGRpbmdUb3AsMTApK3BhcnNlSW50KG4ucGFkZGluZ0JvdHRvbSwxMCkrcGFyc2VJbnQobi5ib3JkZXJUb3BXaWR0aCwxMCkrcGFyc2VJbnQobi5ib3JkZXJCb3R0b21XaWR0aCwxMCkpfXJldHVybnt3aWR0aDplLGhlaWdodDppfX1mdW5jdGlvbiBtbSh0LGUsaSl7dmFyIG49aVswXSxvPWlbMV0sYT0wLHI9MCxzPWUud2lkdGgsbD1lLmhlaWdodDtzd2l0Y2godCl7Y2FzZSJpbnNpZGUiOmE9ZS54K3MvMi1uLzIscj1lLnkrbC8yLW8vMjticmVhaztjYXNlInRvcCI6YT1lLngrcy8yLW4vMixyPWUueS1vLTU7YnJlYWs7Y2FzZSJib3R0b20iOmE9ZS54K3MvMi1uLzIscj1lLnkrbCs1O2JyZWFrO2Nhc2UibGVmdCI6YT1lLngtbi01LHI9ZS55K2wvMi1vLzI7YnJlYWs7Y2FzZSJyaWdodCI6YT1lLngrcys1LHI9ZS55K2wvMi1vLzJ9cmV0dXJuW2Escl19ZnVuY3Rpb24gdm0odCl7cmV0dXJuImNlbnRlciI9PT10fHwibWlkZGxlIj09PXR9ZnVuY3Rpb24geW0odCl7cmV0dXJuIHQuZ2V0KCJzdGFjayIpfHwiX19lY19zdGFja18iK3Quc2VyaWVzSW5kZXh9ZnVuY3Rpb24geG0odCl7cmV0dXJuIHQuZGltfWZ1bmN0aW9uIF9tKHQsZSl7dmFyIGk9e307ZCh0LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREYXRhKCksbz10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0QmFzZUF4aXMoKSxhPW8uZ2V0RXh0ZW50KCkscj0iY2F0ZWdvcnkiPT09by50eXBlP28uZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoYVsxXS1hWzBdKS9uLmNvdW50KCkscz1pW3htKG8pXXx8e2JhbmRXaWR0aDpyLHJlbWFpbmVkV2lkdGg6cixhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOiIyMCUiLGdhcDoiMzAlIixzdGFja3M6e319LGw9cy5zdGFja3M7aVt4bShvKV09czt2YXIgdT15bSh0KTtsW3VdfHxzLmF1dG9XaWR0aENvdW50KyssbFt1XT1sW3VdfHx7d2lkdGg6MCxtYXhXaWR0aDowfTt2YXIgaD1Ubyh0LmdldCgiYmFyV2lkdGgiKSxyKSxjPVRvKHQuZ2V0KCJiYXJNYXhXaWR0aCIpLHIpLGQ9dC5nZXQoImJhckdhcCIpLGY9dC5nZXQoImJhckNhdGVnb3J5R2FwIik7aCYmIWxbdV0ud2lkdGgmJihoPU1hdGgubWluKHMucmVtYWluZWRXaWR0aCxoKSxsW3VdLndpZHRoPWgscy5yZW1haW5lZFdpZHRoLT1oKSxjJiYobFt1XS5tYXhXaWR0aD1jKSxudWxsIT1kJiYocy5nYXA9ZCksbnVsbCE9ZiYmKHMuY2F0ZWdvcnlHYXA9Zil9KTt2YXIgbj17fTtyZXR1cm4gZChpLGZ1bmN0aW9uKHQsZSl7bltlXT17fTt2YXIgaT10LnN0YWNrcyxvPXQuYmFuZFdpZHRoLGE9VG8odC5jYXRlZ29yeUdhcCxvKSxyPVRvKHQuZ2FwLDEpLHM9dC5yZW1haW5lZFdpZHRoLGw9dC5hdXRvV2lkdGhDb3VudCx1PShzLWEpLyhsKyhsLTEpKnIpO3U9TWF0aC5tYXgodSwwKSxkKGksZnVuY3Rpb24odCxlKXt2YXIgaT10Lm1heFdpZHRoO2kmJmk8dSYmKGk9TWF0aC5taW4oaSxzKSx0LndpZHRoJiYoaT1NYXRoLm1pbihpLHQud2lkdGgpKSxzLT1pLHQud2lkdGg9aSxsLS0pfSksdT0ocy1hKS8obCsobC0xKSpyKSx1PU1hdGgubWF4KHUsMCk7dmFyIGgsYz0wO2QoaSxmdW5jdGlvbih0LGUpe3Qud2lkdGh8fCh0LndpZHRoPXUpLGg9dCxjKz10LndpZHRoKigxK3IpfSksaCYmKGMtPWgud2lkdGgqcik7dmFyIGY9LWMvMjtkKGksZnVuY3Rpb24odCxpKXtuW2VdW2ldPW5bZV1baV18fHtvZmZzZXQ6Zix3aWR0aDp0LndpZHRofSxmKz10LndpZHRoKigxK3IpfSl9KSxufWZ1bmN0aW9uIHdtKHQsZSl7ZEQuY2FsbCh0aGlzLCJyYWRpdXMiLHQsZSksdGhpcy50eXBlPSJjYXRlZ29yeSJ9ZnVuY3Rpb24gYm0odCxlKXtlPWV8fFswLDM2MF0sZEQuY2FsbCh0aGlzLCJhbmdsZSIsdCxlKSx0aGlzLnR5cGU9ImNhdGVnb3J5In1mdW5jdGlvbiBTbSh0LGUpe3JldHVybiBlLnR5cGV8fChlLmRhdGE/ImNhdGVnb3J5IjoidmFsdWUiKX1mdW5jdGlvbiBNbSh0LGUsaSl7dmFyIG49ZS5nZXQoImNlbnRlciIpLG89aS5nZXRXaWR0aCgpLGE9aS5nZXRIZWlnaHQoKTt0LmN4PVRvKG5bMF0sbyksdC5jeT1UbyhuWzFdLGEpO3ZhciByPXQuZ2V0UmFkaXVzQXhpcygpLHM9TWF0aC5taW4obyxhKS8yLGw9VG8oZS5nZXQoInJhZGl1cyIpLHMpO3IuaW52ZXJzZT9yLnNldEV4dGVudChsLDApOnIuc2V0RXh0ZW50KDAsbCl9ZnVuY3Rpb24gSW0odCxlKXt2YXIgaT10aGlzLG49aS5nZXRBbmdsZUF4aXMoKSxvPWkuZ2V0UmFkaXVzQXhpcygpO2lmKG4uc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKSxvLnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2lmKHQuY29vcmRpbmF0ZVN5c3RlbT09PWkpe3ZhciBlPXQuZ2V0RGF0YSgpO2QoZS5tYXBEaW1lbnNpb24oInJhZGl1cyIsITApLGZ1bmN0aW9uKHQpe28uc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHQpfSksZChlLm1hcERpbWVuc2lvbigiYW5nbGUiLCEwKSxmdW5jdGlvbih0KXtuLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoZSx0KX0pfX0pLGhsKG4uc2NhbGUsbi5tb2RlbCksaGwoby5zY2FsZSxvLm1vZGVsKSwiY2F0ZWdvcnkiPT09bi50eXBlJiYhbi5vbkJhbmQpe3ZhciBhPW4uZ2V0RXh0ZW50KCkscj0zNjAvbi5zY2FsZS5jb3VudCgpO24uaW52ZXJzZT9hWzFdKz1yOmFbMV0tPXIsbi5zZXRFeHRlbnQoYVswXSxhWzFdKX19ZnVuY3Rpb24gRG0odCxlKXtpZih0LnR5cGU9ZS5nZXQoInR5cGUiKSx0LnNjYWxlPWNsKGUpLHQub25CYW5kPWUuZ2V0KCJib3VuZGFyeUdhcCIpJiYiY2F0ZWdvcnkiPT09dC50eXBlLHQuaW52ZXJzZT1lLmdldCgiaW52ZXJzZSIpLCJhbmdsZUF4aXMiPT09ZS5tYWluVHlwZSl7dC5pbnZlcnNlXj1lLmdldCgiY2xvY2t3aXNlIik7dmFyIGk9ZS5nZXQoInN0YXJ0QW5nbGUiKTt0LnNldEV4dGVudChpLGkrKHQuaW52ZXJzZT8tMzYwOjM2MCkpfWUuYXhpcz10LHQubW9kZWw9ZX1mdW5jdGlvbiBUbSh0LGUsaSl7ZVsxXT5lWzBdJiYoZT1lLnNsaWNlKCkucmV2ZXJzZSgpKTt2YXIgbj10LmNvb3JkVG9Qb2ludChbZVswXSxpXSksbz10LmNvb3JkVG9Qb2ludChbZVsxXSxpXSk7cmV0dXJue3gxOm5bMF0seTE6blsxXSx4MjpvWzBdLHkyOm9bMV19fWZ1bmN0aW9uIEFtKHQpe3JldHVybiB0LmdldFJhZGl1c0F4aXMoKS5pbnZlcnNlPzA6MX1mdW5jdGlvbiBDbSh0LGUsaSl7cmV0dXJue3Bvc2l0aW9uOlt0LmN4LHQuY3ldLHJvdGF0aW9uOmkvMTgwKk1hdGguUEksbGFiZWxEaXJlY3Rpb246LTEsdGlja0RpcmVjdGlvbjotMSxuYW1lRGlyZWN0aW9uOjEsbGFiZWxSb3RhdGU6ZS5nZXRNb2RlbCgiYXhpc0xhYmVsIikuZ2V0KCJyb3RhdGUiKSx6MjoxfX1mdW5jdGlvbiBMbSh0LGUsaSxuLG8pe3ZhciBhPWUuYXhpcyxyPWEuZGF0YVRvQ29vcmQodCkscz1uLmdldEFuZ2xlQXhpcygpLmdldEV4dGVudCgpWzBdO3M9cy8xODAqTWF0aC5QSTt2YXIgbCx1LGgsYz1uLmdldFJhZGl1c0F4aXMoKS5nZXRFeHRlbnQoKTtpZigicmFkaXVzIj09PWEuZGltKXt2YXIgZD1zdCgpO2R0KGQsZCxzKSxjdChkLGQsW24uY3gsbi5jeV0pLGw9bW8oW3IsLW9dLGQpO3ZhciBmPWUuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLmdldCgicm90YXRlIil8fDAscD1xRC5pbm5lclRleHRMYXlvdXQocyxmKk1hdGguUEkvMTgwLC0xKTt1PXAudGV4dEFsaWduLGg9cC50ZXh0VmVydGljYWxBbGlnbn1lbHNle3ZhciBnPWNbMV07bD1uLmNvb3JkVG9Qb2ludChbZytvLHJdKTt2YXIgbT1uLmN4LHY9bi5jeTt1PU1hdGguYWJzKGxbMF0tbSkvZzwuMz8iY2VudGVyIjpsWzBdPm0/ImxlZnQiOiJyaWdodCIsaD1NYXRoLmFicyhsWzFdLXYpL2c8LjM/Im1pZGRsZSI6bFsxXT52PyJ0b3AiOiJib3R0b20ifXJldHVybntwb3NpdGlvbjpsLGFsaWduOnUsdmVydGljYWxBbGlnbjpofX1mdW5jdGlvbiBrbSh0LGUpe2UudXBkYXRlPSJ1cGRhdGVWaWV3IixocyhlLGZ1bmN0aW9uKGUsaSl7dmFyIG49e307cmV0dXJuIGkuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImdlbyIscXVlcnk6ZX0sZnVuY3Rpb24oaSl7aVt0XShlLm5hbWUpLGQoaS5jb29yZGluYXRlU3lzdGVtLnJlZ2lvbnMsZnVuY3Rpb24odCl7blt0Lm5hbWVdPWkuaXNTZWxlY3RlZCh0Lm5hbWUpfHwhMX0pfSkse3NlbGVjdGVkOm4sbmFtZTplLm5hbWV9fSl9ZnVuY3Rpb24gUG0odCl7dmFyIGU9e307ZCh0LGZ1bmN0aW9uKHQpe2VbdF09MX0pLHQubGVuZ3RoPTAsZChlLGZ1bmN0aW9uKGUsaSl7dC5wdXNoKGkpfSl9ZnVuY3Rpb24gTm0odCl7aWYodClmb3IodmFyIGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXJldHVybiEwfWZ1bmN0aW9uIE9tKHQsZSxuKXtmdW5jdGlvbiBvKCl7dmFyIHQ9ZnVuY3Rpb24oKXt9O3JldHVybiB0LnByb3RvdHlwZS5fX2hpZGRlbj10LnByb3RvdHlwZSxuZXcgdH12YXIgYT17fTtyZXR1cm4gU2soZSxmdW5jdGlvbihlKXt2YXIgcj1hW2VdPW8oKTtTayh0W2VdLGZ1bmN0aW9uKHQsbyl7aWYoZkEuaXNWYWxpZFR5cGUobykpe3ZhciBhPXt0eXBlOm8sdmlzdWFsOnR9O24mJm4oYSxlKSxyW29dPW5ldyBmQShhKSwib3BhY2l0eSI9PT1vJiYoKGE9aShhKSkudHlwZT0iY29sb3JBbHBoYSIsci5fX2hpZGRlbi5fX2FscGhhRm9yT3BhY2l0eT1uZXcgZkEoYSkpfX0pfSksYX1mdW5jdGlvbiBFbSh0LGUsbil7dmFyIG87ZChuLGZ1bmN0aW9uKHQpe2UuaGFzT3duUHJvcGVydHkodCkmJk5tKGVbdF0pJiYobz0hMCl9KSxvJiZkKG4sZnVuY3Rpb24obil7ZS5oYXNPd25Qcm9wZXJ0eShuKSYmTm0oZVtuXSk/dFtuXT1pKGVbbl0pOmRlbGV0ZSB0W25dfSl9ZnVuY3Rpb24gem0odCxlLGksbixvLGEpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGkuZ2V0SXRlbVZpc3VhbChoLHQpfWZ1bmN0aW9uIHModCxlKXtpLnNldEl0ZW1WaXN1YWwoaCx0LGUpfWZ1bmN0aW9uIGwodCxsKXtoPW51bGw9PWE/dDpsO3ZhciBjPWkuZ2V0UmF3RGF0YUl0ZW0oaCk7aWYoIWN8fCExIT09Yy52aXN1YWxNYXApZm9yKHZhciBkPW4uY2FsbChvLHQpLGY9ZVtkXSxwPXVbZF0sZz0wLG09cC5sZW5ndGg7ZzxtO2crKyl7dmFyIHY9cFtnXTtmW3ZdJiZmW3ZdLmFwcGx5VmlzdWFsKHQscixzKX19dmFyIHU9e307ZCh0LGZ1bmN0aW9uKHQpe3ZhciBpPWZBLnByZXBhcmVWaXN1YWxUeXBlcyhlW3RdKTt1W3RdPWl9KTt2YXIgaDtudWxsPT1hP2kuZWFjaChsKTppLmVhY2goW2FdLGwpfWZ1bmN0aW9uIFJtKHQsZSxpLG4pe3ZhciBvPXt9O3JldHVybiBkKHQsZnVuY3Rpb24odCl7dmFyIGk9ZkEucHJlcGFyZVZpc3VhbFR5cGVzKGVbdF0pO29bdF09aX0pLHtwcm9ncmVzczpmdW5jdGlvbih0LGEpe251bGwhPW4mJihuPWEuZ2V0RGltZW5zaW9uKG4pKTtmb3IodmFyIHI9dC5zdGFydDtyPHQuZW5kO3IrKyl7dmFyIHM9YS5nZXRSYXdEYXRhSXRlbShyKTtpZihzJiYhMT09PXMudmlzdWFsTWFwKXJldHVybjtmb3IodmFyIGw9bnVsbCE9bj9hLmdldChuLHIsITApOnIsdT1pKGwpLGg9ZVt1XSxjPW9bdV0sZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKyl7dmFyIHA9Y1tkXTtoW3BdJiZoW3BdLmFwcGx5VmlzdWFsKGwsZnVuY3Rpb24odCl7cmV0dXJuIGEuZ2V0SXRlbVZpc3VhbChyLHQpfSxmdW5jdGlvbih0LGUpe2Euc2V0SXRlbVZpc3VhbChyLHQsZSl9KX19fX19ZnVuY3Rpb24gQm0odCl7dmFyIGU9WyJ4IiwieSJdLGk9WyJ3aWR0aCIsImhlaWdodCJdO3JldHVybntwb2ludDpmdW5jdGlvbihlLGksbil7aWYoZSl7dmFyIG89bi5yYW5nZTtyZXR1cm4gVm0oZVt0XSxvKX19LHJlY3Q6ZnVuY3Rpb24obixvLGEpe2lmKG4pe3ZhciByPWEucmFuZ2Uscz1bbltlW3RdXSxuW2VbdF1dK25baVt0XV1dO3JldHVybiBzWzFdPHNbMF0mJnMucmV2ZXJzZSgpLFZtKHNbMF0scil8fFZtKHNbMV0scil8fFZtKHJbMF0scyl8fFZtKHJbMV0scyl9fX19ZnVuY3Rpb24gVm0odCxlKXtyZXR1cm4gZVswXTw9dCYmdDw9ZVsxXX1mdW5jdGlvbiBHbSh0LGUsaSxuLG8pe2Zvcih2YXIgYT0wLHI9b1tvLmxlbmd0aC0xXTthPG8ubGVuZ3RoO2ErKyl7dmFyIHM9b1thXTtpZihGbSh0LGUsaSxuLHNbMF0sc1sxXSxyWzBdLHJbMV0pKXJldHVybiEwO3I9c319ZnVuY3Rpb24gRm0odCxlLGksbixvLGEscixzKXt2YXIgbD1IbShpLXQsby1yLG4tZSxhLXMpO2lmKFdtKGwpKXJldHVybiExO3ZhciB1PUhtKG8tdCxvLXIsYS1lLGEtcykvbDtpZih1PDB8fHU+MSlyZXR1cm4hMTt2YXIgaD1IbShpLXQsby10LG4tZSxhLWUpL2w7cmV0dXJuIShoPDB8fGg+MSl9ZnVuY3Rpb24gV20odCl7cmV0dXJuIHQ8PTFlLTYmJnQ+PS0xZS02fWZ1bmN0aW9uIEhtKHQsZSxpLG4pe3JldHVybiB0Km4tZSppfWZ1bmN0aW9uIFptKHQsZSxpKXt2YXIgbj10aGlzLl90YXJnZXRJbmZvTGlzdD1bXSxvPXt9LGE9am0oZSx0KTtJayhrayxmdW5jdGlvbih0LGUpeyghaXx8IWkuaW5jbHVkZXx8RGsoaS5pbmNsdWRlLGUpPj0wKSYmdChhLG4sbyl9KX1mdW5jdGlvbiBVbSh0KXtyZXR1cm4gdFswXT50WzFdJiZ0LnJldmVyc2UoKSx0fWZ1bmN0aW9uIGptKHQsZSl7cmV0dXJuIE9pKHQsZSx7aW5jbHVkZU1haW5UeXBlczpDa30pfWZ1bmN0aW9uIFhtKHQsZSxpLG4pe3ZhciBvPWkuZ2V0QXhpcyhbIngiLCJ5Il1bdF0pLGE9VW0oZihbMCwxXSxmdW5jdGlvbih0KXtyZXR1cm4gZT9vLmNvb3JkVG9EYXRhKG8udG9Mb2NhbENvb3JkKG5bdF0pKTpvLnRvR2xvYmFsQ29vcmQoby5kYXRhVG9Db29yZChuW3RdKSl9KSkscj1bXTtyZXR1cm4gclt0XT1hLHJbMS10XT1bTmFOLE5hTl0se3ZhbHVlczphLHh5TWluTWF4OnJ9fWZ1bmN0aW9uIFltKHQsZSxpLG4pe3JldHVybltlWzBdLW5bdF0qaVswXSxlWzFdLW5bdF0qaVsxXV19ZnVuY3Rpb24gcW0odCxlKXt2YXIgaT0kbSh0KSxuPSRtKGUpLG89W2lbMF0vblswXSxpWzFdL25bMV1dO3JldHVybiBpc05hTihvWzBdKSYmKG9bMF09MSksaXNOYU4ob1sxXSkmJihvWzFdPTEpLG99ZnVuY3Rpb24gJG0odCl7cmV0dXJuIHQ/W3RbMF1bMV0tdFswXVswXSx0WzFdWzFdLXRbMV1bMF1dOltOYU4sTmFOXX1mdW5jdGlvbiBLbSh0LGUsaSxuLG8pe2lmKG8pe3ZhciBhPXQuZ2V0WnIoKTthW0JrXXx8KGFbUmtdfHwoYVtSa109Sm0pLF9yKGEsUmssaSxlKSh0LG4pKX19ZnVuY3Rpb24gSm0odCxlKXtpZighdC5pc0Rpc3Bvc2VkKCkpe3ZhciBpPXQuZ2V0WnIoKTtpW0JrXT0hMCx0LmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaFNlbGVjdCIsYmF0Y2g6ZX0pLGlbQmtdPSExfX1mdW5jdGlvbiBRbSh0LGUsaSxuKXtmb3IodmFyIG89MCxhPWUubGVuZ3RoO288YTtvKyspe3ZhciByPWVbb107aWYodFtyLmJydXNoVHlwZV0obixpLHIuc2VsZWN0b3JzLHIpKXJldHVybiEwfX1mdW5jdGlvbiB0dih0KXt2YXIgZT10LmJydXNoU2VsZWN0b3I7aWYoXyhlKSl7dmFyIGk9W107cmV0dXJuIGQoTWssZnVuY3Rpb24odCxuKXtpW25dPWZ1bmN0aW9uKGksbixvLGEpe3ZhciByPW4uZ2V0SXRlbUxheW91dChpKTtyZXR1cm4gdFtlXShyLG8sYSl9fSksaX1pZih4KGUpKXt2YXIgbj17fTtyZXR1cm4gZChNayxmdW5jdGlvbih0LGkpe25baV09ZX0pLG59cmV0dXJuIGV9ZnVuY3Rpb24gZXYodCxlKXt2YXIgaT10Lm9wdGlvbi5zZXJpZXNJbmRleDtyZXR1cm4gbnVsbCE9aSYmImFsbCIhPT1pJiYoeShpKT9sKGksZSk8MDplIT09aSl9ZnVuY3Rpb24gaXYodCl7dmFyIGU9dC5zZWxlY3RvcnM9e307cmV0dXJuIGQoTWtbdC5icnVzaFR5cGVdLGZ1bmN0aW9uKGksbil7ZVtuXT1mdW5jdGlvbihuKXtyZXR1cm4gaShuLGUsdCl9fSksdH1mdW5jdGlvbiBudih0KXtyZXR1cm4gbmV3IEt0KHRbMF1bMF0sdFsxXVswXSx0WzBdWzFdLXRbMF1bMF0sdFsxXVsxXS10WzFdWzBdKX1mdW5jdGlvbiBvdih0LGUpe3JldHVybiBuKHticnVzaFR5cGU6dC5icnVzaFR5cGUsYnJ1c2hNb2RlOnQuYnJ1c2hNb2RlLHRyYW5zZm9ybWFibGU6dC50cmFuc2Zvcm1hYmxlLGJydXNoU3R5bGU6bmV3IHdvKHQuYnJ1c2hTdHlsZSkuZ2V0SXRlbVN0eWxlKCkscmVtb3ZlT25DbGljazp0LnJlbW92ZU9uQ2xpY2ssejp0Lnp9LGUsITApfWZ1bmN0aW9uIGF2KHQsZSxpLG4peyghbnx8bi4kZnJvbSE9PXQuaWQpJiZ0aGlzLl9icnVzaENvbnRyb2xsZXIuc2V0UGFuZWxzKHQuYnJ1c2hUYXJnZXRNYW5hZ2VyLm1ha2VQYW5lbE9wdHMoaSkpLmVuYWJsZUJydXNoKHQuYnJ1c2hPcHRpb24pLnVwZGF0ZUNvdmVycyh0LmFyZWFzLnNsaWNlKCkpfWZ1bmN0aW9uIHJ2KHQsZSl7V2tbdF09ZX1mdW5jdGlvbiBzdih0KXtyZXR1cm4gV2tbdF19ZnVuY3Rpb24gbHYodCxlLGkpe3RoaXMubW9kZWw9dCx0aGlzLmVjTW9kZWw9ZSx0aGlzLmFwaT1pLHRoaXMuX2JydXNoVHlwZSx0aGlzLl9icnVzaE1vZGV9ZnVuY3Rpb24gdXYodCxlLGkpe3RoaXMuX21vZGVsPXR9ZnVuY3Rpb24gaHYodCxlLGksbil7dmFyIG89aS5jYWxlbmRhck1vZGVsLGE9aS5zZXJpZXNNb2RlbCxyPW8/by5jb29yZGluYXRlU3lzdGVtOmE/YS5jb29yZGluYXRlU3lzdGVtOm51bGw7cmV0dXJuIHI9PT10aGlzP3JbdF0obik6bnVsbH1mdW5jdGlvbiBjdih0LGUpe3ZhciBpPXQuY2VsbFNpemU7eShpKT8xPT09aS5sZW5ndGgmJihpWzFdPWlbMF0pOmk9dC5jZWxsU2l6ZT1baSxpXTt2YXIgbj1mKFswLDFdLGZ1bmN0aW9uKHQpe3JldHVybiBlYShlLHQpJiYoaVt0XT0iYXV0byIpLG51bGwhPWlbdF0mJiJhdXRvIiE9PWlbdF19KTtpYSh0LGUse3R5cGU6ImJveCIsaWdub3JlU2l6ZTpufSl9ZnVuY3Rpb24gZHYodCl7cmV0dXJuIGwoWWssdCk+PTB9ZnVuY3Rpb24gZnYodCxlLGkpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gbChlLm5vZGVzLHQpPj0wfWZ1bmN0aW9uIG8odCxuKXt2YXIgbz0hMTtyZXR1cm4gZShmdW5jdGlvbihlKXtkKGkodCxlKXx8W10sZnVuY3Rpb24odCl7bi5yZWNvcmRzW2UubmFtZV1bdF0mJihvPSEwKX0pfSksb31mdW5jdGlvbiBhKHQsbil7bi5ub2Rlcy5wdXNoKHQpLGUoZnVuY3Rpb24oZSl7ZChpKHQsZSl8fFtdLGZ1bmN0aW9uKHQpe24ucmVjb3Jkc1tlLm5hbWVdW3RdPSEwfSl9KX1yZXR1cm4gZnVuY3Rpb24oaSl7dmFyIHI9e25vZGVzOltdLHJlY29yZHM6e319O2lmKGUoZnVuY3Rpb24odCl7ci5yZWNvcmRzW3QubmFtZV09e319KSwhaSlyZXR1cm4gcjthKGkscik7dmFyIHM7ZG97cz0hMSx0KGZ1bmN0aW9uKHQpeyFuKHQscikmJm8odCxyKSYmKGEodCxyKSxzPSEwKX0pfXdoaWxlKHMpO3JldHVybiByfX1mdW5jdGlvbiBwdih0LGUsaSl7dmFyIG49WzEvMCwtMS8wXTtyZXR1cm4gJGsoaSxmdW5jdGlvbih0KXt2YXIgaT10LmdldERhdGEoKTtpJiYkayhpLm1hcERpbWVuc2lvbihlLCEwKSxmdW5jdGlvbih0KXt2YXIgZT1pLmdldEFwcHJveGltYXRlRXh0ZW50KHQpO2VbMF08blswXSYmKG5bMF09ZVswXSksZVsxXT5uWzFdJiYoblsxXT1lWzFdKX0pfSksblsxXTxuWzBdJiYobj1bTmFOLE5hTl0pLGd2KHQsbiksbn1mdW5jdGlvbiBndih0LGUpe3ZhciBpPXQuZ2V0QXhpc01vZGVsKCksbj1pLmdldE1pbighMCksbz0iY2F0ZWdvcnkiPT09aS5nZXQoInR5cGUiKSxhPW8mJmkuZ2V0Q2F0ZWdvcmllcygpLmxlbmd0aDtudWxsIT1uJiYiZGF0YU1pbiIhPT1uJiYiZnVuY3Rpb24iIT10eXBlb2Ygbj9lWzBdPW46byYmKGVbMF09YT4wPzA6TmFOKTt2YXIgcj1pLmdldE1heCghMCk7cmV0dXJuIG51bGwhPXImJiJkYXRhTWF4IiE9PXImJiJmdW5jdGlvbiIhPXR5cGVvZiByP2VbMV09cjpvJiYoZVsxXT1hPjA/YS0xOk5hTiksaS5nZXQoInNjYWxlIiwhMCl8fChlWzBdPjAmJihlWzBdPTApLGVbMV08MCYmKGVbMV09MCkpLGV9ZnVuY3Rpb24gbXYodCxlKXt2YXIgaT10LmdldEF4aXNNb2RlbCgpLG49dC5fcGVyY2VudFdpbmRvdyxvPXQuX3ZhbHVlV2luZG93O2lmKG4pe3ZhciBhPVBvKG8sWzAsNTAwXSk7YT1NYXRoLm1pbihhLDIwKTt2YXIgcj1lfHwwPT09blswXSYmMTAwPT09blsxXTtpLnNldFJhbmdlKHI/bnVsbDorb1swXS50b0ZpeGVkKGEpLHI/bnVsbDorb1sxXS50b0ZpeGVkKGEpKX19ZnVuY3Rpb24gdnYodCl7dmFyIGU9dC5fbWluTWF4U3Bhbj17fSxpPXQuX2RhdGFab29tTW9kZWw7JGsoWyJtaW4iLCJtYXgiXSxmdW5jdGlvbihuKXtlW24rIlNwYW4iXT1pLmdldChuKyJTcGFuIik7dmFyIG89aS5nZXQobisiVmFsdWVTcGFuIik7aWYobnVsbCE9byYmKGVbbisiVmFsdWVTcGFuIl09byxudWxsIT0obz10LmdldEF4aXNNb2RlbCgpLmF4aXMuc2NhbGUucGFyc2UobykpKSl7dmFyIGE9dC5fZGF0YUV4dGVudDtlW24rIlNwYW4iXT1EbyhhWzBdK28sYSxbMCwxMDBdLCEwKX19KX1mdW5jdGlvbiB5dih0KXt2YXIgZT17fTtyZXR1cm4gUWsoWyJzdGFydCIsImVuZCIsInN0YXJ0VmFsdWUiLCJlbmRWYWx1ZSIsInRocm90dGxlIl0sZnVuY3Rpb24oaSl7dC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSl9KSxlfWZ1bmN0aW9uIHh2KHQsZSl7dmFyIGk9dC5fcmFuZ2VQcm9wTW9kZSxuPXQuZ2V0KCJyYW5nZU1vZGUiKTtRayhbWyJzdGFydCIsInN0YXJ0VmFsdWUiXSxbImVuZCIsImVuZFZhbHVlIl1dLGZ1bmN0aW9uKHQsbyl7dmFyIGE9bnVsbCE9ZVt0WzBdXSxyPW51bGwhPWVbdFsxXV07YSYmIXI/aVtvXT0icGVyY2VudCI6IWEmJnI/aVtvXT0idmFsdWUiOm4/aVtvXT1uW29dOmEmJihpW29dPSJwZXJjZW50Iil9KX1mdW5jdGlvbiBfdih0KXtyZXR1cm57eDoieSIseToieCIscmFkaXVzOiJhbmdsZSIsYW5nbGU6InJhZGl1cyJ9W3RdfWZ1bmN0aW9uIHd2KHQpe3JldHVybiJ2ZXJ0aWNhbCI9PT10PyJucy1yZXNpemUiOiJldy1yZXNpemUifWZ1bmN0aW9uIGJ2KHQsZSl7dmFyIGk9RHYodCksbj1lLmRhdGFab29tSWQsbz1lLmNvb3JkSWQ7ZChpLGZ1bmN0aW9uKHQsaSl7dmFyIGE9dC5kYXRhWm9vbUluZm9zO2Fbbl0mJmwoZS5hbGxDb29yZElkcyxvKTwwJiYoZGVsZXRlIGFbbl0sdC5jb3VudC0tKX0pLEF2KGkpO3ZhciBhPWlbb107YXx8KChhPWlbb109e2Nvb3JkSWQ6byxkYXRhWm9vbUluZm9zOnt9LGNvdW50OjB9KS5jb250cm9sbGVyPVR2KHQsYSksYS5kaXNwYXRjaEFjdGlvbj12KFB2LHQpKSwhYS5kYXRhWm9vbUluZm9zW25dJiZhLmNvdW50KyssYS5kYXRhWm9vbUluZm9zW25dPWU7dmFyIHI9TnYoYS5kYXRhWm9vbUluZm9zKTthLmNvbnRyb2xsZXIuZW5hYmxlKHIuY29udHJvbFR5cGUsci5vcHQpLGEuY29udHJvbGxlci5zZXRQb2ludGVyQ2hlY2tlcihlLmNvbnRhaW5zUG9pbnQpLF9yKGEsImRpc3BhdGNoQWN0aW9uIixlLnRocm90dGxlUmF0ZSwiZml4UmF0ZSIpfWZ1bmN0aW9uIFN2KHQsZSl7dmFyIGk9RHYodCk7ZChpLGZ1bmN0aW9uKHQpe3QuY29udHJvbGxlci5kaXNwb3NlKCk7dmFyIGk9dC5kYXRhWm9vbUluZm9zO2lbZV0mJihkZWxldGUgaVtlXSx0LmNvdW50LS0pfSksQXYoaSl9ZnVuY3Rpb24gTXYodCxlKXtpZih0JiYiZGF0YVpvb20iPT09dC50eXBlJiZ0LmJhdGNoKWZvcih2YXIgaT0wLG49dC5iYXRjaC5sZW5ndGg7aTxuO2krKylpZih0LmJhdGNoW2ldLmRhdGFab29tSWQ9PT1lKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEl2KHQpe3JldHVybiB0LnR5cGUrIlwwXyIrdC5pZH1mdW5jdGlvbiBEdih0KXt2YXIgZT10LmdldFpyKCk7cmV0dXJuIGVbZlBdfHwoZVtmUF09e30pfWZ1bmN0aW9uIFR2KHQsZSl7dmFyIGk9bmV3IGFoKHQuZ2V0WnIoKSk7cmV0dXJuIGkub24oInBhbiIsZFAoQ3YsZSkpLGkub24oInpvb20iLGRQKEx2LGUpKSxpfWZ1bmN0aW9uIEF2KHQpe2QodCxmdW5jdGlvbihlLGkpe2UuY291bnR8fChlLmNvbnRyb2xsZXIuZGlzcG9zZSgpLGRlbGV0ZSB0W2ldKX0pfWZ1bmN0aW9uIEN2KHQsZSxpLG4sbyxhLHIpe2t2KHQsZnVuY3Rpb24ocyl7cmV0dXJuIHMucGFuR2V0UmFuZ2UodC5jb250cm9sbGVyLGUsaSxuLG8sYSxyKX0pfWZ1bmN0aW9uIEx2KHQsZSxpLG4pe2t2KHQsZnVuY3Rpb24obyl7cmV0dXJuIG8uem9vbUdldFJhbmdlKHQuY29udHJvbGxlcixlLGksbil9KX1mdW5jdGlvbiBrdih0LGUpe3ZhciBpPVtdO2QodC5kYXRhWm9vbUluZm9zLGZ1bmN0aW9uKHQpe3ZhciBuPWUodCk7IXQuZGlzYWJsZWQmJm4mJmkucHVzaCh7ZGF0YVpvb21JZDp0LmRhdGFab29tSWQsc3RhcnQ6blswXSxlbmQ6blsxXX0pfSksdC5kaXNwYXRjaEFjdGlvbihpKX1mdW5jdGlvbiBQdih0LGUpe3QuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRhdGFab29tIixiYXRjaDplfSl9ZnVuY3Rpb24gTnYodCl7dmFyIGUsaT17fSxuPXt0eXBlX3RydWU6Mix0eXBlX21vdmU6MSx0eXBlX2ZhbHNlOjAsdHlwZV91bmRlZmluZWQ6LTF9O3JldHVybiBkKHQsZnVuY3Rpb24odCl7dmFyIG89IXQuZGlzYWJsZWQmJighdC56b29tTG9ja3x8Im1vdmUiKTtuWyJ0eXBlXyIrb10+blsidHlwZV8iK2VdJiYoZT1vKSxhKGksdC5yb2FtQ29udHJvbGxlck9wdCl9KSx7Y29udHJvbFR5cGU6ZSxvcHQ6aX19ZnVuY3Rpb24gT3YodCxlKXtyZXR1cm4gdCYmdC5oYXNPd25Qcm9wZXJ0eSYmdC5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBFdih0LGUsaSxuKXtmb3IodmFyIG89ZS50YXJnZXRWaXN1YWxzW25dLGE9ZkEucHJlcGFyZVZpc3VhbFR5cGVzKG8pLHI9e2NvbG9yOnQuZ2V0RGF0YSgpLmdldFZpc3VhbCgiY29sb3IiKX0scz0wLGw9YS5sZW5ndGg7czxsO3MrKyl7dmFyIHU9YVtzXSxoPW9bIm9wYWNpdHkiPT09dT8iX19hbHBoYUZvck9wYWNpdHkiOnVdO2gmJmguYXBwbHlWaXN1YWwoaSxmdW5jdGlvbih0KXtyZXR1cm4gclt0XX0sZnVuY3Rpb24odCxlKXtyW3RdPWV9KX1yZXR1cm4gci5jb2xvcn1mdW5jdGlvbiB6dih0LGUsaSl7aWYoaVswXT09PWlbMV0pcmV0dXJuIGkuc2xpY2UoKTtmb3IodmFyIG49KGlbMV0taVswXSkvMjAwLG89aVswXSxhPVtdLHI9MDtyPD0yMDAmJm88aVsxXTtyKyspYS5wdXNoKG8pLG8rPW47cmV0dXJuIGEucHVzaChpWzFdKSxhfWZ1bmN0aW9uIFJ2KHQsZSxpKXt2YXIgbj10Lm9wdGlvbixvPW4uYWxpZ247aWYobnVsbCE9byYmImF1dG8iIT09bylyZXR1cm4gbztmb3IodmFyIGE9e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0scj0iaG9yaXpvbnRhbCI9PT1uLm9yaWVudD8xOjAscz1bWyJsZWZ0IiwicmlnaHQiLCJ3aWR0aCJdLFsidG9wIiwiYm90dG9tIiwiaGVpZ2h0Il1dLGw9c1tyXSx1PVswLG51bGwsMTBdLGg9e30sYz0wO2M8MztjKyspaFtzWzEtcl1bY11dPXVbY10saFtsW2NdXT0yPT09Yz9pWzBdOm5bbFtjXV07dmFyIGQ9W1sieCIsIndpZHRoIiwzXSxbInkiLCJoZWlnaHQiLDBdXVtyXSxmPVFvKGgsYSxuLnBhZGRpbmcpO3JldHVybiBsWyhmLm1hcmdpbltkWzJdXXx8MCkrZltkWzBdXSsuNSpmW2RbMV1dPC41KmFbZFsxXV0/MDoxXX1mdW5jdGlvbiBCdih0KXtyZXR1cm4gZCh0fHxbXSxmdW5jdGlvbihlKXtudWxsIT10LmRhdGFJbmRleCYmKHQuZGF0YUluZGV4SW5zaWRlPXQuZGF0YUluZGV4LHQuZGF0YUluZGV4PW51bGwpfSksdH1mdW5jdGlvbiBWdih0LGUsaSxuKXtyZXR1cm4gbmV3IFpiKHtzaGFwZTp7cG9pbnRzOnR9LGRyYWdnYWJsZTohIWksY3Vyc29yOmUsZHJpZnQ6aSxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtydyh0LmV2ZW50KX0sb25kcmFnZW5kOm59KX1mdW5jdGlvbiBHdih0LGUpe3JldHVybiAwPT09dD9bWzAsMF0sW2UsMF0sW2UsLWVdXTpbWzAsMF0sW2UsMF0sW2UsZV1dfWZ1bmN0aW9uIEZ2KHQsZSxpLG4pe3JldHVybiB0P1tbMCwtRVAoZSx6UChpLDApKV0sW0JQLDBdLFswLEVQKGUselAobi1pLDApKV1dOltbMCwwXSxbNSwtNV0sWzUsNV1dfWZ1bmN0aW9uIFd2KHQsZSxpKXt2YXIgbj1SUC8yLG89dC5nZXQoImhvdmVyTGlua0RhdGFTaXplIik7cmV0dXJuIG8mJihuPU5QKG8sZSxpLCEwKS8yKSxufWZ1bmN0aW9uIEh2KHQpe3ZhciBlPXQuZ2V0KCJob3ZlckxpbmtPbkhhbmRsZSIpO3JldHVybiEhKG51bGw9PWU/dC5nZXQoInJlYWx0aW1lIik6ZSl9ZnVuY3Rpb24gWnYodCl7cmV0dXJuInZlcnRpY2FsIj09PXQ/Im5zLXJlc2l6ZSI6ImV3LXJlc2l6ZSJ9ZnVuY3Rpb24gVXYodCxlKXt2YXIgaT10LmludmVyc2U7KCJ2ZXJ0aWNhbCI9PT10Lm9yaWVudD8haTppKSYmZS5yZXZlcnNlKCl9ZnVuY3Rpb24ganYodCl7TWkodCwibGFiZWwiLFsic2hvdyJdKX1mdW5jdGlvbiBYdih0KXtyZXR1cm4hKGlzTmFOKHBhcnNlRmxvYXQodC54KSkmJmlzTmFOKHBhcnNlRmxvYXQodC55KSkpfWZ1bmN0aW9uIFl2KHQpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KHQueCkpJiYhaXNOYU4ocGFyc2VGbG9hdCh0LnkpKX1mdW5jdGlvbiBxdih0LGUsaSxuLG8sYSl7dmFyIHI9W10scz1XcyhlLG4saSk/ZS5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIik6bixsPWV5KGUscyx0KSx1PWUuaW5kaWNlc09mTmVhcmVzdChzLGwpWzBdO3Jbb109ZS5nZXQoaSx1KSxyW2FdPWUuZ2V0KG4sdSk7dmFyIGg9TG8oZS5nZXQobix1KSk7cmV0dXJuKGg9TWF0aC5taW4oaCwyMCkpPj0wJiYoclthXT0rclthXS50b0ZpeGVkKGgpKSxyfWZ1bmN0aW9uICR2KHQsZSl7dmFyIG49dC5nZXREYXRhKCksbz10LmNvb3JkaW5hdGVTeXN0ZW07aWYoZSYmIVl2KGUpJiYheShlLmNvb3JkKSYmbyl7dmFyIGE9by5kaW1lbnNpb25zLHI9S3YoZSxuLG8sdCk7aWYoKGU9aShlKSkudHlwZSYmWFBbZS50eXBlXSYmci5iYXNlQXhpcyYmci52YWx1ZUF4aXMpe3ZhciBzPVVQKGEsci5iYXNlQXhpcy5kaW0pLGw9VVAoYSxyLnZhbHVlQXhpcy5kaW0pO2UuY29vcmQ9WFBbZS50eXBlXShuLHIuYmFzZURhdGFEaW0sci52YWx1ZURhdGFEaW0scyxsKSxlLnZhbHVlPWUuY29vcmRbbF19ZWxzZXtmb3IodmFyIHU9W251bGwhPWUueEF4aXM/ZS54QXhpczplLnJhZGl1c0F4aXMsbnVsbCE9ZS55QXhpcz9lLnlBeGlzOmUuYW5nbGVBeGlzXSxoPTA7aDwyO2grKylYUFt1W2hdXSYmKHVbaF09ZXkobixuLm1hcERpbWVuc2lvbihhW2hdKSx1W2hdKSk7ZS5jb29yZD11fX1yZXR1cm4gZX1mdW5jdGlvbiBLdih0LGUsaSxuKXt2YXIgbz17fTtyZXR1cm4gbnVsbCE9dC52YWx1ZUluZGV4fHxudWxsIT10LnZhbHVlRGltPyhvLnZhbHVlRGF0YURpbT1udWxsIT10LnZhbHVlSW5kZXg/ZS5nZXREaW1lbnNpb24odC52YWx1ZUluZGV4KTp0LnZhbHVlRGltLG8udmFsdWVBeGlzPWkuZ2V0QXhpcyhKdihuLG8udmFsdWVEYXRhRGltKSksby5iYXNlQXhpcz1pLmdldE90aGVyQXhpcyhvLnZhbHVlQXhpcyksby5iYXNlRGF0YURpbT1lLm1hcERpbWVuc2lvbihvLmJhc2VBeGlzLmRpbSkpOihvLmJhc2VBeGlzPW4uZ2V0QmFzZUF4aXMoKSxvLnZhbHVlQXhpcz1pLmdldE90aGVyQXhpcyhvLmJhc2VBeGlzKSxvLmJhc2VEYXRhRGltPWUubWFwRGltZW5zaW9uKG8uYmFzZUF4aXMuZGltKSxvLnZhbHVlRGF0YURpbT1lLm1hcERpbWVuc2lvbihvLnZhbHVlQXhpcy5kaW0pKSxvfWZ1bmN0aW9uIEp2KHQsZSl7dmFyIGk9dC5nZXREYXRhKCksbj1pLmRpbWVuc2lvbnM7ZT1pLmdldERpbWVuc2lvbihlKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9aS5nZXREaW1lbnNpb25JbmZvKG5bb10pO2lmKGEubmFtZT09PWUpcmV0dXJuIGEuY29vcmREaW19fWZ1bmN0aW9uIFF2KHQsZSl7cmV0dXJuISh0JiZ0LmNvbnRhaW5EYXRhJiZlLmNvb3JkJiYhWHYoZSkpfHx0LmNvbnRhaW5EYXRhKGUuY29vcmQpfWZ1bmN0aW9uIHR5KHQsZSxpLG4pe3JldHVybiBuPDI/dC5jb29yZCYmdC5jb29yZFtuXTp0LnZhbHVlfWZ1bmN0aW9uIGV5KHQsZSxpKXtpZigiYXZlcmFnZSI9PT1pKXt2YXIgbj0wLG89MDtyZXR1cm4gdC5lYWNoKGUsZnVuY3Rpb24odCxlKXtpc05hTih0KXx8KG4rPXQsbysrKX0pLG4vb31yZXR1cm4gdC5nZXREYXRhRXh0ZW50KGUsITApWyJtYXgiPT09aT8xOjBdfWZ1bmN0aW9uIGl5KHQsZSxpKXt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW07dC5lYWNoKGZ1bmN0aW9uKG8pe3ZhciBhLHI9dC5nZXRJdGVtTW9kZWwobykscz1UbyhyLmdldCgieCIpLGkuZ2V0V2lkdGgoKSksbD1UbyhyLmdldCgieSIpLGkuZ2V0SGVpZ2h0KCkpO2lmKGlzTmFOKHMpfHxpc05hTihsKSl7aWYoZS5nZXRNYXJrZXJQb3NpdGlvbilhPWUuZ2V0TWFya2VyUG9zaXRpb24odC5nZXRWYWx1ZXModC5kaW1lbnNpb25zLG8pKTtlbHNlIGlmKG4pe3ZhciB1PXQuZ2V0KG4uZGltZW5zaW9uc1swXSxvKSxoPXQuZ2V0KG4uZGltZW5zaW9uc1sxXSxvKTthPW4uZGF0YVRvUG9pbnQoW3UsaF0pfX1lbHNlIGE9W3MsbF07aXNOYU4ocyl8fChhWzBdPXMpLGlzTmFOKGwpfHwoYVsxXT1sKSx0LnNldEl0ZW1MYXlvdXQobyxhKX0pfWZ1bmN0aW9uIG55KHQsZSxpKXt2YXIgbjtuPXQ/Zih0JiZ0LmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7cmV0dXJuIHIoe25hbWU6dH0sZS5nZXREYXRhKCkuZ2V0RGltZW5zaW9uSW5mbyhlLmdldERhdGEoKS5tYXBEaW1lbnNpb24odCkpfHx7fSl9KTpbe25hbWU6InZhbHVlIix0eXBlOiJmbG9hdCJ9XTt2YXIgbz1uZXcgREkobixpKSxhPWYoaS5nZXQoImRhdGEiKSx2KCR2LGUpKTtyZXR1cm4gdCYmKGE9ZyhhLHYoUXYsdCkpKSxvLmluaXREYXRhKGEsbnVsbCx0P3R5OmZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSksb31mdW5jdGlvbiBveSh0KXtyZXR1cm4haXNOYU4odCkmJiFpc0Zpbml0ZSh0KX1mdW5jdGlvbiBheSh0LGUsaSxuKXt2YXIgbz0xLXQsYT1uLmRpbWVuc2lvbnNbdF07cmV0dXJuIG95KGVbb10pJiZveShpW29dKSYmZVt0XT09PWlbdF0mJm4uZ2V0QXhpcyhhKS5jb250YWluRGF0YShlW3RdKX1mdW5jdGlvbiByeSh0LGUpe2lmKCJjYXJ0ZXNpYW4yZCI9PT10LnR5cGUpe3ZhciBpPWVbMF0uY29vcmQsbj1lWzFdLmNvb3JkO2lmKGkmJm4mJihheSgxLGksbix0KXx8YXkoMCxpLG4sdCkpKXJldHVybiEwfXJldHVybiBRdih0LGVbMF0pJiZRdih0LGVbMV0pfWZ1bmN0aW9uIHN5KHQsZSxpLG4sbyl7dmFyIGEscj1uLmNvb3JkaW5hdGVTeXN0ZW0scz10LmdldEl0ZW1Nb2RlbChlKSxsPVRvKHMuZ2V0KCJ4Iiksby5nZXRXaWR0aCgpKSx1PVRvKHMuZ2V0KCJ5Iiksby5nZXRIZWlnaHQoKSk7aWYoaXNOYU4obCl8fGlzTmFOKHUpKXtpZihuLmdldE1hcmtlclBvc2l0aW9uKWE9bi5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyh0LmRpbWVuc2lvbnMsZSkpO2Vsc2V7dmFyIGg9ci5kaW1lbnNpb25zLGM9dC5nZXQoaFswXSxlKSxkPXQuZ2V0KGhbMV0sZSk7YT1yLmRhdGFUb1BvaW50KFtjLGRdKX1pZigiY2FydGVzaWFuMmQiPT09ci50eXBlKXt2YXIgZj1yLmdldEF4aXMoIngiKSxwPXIuZ2V0QXhpcygieSIpLGg9ci5kaW1lbnNpb25zO295KHQuZ2V0KGhbMF0sZSkpP2FbMF09Zi50b0dsb2JhbENvb3JkKGYuZ2V0RXh0ZW50KClbaT8wOjFdKTpveSh0LmdldChoWzFdLGUpKSYmKGFbMV09cC50b0dsb2JhbENvb3JkKHAuZ2V0RXh0ZW50KClbaT8wOjFdKSl9aXNOYU4obCl8fChhWzBdPWwpLGlzTmFOKHUpfHwoYVsxXT11KX1lbHNlIGE9W2wsdV07dC5zZXRJdGVtTGF5b3V0KGUsYSl9ZnVuY3Rpb24gbHkodCxlLGkpe3ZhciBuO249dD9mKHQmJnQuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gcih7bmFtZTp0fSxlLmdldERhdGEoKS5nZXREaW1lbnNpb25JbmZvKGUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbih0KSl8fHt9KX0pOlt7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In1dO3ZhciBvPW5ldyBESShuLGkpLGE9bmV3IERJKG4saSkscz1uZXcgREkoW10saSksbD1mKGkuZ2V0KCJkYXRhIiksdihxUCxlLHQsaSkpO3QmJihsPWcobCx2KHJ5LHQpKSk7dmFyIHU9dD90eTpmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX07cmV0dXJuIG8uaW5pdERhdGEoZihsLGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSksbnVsbCx1KSxhLmluaXREYXRhKGYobCxmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pLG51bGwsdSkscy5pbml0RGF0YShmKGwsZnVuY3Rpb24odCl7cmV0dXJuIHRbMl19KSkscy5oYXNJdGVtT3B0aW9uPSEwLHtmcm9tOm8sdG86YSxsaW5lOnN9fWZ1bmN0aW9uIHV5KHQpe3JldHVybiFpc05hTih0KSYmIWlzRmluaXRlKHQpfWZ1bmN0aW9uIGh5KHQsZSxpLG4pe3ZhciBvPTEtdDtyZXR1cm4gdXkoZVtvXSkmJnV5KGlbb10pfWZ1bmN0aW9uIGN5KHQsZSl7dmFyIGk9ZS5jb29yZFswXSxuPWUuY29vcmRbMV07cmV0dXJuISgiY2FydGVzaWFuMmQiIT09dC50eXBlfHwhaXx8IW58fCFoeSgxLGksbix0KSYmIWh5KDAsaSxuLHQpKXx8KFF2KHQse2Nvb3JkOmkseDplLngwLHk6ZS55MH0pfHxRdih0LHtjb29yZDpuLHg6ZS54MSx5OmUueTF9KSl9ZnVuY3Rpb24gZHkodCxlLGksbixvKXt2YXIgYSxyPW4uY29vcmRpbmF0ZVN5c3RlbSxzPXQuZ2V0SXRlbU1vZGVsKGUpLGw9VG8ocy5nZXQoaVswXSksby5nZXRXaWR0aCgpKSx1PVRvKHMuZ2V0KGlbMV0pLG8uZ2V0SGVpZ2h0KCkpO2lmKGlzTmFOKGwpfHxpc05hTih1KSl7aWYobi5nZXRNYXJrZXJQb3NpdGlvbilhPW4uZ2V0TWFya2VyUG9zaXRpb24odC5nZXRWYWx1ZXMoaSxlKSk7ZWxzZXt2YXIgaD1bZj10LmdldChpWzBdLGUpLHA9dC5nZXQoaVsxXSxlKV07ci5jbGFtcERhdGEmJnIuY2xhbXBEYXRhKGgsaCksYT1yLmRhdGFUb1BvaW50KGgsITApfWlmKCJjYXJ0ZXNpYW4yZCI9PT1yLnR5cGUpe3ZhciBjPXIuZ2V0QXhpcygieCIpLGQ9ci5nZXRBeGlzKCJ5IiksZj10LmdldChpWzBdLGUpLHA9dC5nZXQoaVsxXSxlKTt1eShmKT9hWzBdPWMudG9HbG9iYWxDb29yZChjLmdldEV4dGVudCgpWyJ4MCI9PT1pWzBdPzA6MV0pOnV5KHApJiYoYVsxXT1kLnRvR2xvYmFsQ29vcmQoZC5nZXRFeHRlbnQoKVsieTAiPT09aVsxXT8wOjFdKSl9aXNOYU4obCl8fChhWzBdPWwpLGlzTmFOKHUpfHwoYVsxXT11KX1lbHNlIGE9W2wsdV07cmV0dXJuIGF9ZnVuY3Rpb24gZnkodCxlLGkpe3ZhciBuLG8sYT1bIngwIiwieTAiLCJ4MSIsInkxIl07dD8obj1mKHQmJnQuZGltZW5zaW9ucyxmdW5jdGlvbih0KXt2YXIgaT1lLmdldERhdGEoKTtyZXR1cm4gcih7bmFtZTp0fSxpLmdldERpbWVuc2lvbkluZm8oaS5tYXBEaW1lbnNpb24odCkpfHx7fSl9KSxvPW5ldyBESShmKGEsZnVuY3Rpb24odCxlKXtyZXR1cm57bmFtZTp0LHR5cGU6bltlJTJdLnR5cGV9fSksaSkpOm89bmV3IERJKG49W3tuYW1lOiJ2YWx1ZSIsdHlwZToiZmxvYXQifV0saSk7dmFyIHM9ZihpLmdldCgiZGF0YSIpLHYoJFAsZSx0LGkpKTt0JiYocz1nKHMsdihjeSx0KSkpO3ZhciBsPXQ/ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHQuY29vcmRbTWF0aC5mbG9vcihuLzIpXVtuJTJdfTpmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX07cmV0dXJuIG8uaW5pdERhdGEocyxudWxsLGwpLG8uaGFzSXRlbU9wdGlvbj0hMCxvfWZ1bmN0aW9uIHB5KHQpe3ZhciBlPXQudHlwZSxpPXtudW1iZXI6InZhbHVlIix0aW1lOiJ0aW1lIn07aWYoaVtlXSYmKHQuYXhpc1R5cGU9aVtlXSxkZWxldGUgdC50eXBlKSxneSh0KSxteSh0LCJjb250cm9sUG9zaXRpb24iKSl7dmFyIG49dC5jb250cm9sU3R5bGV8fCh0LmNvbnRyb2xTdHlsZT17fSk7bXkobiwicG9zaXRpb24iKXx8KG4ucG9zaXRpb249dC5jb250cm9sUG9zaXRpb24pLCJub25lIiE9PW4ucG9zaXRpb258fG15KG4sInNob3ciKXx8KG4uc2hvdz0hMSxkZWxldGUgbi5wb3NpdGlvbiksZGVsZXRlIHQuY29udHJvbFBvc2l0aW9ufWQodC5kYXRhfHxbXSxmdW5jdGlvbih0KXt3KHQpJiYheSh0KSYmKCFteSh0LCJ2YWx1ZSIpJiZteSh0LCJuYW1lIikmJih0LnZhbHVlPXQubmFtZSksZ3kodCkpfSl9ZnVuY3Rpb24gZ3kodCl7dmFyIGU9dC5pdGVtU3R5bGV8fCh0Lml0ZW1TdHlsZT17fSksaT1lLmVtcGhhc2lzfHwoZS5lbXBoYXNpcz17fSksbj10LmxhYmVsfHx0LmxhYmVsfHx7fSxvPW4ubm9ybWFsfHwobi5ub3JtYWw9e30pLGE9e25vcm1hbDoxLGVtcGhhc2lzOjF9O2QobixmdW5jdGlvbih0LGUpe2FbZV18fG15KG8sZSl8fChvW2VdPXQpfSksaS5sYWJlbCYmIW15KG4sImVtcGhhc2lzIikmJihuLmVtcGhhc2lzPWkubGFiZWwsZGVsZXRlIGkubGFiZWwpfWZ1bmN0aW9uIG15KHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gdnkodCxlKXtyZXR1cm4gUW8odC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSx0LmdldCgicGFkZGluZyIpKX1mdW5jdGlvbiB5eSh0LGUsbixvKXtyZXR1cm4gem4odC5nZXQoZSkucmVwbGFjZSgvXnBhdGg6XC9cLy8sIiIpLGkob3x8e30pLG5ldyBLdChuWzBdLG5bMV0sblsyXSxuWzNdKSwiY2VudGVyIil9ZnVuY3Rpb24geHkodCxlLGksbyxhLHIpe3ZhciBzPWUuZ2V0KCJjb2xvciIpO2E/KGEuc2V0Q29sb3IocyksaS5hZGQoYSksciYmci5vblVwZGF0ZShhKSk6KChhPW1sKHQuZ2V0KCJzeW1ib2wiKSwtMSwtMSwyLDIscykpLnNldFN0eWxlKCJzdHJva2VOb1NjYWxlIiwhMCksaS5hZGQoYSksciYmci5vbkNyZWF0ZShhKSk7dmFyIGw9ZS5nZXRJdGVtU3R5bGUoWyJjb2xvciIsInN5bWJvbCIsInN5bWJvbFNpemUiXSk7YS5zZXRTdHlsZShsKSxvPW4oe3JlY3RIb3ZlcjohMCx6MjoxMDB9LG8sITApO3ZhciB1PXQuZ2V0KCJzeW1ib2xTaXplIik7KHU9dSBpbnN0YW5jZW9mIEFycmF5P3Uuc2xpY2UoKTpbK3UsK3VdKVswXS89Mix1WzFdLz0yLG8uc2NhbGU9dTt2YXIgaD10LmdldCgic3ltYm9sT2Zmc2V0Iik7aWYoaCl7dmFyIGM9by5wb3NpdGlvbj1vLnBvc2l0aW9ufHxbMCwwXTtjWzBdKz1UbyhoWzBdLHVbMF0pLGNbMV0rPVRvKGhbMV0sdVsxXSl9dmFyIGQ9dC5nZXQoInN5bWJvbFJvdGF0ZSIpO3JldHVybiBvLnJvdGF0aW9uPShkfHwwKSpNYXRoLlBJLzE4MHx8MCxhLmF0dHIobyksYS51cGRhdGVUcmFuc2Zvcm0oKSxhfWZ1bmN0aW9uIF95KHQsZSxpLG4sbyl7aWYoIXQuZHJhZ2dpbmcpe3ZhciBhPW4uZ2V0TW9kZWwoImNoZWNrcG9pbnRTdHlsZSIpLHI9aS5kYXRhVG9Db29yZChuLmdldERhdGEoKS5nZXQoWyJ2YWx1ZSJdLGUpKTtvfHwhYS5nZXQoImFuaW1hdGlvbiIsITApP3QuYXR0cih7cG9zaXRpb246W3IsMF19KToodC5zdG9wQW5pbWF0aW9uKCEwKSx0LmFuaW1hdGVUbyh7cG9zaXRpb246W3IsMF19LGEuZ2V0KCJhbmltYXRpb25EdXJhdGlvbiIsITApLGEuZ2V0KCJhbmltYXRpb25FYXNpbmciLCEwKSkpfX1mdW5jdGlvbiB3eSh0KXtyZXR1cm4gMD09PXQuaW5kZXhPZigibXkiKX1mdW5jdGlvbiBieSh0KXt0aGlzLm1vZGVsPXR9ZnVuY3Rpb24gU3kodCl7dGhpcy5tb2RlbD10fWZ1bmN0aW9uIE15KHQpe3ZhciBlPXt9LGk9W10sbj1bXTtyZXR1cm4gdC5lYWNoUmF3U2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBvPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighb3x8ImNhcnRlc2lhbjJkIiE9PW8udHlwZSYmInBvbGFyIiE9PW8udHlwZSlpLnB1c2godCk7ZWxzZXt2YXIgYT1vLmdldEJhc2VBeGlzKCk7aWYoImNhdGVnb3J5Ij09PWEudHlwZSl7dmFyIHI9YS5kaW0rIl8iK2EuaW5kZXg7ZVtyXXx8KGVbcl09e2NhdGVnb3J5QXhpczphLHZhbHVlQXhpczpvLmdldE90aGVyQXhpcyhhKSxzZXJpZXM6W119LG4ucHVzaCh7YXhpc0RpbTphLmRpbSxheGlzSW5kZXg6YS5pbmRleH0pKSxlW3JdLnNlcmllcy5wdXNoKHQpfWVsc2UgaS5wdXNoKHQpfX0pLHtzZXJpZXNHcm91cEJ5Q2F0ZWdvcnlBeGlzOmUsb3RoZXI6aSxtZXRhOm59fWZ1bmN0aW9uIEl5KHQpe3ZhciBlPVtdO3JldHVybiBkKHQsZnVuY3Rpb24odCxpKXt2YXIgbj10LmNhdGVnb3J5QXhpcyxvPXQudmFsdWVBeGlzLmRpbSxhPVsiICJdLmNvbmNhdChmKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSkscj1bbi5tb2RlbC5nZXRDYXRlZ29yaWVzKCldO2QodC5zZXJpZXMsZnVuY3Rpb24odCl7ci5wdXNoKHQuZ2V0UmF3RGF0YSgpLm1hcEFycmF5KG8sZnVuY3Rpb24odCl7cmV0dXJuIHR9KSl9KTtmb3IodmFyIHM9W2Euam9pbihkTildLGw9MDtsPHJbMF0ubGVuZ3RoO2wrKyl7Zm9yKHZhciB1PVtdLGg9MDtoPHIubGVuZ3RoO2grKyl1LnB1c2gocltoXVtsXSk7cy5wdXNoKHUuam9pbihkTikpfWUucHVzaChzLmpvaW4oIlxuIikpfSksZS5qb2luKCJcblxuIitjTisiXG5cbiIpfWZ1bmN0aW9uIER5KHQpe3JldHVybiBmKHQsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSYXdEYXRhKCksaT1bdC5uYW1lXSxuPVtdO3JldHVybiBlLmVhY2goZS5kaW1lbnNpb25zLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbz1hcmd1bWVudHNbdC0xXSxhPWUuZ2V0TmFtZShvKSxyPTA7cjx0LTE7cisrKW5bcl09YXJndW1lbnRzW3JdO2kucHVzaCgoYT9hK2ROOiIiKStuLmpvaW4oZE4pKX0pLGkuam9pbigiXG4iKX0pLmpvaW4oIlxuXG4iK2NOKyJcblxuIil9ZnVuY3Rpb24gVHkodCl7dmFyIGU9TXkodCk7cmV0dXJue3ZhbHVlOmcoW0l5KGUuc2VyaWVzR3JvdXBCeUNhdGVnb3J5QXhpcyksRHkoZS5vdGhlcildLGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcblx0XHNdL2csIiIpfSkuam9pbigiXG5cbiIrY04rIlxuXG4iKSxtZXRhOmUubWV0YX19ZnVuY3Rpb24gQXkodCl7cmV0dXJuIHQucmVwbGFjZSgvXlxzXHMqLywiIikucmVwbGFjZSgvXHNccyokLywiIil9ZnVuY3Rpb24gQ3kodCl7aWYodC5zbGljZSgwLHQuaW5kZXhPZigiXG4iKSkuaW5kZXhPZihkTik+PTApcmV0dXJuITB9ZnVuY3Rpb24gTHkodCl7Zm9yKHZhciBlPXQuc3BsaXQoL1xuKy9nKSxpPVtdLG49ZihBeShlLnNoaWZ0KCkpLnNwbGl0KGZOKSxmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0LGRhdGE6W119fSksbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgYT1BeShlW29dKS5zcGxpdChmTik7aS5wdXNoKGEuc2hpZnQoKSk7Zm9yKHZhciByPTA7cjxhLmxlbmd0aDtyKyspbltyXSYmKG5bcl0uZGF0YVtvXT1hW3JdKX1yZXR1cm57c2VyaWVzOm4sY2F0ZWdvcmllczppfX1mdW5jdGlvbiBreSh0KXtmb3IodmFyIGU9dC5zcGxpdCgvXG4rL2cpLGk9QXkoZS5zaGlmdCgpKSxuPVtdLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGEscj1BeShlW29dKS5zcGxpdChmTikscz0iIixsPSExO2lzTmFOKHJbMF0pPyhsPSEwLHM9clswXSxyPXIuc2xpY2UoMSksbltvXT17bmFtZTpzLHZhbHVlOltdfSxhPW5bb10udmFsdWUpOmE9bltvXT1bXTtmb3IodmFyIHU9MDt1PHIubGVuZ3RoO3UrKylhLnB1c2goK3JbdV0pOzE9PT1hLmxlbmd0aCYmKGw/bltvXS52YWx1ZT1hWzBdOm5bb109YVswXSl9cmV0dXJue25hbWU6aSxkYXRhOm59fWZ1bmN0aW9uIFB5KHQsZSl7dmFyIGk9e3NlcmllczpbXX07cmV0dXJuIGQodC5zcGxpdChuZXcgUmVnRXhwKCJcbioiK2NOKyJcbioiLCJnIikpLGZ1bmN0aW9uKHQsbil7aWYoQ3kodCkpe3ZhciBvPUx5KHQpLGE9ZVtuXSxyPWEuYXhpc0RpbSsiQXhpcyI7YSYmKGlbcl09aVtyXXx8W10saVtyXVthLmF4aXNJbmRleF09e2RhdGE6by5jYXRlZ29yaWVzfSxpLnNlcmllcz1pLnNlcmllcy5jb25jYXQoby5zZXJpZXMpKX1lbHNle289a3kodCk7aS5zZXJpZXMucHVzaChvKX19KSxpfWZ1bmN0aW9uIE55KHQpe3RoaXMuX2RvbT1udWxsLHRoaXMubW9kZWw9dH1mdW5jdGlvbiBPeSh0LGUpe3JldHVybiBmKHQsZnVuY3Rpb24odCxpKXt2YXIgbj1lJiZlW2ldO3JldHVybiB3KG4pJiYheShuKT8odyh0KSYmIXkodCkmJih0PXQudmFsdWUpLHIoe3ZhbHVlOnR9LG4pKTp0fSl9ZnVuY3Rpb24gRXkodCxlKXt2YXIgaT1WeSh0KTtwTihlLGZ1bmN0aW9uKGUsbil7Zm9yKHZhciBvPWkubGVuZ3RoLTE7bz49MCYmIWlbb11bbl07by0tKTtpZihvPDApe3ZhciBhPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToiZGF0YVpvb20iLHN1YlR5cGU6InNlbGVjdCIsaWQ6bn0pWzBdO2lmKGEpe3ZhciByPWEuZ2V0UGVyY2VudFJhbmdlKCk7aVswXVtuXT17ZGF0YVpvb21JZDpuLHN0YXJ0OnJbMF0sZW5kOnJbMV19fX19KSxpLnB1c2goZSl9ZnVuY3Rpb24genkodCl7dmFyIGU9VnkodCksaT1lW2UubGVuZ3RoLTFdO2UubGVuZ3RoPjEmJmUucG9wKCk7dmFyIG49e307cmV0dXJuIHBOKGksZnVuY3Rpb24odCxpKXtmb3IodmFyIG89ZS5sZW5ndGgtMTtvPj0wO28tLSlpZih0PWVbb11baV0pe25baV09dDticmVha319KSxufWZ1bmN0aW9uIFJ5KHQpe3RbZ05dPW51bGx9ZnVuY3Rpb24gQnkodCl7cmV0dXJuIFZ5KHQpLmxlbmd0aH1mdW5jdGlvbiBWeSh0KXt2YXIgZT10W2dOXTtyZXR1cm4gZXx8KGU9dFtnTl09W3t9XSksZX1mdW5jdGlvbiBHeSh0LGUsaSl7KHRoaXMuX2JydXNoQ29udHJvbGxlcj1uZXcgRGQoaS5nZXRacigpKSkub24oImJydXNoIixtKHRoaXMuX29uQnJ1c2gsdGhpcykpLm1vdW50KCksdGhpcy5faXNab29tQWN0aXZlfWZ1bmN0aW9uIEZ5KHQpe3ZhciBlPXt9O3JldHVybiBkKFsieEF4aXNJbmRleCIsInlBeGlzSW5kZXgiXSxmdW5jdGlvbihpKXtlW2ldPXRbaV0sbnVsbD09ZVtpXSYmKGVbaV09ImFsbCIpLCghMT09PWVbaV18fCJub25lIj09PWVbaV0pJiYoZVtpXT1bXSl9KSxlfWZ1bmN0aW9uIFd5KHQsZSl7dC5zZXRJY29uU3RhdHVzKCJiYWNrIixCeShlKT4xPyJlbXBoYXNpcyI6Im5vcm1hbCIpfWZ1bmN0aW9uIEh5KHQsZSxpLG4sbyl7dmFyIGE9aS5faXNab29tQWN0aXZlO24mJiJ0YWtlR2xvYmFsQ3Vyc29yIj09PW4udHlwZSYmKGE9ImRhdGFab29tU2VsZWN0Ij09PW4ua2V5JiZuLmRhdGFab29tU2VsZWN0QWN0aXZlKSxpLl9pc1pvb21BY3RpdmU9YSx0LnNldEljb25TdGF0dXMoInpvb20iLGE/ImVtcGhhc2lzIjoibm9ybWFsIik7dmFyIHI9bmV3IFptKEZ5KHQub3B0aW9uKSxlLHtpbmNsdWRlOlsiZ3JpZCJdfSk7aS5fYnJ1c2hDb250cm9sbGVyLnNldFBhbmVscyhyLm1ha2VQYW5lbE9wdHMobyxmdW5jdGlvbih0KXtyZXR1cm4gdC54QXhpc0RlY2xhcmVkJiYhdC55QXhpc0RlY2xhcmVkPyJsaW5lWCI6IXQueEF4aXNEZWNsYXJlZCYmdC55QXhpc0RlY2xhcmVkPyJsaW5lWSI6InJlY3QifSkpLmVuYWJsZUJydXNoKCEhYSYme2JydXNoVHlwZToiYXV0byIsYnJ1c2hTdHlsZTp7bGluZVdpZHRoOjAsZmlsbDoicmdiYSgwLDAsMCwwLjIpIn19KX1mdW5jdGlvbiBaeSh0KXt0aGlzLm1vZGVsPXR9ZnVuY3Rpb24gVXkodCl7cmV0dXJuIGJOKHQpfWZ1bmN0aW9uIGp5KCl7aWYoIUlOJiZETil7SU49ITA7dmFyIHQ9RE4uc3R5bGVTaGVldHM7dC5sZW5ndGg8MzE/RE4uY3JlYXRlU3R5bGVTaGVldCgpLmFkZFJ1bGUoIi56cnZtbCIsImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpIik6dFswXS5hZGRSdWxlKCIuenJ2bWwiLCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKSIpfX1mdW5jdGlvbiBYeSh0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24gWXkodCxlKXtqeSgpLHRoaXMucm9vdD10LHRoaXMuc3RvcmFnZT1lO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5zdHlsZS5jc3NUZXh0PSJkaXNwbGF5OmlubGluZS1ibG9jaztvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MzAwcHg7aGVpZ2h0OjE1MHB4OyIsbi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7Iix0LmFwcGVuZENoaWxkKGkpLHRoaXMuX3ZtbFJvb3Q9bix0aGlzLl92bWxWaWV3cG9ydD1pLHRoaXMucmVzaXplKCk7dmFyIG89ZS5kZWxGcm9tU3RvcmFnZSxhPWUuYWRkVG9TdG9yYWdlO2UuZGVsRnJvbVN0b3JhZ2U9ZnVuY3Rpb24odCl7by5jYWxsKGUsdCksdCYmdC5vblJlbW92ZSYmdC5vblJlbW92ZShuKX0sZS5hZGRUb1N0b3JhZ2U9ZnVuY3Rpb24odCl7dC5vbkFkZCYmdC5vbkFkZChuKSxhLmNhbGwoZSx0KX0sdGhpcy5fZmlyc3RQYWludD0hMH1mdW5jdGlvbiBxeSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtNXygnSW4gSUU4LjAgVk1MIG1vZGUgcGFpbnRlciBub3Qgc3VwcG9ydCBtZXRob2QgIicrdCsnIicpfX1mdW5jdGlvbiAkeSh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHJPLHQpfWZ1bmN0aW9uIEt5KHQpe3JldHVybiBoTygxZTQqdCkvMWU0fWZ1bmN0aW9uIEp5KHQpe3JldHVybiB0PG1PJiZ0Pi1tT31mdW5jdGlvbiBReSh0LGUpe3ZhciBpPWU/dC50ZXh0RmlsbDp0LmZpbGw7cmV0dXJuIG51bGwhPWkmJmkhPT11T31mdW5jdGlvbiB0eCh0LGUpe3ZhciBpPWU/dC50ZXh0U3Ryb2tlOnQuc3Ryb2tlO3JldHVybiBudWxsIT1pJiZpIT09dU99ZnVuY3Rpb24gZXgodCxlKXtlJiZpeCh0LCJ0cmFuc2Zvcm0iLCJtYXRyaXgoIitsTy5jYWxsKGUsIiwiKSsiKSIpfWZ1bmN0aW9uIGl4KHQsZSxpKXsoIWl8fCJsaW5lYXIiIT09aS50eXBlJiYicmFkaWFsIiE9PWkudHlwZSkmJnQuc2V0QXR0cmlidXRlKGUsaSl9ZnVuY3Rpb24gbngodCxlLGkpe3Quc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLGUsaSl9ZnVuY3Rpb24gb3godCxlLGkpe2lmKFF5KGUsaSkpe3ZhciBuPWk/ZS50ZXh0RmlsbDplLmZpbGw7bj0idHJhbnNwYXJlbnQiPT09bj91TzpuLCJub25lIiE9PXQuZ2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiKSYmbj09PXVPJiYobj0icmdiYSgwLCAwLCAwLCAwLjAwMikiKSxpeCh0LCJmaWxsIixuKSxpeCh0LCJmaWxsLW9wYWNpdHkiLGUub3BhY2l0eSl9ZWxzZSBpeCh0LCJmaWxsIix1Tyk7aWYodHgoZSxpKSl7dmFyIG89aT9lLnRleHRTdHJva2U6ZS5zdHJva2U7aXgodCwic3Ryb2tlIixvPSJ0cmFuc3BhcmVudCI9PT1vP3VPOm8pLGl4KHQsInN0cm9rZS13aWR0aCIsKGk/ZS50ZXh0U3Ryb2tlV2lkdGg6ZS5saW5lV2lkdGgpLyghaSYmZS5zdHJva2VOb1NjYWxlP2UuaG9zdC5nZXRMaW5lU2NhbGUoKToxKSksaXgodCwicGFpbnQtb3JkZXIiLGk/InN0cm9rZSI6ImZpbGwiKSxpeCh0LCJzdHJva2Utb3BhY2l0eSIsZS5vcGFjaXR5KSxlLmxpbmVEYXNoPyhpeCh0LCJzdHJva2UtZGFzaGFycmF5IixlLmxpbmVEYXNoLmpvaW4oIiwiKSksaXgodCwic3Ryb2tlLWRhc2hvZmZzZXQiLGhPKGUubGluZURhc2hPZmZzZXR8fDApKSk6aXgodCwic3Ryb2tlLWRhc2hhcnJheSIsIiIpLGUubGluZUNhcCYmaXgodCwic3Ryb2tlLWxpbmVjYXAiLGUubGluZUNhcCksZS5saW5lSm9pbiYmaXgodCwic3Ryb2tlLWxpbmVqb2luIixlLmxpbmVKb2luKSxlLm1pdGVyTGltaXQmJml4KHQsInN0cm9rZS1taXRlcmxpbWl0IixlLm1pdGVyTGltaXQpfWVsc2UgaXgodCwic3Ryb2tlIix1Tyl9ZnVuY3Rpb24gYXgodCl7Zm9yKHZhciBlPVtdLGk9dC5kYXRhLG49dC5sZW4oKSxvPTA7bzxuOyl7dmFyIGE9IiIscj0wO3N3aXRjaChpW28rK10pe2Nhc2Ugc08uTTphPSJNIixyPTI7YnJlYWs7Y2FzZSBzTy5MOmE9IkwiLHI9MjticmVhaztjYXNlIHNPLlE6YT0iUSIscj00O2JyZWFrO2Nhc2Ugc08uQzphPSJDIixyPTY7YnJlYWs7Y2FzZSBzTy5BOnZhciBzPWlbbysrXSxsPWlbbysrXSx1PWlbbysrXSxoPWlbbysrXSxjPWlbbysrXSxkPWlbbysrXSxmPWlbbysrXSxwPWlbbysrXSxnPU1hdGguYWJzKGQpLG09SnkoZy1wTykmJiFKeShnKSx2PSExO3Y9Zz49cE98fCFKeShnKSYmKGQ+LWZPJiZkPDB8fGQ+Zk8pPT0hIXA7dmFyIHk9S3kocyt1KmRPKGMpKSx4PUt5KGwraCpjTyhjKSk7bSYmKGQ9cD9wTy0xZS00OjFlLTQtcE8sdj0hMCw5PT09byYmZS5wdXNoKCJNIix5LHgpKTt2YXIgXz1LeShzK3UqZE8oYytkKSksdz1LeShsK2gqY08oYytkKSk7ZS5wdXNoKCJBIixLeSh1KSxLeShoKSxoTyhmKmdPKSwrdiwrcCxfLHcpO2JyZWFrO2Nhc2Ugc08uWjphPSJaIjticmVhaztjYXNlIHNPLlI6dmFyIF89S3koaVtvKytdKSx3PUt5KGlbbysrXSksYj1LeShpW28rK10pLFM9S3koaVtvKytdKTtlLnB1c2goIk0iLF8sdywiTCIsXytiLHcsIkwiLF8rYix3K1MsIkwiLF8sdytTLCJMIixfLHcpfWEmJmUucHVzaChhKTtmb3IodmFyIE09MDtNPHI7TSsrKWUucHVzaChLeShpW28rK10pKX1yZXR1cm4gZS5qb2luKCIgIil9ZnVuY3Rpb24gcngodCl7cmV0dXJuIm1pZGRsZSI9PT10PyJtaWRkbGUiOiJib3R0b20iPT09dD8iYmFzZWxpbmUiOiJoYW5naW5nIn1mdW5jdGlvbiBzeCgpe31mdW5jdGlvbiBseCh0LGUsaSxuKXtmb3IodmFyIG89MCxhPWUubGVuZ3RoLHI9MCxzPTA7bzxhO28rKyl7dmFyIGw9ZVtvXTtpZihsLnJlbW92ZWQpe2Zvcih2YXIgdT1bXSxoPXM7aDxzK2wuY291bnQ7aCsrKXUucHVzaChoKTtsLmluZGljZXM9dSxzKz1sLmNvdW50fWVsc2V7Zm9yKHZhciB1PVtdLGg9cjtoPHIrbC5jb3VudDtoKyspdS5wdXNoKGgpO2wuaW5kaWNlcz11LHIrPWwuY291bnQsbC5hZGRlZHx8KHMrPWwuY291bnQpfX1yZXR1cm4gZX1mdW5jdGlvbiB1eCh0KXtyZXR1cm57bmV3UG9zOnQubmV3UG9zLGNvbXBvbmVudHM6dC5jb21wb25lbnRzLnNsaWNlKDApfX1mdW5jdGlvbiBoeCh0LGUsaSxuLG8pe3RoaXMuX3pySWQ9dCx0aGlzLl9zdmdSb290PWUsdGhpcy5fdGFnTmFtZXM9InN0cmluZyI9PXR5cGVvZiBpP1tpXTppLHRoaXMuX21hcmtMYWJlbD1uLHRoaXMuX2RvbU5hbWU9b3x8Il9kb20iLHRoaXMubmV4dElkPTB9ZnVuY3Rpb24gY3godCxlKXtoeC5jYWxsKHRoaXMsdCxlLFsibGluZWFyR3JhZGllbnQiLCJyYWRpYWxHcmFkaWVudCJdLCJfX2dyYWRpZW50X2luX3VzZV9fIil9ZnVuY3Rpb24gZHgodCxlKXtoeC5jYWxsKHRoaXMsdCxlLCJjbGlwUGF0aCIsIl9fY2xpcHBhdGhfaW5fdXNlX18iKX1mdW5jdGlvbiBmeCh0LGUpe2h4LmNhbGwodGhpcyx0LGUsWyJmaWx0ZXIiXSwiX19maWx0ZXJfaW5fdXNlX18iLCJfc2hhZG93RG9tIil9ZnVuY3Rpb24gcHgodCl7cmV0dXJuIHQmJih0LnNoYWRvd0JsdXJ8fHQuc2hhZG93T2Zmc2V0WHx8dC5zaGFkb3dPZmZzZXRZfHx0LnRleHRTaGFkb3dCbHVyfHx0LnRleHRTaGFkb3dPZmZzZXRYfHx0LnRleHRTaGFkb3dPZmZzZXRZKX1mdW5jdGlvbiBneCh0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24gbXgodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBJbj92Tzp0IGluc3RhbmNlb2YgSmU/eU86dCBpbnN0YW5jZW9mIHpiP3hPOnZPfWZ1bmN0aW9uIHZ4KHQsZSl7cmV0dXJuIGUmJnQmJmUucGFyZW50Tm9kZSE9PXR9ZnVuY3Rpb24geXgodCxlLGkpe2lmKHZ4KHQsZSkmJmkpe3ZhciBuPWkubmV4dFNpYmxpbmc7bj90Lmluc2VydEJlZm9yZShlLG4pOnQuYXBwZW5kQ2hpbGQoZSl9fWZ1bmN0aW9uIHh4KHQsZSl7aWYodngodCxlKSl7dmFyIGk9dC5maXJzdENoaWxkO2k/dC5pbnNlcnRCZWZvcmUoZSxpKTp0LmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiBfeCh0LGUpe2UmJnQmJmUucGFyZW50Tm9kZT09PXQmJnQucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gYngodCl7cmV0dXJuIHQuX190ZXh0U3ZnRWx9ZnVuY3Rpb24gU3godCl7cmV0dXJuIHQuX19zdmdFbH1mdW5jdGlvbiBNeCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtNXygnSW4gU1ZHIG1vZGUgcGFpbnRlciBub3Qgc3VwcG9ydCBtZXRob2QgIicrdCsnIicpfX12YXIgSXg9MjMxMSxEeD1mdW5jdGlvbigpe3JldHVybiBJeCsrfSxUeD17fSxBeD1UeD0idW5kZWZpbmVkIiE9dHlwZW9mIHd4P3ticm93c2VyOnt9LG9zOnt9LG5vZGU6ITEsd3hhOiEwLGNhbnZhc1N1cHBvcnRlZDohMCxzdmdTdXBwb3J0ZWQ6ITEsdG91Y2hFdmVudHNTdXBwb3J0ZWQ6ITB9OiJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnQmJiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj97YnJvd3Nlcjp7fSxvczp7fSxub2RlOiExLHdvcmtlcjohMCxjYW52YXNTdXBwb3J0ZWQ6ITB9OiJ1bmRlZmluZWQiPT10eXBlb2YgbmF2aWdhdG9yP3ticm93c2VyOnt9LG9zOnt9LG5vZGU6ITAsd29ya2VyOiExLGNhbnZhc1N1cHBvcnRlZDohMCxzdmdTdXBwb3J0ZWQ6ITB9OmZ1bmN0aW9uKHQpe3ZhciBlPXt9LGk9e30sbj10Lm1hdGNoKC9GaXJlZm94XC8oW1xkLl0rKS8pLG89dC5tYXRjaCgvTVNJRVxzKFtcZC5dKykvKXx8dC5tYXRjaCgvVHJpZGVudFwvLis/cnY6KChbXGQuXSspKS8pLGE9dC5tYXRjaCgvRWRnZVwvKFtcZC5dKykvKSxyPS9taWNyb21lc3Nlbmdlci9pLnRlc3QodCk7cmV0dXJuIG4mJihpLmZpcmVmb3g9ITAsaS52ZXJzaW9uPW5bMV0pLG8mJihpLmllPSEwLGkudmVyc2lvbj1vWzFdKSxhJiYoaS5lZGdlPSEwLGkudmVyc2lvbj1hWzFdKSxyJiYoaS53ZUNoYXQ9ITApLHticm93c2VyOmksb3M6ZSxub2RlOiExLGNhbnZhc1N1cHBvcnRlZDohIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQsc3ZnU3VwcG9ydGVkOiJ1bmRlZmluZWQiIT10eXBlb2YgU1ZHUmVjdCx0b3VjaEV2ZW50c1N1cHBvcnRlZDoib250b3VjaHN0YXJ0ImluIHdpbmRvdyYmIWkuaWUmJiFpLmVkZ2UscG9pbnRlckV2ZW50c1N1cHBvcnRlZDoib25wb2ludGVyZG93biJpbiB3aW5kb3cmJihpLmVkZ2V8fGkuaWUmJmkudmVyc2lvbj49MTEpfX0obmF2aWdhdG9yLnVzZXJBZ2VudCksQ3g9eyJbb2JqZWN0IEZ1bmN0aW9uXSI6MSwiW29iamVjdCBSZWdFeHBdIjoxLCJbb2JqZWN0IERhdGVdIjoxLCJbb2JqZWN0IEVycm9yXSI6MSwiW29iamVjdCBDYW52YXNHcmFkaWVudF0iOjEsIltvYmplY3QgQ2FudmFzUGF0dGVybl0iOjEsIltvYmplY3QgSW1hZ2VdIjoxLCJbb2JqZWN0IENhbnZhc10iOjF9LEx4PXsiW29iamVjdCBJbnQ4QXJyYXldIjoxLCJbb2JqZWN0IFVpbnQ4QXJyYXldIjoxLCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSI6MSwiW29iamVjdCBJbnQxNkFycmF5XSI6MSwiW29iamVjdCBVaW50MTZBcnJheV0iOjEsIltvYmplY3QgSW50MzJBcnJheV0iOjEsIltvYmplY3QgVWludDMyQXJyYXldIjoxLCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iOjEsIltvYmplY3QgRmxvYXQ2NEFycmF5XSI6MX0sa3g9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxQeD1BcnJheS5wcm90b3R5cGUsTng9UHguZm9yRWFjaCxPeD1QeC5maWx0ZXIsRXg9UHguc2xpY2Useng9UHgubWFwLFJ4PVB4LnJlZHVjZSxCeD17fSxWeD1mdW5jdGlvbigpe3JldHVybiBCeC5jcmVhdGVDYW52YXMoKX07QnguY3JlYXRlQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpfTt2YXIgR3gsRng9Il9fZWNfcHJpbWl0aXZlX18iO0UucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpFLGdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNPd25Qcm9wZXJ0eSh0KT90aGlzW3RdOm51bGx9LHNldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzW3RdPWV9LGVhY2g6ZnVuY3Rpb24odCxlKXt2b2lkIDAhPT1lJiYodD1tKHQsZSkpO2Zvcih2YXIgaSBpbiB0aGlzKXRoaXMuaGFzT3duUHJvcGVydHkoaSkmJnQodGhpc1tpXSxpKX0scmVtb3ZlS2V5OmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzW3RdfX07dmFyIFd4PShPYmplY3QuZnJlZXplfHxPYmplY3QpKHskb3ZlcnJpZGU6ZSxjbG9uZTppLG1lcmdlOm4sbWVyZ2VBbGw6byxleHRlbmQ6YSxkZWZhdWx0czpyLGNyZWF0ZUNhbnZhczpWeCxnZXRDb250ZXh0OnMsaW5kZXhPZjpsLGluaGVyaXRzOnUsbWl4aW46aCxpc0FycmF5TGlrZTpjLGVhY2g6ZCxtYXA6ZixyZWR1Y2U6cCxmaWx0ZXI6ZyxmaW5kOmZ1bmN0aW9uKHQsZSxpKXtpZih0JiZlKWZvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvO24rKylpZihlLmNhbGwoaSx0W25dLG4sdCkpcmV0dXJuIHRbbl19LGJpbmQ6bSxjdXJyeTp2LGlzQXJyYXk6eSxpc0Z1bmN0aW9uOngsaXNTdHJpbmc6Xyxpc09iamVjdDp3LGlzQnVpbHRJbk9iamVjdDpiLGlzVHlwZWRBcnJheTpTLGlzRG9tOk0sZXFOYU46SSxyZXRyaWV2ZTpELHJldHJpZXZlMjpULHJldHJpZXZlMzpBLHNsaWNlOkMsbm9ybWFsaXplQ3NzQXJyYXk6TCxhc3NlcnQ6ayx0cmltOlAsc2V0QXNQcmltaXRpdmU6Tixpc1ByaW1pdGl2ZTpPLGNyZWF0ZUhhc2hNYXA6eixjb25jYXRBcnJheTpSLG5vb3A6Qn0pLEh4PSJ1bmRlZmluZWQiPT10eXBlb2YgRmxvYXQzMkFycmF5P0FycmF5OkZsb2F0MzJBcnJheSxaeD1qLFV4PVgsang9JCxYeD1LLFl4PShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtjcmVhdGU6Vixjb3B5OkcsY2xvbmU6RixzZXQ6VyxhZGQ6SCxzY2FsZUFuZEFkZDpaLHN1YjpVLGxlbjpqLGxlbmd0aDpaeCxsZW5TcXVhcmU6WCxsZW5ndGhTcXVhcmU6VXgsbXVsOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdKmlbMF0sdFsxXT1lWzFdKmlbMV0sdH0sZGl2OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdL2lbMF0sdFsxXT1lWzFdL2lbMV0sdH0sZG90OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV19LHNjYWxlOlksbm9ybWFsaXplOnEsZGlzdGFuY2U6JCxkaXN0Omp4LGRpc3RhbmNlU3F1YXJlOkssZGlzdFNxdWFyZTpYeCxuZWdhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9LGxlcnA6SixhcHBseVRyYW5zZm9ybTpRLG1pbjp0dCxtYXg6ZXR9KTtpdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOml0LF9kcmFnU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQ7ZSYmZS5kcmFnZ2FibGUmJih0aGlzLl9kcmFnZ2luZ1RhcmdldD1lLGUuZHJhZ2dpbmc9ITAsdGhpcy5feD10Lm9mZnNldFgsdGhpcy5feT10Lm9mZnNldFksdGhpcy5kaXNwYXRjaFRvRWxlbWVudChudChlLHQpLCJkcmFnc3RhcnQiLHQuZXZlbnQpKX0sX2RyYWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7aWYoZSl7dmFyIGk9dC5vZmZzZXRYLG49dC5vZmZzZXRZLG89aS10aGlzLl94LGE9bi10aGlzLl95O3RoaXMuX3g9aSx0aGlzLl95PW4sZS5kcmlmdChvLGEsdCksdGhpcy5kaXNwYXRjaFRvRWxlbWVudChudChlLHQpLCJkcmFnIix0LmV2ZW50KTt2YXIgcj10aGlzLmZpbmRIb3ZlcihpLG4sZSkudGFyZ2V0LHM9dGhpcy5fZHJvcFRhcmdldDt0aGlzLl9kcm9wVGFyZ2V0PXIsZSE9PXImJihzJiZyIT09cyYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChudChzLHQpLCJkcmFnbGVhdmUiLHQuZXZlbnQpLHImJnIhPT1zJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KG50KHIsdCksImRyYWdlbnRlciIsdC5ldmVudCkpfX0sX2RyYWdFbmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7ZSYmKGUuZHJhZ2dpbmc9ITEpLHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQobnQoZSx0KSwiZHJhZ2VuZCIsdC5ldmVudCksdGhpcy5fZHJvcFRhcmdldCYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChudCh0aGlzLl9kcm9wVGFyZ2V0LHQpLCJkcm9wIix0LmV2ZW50KSx0aGlzLl9kcmFnZ2luZ1RhcmdldD1udWxsLHRoaXMuX2Ryb3BUYXJnZXQ9bnVsbH19O3ZhciBxeD1BcnJheS5wcm90b3R5cGUuc2xpY2UsJHg9ZnVuY3Rpb24oKXt0aGlzLl8kaGFuZGxlcnM9e319OyR4LnByb3RvdHlwZT17Y29uc3RydWN0b3I6JHgsb25lOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl8kaGFuZGxlcnM7aWYoIWV8fCF0KXJldHVybiB0aGlzO25bdF18fChuW3RdPVtdKTtmb3IodmFyIG89MDtvPG5bdF0ubGVuZ3RoO28rKylpZihuW3RdW29dLmg9PT1lKXJldHVybiB0aGlzO3JldHVybiBuW3RdLnB1c2goe2g6ZSxvbmU6ITAsY3R4Oml8fHRoaXN9KSx0aGlzfSxvbjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fJGhhbmRsZXJzO2lmKCFlfHwhdClyZXR1cm4gdGhpcztuW3RdfHwoblt0XT1bXSk7Zm9yKHZhciBvPTA7bzxuW3RdLmxlbmd0aDtvKyspaWYoblt0XVtvXS5oPT09ZSlyZXR1cm4gdGhpcztyZXR1cm4gblt0XS5wdXNoKHtoOmUsb25lOiExLGN0eDppfHx0aGlzfSksdGhpc30saXNTaWxlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fJGhhbmRsZXJzO3JldHVybiBlW3RdJiZlW3RdLmxlbmd0aH0sb2ZmOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fJGhhbmRsZXJzO2lmKCF0KXJldHVybiB0aGlzLl8kaGFuZGxlcnM9e30sdGhpcztpZihlKXtpZihpW3RdKXtmb3IodmFyIG49W10sbz0wLGE9aVt0XS5sZW5ndGg7bzxhO28rKylpW3RdW29dLmghPWUmJm4ucHVzaChpW3RdW29dKTtpW3RdPW59aVt0XSYmMD09PWlbdF0ubGVuZ3RoJiZkZWxldGUgaVt0XX1lbHNlIGRlbGV0ZSBpW3RdO3JldHVybiB0aGlzfSx0cmlnZ2VyOmZ1bmN0aW9uKHQpe2lmKHRoaXMuXyRoYW5kbGVyc1t0XSl7dmFyIGU9YXJndW1lbnRzLGk9ZS5sZW5ndGg7aT4zJiYoZT1xeC5jYWxsKGUsMSkpO2Zvcih2YXIgbj10aGlzLl8kaGFuZGxlcnNbdF0sbz1uLmxlbmd0aCxhPTA7YTxvOyl7c3dpdGNoKGkpe2Nhc2UgMTpuW2FdLmguY2FsbChuW2FdLmN0eCk7YnJlYWs7Y2FzZSAyOm5bYV0uaC5jYWxsKG5bYV0uY3R4LGVbMV0pO2JyZWFrO2Nhc2UgMzpuW2FdLmguY2FsbChuW2FdLmN0eCxlWzFdLGVbMl0pO2JyZWFrO2RlZmF1bHQ6blthXS5oLmFwcGx5KG5bYV0uY3R4LGUpfW5bYV0ub25lPyhuLnNwbGljZShhLDEpLG8tLSk6YSsrfX1yZXR1cm4gdGhpc30sdHJpZ2dlcldpdGhDb250ZXh0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuXyRoYW5kbGVyc1t0XSl7dmFyIGU9YXJndW1lbnRzLGk9ZS5sZW5ndGg7aT40JiYoZT1xeC5jYWxsKGUsMSxlLmxlbmd0aC0xKSk7Zm9yKHZhciBuPWVbZS5sZW5ndGgtMV0sbz10aGlzLl8kaGFuZGxlcnNbdF0sYT1vLmxlbmd0aCxyPTA7cjxhOyl7c3dpdGNoKGkpe2Nhc2UgMTpvW3JdLmguY2FsbChuKTticmVhaztjYXNlIDI6b1tyXS5oLmNhbGwobixlWzFdKTticmVhaztjYXNlIDM6b1tyXS5oLmNhbGwobixlWzFdLGVbMl0pO2JyZWFrO2RlZmF1bHQ6b1tyXS5oLmFwcGx5KG4sZSl9b1tyXS5vbmU/KG8uc3BsaWNlKHIsMSksYS0tKTpyKyt9fXJldHVybiB0aGlzfX07dmFyIEt4PSJzaWxlbnQiO2F0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fTt2YXIgSng9WyJjbGljayIsImRibGNsaWNrIiwibW91c2V3aGVlbCIsIm1vdXNlb3V0IiwibW91c2V1cCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsImNvbnRleHRtZW51Il0sUXg9ZnVuY3Rpb24odCxlLGksbil7JHguY2FsbCh0aGlzKSx0aGlzLnN0b3JhZ2U9dCx0aGlzLnBhaW50ZXI9ZSx0aGlzLnBhaW50ZXJSb290PW4saT1pfHxuZXcgYXQsdGhpcy5wcm94eT1udWxsLHRoaXMuX2hvdmVyZWQ9e30sdGhpcy5fbGFzdFRvdWNoTW9tZW50LHRoaXMuX2xhc3RYLHRoaXMuX2xhc3RZLGl0LmNhbGwodGhpcyksdGhpcy5zZXRIYW5kbGVyUHJveHkoaSl9O1F4LnByb3RvdHlwZT17Y29uc3RydWN0b3I6UXgsc2V0SGFuZGxlclByb3h5OmZ1bmN0aW9uKHQpe3RoaXMucHJveHkmJnRoaXMucHJveHkuZGlzcG9zZSgpLHQmJihkKEp4LGZ1bmN0aW9uKGUpe3Qub24mJnQub24oZSx0aGlzW2VdLHRoaXMpfSx0aGlzKSx0LmhhbmRsZXI9dGhpcyksdGhpcy5wcm94eT10fSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dC56clgsaT10LnpyWSxuPXRoaXMuX2hvdmVyZWQsbz1uLnRhcmdldDtvJiYhby5fX3pyJiYobz0obj10aGlzLmZpbmRIb3ZlcihuLngsbi55KSkudGFyZ2V0KTt2YXIgYT10aGlzLl9ob3ZlcmVkPXRoaXMuZmluZEhvdmVyKGUsaSkscj1hLnRhcmdldCxzPXRoaXMucHJveHk7cy5zZXRDdXJzb3ImJnMuc2V0Q3Vyc29yKHI/ci5jdXJzb3I6ImRlZmF1bHQiKSxvJiZyIT09byYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChuLCJtb3VzZW91dCIsdCksdGhpcy5kaXNwYXRjaFRvRWxlbWVudChhLCJtb3VzZW1vdmUiLHQpLHImJnIhPT1vJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KGEsIm1vdXNlb3ZlciIsdCl9LG1vdXNlb3V0OmZ1bmN0aW9uKHQpe3RoaXMuZGlzcGF0Y2hUb0VsZW1lbnQodGhpcy5faG92ZXJlZCwibW91c2VvdXQiLHQpO3ZhciBlLGk9dC50b0VsZW1lbnR8fHQucmVsYXRlZFRhcmdldDtkb3tpPWkmJmkucGFyZW50Tm9kZX13aGlsZShpJiY5IT1pLm5vZGVUeXBlJiYhKGU9aT09PXRoaXMucGFpbnRlclJvb3QpKTshZSYmdGhpcy50cmlnZ2VyKCJnbG9iYWxvdXQiLHtldmVudDp0fSl9LHJlc2l6ZTpmdW5jdGlvbih0KXt0aGlzLl9ob3ZlcmVkPXt9fSxkaXNwYXRjaDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbdF07aSYmaS5jYWxsKHRoaXMsZSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnByb3h5LmRpc3Bvc2UoKSx0aGlzLnN0b3JhZ2U9dGhpcy5wcm94eT10aGlzLnBhaW50ZXI9bnVsbH0sc2V0Q3Vyc29yU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm94eTtlLnNldEN1cnNvciYmZS5zZXRDdXJzb3IodCl9LGRpc3BhdGNoVG9FbGVtZW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj0odD10fHx7fSkudGFyZ2V0O2lmKCFufHwhbi5zaWxlbnQpe2Zvcih2YXIgbz0ib24iK2UsYT1vdChlLHQsaSk7biYmKG5bb10mJihhLmNhbmNlbEJ1YmJsZT1uW29dLmNhbGwobixhKSksbi50cmlnZ2VyKGUsYSksbj1uLnBhcmVudCwhYS5jYW5jZWxCdWJibGUpOyk7YS5jYW5jZWxCdWJibGV8fCh0aGlzLnRyaWdnZXIoZSxhKSx0aGlzLnBhaW50ZXImJnRoaXMucGFpbnRlci5lYWNoT3RoZXJMYXllcihmdW5jdGlvbih0KXsiZnVuY3Rpb24iPT10eXBlb2YgdFtvXSYmdFtvXS5jYWxsKHQsYSksdC50cmlnZ2VyJiZ0LnRyaWdnZXIoZSxhKX0pKX19LGZpbmRIb3ZlcjpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpLG89e3g6dCx5OmV9LGE9bi5sZW5ndGgtMTthPj0wO2EtLSl7dmFyIHI7aWYoblthXSE9PWkmJiFuW2FdLmlnbm9yZSYmKHI9cnQoblthXSx0LGUpKSYmKCFvLnRvcFRhcmdldCYmKG8udG9wVGFyZ2V0PW5bYV0pLHIhPT1LeCkpe28udGFyZ2V0PW5bYV07YnJlYWt9fXJldHVybiBvfX0sZChbImNsaWNrIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNld2hlZWwiLCJkYmxjbGljayIsImNvbnRleHRtZW51Il0sZnVuY3Rpb24odCl7UXgucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuZmluZEhvdmVyKGUuenJYLGUuenJZKSxuPWkudGFyZ2V0O2lmKCJtb3VzZWRvd24iPT09dCl0aGlzLl9kb3duRWw9bix0aGlzLl9kb3duUG9pbnQ9W2UuenJYLGUuenJZXSx0aGlzLl91cEVsPW47ZWxzZSBpZigibW91c2V1cCI9PT10KXRoaXMuX3VwRWw9bjtlbHNlIGlmKCJjbGljayI9PT10KXtpZih0aGlzLl9kb3duRWwhPT10aGlzLl91cEVsfHwhdGhpcy5fZG93blBvaW50fHxqeCh0aGlzLl9kb3duUG9pbnQsW2UuenJYLGUuenJZXSk+NClyZXR1cm47dGhpcy5fZG93blBvaW50PW51bGx9dGhpcy5kaXNwYXRjaFRvRWxlbWVudChpLHQsZSl9fSksaChReCwkeCksaChReCxpdCk7dmFyIHRfPSJ1bmRlZmluZWQiPT10eXBlb2YgRmxvYXQzMkFycmF5P0FycmF5OkZsb2F0MzJBcnJheSxlXz0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7Y3JlYXRlOnN0LGlkZW50aXR5Omx0LGNvcHk6dXQsbXVsOmh0LHRyYW5zbGF0ZTpjdCxyb3RhdGU6ZHQsc2NhbGU6ZnQsaW52ZXJ0OnB0LGNsb25lOmd0fSksaV89bHQsbl89NWUtNSxvXz1mdW5jdGlvbih0KXsodD10fHx7fSkucG9zaXRpb258fCh0aGlzLnBvc2l0aW9uPVswLDBdKSxudWxsPT10LnJvdGF0aW9uJiYodGhpcy5yb3RhdGlvbj0wKSx0LnNjYWxlfHwodGhpcy5zY2FsZT1bMSwxXSksdGhpcy5vcmlnaW49dGhpcy5vcmlnaW58fG51bGx9LGFfPW9fLnByb3RvdHlwZTthXy50cmFuc2Zvcm09bnVsbCxhXy5uZWVkTG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gbXQodGhpcy5yb3RhdGlvbil8fG10KHRoaXMucG9zaXRpb25bMF0pfHxtdCh0aGlzLnBvc2l0aW9uWzFdKXx8bXQodGhpcy5zY2FsZVswXS0xKXx8bXQodGhpcy5zY2FsZVsxXS0xKX0sYV8udXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnQsZT10JiZ0LnRyYW5zZm9ybSxpPXRoaXMubmVlZExvY2FsVHJhbnNmb3JtKCksbj10aGlzLnRyYW5zZm9ybTtpfHxlPyhuPW58fHN0KCksaT90aGlzLmdldExvY2FsVHJhbnNmb3JtKG4pOmlfKG4pLGUmJihpP2h0KG4sdC50cmFuc2Zvcm0sbik6dXQobix0LnRyYW5zZm9ybSkpLHRoaXMudHJhbnNmb3JtPW4sdGhpcy5pbnZUcmFuc2Zvcm09dGhpcy5pbnZUcmFuc2Zvcm18fHN0KCkscHQodGhpcy5pbnZUcmFuc2Zvcm0sbikpOm4mJmlfKG4pfSxhXy5nZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gb18uZ2V0TG9jYWxUcmFuc2Zvcm0odGhpcyx0KX0sYV8uc2V0VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNmb3JtLGk9dC5kcHJ8fDE7ZT90LnNldFRyYW5zZm9ybShpKmVbMF0saSplWzFdLGkqZVsyXSxpKmVbM10saSplWzRdLGkqZVs1XSk6dC5zZXRUcmFuc2Zvcm0oaSwwLDAsaSwwLDApfSxhXy5yZXN0b3JlVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZHByfHwxO3Quc2V0VHJhbnNmb3JtKGUsMCwwLGUsMCwwKX07dmFyIHJfPVtdO2FfLmRlY29tcG9zZVRyYW5zZm9ybT1mdW5jdGlvbigpe2lmKHRoaXMudHJhbnNmb3JtKXt2YXIgdD10aGlzLnBhcmVudCxlPXRoaXMudHJhbnNmb3JtO3QmJnQudHJhbnNmb3JtJiYoaHQocl8sdC5pbnZUcmFuc2Zvcm0sZSksZT1yXyk7dmFyIGk9ZVswXSplWzBdK2VbMV0qZVsxXSxuPWVbMl0qZVsyXStlWzNdKmVbM10sbz10aGlzLnBvc2l0aW9uLGE9dGhpcy5zY2FsZTttdChpLTEpJiYoaT1NYXRoLnNxcnQoaSkpLG10KG4tMSkmJihuPU1hdGguc3FydChuKSksZVswXTwwJiYoaT0taSksZVszXTwwJiYobj0tbiksb1swXT1lWzRdLG9bMV09ZVs1XSxhWzBdPWksYVsxXT1uLHRoaXMucm90YXRpb249TWF0aC5hdGFuMigtZVsxXS9uLGVbMF0vaSl9fSxhXy5nZXRHbG9iYWxTY2FsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudHJhbnNmb3JtO2lmKCF0KXJldHVyblsxLDFdO3ZhciBlPU1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKSxpPU1hdGguc3FydCh0WzJdKnRbMl0rdFszXSp0WzNdKTtyZXR1cm4gdFswXTwwJiYoZT0tZSksdFszXTwwJiYoaT0taSksW2UsaV19LGFfLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbD1mdW5jdGlvbih0LGUpe3ZhciBpPVt0LGVdLG49dGhpcy5pbnZUcmFuc2Zvcm07cmV0dXJuIG4mJlEoaSxpLG4pLGl9LGFfLnRyYW5zZm9ybUNvb3JkVG9HbG9iYWw9ZnVuY3Rpb24odCxlKXt2YXIgaT1bdCxlXSxuPXRoaXMudHJhbnNmb3JtO3JldHVybiBuJiZRKGksaSxuKSxpfSxvXy5nZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbih0LGUpe2lfKGU9ZXx8W10pO3ZhciBpPXQub3JpZ2luLG49dC5zY2FsZXx8WzEsMV0sbz10LnJvdGF0aW9ufHwwLGE9dC5wb3NpdGlvbnx8WzAsMF07cmV0dXJuIGkmJihlWzRdLT1pWzBdLGVbNV0tPWlbMV0pLGZ0KGUsZSxuKSxvJiZkdChlLGUsbyksaSYmKGVbNF0rPWlbMF0sZVs1XSs9aVsxXSksZVs0XSs9YVswXSxlWzVdKz1hWzFdLGV9O3ZhciBzXz17bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxxdWFkcmF0aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0fSxxdWFkcmF0aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqKDItdCl9LHF1YWRyYXRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdDotLjUqKC0tdCoodC0yKS0xKX0sY3ViaWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnR9LGN1YmljT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQrMX0sY3ViaWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdDouNSooKHQtPTIpKnQqdCsyKX0scXVhcnRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0fSxxdWFydGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxLSAtLXQqdCp0KnR9LHF1YXJ0aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdCp0Oi0uNSooKHQtPTIpKnQqdCp0LTIpfSxxdWludGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnQqdH0scXVpbnRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KnQqdCsxfSxxdWludGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQqdCp0Oi41KigodC09MikqdCp0KnQqdCsyKX0sc2ludXNvaWRhbEluOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguY29zKHQqTWF0aC5QSS8yKX0sc2ludXNvaWRhbE91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zaW4odCpNYXRoLlBJLzIpfSxzaW51c29pZGFsSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLjUqKDEtTWF0aC5jb3MoTWF0aC5QSSp0KSl9LGV4cG9uZW50aWFsSW46ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6TWF0aC5wb3coMTAyNCx0LTEpfSxleHBvbmVudGlhbE91dDpmdW5jdGlvbih0KXtyZXR1cm4gMT09PXQ/MToxLU1hdGgucG93KDIsLTEwKnQpfSxleHBvbmVudGlhbEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6KHQqPTIpPDE/LjUqTWF0aC5wb3coMTAyNCx0LTEpOi41KigyLU1hdGgucG93KDIsLTEwKih0LTEpKSl9LGNpcmN1bGFySW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtdCp0KX0sY2lyY3VsYXJPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc3FydCgxLSAtLXQqdCl9LGNpcmN1bGFySW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LS41KihNYXRoLnNxcnQoMS10KnQpLTEpOi41KihNYXRoLnNxcnQoMS0odC09MikqdCkrMSl9LGVsYXN0aWNJbjpmdW5jdGlvbih0KXt2YXIgZSxpPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFpfHxpPDE/KGk9MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLC1pKk1hdGgucG93KDIsMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS8uNCkpfSxlbGFzdGljT3V0OmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooIWl8fGk8MT8oaT0xLGU9LjEpOmU9LjQqTWF0aC5hc2luKDEvaSkvKDIqTWF0aC5QSSksaSpNYXRoLnBvdygyLC0xMCp0KSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS8uNCkrMSl9LGVsYXN0aWNJbk91dDpmdW5jdGlvbih0KXt2YXIgZSxpPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFpfHxpPDE/KGk9MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLCh0Kj0yKTwxP2kqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSotLjU6aSpNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSouNSsxKX0sYmFja0luOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuIHQqdCooKGUrMSkqdC1lKX0sYmFja091dDpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybi0tdCp0KigoZSsxKSp0K2UpKzF9LGJhY2tJbk91dDpmdW5jdGlvbih0KXt2YXIgZT0yLjU5NDkwOTU7cmV0dXJuKHQqPTIpPDE/dCp0KigoZSsxKSp0LWUpKi41Oi41KigodC09MikqdCooKGUrMSkqdCtlKSsyKX0sYm91bmNlSW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtc18uYm91bmNlT3V0KDEtdCl9LGJvdW5jZU91dDpmdW5jdGlvbih0KXtyZXR1cm4gdDwxLzIuNzU/Ny41NjI1KnQqdDp0PDIvMi43NT83LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NTp0PDIuNS8yLjc1PzcuNTYyNSoodC09Mi4yNS8yLjc1KSp0Ky45Mzc1OjcuNTYyNSoodC09Mi42MjUvMi43NSkqdCsuOTg0Mzc1fSxib3VuY2VJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT8uNSpzXy5ib3VuY2VJbigyKnQpOi41KnNfLmJvdW5jZU91dCgyKnQtMSkrLjV9fTt2dC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnZ0LHN0ZXA6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pbml0aWFsaXplZHx8KHRoaXMuX3N0YXJ0VGltZT10K3RoaXMuX2RlbGF5LHRoaXMuX2luaXRpYWxpemVkPSEwKSx0aGlzLl9wYXVzZWQpdGhpcy5fcGF1c2VkVGltZSs9ZTtlbHNle3ZhciBpPSh0LXRoaXMuX3N0YXJ0VGltZS10aGlzLl9wYXVzZWRUaW1lKS90aGlzLl9saWZlO2lmKCEoaTwwKSl7aT1NYXRoLm1pbihpLDEpO3ZhciBuPXRoaXMuZWFzaW5nLG89InN0cmluZyI9PXR5cGVvZiBuP3NfW25dOm4sYT0iZnVuY3Rpb24iPT10eXBlb2Ygbz9vKGkpOmk7cmV0dXJuIHRoaXMuZmlyZSgiZnJhbWUiLGEpLDE9PWk/dGhpcy5sb29wPyh0aGlzLnJlc3RhcnQodCksInJlc3RhcnQiKToodGhpcy5fbmVlZHNSZW1vdmU9ITAsImRlc3Ryb3kiKTpudWxsfX19LHJlc3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGU9KHQtdGhpcy5fc3RhcnRUaW1lLXRoaXMuX3BhdXNlZFRpbWUpJXRoaXMuX2xpZmU7dGhpcy5fc3RhcnRUaW1lPXQtZSt0aGlzLmdhcCx0aGlzLl9wYXVzZWRUaW1lPTAsdGhpcy5fbmVlZHNSZW1vdmU9ITF9LGZpcmU6ZnVuY3Rpb24odCxlKXt0aGlzW3Q9Im9uIit0XSYmdGhpc1t0XSh0aGlzLl90YXJnZXQsZSl9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSEwfSxyZXN1bWU6ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITF9fTt2YXIgbF89ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLl9sZW49MH0sdV89bF8ucHJvdG90eXBlO3VfLmluc2VydD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgaF8odCk7cmV0dXJuIHRoaXMuaW5zZXJ0RW50cnkoZSksZX0sdV8uaW5zZXJ0RW50cnk9ZnVuY3Rpb24odCl7dGhpcy5oZWFkPyh0aGlzLnRhaWwubmV4dD10LHQucHJldj10aGlzLnRhaWwsdC5uZXh0PW51bGwsdGhpcy50YWlsPXQpOnRoaXMuaGVhZD10aGlzLnRhaWw9dCx0aGlzLl9sZW4rK30sdV8ucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucHJldixpPXQubmV4dDtlP2UubmV4dD1pOnRoaXMuaGVhZD1pLGk/aS5wcmV2PWU6dGhpcy50YWlsPWUsdC5uZXh0PXQucHJldj1udWxsLHRoaXMuX2xlbi0tfSx1Xy5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVufSx1Xy5jbGVhcj1mdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLl9sZW49MH07dmFyIGhfPWZ1bmN0aW9uKHQpe3RoaXMudmFsdWU9dCx0aGlzLm5leHQsdGhpcy5wcmV2fSxjXz1mdW5jdGlvbih0KXt0aGlzLl9saXN0PW5ldyBsXyx0aGlzLl9tYXA9e30sdGhpcy5fbWF4U2l6ZT10fHwxMCx0aGlzLl9sYXN0UmVtb3ZlZEVudHJ5PW51bGx9LGRfPWNfLnByb3RvdHlwZTtkXy5wdXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9saXN0LG49dGhpcy5fbWFwLG89bnVsbDtpZihudWxsPT1uW3RdKXt2YXIgYT1pLmxlbigpLHI9dGhpcy5fbGFzdFJlbW92ZWRFbnRyeTtpZihhPj10aGlzLl9tYXhTaXplJiZhPjApe3ZhciBzPWkuaGVhZDtpLnJlbW92ZShzKSxkZWxldGUgbltzLmtleV0sbz1zLnZhbHVlLHRoaXMuX2xhc3RSZW1vdmVkRW50cnk9c31yP3IudmFsdWU9ZTpyPW5ldyBoXyhlKSxyLmtleT10LGkuaW5zZXJ0RW50cnkociksblt0XT1yfXJldHVybiBvfSxkXy5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwW3RdLGk9dGhpcy5fbGlzdDtpZihudWxsIT1lKXJldHVybiBlIT09aS50YWlsJiYoaS5yZW1vdmUoZSksaS5pbnNlcnRFbnRyeShlKSksZS52YWx1ZX0sZF8uY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9saXN0LmNsZWFyKCksdGhpcy5fbWFwPXt9fTt2YXIgZl89e3RyYW5zcGFyZW50OlswLDAsMCwwXSxhbGljZWJsdWU6WzI0MCwyNDgsMjU1LDFdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTUsMV0sYXF1YTpbMCwyNTUsMjU1LDFdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyLDFdLGF6dXJlOlsyNDAsMjU1LDI1NSwxXSxiZWlnZTpbMjQ1LDI0NSwyMjAsMV0sYmlzcXVlOlsyNTUsMjI4LDE5NiwxXSxibGFjazpbMCwwLDAsMV0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1LDFdLGJsdWU6WzAsMCwyNTUsMV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNiwxXSxicm93bjpbMTY1LDQyLDQyLDFdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzUsMV0sY2FkZXRibHVlOls5NSwxNTgsMTYwLDFdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMCwxXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzAsMV0sY29yYWw6WzI1NSwxMjcsODAsMV0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3LDFdLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMCwxXSxjcmltc29uOlsyMjAsMjAsNjAsMV0sY3lhbjpbMCwyNTUsMjU1LDFdLGRhcmtibHVlOlswLDAsMTM5LDFdLGRhcmtjeWFuOlswLDEzOSwxMzksMV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMSwxXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjksMV0sZGFya2dyZWVuOlswLDEwMCwwLDFdLGRhcmtncmV5OlsxNjksMTY5LDE2OSwxXSxkYXJra2hha2k6WzE4OSwxODMsMTA3LDFdLGRhcmttYWdlbnRhOlsxMzksMCwxMzksMV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0NywxXSxkYXJrb3JhbmdlOlsyNTUsMTQwLDAsMV0sZGFya29yY2hpZDpbMTUzLDUwLDIwNCwxXSxkYXJrcmVkOlsxMzksMCwwLDFdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyLDFdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDMsMV0sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5LDFdLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5LDFdLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5LDFdLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOSwxXSxkYXJrdmlvbGV0OlsxNDgsMCwyMTEsMV0sZGVlcHBpbms6WzI1NSwyMCwxNDcsMV0sZGVlcHNreWJsdWU6WzAsMTkxLDI1NSwxXSxkaW1ncmF5OlsxMDUsMTA1LDEwNSwxXSxkaW1ncmV5OlsxMDUsMTA1LDEwNSwxXSxkb2RnZXJibHVlOlszMCwxNDQsMjU1LDFdLGZpcmVicmljazpbMTc4LDM0LDM0LDFdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MCwxXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0LDFdLGZ1Y2hzaWE6WzI1NSwwLDI1NSwxXSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwLDFdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1LDFdLGdvbGQ6WzI1NSwyMTUsMCwxXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzIsMV0sZ3JheTpbMTI4LDEyOCwxMjgsMV0sZ3JlZW46WzAsMTI4LDAsMV0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDcsMV0sZ3JleTpbMTI4LDEyOCwxMjgsMV0saG9uZXlkZXc6WzI0MCwyNTUsMjQwLDFdLGhvdHBpbms6WzI1NSwxMDUsMTgwLDFdLGluZGlhbnJlZDpbMjA1LDkyLDkyLDFdLGluZGlnbzpbNzUsMCwxMzAsMV0saXZvcnk6WzI1NSwyNTUsMjQwLDFdLGtoYWtpOlsyNDAsMjMwLDE0MCwxXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTAsMV0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDUsMV0sbGF3bmdyZWVuOlsxMjQsMjUyLDAsMV0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNSwxXSxsaWdodGJsdWU6WzE3MywyMTYsMjMwLDFdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4LDFdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTUsMV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwLDFdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTEsMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDQsMV0sbGlnaHRncmV5OlsyMTEsMjExLDIxMSwxXSxsaWdodHBpbms6WzI1NSwxODIsMTkzLDFdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMiwxXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwLDFdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTAsMV0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1MywxXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjIsMV0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0LDFdLGxpbWU6WzAsMjU1LDAsMV0sbGltZWdyZWVuOls1MCwyMDUsNTAsMV0sbGluZW46WzI1MCwyNDAsMjMwLDFdLG1hZ2VudGE6WzI1NSwwLDI1NSwxXSxtYXJvb246WzEyOCwwLDAsMV0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzAsMV0sbWVkaXVtYmx1ZTpbMCwwLDIwNSwxXSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTEsMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOSwxXSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExMywxXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4LDFdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTQsMV0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0LDFdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzMywxXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMiwxXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwLDFdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjUsMV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxLDFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3MywxXSxuYXZ5OlswLDAsMTI4LDFdLG9sZGxhY2U6WzI1MywyNDUsMjMwLDFdLG9saXZlOlsxMjgsMTI4LDAsMV0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1LDFdLG9yYW5nZTpbMjU1LDE2NSwwLDFdLG9yYW5nZXJlZDpbMjU1LDY5LDAsMV0sb3JjaGlkOlsyMTgsMTEyLDIxNCwxXSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MCwxXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyLDFdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4LDFdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3LDFdLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzLDFdLHBlYWNocHVmZjpbMjU1LDIxOCwxODUsMV0scGVydTpbMjA1LDEzMyw2MywxXSxwaW5rOlsyNTUsMTkyLDIwMywxXSxwbHVtOlsyMjEsMTYwLDIyMSwxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMCwxXSxwdXJwbGU6WzEyOCwwLDEyOCwxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19LHBfPW5ldyBjXygyMCksZ189bnVsbCxtXz1OdCx2Xz1PdCx5Xz0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7cGFyc2U6QXQsbGlmdDprdCx0b0hleDpQdCxmYXN0TGVycDpOdCxmYXN0TWFwVG9Db2xvcjptXyxsZXJwOk90LG1hcFRvQ29sb3I6dl8sbW9kaWZ5SFNMOkV0LG1vZGlmeUFscGhhOnp0LHN0cmluZ2lmeTpSdH0pLHhfPUFycmF5LnByb3RvdHlwZS5zbGljZSxfXz1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLl90cmFja3M9e30sdGhpcy5fdGFyZ2V0PXQsdGhpcy5fbG9vcD1lfHwhMSx0aGlzLl9nZXR0ZXI9aXx8QnQsdGhpcy5fc2V0dGVyPW58fFZ0LHRoaXMuX2NsaXBDb3VudD0wLHRoaXMuX2RlbGF5PTAsdGhpcy5fZG9uZUxpc3Q9W10sdGhpcy5fb25mcmFtZUxpc3Q9W10sdGhpcy5fY2xpcExpc3Q9W119O19fLnByb3RvdHlwZT17d2hlbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3RyYWNrcztmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pKXtpZighaVtuXSl7aVtuXT1bXTt2YXIgbz10aGlzLl9nZXR0ZXIodGhpcy5fdGFyZ2V0LG4pO2lmKG51bGw9PW8pY29udGludWU7MCE9PXQmJmlbbl0ucHVzaCh7dGltZTowLHZhbHVlOlh0KG8pfSl9aVtuXS5wdXNoKHt0aW1lOnQsdmFsdWU6ZVtuXX0pfXJldHVybiB0aGlzfSxkdXJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29uZnJhbWVMaXN0LnB1c2godCksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX2NsaXBMaXN0Lmxlbmd0aDt0KyspdGhpcy5fY2xpcExpc3RbdF0ucGF1c2UoKTt0aGlzLl9wYXVzZWQ9ITB9LHJlc3VtZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fY2xpcExpc3QubGVuZ3RoO3QrKyl0aGlzLl9jbGlwTGlzdFt0XS5yZXN1bWUoKTt0aGlzLl9wYXVzZWQ9ITF9LGlzUGF1c2VkOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9wYXVzZWR9LF9kb25lQ2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLl90cmFja3M9e30sdGhpcy5fY2xpcExpc3QubGVuZ3RoPTA7Zm9yKHZhciB0PXRoaXMuX2RvbmVMaXN0LGU9dC5sZW5ndGgsaT0wO2k8ZTtpKyspdFtpXS5jYWxsKHRoaXMpfSxzdGFydDpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcyxvPTA7Zm9yKHZhciBhIGluIHRoaXMuX3RyYWNrcylpZih0aGlzLl90cmFja3MuaGFzT3duUHJvcGVydHkoYSkpe3ZhciByPSR0KHRoaXMsdCxmdW5jdGlvbigpey0tb3x8bi5fZG9uZUNhbGxiYWNrKCl9LHRoaXMuX3RyYWNrc1thXSxhLGUpO3ImJih0aGlzLl9jbGlwTGlzdC5wdXNoKHIpLG8rKyx0aGlzLmFuaW1hdGlvbiYmdGhpcy5hbmltYXRpb24uYWRkQ2xpcChyKSxpPXIpfWlmKGkpe3ZhciBzPWkub25mcmFtZTtpLm9uZnJhbWU9ZnVuY3Rpb24odCxlKXtzKHQsZSk7Zm9yKHZhciBpPTA7aTxuLl9vbmZyYW1lTGlzdC5sZW5ndGg7aSsrKW4uX29uZnJhbWVMaXN0W2ldKHQsZSl9fXJldHVybiBvfHx0aGlzLl9kb25lQ2FsbGJhY2soKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jbGlwTGlzdCxpPXRoaXMuYW5pbWF0aW9uLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTt0JiZvLm9uZnJhbWUodGhpcy5fdGFyZ2V0LDEpLGkmJmkucmVtb3ZlQ2xpcChvKX1lLmxlbmd0aD0wfSxkZWxheTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsYXk9dCx0aGlzfSxkb25lOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9kb25lTGlzdC5wdXNoKHQpLHRoaXN9LGdldENsaXBzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaXBMaXN0fX07dmFyIHdfPTE7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3Xz1NYXRoLm1heCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSwxKSk7dmFyIGJfPXdfLFNfPWZ1bmN0aW9uKCl7fSxNXz1TXyxJXz1mdW5jdGlvbigpe3RoaXMuYW5pbWF0b3JzPVtdfTtJXy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOklfLGFuaW1hdGU6ZnVuY3Rpb24odCxlKXt2YXIgaSxuPSExLG89dGhpcyxhPXRoaXMuX196cjtpZih0KXt2YXIgcj10LnNwbGl0KCIuIikscz1vO249InNoYXBlIj09PXJbMF07Zm9yKHZhciB1PTAsaD1yLmxlbmd0aDt1PGg7dSsrKXMmJihzPXNbclt1XV0pO3MmJihpPXMpfWVsc2UgaT1vO2lmKGkpe3ZhciBjPW8uYW5pbWF0b3JzLGQ9bmV3IF9fKGksZSk7cmV0dXJuIGQuZHVyaW5nKGZ1bmN0aW9uKHQpe28uZGlydHkobil9KS5kb25lKGZ1bmN0aW9uKCl7Yy5zcGxpY2UobChjLGQpLDEpfSksYy5wdXNoKGQpLGEmJmEuYW5pbWF0aW9uLmFkZEFuaW1hdG9yKGQpLGR9TV8oJ1Byb3BlcnR5ICInK3QrJyIgaXMgbm90IGV4aXN0ZWQgaW4gZWxlbWVudCAnK28uaWQpfSxzdG9wQW5pbWF0aW9uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmFuaW1hdG9ycyxpPWUubGVuZ3RoLG49MDtuPGk7bisrKWVbbl0uc3RvcCh0KTtyZXR1cm4gZS5sZW5ndGg9MCx0aGlzfSxhbmltYXRlVG86ZnVuY3Rpb24odCxlLGksbixvLGEpe18oaSk/KG89bixuPWksaT0wKTp4KG4pPyhvPW4sbj0ibGluZWFyIixpPTApOngoaSk/KG89aSxpPTApOngoZSk/KG89ZSxlPTUwMCk6ZXx8KGU9NTAwKSx0aGlzLnN0b3BBbmltYXRpb24oKSx0aGlzLl9hbmltYXRlVG9TaGFsbG93KCIiLHRoaXMsdCxlLGkpO3ZhciByPXRoaXMuYW5pbWF0b3JzLnNsaWNlKCkscz1yLmxlbmd0aDtzfHxvJiZvKCk7Zm9yKHZhciBsPTA7bDxyLmxlbmd0aDtsKyspcltsXS5kb25lKGZ1bmN0aW9uKCl7LS1zfHxvJiZvKCl9KS5zdGFydChuLGEpfSxfYW5pbWF0ZVRvU2hhbGxvdzpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPXt9LHI9MDtmb3IodmFyIHMgaW4gaSlpZihpLmhhc093blByb3BlcnR5KHMpKWlmKG51bGwhPWVbc10pdyhpW3NdKSYmIWMoaVtzXSk/dGhpcy5fYW5pbWF0ZVRvU2hhbGxvdyh0P3QrIi4iK3M6cyxlW3NdLGlbc10sbixvKTooYVtzXT1pW3NdLHIrKyk7ZWxzZSBpZihudWxsIT1pW3NdKWlmKHQpe3ZhciBsPXt9O2xbdF09e30sbFt0XVtzXT1pW3NdLHRoaXMuYXR0cihsKX1lbHNlIHRoaXMuYXR0cihzLGlbc10pO3JldHVybiByPjAmJnRoaXMuYW5pbWF0ZSh0LCExKS53aGVuKG51bGw9PW4/NTAwOm4sYSkuZGVsYXkob3x8MCksdGhpc319O3ZhciBEXz1mdW5jdGlvbih0KXtvXy5jYWxsKHRoaXMsdCksJHguY2FsbCh0aGlzLHQpLElfLmNhbGwodGhpcyx0KSx0aGlzLmlkPXQuaWR8fER4KCl9O0RfLnByb3RvdHlwZT17dHlwZToiZWxlbWVudCIsbmFtZToiIixfX3pyOm51bGwsaWdub3JlOiExLGNsaXBQYXRoOm51bGwsaXNHcm91cDohMSxkcmlmdDpmdW5jdGlvbih0LGUpe3N3aXRjaCh0aGlzLmRyYWdnYWJsZSl7Y2FzZSJob3Jpem9udGFsIjplPTA7YnJlYWs7Y2FzZSJ2ZXJ0aWNhbCI6dD0wfXZhciBpPXRoaXMudHJhbnNmb3JtO2l8fChpPXRoaXMudHJhbnNmb3JtPVsxLDAsMCwxLDAsMF0pLGlbNF0rPXQsaVs1XSs9ZSx0aGlzLmRlY29tcG9zZVRyYW5zZm9ybSgpLHRoaXMuZGlydHkoITEpfSxiZWZvcmVVcGRhdGU6ZnVuY3Rpb24oKXt9LGFmdGVyVXBkYXRlOmZ1bmN0aW9uKCl7fSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpfSx0cmF2ZXJzZTpmdW5jdGlvbih0LGUpe30sYXR0cktWOmZ1bmN0aW9uKHQsZSl7aWYoInBvc2l0aW9uIj09PXR8fCJzY2FsZSI9PT10fHwib3JpZ2luIj09PXQpe2lmKGUpe3ZhciBpPXRoaXNbdF07aXx8KGk9dGhpc1t0XT1bXSksaVswXT1lWzBdLGlbMV09ZVsxXX19ZWxzZSB0aGlzW3RdPWV9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZT0hMCx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZT0hMSx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCl9LGF0dHI6ZnVuY3Rpb24odCxlKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdGhpcy5hdHRyS1YodCxlKTtlbHNlIGlmKHcodCkpZm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5hdHRyS1YoaSx0W2ldKTtyZXR1cm4gdGhpcy5kaXJ0eSghMSksdGhpc30sc2V0Q2xpcFBhdGg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyO2UmJnQuYWRkU2VsZlRvWnIoZSksdGhpcy5jbGlwUGF0aCYmdGhpcy5jbGlwUGF0aCE9PXQmJnRoaXMucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLmNsaXBQYXRoPXQsdC5fX3pyPWUsdC5fX2NsaXBUYXJnZXQ9dGhpcyx0aGlzLmRpcnR5KCExKX0scmVtb3ZlQ2xpcFBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNsaXBQYXRoO3QmJih0Ll9fenImJnQucmVtb3ZlU2VsZkZyb21acih0Ll9fenIpLHQuX196cj1udWxsLHQuX19jbGlwVGFyZ2V0PW51bGwsdGhpcy5jbGlwUGF0aD1udWxsLHRoaXMuZGlydHkoITEpKX0sYWRkU2VsZlRvWnI6ZnVuY3Rpb24odCl7dGhpcy5fX3pyPXQ7dmFyIGU9dGhpcy5hbmltYXRvcnM7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LmFuaW1hdGlvbi5hZGRBbmltYXRvcihlW2ldKTt0aGlzLmNsaXBQYXRoJiZ0aGlzLmNsaXBQYXRoLmFkZFNlbGZUb1pyKHQpfSxyZW1vdmVTZWxmRnJvbVpyOmZ1bmN0aW9uKHQpe3RoaXMuX196cj1udWxsO3ZhciBlPXRoaXMuYW5pbWF0b3JzO2lmKGUpZm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspdC5hbmltYXRpb24ucmVtb3ZlQW5pbWF0b3IoZVtpXSk7dGhpcy5jbGlwUGF0aCYmdGhpcy5jbGlwUGF0aC5yZW1vdmVTZWxmRnJvbVpyKHQpfX0saChEXyxJXyksaChEXyxvXyksaChEXywkeCk7dmFyIFRfPVEsQV89TWF0aC5taW4sQ189TWF0aC5tYXg7S3QucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpLdCx1bmlvbjpmdW5jdGlvbih0KXt2YXIgZT1BXyh0LngsdGhpcy54KSxpPUFfKHQueSx0aGlzLnkpO3RoaXMud2lkdGg9Q18odC54K3Qud2lkdGgsdGhpcy54K3RoaXMud2lkdGgpLWUsdGhpcy5oZWlnaHQ9Q18odC55K3QuaGVpZ2h0LHRoaXMueSt0aGlzLmhlaWdodCktaSx0aGlzLng9ZSx0aGlzLnk9aX0sYXBwbHlUcmFuc2Zvcm06ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPVtdLGk9W10sbj1bXTtyZXR1cm4gZnVuY3Rpb24obyl7aWYobyl7dFswXT1pWzBdPXRoaXMueCx0WzFdPW5bMV09dGhpcy55LGVbMF09blswXT10aGlzLngrdGhpcy53aWR0aCxlWzFdPWlbMV09dGhpcy55K3RoaXMuaGVpZ2h0LFRfKHQsdCxvKSxUXyhlLGUsbyksVF8oaSxpLG8pLFRfKG4sbixvKSx0aGlzLng9QV8odFswXSxlWzBdLGlbMF0sblswXSksdGhpcy55PUFfKHRbMV0sZVsxXSxpWzFdLG5bMV0pO3ZhciBhPUNfKHRbMF0sZVswXSxpWzBdLG5bMF0pLHI9Q18odFsxXSxlWzFdLGlbMV0sblsxXSk7dGhpcy53aWR0aD1hLXRoaXMueCx0aGlzLmhlaWdodD1yLXRoaXMueX19fSgpLGNhbGN1bGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dC53aWR0aC9lLndpZHRoLG49dC5oZWlnaHQvZS5oZWlnaHQsbz1zdCgpO3JldHVybiBjdChvLG8sWy1lLngsLWUueV0pLGZ0KG8sbyxbaSxuXSksY3QobyxvLFt0LngsdC55XSksb30saW50ZXJzZWN0OmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO3QgaW5zdGFuY2VvZiBLdHx8KHQ9S3QuY3JlYXRlKHQpKTt2YXIgZT10aGlzLGk9ZS54LG49ZS54K2Uud2lkdGgsbz1lLnksYT1lLnkrZS5oZWlnaHQscj10Lngscz10LngrdC53aWR0aCxsPXQueSx1PXQueSt0LmhlaWdodDtyZXR1cm4hKG48cnx8czxpfHxhPGx8fHU8byl9LGNvbnRhaW46ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3JldHVybiB0Pj1pLngmJnQ8PWkueCtpLndpZHRoJiZlPj1pLnkmJmU8PWkueStpLmhlaWdodH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEt0KHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGNvcHk6ZnVuY3Rpb24odCl7dGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodH0scGxhaW46ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLngseTp0aGlzLnksd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9fX0sS3QuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgS3QodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX07dmFyIExfPWZ1bmN0aW9uKHQpe3Q9dHx8e30sRF8uY2FsbCh0aGlzLHQpO2Zvcih2YXIgZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzW2VdPXRbZV0pO3RoaXMuX2NoaWxkcmVuPVtdLHRoaXMuX19zdG9yYWdlPW51bGwsdGhpcy5fX2RpcnR5PSEwfTtMXy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxfLGlzR3JvdXA6ITAsdHlwZToiZ3JvdXAiLHNpbGVudDohMSxjaGlsZHJlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5zbGljZSgpfSxjaGlsZEF0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlblt0XX0sY2hpbGRPZk5hbWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NoaWxkcmVuLGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldLm5hbWU9PT10KXJldHVybiBlW2ldfSxjaGlsZENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiYodGhpcy5fY2hpbGRyZW4ucHVzaCh0KSx0aGlzLl9kb0FkZCh0KSksdGhpc30sYWRkQmVmb3JlOmZ1bmN0aW9uKHQsZSl7aWYodCYmdCE9PXRoaXMmJnQucGFyZW50IT09dGhpcyYmZSYmZS5wYXJlbnQ9PT10aGlzKXt2YXIgaT10aGlzLl9jaGlsZHJlbixuPWkuaW5kZXhPZihlKTtuPj0wJiYoaS5zcGxpY2UobiwwLHQpLHRoaXMuX2RvQWRkKHQpKX1yZXR1cm4gdGhpc30sX2RvQWRkOmZ1bmN0aW9uKHQpe3QucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCksdC5wYXJlbnQ9dGhpczt2YXIgZT10aGlzLl9fc3RvcmFnZSxpPXRoaXMuX196cjtlJiZlIT09dC5fX3N0b3JhZ2UmJihlLmFkZFRvU3RvcmFnZSh0KSx0IGluc3RhbmNlb2YgTF8mJnQuYWRkQ2hpbGRyZW5Ub1N0b3JhZ2UoZSkpLGkmJmkucmVmcmVzaCgpfSxyZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyLGk9dGhpcy5fX3N0b3JhZ2Usbj10aGlzLl9jaGlsZHJlbixvPWwobix0KTtyZXR1cm4gbzwwP3RoaXM6KG4uc3BsaWNlKG8sMSksdC5wYXJlbnQ9bnVsbCxpJiYoaS5kZWxGcm9tU3RvcmFnZSh0KSx0IGluc3RhbmNlb2YgTF8mJnQuZGVsQ2hpbGRyZW5Gcm9tU3RvcmFnZShpKSksZSYmZS5yZWZyZXNoKCksdGhpcyl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLl9jaGlsZHJlbixuPXRoaXMuX19zdG9yYWdlO2ZvcihlPTA7ZTxpLmxlbmd0aDtlKyspdD1pW2VdLG4mJihuLmRlbEZyb21TdG9yYWdlKHQpLHQgaW5zdGFuY2VvZiBMXyYmdC5kZWxDaGlsZHJlbkZyb21TdG9yYWdlKG4pKSx0LnBhcmVudD1udWxsO3JldHVybiBpLmxlbmd0aD0wLHRoaXN9LGVhY2hDaGlsZDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLl9jaGlsZHJlbixuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPWlbbl07dC5jYWxsKGUsbyxuKX1yZXR1cm4gdGhpc30sdHJhdmVyc2U6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuX2NoaWxkcmVuW2ldO3QuY2FsbChlLG4pLCJncm91cCI9PT1uLnR5cGUmJm4udHJhdmVyc2UodCxlKX1yZXR1cm4gdGhpc30sYWRkQ2hpbGRyZW5Ub1N0b3JhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLl9jaGlsZHJlbltlXTt0LmFkZFRvU3RvcmFnZShpKSxpIGluc3RhbmNlb2YgTF8mJmkuYWRkQ2hpbGRyZW5Ub1N0b3JhZ2UodCl9fSxkZWxDaGlsZHJlbkZyb21TdG9yYWdlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5fY2hpbGRyZW5bZV07dC5kZWxGcm9tU3RvcmFnZShpKSxpIGluc3RhbmNlb2YgTF8mJmkuZGVsQ2hpbGRyZW5Gcm9tU3RvcmFnZSh0KX19LGRpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19kaXJ0eT0hMCx0aGlzLl9fenImJnRoaXMuX196ci5yZWZyZXNoKCksdGhpc30sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLGk9bmV3IEt0KDAsMCwwLDApLG49dHx8dGhpcy5fY2hpbGRyZW4sbz1bXSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciByPW5bYV07aWYoIXIuaWdub3JlJiYhci5pbnZpc2libGUpe3ZhciBzPXIuZ2V0Qm91bmRpbmdSZWN0KCksbD1yLmdldExvY2FsVHJhbnNmb3JtKG8pO2w/KGkuY29weShzKSxpLmFwcGx5VHJhbnNmb3JtKGwpLChlPWV8fGkuY2xvbmUoKSkudW5pb24oaSkpOihlPWV8fHMuY2xvbmUoKSkudW5pb24ocyl9fXJldHVybiBlfHxpfX0sdShMXyxEXyk7dmFyIGtfPTMyLFBfPTcsTl89ZnVuY3Rpb24oKXt0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx0aGlzLl9kaXNwbGF5TGlzdExlbj0wfTtOXy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk5fLHRyYXZlcnNlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTA7aTx0aGlzLl9yb290cy5sZW5ndGg7aSsrKXRoaXMuX3Jvb3RzW2ldLnRyYXZlcnNlKHQsZSl9LGdldERpc3BsYXlMaXN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8ITEsdCYmdGhpcy51cGRhdGVEaXNwbGF5TGlzdChlKSx0aGlzLl9kaXNwbGF5TGlzdH0sdXBkYXRlRGlzcGxheUxpc3Q6ZnVuY3Rpb24odCl7dGhpcy5fZGlzcGxheUxpc3RMZW49MDtmb3IodmFyIGU9dGhpcy5fcm9vdHMsaT10aGlzLl9kaXNwbGF5TGlzdCxuPTAsbz1lLmxlbmd0aDtuPG87bisrKXRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGVbbl0sbnVsbCx0KTtpLmxlbmd0aD10aGlzLl9kaXNwbGF5TGlzdExlbixBeC5jYW52YXNTdXBwb3J0ZWQmJmFlKGkscmUpfSxfdXBkYXRlQW5kQWRkRGlzcGxheWFibGU6ZnVuY3Rpb24odCxlLGkpe2lmKCF0Lmlnbm9yZXx8aSl7dC5iZWZvcmVVcGRhdGUoKSx0Ll9fZGlydHkmJnQudXBkYXRlKCksdC5hZnRlclVwZGF0ZSgpO3ZhciBuPXQuY2xpcFBhdGg7aWYobil7ZT1lP2Uuc2xpY2UoKTpbXTtmb3IodmFyIG89bixhPXQ7bzspby5wYXJlbnQ9YSxvLnVwZGF0ZVRyYW5zZm9ybSgpLGUucHVzaChvKSxhPW8sbz1vLmNsaXBQYXRofWlmKHQuaXNHcm91cCl7Zm9yKHZhciByPXQuX2NoaWxkcmVuLHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIGw9cltzXTt0Ll9fZGlydHkmJihsLl9fZGlydHk9ITApLHRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGwsZSxpKX10Ll9fZGlydHk9ITF9ZWxzZSB0Ll9fY2xpcFBhdGhzPWUsdGhpcy5fZGlzcGxheUxpc3RbdGhpcy5fZGlzcGxheUxpc3RMZW4rK109dH19LGFkZFJvb3Q6ZnVuY3Rpb24odCl7dC5fX3N0b3JhZ2UhPT10aGlzJiYodCBpbnN0YW5jZW9mIExfJiZ0LmFkZENoaWxkcmVuVG9TdG9yYWdlKHRoaXMpLHRoaXMuYWRkVG9TdG9yYWdlKHQpLHRoaXMuX3Jvb3RzLnB1c2godCkpfSxkZWxSb290OmZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpe2ZvcihpPTA7aTx0aGlzLl9yb290cy5sZW5ndGg7aSsrKXt2YXIgZT10aGlzLl9yb290c1tpXTtlIGluc3RhbmNlb2YgTF8mJmUuZGVsQ2hpbGRyZW5Gcm9tU3RvcmFnZSh0aGlzKX1yZXR1cm4gdGhpcy5fcm9vdHM9W10sdGhpcy5fZGlzcGxheUxpc3Q9W10sdm9pZCh0aGlzLl9kaXNwbGF5TGlzdExlbj0wKX1pZih0IGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBpPTAsbj10Lmxlbmd0aDtpPG47aSsrKXRoaXMuZGVsUm9vdCh0W2ldKTtlbHNle3ZhciBvPWwodGhpcy5fcm9vdHMsdCk7bz49MCYmKHRoaXMuZGVsRnJvbVN0b3JhZ2UodCksdGhpcy5fcm9vdHMuc3BsaWNlKG8sMSksdCBpbnN0YW5jZW9mIExfJiZ0LmRlbENoaWxkcmVuRnJvbVN0b3JhZ2UodGhpcykpfX0sYWRkVG9TdG9yYWdlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5fX3N0b3JhZ2U9dGhpcyx0LmRpcnR5KCExKSksdGhpc30sZGVsRnJvbVN0b3JhZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0Ll9fc3RvcmFnZT1udWxsKSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyTGlzdD10aGlzLl9yb290cz1udWxsfSxkaXNwbGF5YWJsZVNvcnRGdW5jOnJlfTt2YXIgT189e3NoYWRvd0JsdXI6MSxzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToxLHRleHRTaGFkb3dCbHVyOjEsdGV4dFNoYWRvd09mZnNldFg6MSx0ZXh0U2hhZG93T2Zmc2V0WToxLHRleHRCb3hTaGFkb3dCbHVyOjEsdGV4dEJveFNoYWRvd09mZnNldFg6MSx0ZXh0Qm94U2hhZG93T2Zmc2V0WToxfSxFXz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIE9fLmhhc093blByb3BlcnR5KGUpP2kqPXQuZHByOml9LHpfPVtbInNoYWRvd0JsdXIiLDBdLFsic2hhZG93T2Zmc2V0WCIsMF0sWyJzaGFkb3dPZmZzZXRZIiwwXSxbInNoYWRvd0NvbG9yIiwiIzAwMCJdLFsibGluZUNhcCIsImJ1dHQiXSxbImxpbmVKb2luIiwibWl0ZXIiXSxbIm1pdGVyTGltaXQiLDEwXV0sUl89ZnVuY3Rpb24odCxlKXt0aGlzLmV4dGVuZEZyb20odCwhMSksdGhpcy5ob3N0PWV9O1JfLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Ul8saG9zdDpudWxsLGZpbGw6IiMwMDAiLHN0cm9rZTpudWxsLG9wYWNpdHk6MSxsaW5lRGFzaDpudWxsLGxpbmVEYXNoT2Zmc2V0OjAsc2hhZG93Qmx1cjowLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsbGluZVdpZHRoOjEsc3Ryb2tlTm9TY2FsZTohMSx0ZXh0Om51bGwsZm9udDpudWxsLHRleHRGb250Om51bGwsZm9udFN0eWxlOm51bGwsZm9udFdlaWdodDpudWxsLGZvbnRTaXplOm51bGwsZm9udEZhbWlseTpudWxsLHRleHRUYWc6bnVsbCx0ZXh0RmlsbDoiIzAwMCIsdGV4dFN0cm9rZTpudWxsLHRleHRXaWR0aDpudWxsLHRleHRIZWlnaHQ6bnVsbCx0ZXh0U3Ryb2tlV2lkdGg6MCx0ZXh0TGluZUhlaWdodDpudWxsLHRleHRQb3NpdGlvbjoiaW5zaWRlIix0ZXh0UmVjdDpudWxsLHRleHRPZmZzZXQ6bnVsbCx0ZXh0QWxpZ246bnVsbCx0ZXh0VmVydGljYWxBbGlnbjpudWxsLHRleHREaXN0YW5jZTo1LHRleHRTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLHRleHRTaGFkb3dCbHVyOjAsdGV4dFNoYWRvd09mZnNldFg6MCx0ZXh0U2hhZG93T2Zmc2V0WTowLHRleHRCb3hTaGFkb3dDb2xvcjoidHJhbnNwYXJlbnQiLHRleHRCb3hTaGFkb3dCbHVyOjAsdGV4dEJveFNoYWRvd09mZnNldFg6MCx0ZXh0Qm94U2hhZG93T2Zmc2V0WTowLHRyYW5zZm9ybVRleHQ6ITEsdGV4dFJvdGF0aW9uOjAsdGV4dE9yaWdpbjpudWxsLHRleHRCYWNrZ3JvdW5kQ29sb3I6bnVsbCx0ZXh0Qm9yZGVyQ29sb3I6bnVsbCx0ZXh0Qm9yZGVyV2lkdGg6MCx0ZXh0Qm9yZGVyUmFkaXVzOjAsdGV4dFBhZGRpbmc6bnVsbCxyaWNoOm51bGwsdHJ1bmNhdGU6bnVsbCxibGVuZDpudWxsLGJpbmQ6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10aGlzLG89aSYmaS5zdHlsZSxhPSFvLHI9MDtyPHpfLmxlbmd0aDtyKyspe3ZhciBzPXpfW3JdLGw9c1swXTsoYXx8bltsXSE9PW9bbF0pJiYodFtsXT1FXyh0LGwsbltsXXx8c1sxXSkpfWlmKChhfHxuLmZpbGwhPT1vLmZpbGwpJiYodC5maWxsU3R5bGU9bi5maWxsKSwoYXx8bi5zdHJva2UhPT1vLnN0cm9rZSkmJih0LnN0cm9rZVN0eWxlPW4uc3Ryb2tlKSwoYXx8bi5vcGFjaXR5IT09by5vcGFjaXR5KSYmKHQuZ2xvYmFsQWxwaGE9bnVsbD09bi5vcGFjaXR5PzE6bi5vcGFjaXR5KSwoYXx8bi5ibGVuZCE9PW8uYmxlbmQpJiYodC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249bi5ibGVuZHx8InNvdXJjZS1vdmVyIiksdGhpcy5oYXNTdHJva2UoKSl7dmFyIHU9bi5saW5lV2lkdGg7dC5saW5lV2lkdGg9dS8odGhpcy5zdHJva2VOb1NjYWxlJiZlJiZlLmdldExpbmVTY2FsZT9lLmdldExpbmVTY2FsZSgpOjEpfX0saGFzRmlsbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZmlsbDtyZXR1cm4gbnVsbCE9dCYmIm5vbmUiIT09dH0saGFzU3Ryb2tlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHJva2U7cmV0dXJuIG51bGwhPXQmJiJub25lIiE9PXQmJnRoaXMubGluZVdpZHRoPjB9LGV4dGVuZEZyb206ZnVuY3Rpb24odCxlKXtpZih0KWZvcih2YXIgaSBpbiB0KSF0Lmhhc093blByb3BlcnR5KGkpfHwhMCE9PWUmJighMT09PWU/dGhpcy5oYXNPd25Qcm9wZXJ0eShpKTpudWxsPT10W2ldKXx8KHRoaXNbaV09dFtpXSl9LHNldDpmdW5jdGlvbih0LGUpeyJzdHJpbmciPT10eXBlb2YgdD90aGlzW3RdPWU6dGhpcy5leHRlbmRGcm9tKHQsITApfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0LmV4dGVuZEZyb20odGhpcywhMCksdH0sZ2V0R3JhZGllbnQ6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj0oInJhZGlhbCI9PT1lLnR5cGU/bGU6c2UpKHQsZSxpKSxvPWUuY29sb3JTdG9wcyxhPTA7YTxvLmxlbmd0aDthKyspbi5hZGRDb2xvclN0b3Aob1thXS5vZmZzZXQsb1thXS5jb2xvcik7cmV0dXJuIG59fTtmb3IodmFyIEJfPVJfLnByb3RvdHlwZSxWXz0wO1ZfPHpfLmxlbmd0aDtWXysrKXt2YXIgR189el9bVl9dO0dfWzBdaW4gQl98fChCX1tHX1swXV09R19bMV0pfVJfLmdldEdyYWRpZW50PUJfLmdldEdyYWRpZW50O3ZhciBGXz1mdW5jdGlvbih0LGUpe3RoaXMuaW1hZ2U9dCx0aGlzLnJlcGVhdD1lLHRoaXMudHlwZT0icGF0dGVybiJ9O0ZfLnByb3RvdHlwZS5nZXRDYW52YXNQYXR0ZXJuPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNyZWF0ZVBhdHRlcm4odGhpcy5pbWFnZSx0aGlzLnJlcGVhdHx8InJlcGVhdCIpfTt2YXIgV189ZnVuY3Rpb24odCxlLGkpe3ZhciBuO2k9aXx8Yl8sInN0cmluZyI9PXR5cGVvZiB0P249aGUodCxlLGkpOncodCkmJih0PShuPXQpLmlkKSx0aGlzLmlkPXQsdGhpcy5kb209bjt2YXIgbz1uLnN0eWxlO28mJihuLm9uc2VsZWN0c3RhcnQ9dWUsb1siLXdlYmtpdC11c2VyLXNlbGVjdCJdPSJub25lIixvWyJ1c2VyLXNlbGVjdCJdPSJub25lIixvWyItd2Via2l0LXRvdWNoLWNhbGxvdXQiXT0ibm9uZSIsb1siLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yIl09InJnYmEoMCwwLDAsMCkiLG8ucGFkZGluZz0wLG8ubWFyZ2luPTAsb1siYm9yZGVyLXdpZHRoIl09MCksdGhpcy5kb21CYWNrPW51bGwsdGhpcy5jdHhCYWNrPW51bGwsdGhpcy5wYWludGVyPWUsdGhpcy5jb25maWc9bnVsbCx0aGlzLmNsZWFyQ29sb3I9MCx0aGlzLm1vdGlvbkJsdXI9ITEsdGhpcy5sYXN0RnJhbWVBbHBoYT0uNyx0aGlzLmRwcj1pfTtXXy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOldfLF9fZGlydHk6ITAsX191c2VkOiExLF9fZHJhd0luZGV4OjAsX19zdGFydEluZGV4OjAsX19lbmRJbmRleDowLGluY3JlbWVudGFsOiExLGdldEVsZW1lbnRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZW5kSW5kZXgtdGhpcy5fX3N0YXJ0SW5kZXh9LGluaXRDb250ZXh0OmZ1bmN0aW9uKCl7dGhpcy5jdHg9dGhpcy5kb20uZ2V0Q29udGV4dCgiMmQiKSx0aGlzLmN0eC5kcHI9dGhpcy5kcHJ9LGNyZWF0ZUJhY2tCdWZmZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRwcjt0aGlzLmRvbUJhY2s9aGUoImJhY2stIit0aGlzLmlkLHRoaXMucGFpbnRlcix0KSx0aGlzLmN0eEJhY2s9dGhpcy5kb21CYWNrLmdldENvbnRleHQoIjJkIiksMSE9dCYmdGhpcy5jdHhCYWNrLnNjYWxlKHQsdCl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZHByLG49dGhpcy5kb20sbz1uLnN0eWxlLGE9dGhpcy5kb21CYWNrO28mJihvLndpZHRoPXQrInB4IixvLmhlaWdodD1lKyJweCIpLG4ud2lkdGg9dCppLG4uaGVpZ2h0PWUqaSxhJiYoYS53aWR0aD10KmksYS5oZWlnaHQ9ZSppLDEhPWkmJnRoaXMuY3R4QmFjay5zY2FsZShpLGkpKX0sY2xlYXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmRvbSxuPXRoaXMuY3R4LG89aS53aWR0aCxhPWkuaGVpZ2h0LGU9ZXx8dGhpcy5jbGVhckNvbG9yLHI9dGhpcy5tb3Rpb25CbHVyJiYhdCxzPXRoaXMubGFzdEZyYW1lQWxwaGEsbD10aGlzLmRwcjtpZihyJiYodGhpcy5kb21CYWNrfHx0aGlzLmNyZWF0ZUJhY2tCdWZmZXIoKSx0aGlzLmN0eEJhY2suZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJjb3B5Iix0aGlzLmN0eEJhY2suZHJhd0ltYWdlKGksMCwwLG8vbCxhL2wpKSxuLmNsZWFyUmVjdCgwLDAsbyxhKSxlJiYidHJhbnNwYXJlbnQiIT09ZSl7dmFyIHU7ZS5jb2xvclN0b3BzPyh1PWUuX19jYW52YXNHcmFkaWVudHx8Ul8uZ2V0R3JhZGllbnQobixlLHt4OjAseTowLHdpZHRoOm8saGVpZ2h0OmF9KSxlLl9fY2FudmFzR3JhZGllbnQ9dSk6ZS5pbWFnZSYmKHU9Rl8ucHJvdG90eXBlLmdldENhbnZhc1BhdHRlcm4uY2FsbChlLG4pKSxuLnNhdmUoKSxuLmZpbGxTdHlsZT11fHxlLG4uZmlsbFJlY3QoMCwwLG8sYSksbi5yZXN0b3JlKCl9aWYocil7dmFyIGg9dGhpcy5kb21CYWNrO24uc2F2ZSgpLG4uZ2xvYmFsQWxwaGE9cyxuLmRyYXdJbWFnZShoLDAsMCxvLGEpLG4ucmVzdG9yZSgpfX19O3ZhciBIXz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJndpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyl8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpfHxmdW5jdGlvbih0KXtzZXRUaW1lb3V0KHQsMTYpfSxaXz1uZXcgY18oNTApLFVfPXt9LGpfPTAsWF89NWUzLFlfPS9ceyhbYS16QS1aMC05X10rKVx8KFtefV0qKVx9L2cscV89IjEycHggc2Fucy1zZXJpZiIsJF89e307JF8ubWVhc3VyZVRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1zKCk7cmV0dXJuIGkuZm9udD1lfHxxXyxpLm1lYXN1cmVUZXh0KHQpfTt2YXIgS189e2xlZnQ6MSxyaWdodDoxLGNlbnRlcjoxfSxKXz17dG9wOjEsYm90dG9tOjEsbWlkZGxlOjF9LFFfPW5ldyBLdCx0dz1mdW5jdGlvbigpe307dHcucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp0dyxkcmF3UmVjdFRleHQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnN0eWxlO2U9aS50ZXh0UmVjdHx8ZSx0aGlzLl9fZGlydHkmJk5lKGkpO3ZhciBuPWkudGV4dDtpZihudWxsIT1uJiYobis9IiIpLCRlKG4saSkpe3Quc2F2ZSgpO3ZhciBvPXRoaXMudHJhbnNmb3JtO2kudHJhbnNmb3JtVGV4dD90aGlzLnNldFRyYW5zZm9ybSh0KTpvJiYoUV8uY29weShlKSxRXy5hcHBseVRyYW5zZm9ybShvKSxlPVFfKSxFZSh0aGlzLHQsbixpLGUpLHQucmVzdG9yZSgpfX19LEtlLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsdHlwZToiZGlzcGxheWFibGUiLF9fZGlydHk6ITAsaW52aXNpYmxlOiExLHo6MCx6MjowLHpsZXZlbDowLGRyYWdnYWJsZTohMSxkcmFnZ2luZzohMSxzaWxlbnQ6ITEsY3VsbGluZzohMSxjdXJzb3I6InBvaW50ZXIiLHJlY3RIb3ZlcjohMSxwcm9ncmVzc2l2ZTohMSxpbmNyZW1lbnRhbDohMSxpbnBsYWNlOiExLGJlZm9yZUJydXNoOmZ1bmN0aW9uKHQpe30sYWZ0ZXJCcnVzaDpmdW5jdGlvbih0KXt9LGJydXNoOmZ1bmN0aW9uKHQsZSl7fSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXt9LGNvbnRhaW46ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWN0Q29udGFpbih0LGUpfSx0cmF2ZXJzZTpmdW5jdGlvbih0LGUpe3QuY2FsbChlLHRoaXMpfSxyZWN0Q29udGFpbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSk7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkuY29udGFpbihpWzBdLGlbMV0pfSxkaXJ0eTpmdW5jdGlvbigpe3RoaXMuX19kaXJ0eT0hMCx0aGlzLl9yZWN0PW51bGwsdGhpcy5fX3pyJiZ0aGlzLl9fenIucmVmcmVzaCgpfSxhbmltYXRlU3R5bGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5pbWF0ZSgic3R5bGUiLHQpfSxhdHRyS1Y6ZnVuY3Rpb24odCxlKXsic3R5bGUiIT09dD9EXy5wcm90b3R5cGUuYXR0cktWLmNhbGwodGhpcyx0LGUpOnRoaXMuc3R5bGUuc2V0KGUpfSxzZXRTdHlsZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLnNldCh0LGUpLHRoaXMuZGlydHkoITEpLHRoaXN9LHVzZVN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlPW5ldyBSXyh0LHRoaXMpLHRoaXMuZGlydHkoITEpLHRoaXN9fSx1KEtlLERfKSxoKEtlLHR3KSxKZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkplLHR5cGU6ImltYWdlIixicnVzaDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuc3R5bGUsbj1pLmltYWdlO2kuYmluZCh0LHRoaXMsZSk7dmFyIG89dGhpcy5faW1hZ2U9ZGUobix0aGlzLl9pbWFnZSx0aGlzLHRoaXMub25sb2FkKTtpZihvJiZwZShvKSl7dmFyIGE9aS54fHwwLHI9aS55fHwwLHM9aS53aWR0aCxsPWkuaGVpZ2h0LHU9by53aWR0aC9vLmhlaWdodDtpZihudWxsPT1zJiZudWxsIT1sP3M9bCp1Om51bGw9PWwmJm51bGwhPXM/bD1zL3U6bnVsbD09cyYmbnVsbD09bCYmKHM9by53aWR0aCxsPW8uaGVpZ2h0KSx0aGlzLnNldFRyYW5zZm9ybSh0KSxpLnNXaWR0aCYmaS5zSGVpZ2h0KXt2YXIgaD1pLnN4fHwwLGM9aS5zeXx8MDt0LmRyYXdJbWFnZShvLGgsYyxpLnNXaWR0aCxpLnNIZWlnaHQsYSxyLHMsbCl9ZWxzZSBpZihpLnN4JiZpLnN5KXt2YXIgZD1zLShoPWkuc3gpLGY9bC0oYz1pLnN5KTt0LmRyYXdJbWFnZShvLGgsYyxkLGYsYSxyLHMsbCl9ZWxzZSB0LmRyYXdJbWFnZShvLGEscixzLGwpO251bGwhPWkudGV4dCYmKHRoaXMucmVzdG9yZVRyYW5zZm9ybSh0KSx0aGlzLmRyYXdSZWN0VGV4dCh0LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkpKX19LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGU7cmV0dXJuIHRoaXMuX3JlY3R8fCh0aGlzLl9yZWN0PW5ldyBLdCh0Lnh8fDAsdC55fHwwLHQud2lkdGh8fDAsdC5oZWlnaHR8fDApKSx0aGlzLl9yZWN0fX0sdShKZSxLZSk7dmFyIGV3PW5ldyBLdCgwLDAsMCwwKSxpdz1uZXcgS3QoMCwwLDAsMCksbnc9ZnVuY3Rpb24odCxlLGkpe3RoaXMudHlwZT0iY2FudmFzIjt2YXIgbj0hdC5ub2RlTmFtZXx8IkNBTlZBUyI9PT10Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7dGhpcy5fb3B0cz1pPWEoe30saXx8e30pLHRoaXMuZHByPWkuZGV2aWNlUGl4ZWxSYXRpb3x8Yl8sdGhpcy5fc2luZ2xlQ2FudmFzPW4sdGhpcy5yb290PXQ7dmFyIG89dC5zdHlsZTtvJiYob1siLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yIl09InRyYW5zcGFyZW50IixvWyItd2Via2l0LXVzZXItc2VsZWN0Il09b1sidXNlci1zZWxlY3QiXT1vWyItd2Via2l0LXRvdWNoLWNhbGxvdXQiXT0ibm9uZSIsdC5pbm5lckhUTUw9IiIpLHRoaXMuc3RvcmFnZT1lO3ZhciByPXRoaXMuX3psZXZlbExpc3Q9W10scz10aGlzLl9sYXllcnM9e307aWYodGhpcy5fbGF5ZXJDb25maWc9e30sdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nPSExLG4pe3ZhciBsPXQud2lkdGgsdT10LmhlaWdodDtudWxsIT1pLndpZHRoJiYobD1pLndpZHRoKSxudWxsIT1pLmhlaWdodCYmKHU9aS5oZWlnaHQpLHRoaXMuZHByPWkuZGV2aWNlUGl4ZWxSYXRpb3x8MSx0LndpZHRoPWwqdGhpcy5kcHIsdC5oZWlnaHQ9dSp0aGlzLmRwcix0aGlzLl93aWR0aD1sLHRoaXMuX2hlaWdodD11O3ZhciBoPW5ldyBXXyh0LHRoaXMsdGhpcy5kcHIpO2guX19idWlsdGluX189ITAsaC5pbml0Q29udGV4dCgpLHNbMzE0MTU5XT1oLHIucHVzaCgzMTQxNTkpLHRoaXMuX2RvbVJvb3Q9dH1lbHNle3RoaXMuX3dpZHRoPXRoaXMuX2dldFNpemUoMCksdGhpcy5faGVpZ2h0PXRoaXMuX2dldFNpemUoMSk7dmFyIGM9dGhpcy5fZG9tUm9vdD1vaSh0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpO3QuYXBwZW5kQ2hpbGQoYyl9dGhpcy5faG92ZXJsYXllcj1udWxsLHRoaXMuX2hvdmVyRWxlbWVudHM9W119O253LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bncsZ2V0VHlwZTpmdW5jdGlvbigpe3JldHVybiJjYW52YXMifSxpc1NpbmdsZUNhbnZhczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5nbGVDYW52YXN9LGdldFZpZXdwb3J0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb21Sb290fSxnZXRWaWV3cG9ydFJvb3RPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHJlZnJlc2g6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxpPXRoaXMuX3psZXZlbExpc3Q7dGhpcy5fcmVkcmF3SWQ9TWF0aC5yYW5kb20oKSx0aGlzLl9wYWludExpc3QoZSx0LHRoaXMuX3JlZHJhd0lkKTtmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXSxhPXRoaXMuX2xheWVyc1tvXTtpZighYS5fX2J1aWx0aW5fXyYmYS5yZWZyZXNoKXt2YXIgcj0wPT09bj90aGlzLl9iYWNrZ3JvdW5kQ29sb3I6bnVsbDthLnJlZnJlc2gocil9fXJldHVybiB0aGlzLnJlZnJlc2hIb3ZlcigpLHRoaXN9LGFkZEhvdmVyOmZ1bmN0aW9uKHQsZSl7aWYoIXQuX19ob3Zlck1pcil7dmFyIGk9bmV3IHQuY29uc3RydWN0b3Ioe3N0eWxlOnQuc3R5bGUsc2hhcGU6dC5zaGFwZX0pO2kuX19mcm9tPXQsdC5fX2hvdmVyTWlyPWksaS5zZXRTdHlsZShlKSx0aGlzLl9ob3ZlckVsZW1lbnRzLnB1c2goaSl9fSxyZW1vdmVIb3ZlcjpmdW5jdGlvbih0KXt2YXIgZT10Ll9faG92ZXJNaXIsaT10aGlzLl9ob3ZlckVsZW1lbnRzLG49bChpLGUpO24+PTAmJmkuc3BsaWNlKG4sMSksdC5fX2hvdmVyTWlyPW51bGx9LGNsZWFySG92ZXI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2hvdmVyRWxlbWVudHMsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lW2ldLl9fZnJvbTtuJiYobi5fX2hvdmVyTWlyPW51bGwpfWUubGVuZ3RoPTB9LHJlZnJlc2hIb3ZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2hvdmVyRWxlbWVudHMsZT10Lmxlbmd0aCxpPXRoaXMuX2hvdmVybGF5ZXI7aWYoaSYmaS5jbGVhcigpLGUpe2FlKHQsdGhpcy5zdG9yYWdlLmRpc3BsYXlhYmxlU29ydEZ1bmMpLGl8fChpPXRoaXMuX2hvdmVybGF5ZXI9dGhpcy5nZXRMYXllcigxZTUpKTt2YXIgbj17fTtpLmN0eC5zYXZlKCk7Zm9yKHZhciBvPTA7bzxlOyl7dmFyIGE9dFtvXSxyPWEuX19mcm9tO3ImJnIuX196cj8obysrLHIuaW52aXNpYmxlfHwoYS50cmFuc2Zvcm09ci50cmFuc2Zvcm0sYS5pbnZUcmFuc2Zvcm09ci5pbnZUcmFuc2Zvcm0sYS5fX2NsaXBQYXRocz1yLl9fY2xpcFBhdGhzLHRoaXMuX2RvUGFpbnRFbChhLGksITAsbikpKToodC5zcGxpY2UobywxKSxyLl9faG92ZXJNaXI9bnVsbCxlLS0pfWkuY3R4LnJlc3RvcmUoKX19LGdldEhvdmVyTGF5ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYXllcigxZTUpfSxfcGFpbnRMaXN0OmZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLl9yZWRyYXdJZD09PWkpe2U9ZXx8ITEsdGhpcy5fdXBkYXRlTGF5ZXJTdGF0dXModCk7dmFyIG49dGhpcy5fZG9QYWludExpc3QodCxlKTtpZih0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcmJnRoaXMuX2NvbXBvc2l0ZU1hbnVhbGx5KCksIW4pe3ZhciBvPXRoaXM7SF8oZnVuY3Rpb24oKXtvLl9wYWludExpc3QodCxlLGkpfSl9fX0sX2NvbXBvc2l0ZU1hbnVhbGx5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRMYXllcigzMTQxNTkpLmN0eCxlPXRoaXMuX2RvbVJvb3Qud2lkdGgsaT10aGlzLl9kb21Sb290LmhlaWdodDt0LmNsZWFyUmVjdCgwLDAsZSxpKSx0aGlzLmVhY2hCdWlsdGluTGF5ZXIoZnVuY3Rpb24obil7bi52aXJ0dWFsJiZ0LmRyYXdJbWFnZShuLmRvbSwwLDAsZSxpKX0pfSxfZG9QYWludExpc3Q6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W10sbj0wO248dGhpcy5femxldmVsTGlzdC5sZW5ndGg7bisrKXt2YXIgbz10aGlzLl96bGV2ZWxMaXN0W25dOyhzPXRoaXMuX2xheWVyc1tvXSkuX19idWlsdGluX18mJnMhPT10aGlzLl9ob3ZlcmxheWVyJiYocy5fX2RpcnR5fHxlKSYmaS5wdXNoKHMpfWZvcih2YXIgYT0hMCxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBzPWlbcl0sbD1zLmN0eCx1PXt9O2wuc2F2ZSgpO3ZhciBoPWU/cy5fX3N0YXJ0SW5kZXg6cy5fX2RyYXdJbmRleCxjPSFlJiZzLmluY3JlbWVudGFsJiZEYXRlLm5vdyxmPWMmJkRhdGUubm93KCkscD1zLnpsZXZlbD09PXRoaXMuX3psZXZlbExpc3RbMF0/dGhpcy5fYmFja2dyb3VuZENvbG9yOm51bGw7aWYocy5fX3N0YXJ0SW5kZXg9PT1zLl9fZW5kSW5kZXgpcy5jbGVhcighMSxwKTtlbHNlIGlmKGg9PT1zLl9fc3RhcnRJbmRleCl7dmFyIGc9dFtoXTtnLmluY3JlbWVudGFsJiZnLm5vdENsZWFyJiYhZXx8cy5jbGVhcighMSxwKX0tMT09PWgmJihjb25zb2xlLmVycm9yKCJGb3Igc29tZSB1bmtub3duIHJlYXNvbi4gZHJhd0luZGV4IGlzIC0xIiksaD1zLl9fc3RhcnRJbmRleCk7Zm9yKHZhciBtPWg7bTxzLl9fZW5kSW5kZXg7bSsrKXt2YXIgdj10W21dO2lmKHRoaXMuX2RvUGFpbnRFbCh2LHMsZSx1KSx2Ll9fZGlydHk9ITEsYyYmRGF0ZS5ub3coKS1mPjE1KWJyZWFrfXMuX19kcmF3SW5kZXg9bSxzLl9fZHJhd0luZGV4PHMuX19lbmRJbmRleCYmKGE9ITEpLHUucHJldkVsQ2xpcFBhdGhzJiZsLnJlc3RvcmUoKSxsLnJlc3RvcmUoKX1yZXR1cm4gQXgud3hhJiZkKHRoaXMuX2xheWVycyxmdW5jdGlvbih0KXt0JiZ0LmN0eCYmdC5jdHguZHJhdyYmdC5jdHguZHJhdygpfSksYX0sX2RvUGFpbnRFbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1lLmN0eCxhPXQudHJhbnNmb3JtO2lmKChlLl9fZGlydHl8fGkpJiYhdC5pbnZpc2libGUmJjAhPT10LnN0eWxlLm9wYWNpdHkmJighYXx8YVswXXx8YVszXSkmJighdC5jdWxsaW5nfHwhZWkodCx0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpKSl7dmFyIHI9dC5fX2NsaXBQYXRocztuLnByZXZFbENsaXBQYXRocyYmIWlpKHIsbi5wcmV2RWxDbGlwUGF0aHMpfHwobi5wcmV2RWxDbGlwUGF0aHMmJihlLmN0eC5yZXN0b3JlKCksbi5wcmV2RWxDbGlwUGF0aHM9bnVsbCxuLnByZXZFbD1udWxsKSxyJiYoby5zYXZlKCksbmkocixvKSxuLnByZXZFbENsaXBQYXRocz1yKSksdC5iZWZvcmVCcnVzaCYmdC5iZWZvcmVCcnVzaChvKSx0LmJydXNoKG8sbi5wcmV2RWx8fG51bGwpLG4ucHJldkVsPXQsdC5hZnRlckJydXNoJiZ0LmFmdGVyQnJ1c2gobyl9fSxnZXRMYXllcjpmdW5jdGlvbih0LGUpe3RoaXMuX3NpbmdsZUNhbnZhcyYmIXRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZyYmKHQ9MzE0MTU5KTt2YXIgaT10aGlzLl9sYXllcnNbdF07cmV0dXJuIGl8fCgoaT1uZXcgV18oInpyXyIrdCx0aGlzLHRoaXMuZHByKSkuemxldmVsPXQsaS5fX2J1aWx0aW5fXz0hMCx0aGlzLl9sYXllckNvbmZpZ1t0XSYmbihpLHRoaXMuX2xheWVyQ29uZmlnW3RdLCEwKSxlJiYoaS52aXJ0dWFsPWUpLHRoaXMuaW5zZXJ0TGF5ZXIodCxpKSxpLmluaXRDb250ZXh0KCkpLGl9LGluc2VydExheWVyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbGF5ZXJzLG49dGhpcy5femxldmVsTGlzdCxvPW4ubGVuZ3RoLGE9bnVsbCxyPS0xLHM9dGhpcy5fZG9tUm9vdDtpZihpW3RdKU1fKCJaTGV2ZWwgIit0KyIgaGFzIGJlZW4gdXNlZCBhbHJlYWR5Iik7ZWxzZSBpZih0aShlKSl7aWYobz4wJiZ0Pm5bMF0pe2ZvcihyPTA7cjxvLTEmJiEobltyXTx0JiZuW3IrMV0+dCk7cisrKTthPWlbbltyXV19aWYobi5zcGxpY2UocisxLDAsdCksaVt0XT1lLCFlLnZpcnR1YWwpaWYoYSl7dmFyIGw9YS5kb207bC5uZXh0U2libGluZz9zLmluc2VydEJlZm9yZShlLmRvbSxsLm5leHRTaWJsaW5nKTpzLmFwcGVuZENoaWxkKGUuZG9tKX1lbHNlIHMuZmlyc3RDaGlsZD9zLmluc2VydEJlZm9yZShlLmRvbSxzLmZpcnN0Q2hpbGQpOnMuYXBwZW5kQ2hpbGQoZS5kb20pfWVsc2UgTV8oIkxheWVyIG9mIHpsZXZlbCAiK3QrIiBpcyBub3QgdmFsaWQiKX0sZWFjaExheWVyOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPXRoaXMuX3psZXZlbExpc3Q7Zm9yKG49MDtuPG8ubGVuZ3RoO24rKylpPW9bbl0sdC5jYWxsKGUsdGhpcy5fbGF5ZXJzW2ldLGkpfSxlYWNoQnVpbHRpbkxheWVyOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLGE9dGhpcy5femxldmVsTGlzdDtmb3Iobz0wO288YS5sZW5ndGg7bysrKW49YVtvXSwoaT10aGlzLl9sYXllcnNbbl0pLl9fYnVpbHRpbl9fJiZ0LmNhbGwoZSxpLG4pfSxlYWNoT3RoZXJMYXllcjpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhPXRoaXMuX3psZXZlbExpc3Q7Zm9yKG89MDtvPGEubGVuZ3RoO28rKyluPWFbb10sKGk9dGhpcy5fbGF5ZXJzW25dKS5fX2J1aWx0aW5fX3x8dC5jYWxsKGUsaSxuKX0sZ2V0TGF5ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xheWVyc30sX3VwZGF0ZUxheWVyU3RhdHVzOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7aSYmKGkuX19lbmRJbmRleCE9PXQmJihpLl9fZGlydHk9ITApLGkuX19lbmRJbmRleD10KX1pZih0aGlzLmVhY2hCdWlsdGluTGF5ZXIoZnVuY3Rpb24odCxlKXt0Ll9fZGlydHk9dC5fX3VzZWQ9ITF9KSx0aGlzLl9zaW5nbGVDYW52YXMpZm9yKG89MTtvPHQubGVuZ3RoO28rKylpZigocj10W29dKS56bGV2ZWwhPT10W28tMV0uemxldmVsfHxyLmluY3JlbWVudGFsKXt0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITA7YnJlYWt9Zm9yKHZhciBpPW51bGwsbj0wLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGEscj10W29dLHM9ci56bGV2ZWw7ci5pbmNyZW1lbnRhbD8oKGE9dGhpcy5nZXRMYXllcihzKy4wMDEsdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nKSkuaW5jcmVtZW50YWw9ITAsbj0xKTphPXRoaXMuZ2V0TGF5ZXIocysobj4wPy4wMTowKSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmcpLGEuX19idWlsdGluX198fE1fKCJaTGV2ZWwgIitzKyIgaGFzIGJlZW4gdXNlZCBieSB1bmtvd24gbGF5ZXIgIithLmlkKSxhIT09aSYmKGEuX191c2VkPSEwLGEuX19zdGFydEluZGV4IT09byYmKGEuX19kaXJ0eT0hMCksYS5fX3N0YXJ0SW5kZXg9byxhLmluY3JlbWVudGFsP2EuX19kcmF3SW5kZXg9LTE6YS5fX2RyYXdJbmRleD1vLGUobyksaT1hKSxyLl9fZGlydHkmJihhLl9fZGlydHk9ITAsYS5pbmNyZW1lbnRhbCYmYS5fX2RyYXdJbmRleDwwJiYoYS5fX2RyYXdJbmRleD1vKSl9ZShvKSx0aGlzLmVhY2hCdWlsdGluTGF5ZXIoZnVuY3Rpb24odCxlKXshdC5fX3VzZWQmJnQuZ2V0RWxlbWVudENvdW50KCk+MCYmKHQuX19kaXJ0eT0hMCx0Ll9fc3RhcnRJbmRleD10Ll9fZW5kSW5kZXg9dC5fX2RyYXdJbmRleD0wKSx0Ll9fZGlydHkmJnQuX19kcmF3SW5kZXg8MCYmKHQuX19kcmF3SW5kZXg9dC5fX3N0YXJ0SW5kZXgpfSl9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaEJ1aWx0aW5MYXllcih0aGlzLl9jbGVhckxheWVyKSx0aGlzfSxfY2xlYXJMYXllcjpmdW5jdGlvbih0KXt0LmNsZWFyKCl9LHNldEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbih0KXt0aGlzLl9iYWNrZ3JvdW5kQ29sb3I9dH0sY29uZmlnTGF5ZXI6ZnVuY3Rpb24odCxlKXtpZihlKXt2YXIgaT10aGlzLl9sYXllckNvbmZpZztpW3RdP24oaVt0XSxlLCEwKTppW3RdPWU7Zm9yKHZhciBvPTA7bzx0aGlzLl96bGV2ZWxMaXN0Lmxlbmd0aDtvKyspe3ZhciBhPXRoaXMuX3psZXZlbExpc3Rbb107YSE9PXQmJmEhPT10Ky4wMXx8bih0aGlzLl9sYXllcnNbYV0saVt0XSwhMCl9fX0sZGVsTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGF5ZXJzLGk9dGhpcy5femxldmVsTGlzdCxuPWVbdF07biYmKG4uZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobi5kb20pLGRlbGV0ZSBlW3RdLGkuc3BsaWNlKGwoaSx0KSwxKSl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2RvbVJvb3Quc3R5bGUpe3ZhciBpPXRoaXMuX2RvbVJvb3Q7aS5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgbj10aGlzLl9vcHRzO2lmKG51bGwhPXQmJihuLndpZHRoPXQpLG51bGwhPWUmJihuLmhlaWdodD1lKSx0PXRoaXMuX2dldFNpemUoMCksZT10aGlzLl9nZXRTaXplKDEpLGkuc3R5bGUuZGlzcGxheT0iIix0aGlzLl93aWR0aCE9dHx8ZSE9dGhpcy5faGVpZ2h0KXtpLnN0eWxlLndpZHRoPXQrInB4IixpLnN0eWxlLmhlaWdodD1lKyJweCI7Zm9yKHZhciBvIGluIHRoaXMuX2xheWVycyl0aGlzLl9sYXllcnMuaGFzT3duUHJvcGVydHkobykmJnRoaXMuX2xheWVyc1tvXS5yZXNpemUodCxlKTtkKHRoaXMuX3Byb2dyZXNzaXZlTGF5ZXJzLGZ1bmN0aW9uKGkpe2kucmVzaXplKHQsZSl9KSx0aGlzLnJlZnJlc2goITApfXRoaXMuX3dpZHRoPXQsdGhpcy5faGVpZ2h0PWV9ZWxzZXtpZihudWxsPT10fHxudWxsPT1lKXJldHVybjt0aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lLHRoaXMuZ2V0TGF5ZXIoMzE0MTU5KS5yZXNpemUodCxlKX1yZXR1cm4gdGhpc30sY2xlYXJMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbdF07ZSYmZS5jbGVhcigpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD0iIix0aGlzLnJvb3Q9dGhpcy5zdG9yYWdlPXRoaXMuX2RvbVJvb3Q9dGhpcy5fbGF5ZXJzPW51bGx9LGdldFJlbmRlcmVkQ2FudmFzOmZ1bmN0aW9uKHQpe2lmKHQ9dHx8e30sdGhpcy5fc2luZ2xlQ2FudmFzJiYhdGhpcy5fY29tcG9zaXRlTWFudWFsbHkpcmV0dXJuIHRoaXMuX2xheWVyc1szMTQxNTldLmRvbTt2YXIgZT1uZXcgV18oImltYWdlIix0aGlzLHQucGl4ZWxSYXRpb3x8dGhpcy5kcHIpO2lmKGUuaW5pdENvbnRleHQoKSxlLmNsZWFyKCExLHQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9iYWNrZ3JvdW5kQ29sb3IpLHQucGl4ZWxSYXRpbzw9dGhpcy5kcHIpe3RoaXMucmVmcmVzaCgpO3ZhciBpPWUuZG9tLndpZHRoLG49ZS5kb20uaGVpZ2h0LG89ZS5jdHg7dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24odCl7dC5fX2J1aWx0aW5fXz9vLmRyYXdJbWFnZSh0LmRvbSwwLDAsaSxuKTp0LnJlbmRlclRvQ2FudmFzJiYoZS5jdHguc2F2ZSgpLHQucmVuZGVyVG9DYW52YXMoZS5jdHgpLGUuY3R4LnJlc3RvcmUoKSl9KX1lbHNlIGZvcih2YXIgYT17fSxyPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCkscz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbD1yW3NdO3RoaXMuX2RvUGFpbnRFbChsLGUsITAsYSl9cmV0dXJuIGUuZG9tfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sX2dldFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3B0cyxpPVsid2lkdGgiLCJoZWlnaHQiXVt0XSxuPVsiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiXVt0XSxvPVsicGFkZGluZ0xlZnQiLCJwYWRkaW5nVG9wIl1bdF0sYT1bInBhZGRpbmdSaWdodCIsInBhZGRpbmdCb3R0b20iXVt0XTtpZihudWxsIT1lW2ldJiYiYXV0byIhPT1lW2ldKXJldHVybiBwYXJzZUZsb2F0KGVbaV0pO3ZhciByPXRoaXMucm9vdCxzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUocik7cmV0dXJuKHJbbl18fFFlKHNbaV0pfHxRZShyLnN0eWxlW2ldKSktKFFlKHNbb10pfHwwKS0oUWUoc1thXSl8fDApfDB9LHBhdGhUb0ltYWdlOmZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLmRwcjt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxuPWkuZ2V0Q29udGV4dCgiMmQiKSxvPXQuZ2V0Qm91bmRpbmdSZWN0KCksYT10LnN0eWxlLHI9YS5zaGFkb3dCbHVyKmUscz1hLnNoYWRvd09mZnNldFgqZSxsPWEuc2hhZG93T2Zmc2V0WSplLHU9YS5oYXNTdHJva2UoKT9hLmxpbmVXaWR0aDowLGg9TWF0aC5tYXgodS8yLC1zK3IpLGM9TWF0aC5tYXgodS8yLHMrciksZD1NYXRoLm1heCh1LzIsLWwrciksZj1NYXRoLm1heCh1LzIsbCtyKSxwPW8ud2lkdGgraCtjLGc9by5oZWlnaHQrZCtmO2kud2lkdGg9cCplLGkuaGVpZ2h0PWcqZSxuLnNjYWxlKGUsZSksbi5jbGVhclJlY3QoMCwwLHAsZyksbi5kcHI9ZTt2YXIgbT17cG9zaXRpb246dC5wb3NpdGlvbixyb3RhdGlvbjp0LnJvdGF0aW9uLHNjYWxlOnQuc2NhbGV9O3QucG9zaXRpb249W2gtby54LGQtby55XSx0LnJvdGF0aW9uPTAsdC5zY2FsZT1bMSwxXSx0LnVwZGF0ZVRyYW5zZm9ybSgpLHQmJnQuYnJ1c2gobik7dmFyIHY9bmV3IEplKHtzdHlsZTp7eDowLHk6MCxpbWFnZTppfX0pO3JldHVybiBudWxsIT1tLnBvc2l0aW9uJiYodi5wb3NpdGlvbj10LnBvc2l0aW9uPW0ucG9zaXRpb24pLG51bGwhPW0ucm90YXRpb24mJih2LnJvdGF0aW9uPXQucm90YXRpb249bS5yb3RhdGlvbiksbnVsbCE9bS5zY2FsZSYmKHYuc2NhbGU9dC5zY2FsZT1tLnNjYWxlKSx2fX07dmFyIG93PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYhIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLGF3PS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxydz1vdz9mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0LmNhbmNlbEJ1YmJsZT0hMH06ZnVuY3Rpb24odCl7dC5yZXR1cm5WYWx1ZT0hMSx0LmNhbmNlbEJ1YmJsZT0hMH0sc3c9ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLnN0YWdlPXQuc3RhZ2V8fHt9LHRoaXMub25mcmFtZT10Lm9uZnJhbWV8fGZ1bmN0aW9uKCl7fSx0aGlzLl9jbGlwcz1bXSx0aGlzLl9ydW5uaW5nPSExLHRoaXMuX3RpbWUsdGhpcy5fcGF1c2VkVGltZSx0aGlzLl9wYXVzZVN0YXJ0LHRoaXMuX3BhdXNlZD0hMSwkeC5jYWxsKHRoaXMpfTtzdy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnN3LGFkZENsaXA6ZnVuY3Rpb24odCl7dGhpcy5fY2xpcHMucHVzaCh0KX0sYWRkQW5pbWF0b3I6ZnVuY3Rpb24odCl7dC5hbmltYXRpb249dGhpcztmb3IodmFyIGU9dC5nZXRDbGlwcygpLGk9MDtpPGUubGVuZ3RoO2krKyl0aGlzLmFkZENsaXAoZVtpXSl9LHJlbW92ZUNsaXA6ZnVuY3Rpb24odCl7dmFyIGU9bCh0aGlzLl9jbGlwcyx0KTtlPj0wJiZ0aGlzLl9jbGlwcy5zcGxpY2UoZSwxKX0scmVtb3ZlQW5pbWF0b3I6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuZ2V0Q2xpcHMoKSxpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5yZW1vdmVDbGlwKGVbaV0pO3QuYW5pbWF0aW9uPW51bGx9LF91cGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fcGF1c2VkVGltZSxlPXQtdGhpcy5fdGltZSxpPXRoaXMuX2NsaXBzLG49aS5sZW5ndGgsbz1bXSxhPVtdLHI9MDtyPG47cisrKXt2YXIgcz1pW3JdLGw9cy5zdGVwKHQsZSk7bCYmKG8ucHVzaChsKSxhLnB1c2gocykpfWZvcihyPTA7cjxuOylpW3JdLl9uZWVkc1JlbW92ZT8oaVtyXT1pW24tMV0saS5wb3AoKSxuLS0pOnIrKztuPW8ubGVuZ3RoO2ZvcihyPTA7cjxuO3IrKylhW3JdLmZpcmUob1tyXSk7dGhpcy5fdGltZT10LHRoaXMub25mcmFtZShlKSx0aGlzLnRyaWdnZXIoImZyYW1lIixlKSx0aGlzLnN0YWdlLnVwZGF0ZSYmdGhpcy5zdGFnZS51cGRhdGUoKX0sX3N0YXJ0TG9vcDpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtlLl9ydW5uaW5nJiYoSF8odCksIWUuX3BhdXNlZCYmZS5fdXBkYXRlKCkpfXZhciBlPXRoaXM7dGhpcy5fcnVubmluZz0hMCxIXyh0KX0sc3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl90aW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX3BhdXNlZFRpbWU9MCx0aGlzLl9zdGFydExvb3AoKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX3J1bm5pbmc9ITF9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkfHwodGhpcy5fcGF1c2VTdGFydD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9wYXVzZWQ9ITApfSxyZXN1bWU6ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQmJih0aGlzLl9wYXVzZWRUaW1lKz0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLl9wYXVzZVN0YXJ0LHRoaXMuX3BhdXNlZD0hMSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fY2xpcHM9W119LGlzRmluaXNoZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fY2xpcHMubGVuZ3RofSxhbmltYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IF9fKHQsKGU9ZXx8e30pLmxvb3AsZS5nZXR0ZXIsZS5zZXR0ZXIpO3JldHVybiB0aGlzLmFkZEFuaW1hdG9yKGkpLGl9fSxoKHN3LCR4KTt2YXIgbHc9ZnVuY3Rpb24oKXt0aGlzLl90cmFjaz1bXX07bHcucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpsdyxyZWNvZ25pemU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9kb1RyYWNrKHQsZSxpKSx0aGlzLl9yZWNvZ25pemUodCl9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrLmxlbmd0aD0wLHRoaXN9LF9kb1RyYWNrOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LnRvdWNoZXM7aWYobil7Zm9yKHZhciBvPXtwb2ludHM6W10sdG91Y2hlczpbXSx0YXJnZXQ6ZSxldmVudDp0fSxhPTAscj1uLmxlbmd0aDthPHI7YSsrKXt2YXIgcz1uW2FdLGw9cmkoaSxzLHt9KTtvLnBvaW50cy5wdXNoKFtsLnpyWCxsLnpyWV0pLG8udG91Y2hlcy5wdXNoKHMpfXRoaXMuX3RyYWNrLnB1c2gobyl9fSxfcmVjb2duaXplOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB1dylpZih1dy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGk9dXdbZV0odGhpcy5fdHJhY2ssdCk7aWYoaSlyZXR1cm4gaX19fTt2YXIgdXc9e3BpbmNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5sZW5ndGg7aWYoaSl7dmFyIG49KHRbaS0xXXx8e30pLnBvaW50cyxvPSh0W2ktMl18fHt9KS5wb2ludHN8fG47aWYobyYmby5sZW5ndGg+MSYmbiYmbi5sZW5ndGg+MSl7dmFyIGE9ZGkobikvZGkobyk7IWlzRmluaXRlKGEpJiYoYT0xKSxlLnBpbmNoU2NhbGU9YTt2YXIgcj1maShuKTtyZXR1cm4gZS5waW5jaFg9clswXSxlLnBpbmNoWT1yWzFdLHt0eXBlOiJwaW5jaCIsdGFyZ2V0OnRbMF0udGFyZ2V0LGV2ZW50OmV9fX19fSxodz1bImNsaWNrIiwiZGJsY2xpY2siLCJtb3VzZXdoZWVsIiwibW91c2VvdXQiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiXSxjdz1bInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRvdWNobW92ZSJdLGR3PXtwb2ludGVyZG93bjoxLHBvaW50ZXJ1cDoxLHBvaW50ZXJtb3ZlOjEscG9pbnRlcm91dDoxfSxmdz1mKGh3LGZ1bmN0aW9uKHQpe3ZhciBlPXQucmVwbGFjZSgibW91c2UiLCJwb2ludGVyIik7cmV0dXJuIGR3W2VdP2U6dH0pLHB3PXttb3VzZW1vdmU6ZnVuY3Rpb24odCl7dD1saSh0aGlzLmRvbSx0KSx0aGlzLnRyaWdnZXIoIm1vdXNlbW92ZSIsdCl9LG1vdXNlb3V0OmZ1bmN0aW9uKHQpe3ZhciBlPSh0PWxpKHRoaXMuZG9tLHQpKS50b0VsZW1lbnR8fHQucmVsYXRlZFRhcmdldDtpZihlIT10aGlzLmRvbSlmb3IoO2UmJjkhPWUubm9kZVR5cGU7KXtpZihlPT09dGhpcy5kb20pcmV0dXJuO2U9ZS5wYXJlbnROb2RlfXRoaXMudHJpZ2dlcigibW91c2VvdXQiLHQpfSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKHQpeyh0PWxpKHRoaXMuZG9tLHQpKS56ckJ5VG91Y2g9ITAsdGhpcy5fbGFzdFRvdWNoTW9tZW50PW5ldyBEYXRlLGdpKHRoaXMsdCwic3RhcnQiKSxwdy5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpLHB3Lm1vdXNlZG93bi5jYWxsKHRoaXMsdCksbWkodGhpcyl9LHRvdWNobW92ZTpmdW5jdGlvbih0KXsodD1saSh0aGlzLmRvbSx0KSkuenJCeVRvdWNoPSEwLGdpKHRoaXMsdCwiY2hhbmdlIikscHcubW91c2Vtb3ZlLmNhbGwodGhpcyx0KSxtaSh0aGlzKX0sdG91Y2hlbmQ6ZnVuY3Rpb24odCl7KHQ9bGkodGhpcy5kb20sdCkpLnpyQnlUb3VjaD0hMCxnaSh0aGlzLHQsImVuZCIpLHB3Lm1vdXNldXAuY2FsbCh0aGlzLHQpLCtuZXcgRGF0ZS10aGlzLl9sYXN0VG91Y2hNb21lbnQ8MzAwJiZwdy5jbGljay5jYWxsKHRoaXMsdCksbWkodGhpcyl9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKHQpe3B3Lm1vdXNlZG93bi5jYWxsKHRoaXMsdCl9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKHQpe3ZpKHQpfHxwdy5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpfSxwb2ludGVydXA6ZnVuY3Rpb24odCl7cHcubW91c2V1cC5jYWxsKHRoaXMsdCl9LHBvaW50ZXJvdXQ6ZnVuY3Rpb24odCl7dmkodCl8fHB3Lm1vdXNlb3V0LmNhbGwodGhpcyx0KX19O2QoWyJjbGljayIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZXdoZWVsIiwiZGJsY2xpY2siLCJjb250ZXh0bWVudSJdLGZ1bmN0aW9uKHQpe3B3W3RdPWZ1bmN0aW9uKGUpe2U9bGkodGhpcy5kb20sZSksdGhpcy50cmlnZ2VyKHQsZSl9fSk7dmFyIGd3PXhpLnByb3RvdHlwZTtndy5kaXNwb3NlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWh3LmNvbmNhdChjdyksZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgaT10W2VdO2hpKHRoaXMuZG9tLHBpKGkpLHRoaXMuX2hhbmRsZXJzW2ldKX19LGd3LnNldEN1cnNvcj1mdW5jdGlvbih0KXt0aGlzLmRvbS5zdHlsZSYmKHRoaXMuZG9tLnN0eWxlLmN1cnNvcj10fHwiZGVmYXVsdCIpfSxoKHhpLCR4KTt2YXIgbXc9IUF4LmNhbnZhc1N1cHBvcnRlZCx2dz17Y2FudmFzOm53fSx5dz17fSx4dz1mdW5jdGlvbih0LGUsaSl7aT1pfHx7fSx0aGlzLmRvbT1lLHRoaXMuaWQ9dDt2YXIgbj10aGlzLG89bmV3IE5fLGE9aS5yZW5kZXJlcjtpZihtdyl7aWYoIXZ3LnZtbCl0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIHJlcXVpcmUgJ3pyZW5kZXIvdm1sL3ZtbCcgdG8gc3VwcG9ydCBJRTgiKTthPSJ2bWwifWVsc2UgYSYmdndbYV18fChhPSJjYW52YXMiKTt2YXIgcj1uZXcgdndbYV0oZSxvLGksdCk7dGhpcy5zdG9yYWdlPW8sdGhpcy5wYWludGVyPXI7dmFyIHM9QXgubm9kZXx8QXgud29ya2VyP251bGw6bmV3IHhpKHIuZ2V0Vmlld3BvcnRSb290KCkpO3RoaXMuaGFuZGxlcj1uZXcgUXgobyxyLHMsci5yb290KSx0aGlzLmFuaW1hdGlvbj1uZXcgc3coe3N0YWdlOnt1cGRhdGU6bSh0aGlzLmZsdXNoLHRoaXMpfX0pLHRoaXMuYW5pbWF0aW9uLnN0YXJ0KCksdGhpcy5fbmVlZHNSZWZyZXNoO3ZhciBsPW8uZGVsRnJvbVN0b3JhZ2UsdT1vLmFkZFRvU3RvcmFnZTtvLmRlbEZyb21TdG9yYWdlPWZ1bmN0aW9uKHQpe2wuY2FsbChvLHQpLHQmJnQucmVtb3ZlU2VsZkZyb21acihuKX0sby5hZGRUb1N0b3JhZ2U9ZnVuY3Rpb24odCl7dS5jYWxsKG8sdCksdC5hZGRTZWxmVG9acihuKX19O3h3LnByb3RvdHlwZT17Y29uc3RydWN0b3I6eHcsZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH0sYWRkOmZ1bmN0aW9uKHQpe3RoaXMuc3RvcmFnZS5hZGRSb290KHQpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0scmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuc3RvcmFnZS5kZWxSb290KHQpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0sY29uZmlnTGF5ZXI6ZnVuY3Rpb24odCxlKXt0aGlzLnBhaW50ZXIuY29uZmlnTGF5ZXImJnRoaXMucGFpbnRlci5jb25maWdMYXllcih0LGUpLHRoaXMuX25lZWRzUmVmcmVzaD0hMH0sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKHQpe3RoaXMucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3ImJnRoaXMucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3IodCksdGhpcy5fbmVlZHNSZWZyZXNoPSEwfSxyZWZyZXNoSW1tZWRpYXRlbHk6ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2g9ITEsdGhpcy5wYWludGVyLnJlZnJlc2goKSx0aGlzLl9uZWVkc1JlZnJlc2g9ITF9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9uZWVkc1JlZnJlc2g9ITB9LGZsdXNoOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fbmVlZHNSZWZyZXNoJiYodD0hMCx0aGlzLnJlZnJlc2hJbW1lZGlhdGVseSgpKSx0aGlzLl9uZWVkc1JlZnJlc2hIb3ZlciYmKHQ9ITAsdGhpcy5yZWZyZXNoSG92ZXJJbW1lZGlhdGVseSgpKSx0JiZ0aGlzLnRyaWdnZXIoInJlbmRlcmVkIil9LGFkZEhvdmVyOmZ1bmN0aW9uKHQsZSl7dGhpcy5wYWludGVyLmFkZEhvdmVyJiYodGhpcy5wYWludGVyLmFkZEhvdmVyKHQsZSksdGhpcy5yZWZyZXNoSG92ZXIoKSl9LHJlbW92ZUhvdmVyOmZ1bmN0aW9uKHQpe3RoaXMucGFpbnRlci5yZW1vdmVIb3ZlciYmKHRoaXMucGFpbnRlci5yZW1vdmVIb3Zlcih0KSx0aGlzLnJlZnJlc2hIb3ZlcigpKX0sY2xlYXJIb3ZlcjpmdW5jdGlvbigpe3RoaXMucGFpbnRlci5jbGVhckhvdmVyJiYodGhpcy5wYWludGVyLmNsZWFySG92ZXIoKSx0aGlzLnJlZnJlc2hIb3ZlcigpKX0scmVmcmVzaEhvdmVyOmZ1bmN0aW9uKCl7dGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITB9LHJlZnJlc2hIb3ZlckltbWVkaWF0ZWx5OmZ1bmN0aW9uKCl7dGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITEsdGhpcy5wYWludGVyLnJlZnJlc2hIb3ZlciYmdGhpcy5wYWludGVyLnJlZnJlc2hIb3ZlcigpfSxyZXNpemU6ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLnBhaW50ZXIucmVzaXplKHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuaGFuZGxlci5yZXNpemUoKX0sY2xlYXJBbmltYXRpb246ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbi5jbGVhcigpfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhaW50ZXIuZ2V0V2lkdGgoKX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFpbnRlci5nZXRIZWlnaHQoKX0scGF0aFRvSW1hZ2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wYWludGVyLnBhdGhUb0ltYWdlKHQsZSl9LHNldEN1cnNvclN0eWxlOmZ1bmN0aW9uKHQpe3RoaXMuaGFuZGxlci5zZXRDdXJzb3JTdHlsZSh0KX0sZmluZEhvdmVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaGFuZGxlci5maW5kSG92ZXIodCxlKX0sb246ZnVuY3Rpb24odCxlLGkpe3RoaXMuaGFuZGxlci5vbih0LGUsaSl9LG9mZjpmdW5jdGlvbih0LGUpe3RoaXMuaGFuZGxlci5vZmYodCxlKX0sdHJpZ2dlcjpmdW5jdGlvbih0LGUpe3RoaXMuaGFuZGxlci50cmlnZ2VyKHQsZSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5zdG9yYWdlLmRlbFJvb3QoKSx0aGlzLnBhaW50ZXIuY2xlYXIoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uLnN0b3AoKSx0aGlzLmNsZWFyKCksdGhpcy5zdG9yYWdlLmRpc3Bvc2UoKSx0aGlzLnBhaW50ZXIuZGlzcG9zZSgpLHRoaXMuaGFuZGxlci5kaXNwb3NlKCksdGhpcy5hbmltYXRpb249dGhpcy5zdG9yYWdlPXRoaXMucGFpbnRlcj10aGlzLmhhbmRsZXI9bnVsbCxiaSh0aGlzLmlkKX19O3ZhciBfdz0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7dmVyc2lvbjoiNC4wLjMiLGluaXQ6X2ksZGlzcG9zZTpmdW5jdGlvbih0KXtpZih0KXQuZGlzcG9zZSgpO2Vsc2V7Zm9yKHZhciBlIGluIHl3KXl3Lmhhc093blByb3BlcnR5KGUpJiZ5d1tlXS5kaXNwb3NlKCk7eXc9e319cmV0dXJuIHRoaXN9LGdldEluc3RhbmNlOmZ1bmN0aW9uKHQpe3JldHVybiB5d1t0XX0scmVnaXN0ZXJQYWludGVyOndpfSksd3c9ZCxidz13LFN3PXksTXc9InNlcmllc1wwIixJdz1bImZvbnRTdHlsZSIsImZvbnRXZWlnaHQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJyaWNoIiwidGFnIiwiY29sb3IiLCJ0ZXh0Qm9yZGVyQ29sb3IiLCJ0ZXh0Qm9yZGVyV2lkdGgiLCJ3aWR0aCIsImhlaWdodCIsImxpbmVIZWlnaHQiLCJhbGlnbiIsInZlcnRpY2FsQWxpZ24iLCJiYXNlbGluZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwidGV4dFNoYWRvd0NvbG9yIiwidGV4dFNoYWRvd0JsdXIiLCJ0ZXh0U2hhZG93T2Zmc2V0WCIsInRleHRTaGFkb3dPZmZzZXRZIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImJvcmRlclJhZGl1cyIsInBhZGRpbmciXSxEdz0wLFR3PSIuIixBdz0iX19fRUNfX0NPTVBPTkVOVF9fQ09OVEFJTkVSX19fIixDdz0wLEx3PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV1bMV18fCh0W2VdWzFdPXRbZV1bMF0pO3JldHVybiBmdW5jdGlvbihlLGksbil7Zm9yKHZhciBvPXt9LGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHI9dFthXVsxXTtpZighKGkmJmwoaSxyKT49MHx8biYmbChuLHIpPDApKXt2YXIgcz1lLmdldFNoYWxsb3cocik7bnVsbCE9cyYmKG9bdFthXVswXV09cyl9fXJldHVybiBvfX0sa3c9THcoW1sibGluZVdpZHRoIiwid2lkdGgiXSxbInN0cm9rZSIsImNvbG9yIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdXSksUHc9e2dldExpbmVTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT1rdyh0aGlzLHQpLGk9dGhpcy5nZXRMaW5lRGFzaChlLmxpbmVXaWR0aCk7cmV0dXJuIGkmJihlLmxpbmVEYXNoPWkpLGV9LGdldExpbmVEYXNoOmZ1bmN0aW9uKHQpe251bGw9PXQmJih0PTEpO3ZhciBlPXRoaXMuZ2V0KCJ0eXBlIiksaT1NYXRoLm1heCh0LDIpLG49NCp0O3JldHVybiJzb2xpZCI9PT1lfHxudWxsPT1lP251bGw6ImRhc2hlZCI9PT1lP1tuLG5dOltpLGldfX0sTnc9THcoW1siZmlsbCIsImNvbG9yIl0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dDb2xvciJdXSksT3c9e2dldEFyZWFTdHlsZTpmdW5jdGlvbih0LGUpe3JldHVybiBOdyh0aGlzLHQsZSl9fSxFdz1NYXRoLnBvdyx6dz1NYXRoLnNxcnQsUnc9MWUtOCxCdz0xZS00LFZ3PXp3KDMpLEd3PTEvMyxGdz1WKCksV3c9VigpLEh3PVYoKSxadz1NYXRoLm1pbixVdz1NYXRoLm1heCxqdz1NYXRoLnNpbixYdz1NYXRoLmNvcyxZdz0yKk1hdGguUEkscXc9VigpLCR3PVYoKSxLdz1WKCksSnc9W10sUXc9W10sdGI9e006MSxMOjIsQzozLFE6NCxBOjUsWjo2LFI6N30sZWI9W10saWI9W10sbmI9W10sb2I9W10sYWI9TWF0aC5taW4scmI9TWF0aC5tYXgsc2I9TWF0aC5jb3MsbGI9TWF0aC5zaW4sdWI9TWF0aC5zcXJ0LGhiPU1hdGguYWJzLGNiPSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5LGRiPWZ1bmN0aW9uKHQpe3RoaXMuX3NhdmVEYXRhPSF0LHRoaXMuX3NhdmVEYXRhJiYodGhpcy5kYXRhPVtdKSx0aGlzLl9jdHg9bnVsbH07ZGIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkYixfeGk6MCxfeWk6MCxfeDA6MCxfeTA6MCxfdXg6MCxfdXk6MCxfbGVuOjAsX2xpbmVEYXNoOm51bGwsX2Rhc2hPZmZzZXQ6MCxfZGFzaElkeDowLF9kYXNoU3VtOjAsc2V0U2NhbGU6ZnVuY3Rpb24odCxlKXt0aGlzLl91eD1oYigxL2JfL3QpfHwwLHRoaXMuX3V5PWhiKDEvYl8vZSl8fDB9LGdldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4fSxiZWdpblBhdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2N0eD10LHQmJnQuYmVnaW5QYXRoKCksdCYmKHRoaXMuZHByPXQuZHByKSx0aGlzLl9zYXZlRGF0YSYmKHRoaXMuX2xlbj0wKSx0aGlzLl9saW5lRGFzaCYmKHRoaXMuX2xpbmVEYXNoPW51bGwsdGhpcy5fZGFzaE9mZnNldD0wKSx0aGlzfSxtb3ZlVG86ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGREYXRhKHRiLk0sdCxlKSx0aGlzLl9jdHgmJnRoaXMuX2N0eC5tb3ZlVG8odCxlKSx0aGlzLl94MD10LHRoaXMuX3kwPWUsdGhpcy5feGk9dCx0aGlzLl95aT1lLHRoaXN9LGxpbmVUbzpmdW5jdGlvbih0LGUpe3ZhciBpPWhiKHQtdGhpcy5feGkpPnRoaXMuX3V4fHxoYihlLXRoaXMuX3lpKT50aGlzLl91eXx8dGhpcy5fbGVuPDU7cmV0dXJuIHRoaXMuYWRkRGF0YSh0Yi5MLHQsZSksdGhpcy5fY3R4JiZpJiYodGhpcy5fbmVlZHNEYXNoKCk/dGhpcy5fZGFzaGVkTGluZVRvKHQsZSk6dGhpcy5fY3R4LmxpbmVUbyh0LGUpKSxpJiYodGhpcy5feGk9dCx0aGlzLl95aT1lKSx0aGlzfSxiZXppZXJDdXJ2ZVRvOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXtyZXR1cm4gdGhpcy5hZGREYXRhKHRiLkMsdCxlLGksbixvLGEpLHRoaXMuX2N0eCYmKHRoaXMuX25lZWRzRGFzaCgpP3RoaXMuX2Rhc2hlZEJlemllclRvKHQsZSxpLG4sbyxhKTp0aGlzLl9jdHguYmV6aWVyQ3VydmVUbyh0LGUsaSxuLG8sYSkpLHRoaXMuX3hpPW8sdGhpcy5feWk9YSx0aGlzfSxxdWFkcmF0aWNDdXJ2ZVRvOmZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB0aGlzLmFkZERhdGEodGIuUSx0LGUsaSxuKSx0aGlzLl9jdHgmJih0aGlzLl9uZWVkc0Rhc2goKT90aGlzLl9kYXNoZWRRdWFkcmF0aWNUbyh0LGUsaSxuKTp0aGlzLl9jdHgucXVhZHJhdGljQ3VydmVUbyh0LGUsaSxuKSksdGhpcy5feGk9aSx0aGlzLl95aT1uLHRoaXN9LGFyYzpmdW5jdGlvbih0LGUsaSxuLG8sYSl7cmV0dXJuIHRoaXMuYWRkRGF0YSh0Yi5BLHQsZSxpLGksbixvLW4sMCxhPzA6MSksdGhpcy5fY3R4JiZ0aGlzLl9jdHguYXJjKHQsZSxpLG4sbyxhKSx0aGlzLl94aT1zYihvKSppK3QsdGhpcy5feWk9bGIobykqaSt0LHRoaXN9LGFyY1RvOmZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuIHRoaXMuX2N0eCYmdGhpcy5fY3R4LmFyY1RvKHQsZSxpLG4sbyksdGhpc30scmVjdDpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdGhpcy5fY3R4JiZ0aGlzLl9jdHgucmVjdCh0LGUsaSxuKSx0aGlzLmFkZERhdGEodGIuUix0LGUsaSxuKSx0aGlzfSxjbG9zZVBhdGg6ZnVuY3Rpb24oKXt0aGlzLmFkZERhdGEodGIuWik7dmFyIHQ9dGhpcy5fY3R4LGU9dGhpcy5feDAsaT10aGlzLl95MDtyZXR1cm4gdCYmKHRoaXMuX25lZWRzRGFzaCgpJiZ0aGlzLl9kYXNoZWRMaW5lVG8oZSxpKSx0LmNsb3NlUGF0aCgpKSx0aGlzLl94aT1lLHRoaXMuX3lpPWksdGhpc30sZmlsbDpmdW5jdGlvbih0KXt0JiZ0LmZpbGwoKSx0aGlzLnRvU3RhdGljKCl9LHN0cm9rZTpmdW5jdGlvbih0KXt0JiZ0LnN0cm9rZSgpLHRoaXMudG9TdGF0aWMoKX0sc2V0TGluZURhc2g6ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXt0aGlzLl9saW5lRGFzaD10LHRoaXMuX2Rhc2hJZHg9MDtmb3IodmFyIGU9MCxpPTA7aTx0Lmxlbmd0aDtpKyspZSs9dFtpXTt0aGlzLl9kYXNoU3VtPWV9cmV0dXJuIHRoaXN9LHNldExpbmVEYXNoT2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXNoT2Zmc2V0PXQsdGhpc30sbGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbn0sc2V0RGF0YTpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLmRhdGEmJnRoaXMuZGF0YS5sZW5ndGg9PWV8fCFjYnx8KHRoaXMuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGUpKTtmb3IodmFyIGk9MDtpPGU7aSsrKXRoaXMuZGF0YVtpXT10W2ldO3RoaXMuX2xlbj1lfSxhcHBlbmRQYXRoOmZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3RdKTtmb3IodmFyIGU9dC5sZW5ndGgsaT0wLG49dGhpcy5fbGVuLG89MDtvPGU7bysrKWkrPXRbb10ubGVuKCk7Y2ImJnRoaXMuZGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSYmKHRoaXMuZGF0YT1uZXcgRmxvYXQzMkFycmF5KG4raSkpO2ZvcihvPTA7bzxlO28rKylmb3IodmFyIGE9dFtvXS5kYXRhLHI9MDtyPGEubGVuZ3RoO3IrKyl0aGlzLmRhdGFbbisrXT1hW3JdO3RoaXMuX2xlbj1ufSxhZGREYXRhOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX3NhdmVEYXRhKXt2YXIgZT10aGlzLmRhdGE7dGhpcy5fbGVuK2FyZ3VtZW50cy5sZW5ndGg+ZS5sZW5ndGgmJih0aGlzLl9leHBhbmREYXRhKCksZT10aGlzLmRhdGEpO2Zvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspZVt0aGlzLl9sZW4rK109YXJndW1lbnRzW2ldO3RoaXMuX3ByZXZDbWQ9dH19LF9leHBhbmREYXRhOmZ1bmN0aW9uKCl7aWYoISh0aGlzLmRhdGEgaW5zdGFuY2VvZiBBcnJheSkpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLl9sZW47ZSsrKXRbZV09dGhpcy5kYXRhW2VdO3RoaXMuZGF0YT10fX0sX25lZWRzRGFzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lRGFzaH0sX2Rhc2hlZExpbmVUbzpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbz10aGlzLl9kYXNoU3VtLGE9dGhpcy5fZGFzaE9mZnNldCxyPXRoaXMuX2xpbmVEYXNoLHM9dGhpcy5fY3R4LGw9dGhpcy5feGksdT10aGlzLl95aSxoPXQtbCxjPWUtdSxkPXViKGgqaCtjKmMpLGY9bCxwPXUsZz1yLmxlbmd0aDtmb3IoaC89ZCxjLz1kLGE8MCYmKGE9bythKSxmLT0oYSU9bykqaCxwLT1hKmM7aD4wJiZmPD10fHxoPDAmJmY+PXR8fDA9PWgmJihjPjAmJnA8PWV8fGM8MCYmcD49ZSk7KWYrPWgqKGk9cltuPXRoaXMuX2Rhc2hJZHhdKSxwKz1jKmksdGhpcy5fZGFzaElkeD0obisxKSVnLGg+MCYmZjxsfHxoPDAmJmY+bHx8Yz4wJiZwPHV8fGM8MCYmcD51fHxzW24lMj8ibW92ZVRvIjoibGluZVRvIl0oaD49MD9hYihmLHQpOnJiKGYsdCksYz49MD9hYihwLGUpOnJiKHAsZSkpO2g9Zi10LGM9cC1lLHRoaXMuX2Rhc2hPZmZzZXQ9LXViKGgqaCtjKmMpfSxfZGFzaGVkQmV6aWVyVG86ZnVuY3Rpb24odCxlLGksbixvLGEpe3ZhciByLHMsbCx1LGgsYz10aGlzLl9kYXNoU3VtLGQ9dGhpcy5fZGFzaE9mZnNldCxmPXRoaXMuX2xpbmVEYXNoLHA9dGhpcy5fY3R4LGc9dGhpcy5feGksbT10aGlzLl95aSx2PVhpLHk9MCx4PXRoaXMuX2Rhc2hJZHgsXz1mLmxlbmd0aCx3PTA7Zm9yKGQ8MCYmKGQ9YytkKSxkJT1jLHI9MDtyPDE7cis9LjEpcz12KGcsdCxpLG8scisuMSktdihnLHQsaSxvLHIpLGw9dihtLGUsbixhLHIrLjEpLXYobSxlLG4sYSxyKSx5Kz11YihzKnMrbCpsKTtmb3IoO3g8XyYmISgodys9Zlt4XSk+ZCk7eCsrKTtmb3Iocj0ody1kKS95O3I8PTE7KXU9dihnLHQsaSxvLHIpLGg9dihtLGUsbixhLHIpLHglMj9wLm1vdmVUbyh1LGgpOnAubGluZVRvKHUsaCkscis9Zlt4XS95LHg9KHgrMSklXzt4JTIhPTAmJnAubGluZVRvKG8sYSkscz1vLXUsbD1hLWgsdGhpcy5fZGFzaE9mZnNldD0tdWIocypzK2wqbCl9LF9kYXNoZWRRdWFkcmF0aWNUbzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1pLGE9bjtpPShpKzIqdCkvMyxuPShuKzIqZSkvMyx0PSh0aGlzLl94aSsyKnQpLzMsZT0odGhpcy5feWkrMiplKS8zLHRoaXMuX2Rhc2hlZEJlemllclRvKHQsZSxpLG4sbyxhKX0sdG9TdGF0aWM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGE7dCBpbnN0YW5jZW9mIEFycmF5JiYodC5sZW5ndGg9dGhpcy5fbGVuLGNiJiYodGhpcy5kYXRhPW5ldyBGbG9hdDMyQXJyYXkodCkpKX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7ZWJbMF09ZWJbMV09bmJbMF09bmJbMV09TnVtYmVyLk1BWF9WQUxVRSxpYlswXT1pYlsxXT1vYlswXT1vYlsxXT0tTnVtYmVyLk1BWF9WQUxVRTtmb3IodmFyIHQ9dGhpcy5kYXRhLGU9MCxpPTAsbj0wLG89MCxhPTA7YTx0Lmxlbmd0aDspe3ZhciByPXRbYSsrXTtzd2l0Y2goMT09YSYmKG49ZT10W2FdLG89aT10W2ErMV0pLHIpe2Nhc2UgdGIuTTplPW49dFthKytdLGk9bz10W2ErK10sbmJbMF09bixuYlsxXT1vLG9iWzBdPW4sb2JbMV09bzticmVhaztjYXNlIHRiLkw6c24oZSxpLHRbYV0sdFthKzFdLG5iLG9iKSxlPXRbYSsrXSxpPXRbYSsrXTticmVhaztjYXNlIHRiLkM6bG4oZSxpLHRbYSsrXSx0W2ErK10sdFthKytdLHRbYSsrXSx0W2FdLHRbYSsxXSxuYixvYiksZT10W2ErK10saT10W2ErK107YnJlYWs7Y2FzZSB0Yi5ROnVuKGUsaSx0W2ErK10sdFthKytdLHRbYV0sdFthKzFdLG5iLG9iKSxlPXRbYSsrXSxpPXRbYSsrXTticmVhaztjYXNlIHRiLkE6dmFyIHM9dFthKytdLGw9dFthKytdLHU9dFthKytdLGg9dFthKytdLGM9dFthKytdLGQ9dFthKytdK2MsZj0odFthKytdLDEtdFthKytdKTsxPT1hJiYobj1zYihjKSp1K3Msbz1sYihjKSpoK2wpLGhuKHMsbCx1LGgsYyxkLGYsbmIsb2IpLGU9c2IoZCkqdStzLGk9bGIoZCkqaCtsO2JyZWFrO2Nhc2UgdGIuUjpzbihuPWU9dFthKytdLG89aT10W2ErK10sbit0W2ErK10sbyt0W2ErK10sbmIsb2IpO2JyZWFrO2Nhc2UgdGIuWjplPW4saT1vfXR0KGViLGViLG5iKSxldChpYixpYixvYil9cmV0dXJuIDA9PT1hJiYoZWJbMF09ZWJbMV09aWJbMF09aWJbMV09MCksbmV3IEt0KGViWzBdLGViWzFdLGliWzBdLWViWzBdLGliWzFdLWViWzFdKX0scmVidWlsZFBhdGg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbixvLGEscixzPXRoaXMuZGF0YSxsPXRoaXMuX3V4LHU9dGhpcy5fdXksaD10aGlzLl9sZW4sYz0wO2M8aDspe3ZhciBkPXNbYysrXTtzd2l0Y2goMT09YyYmKGU9bj1zW2NdLGk9bz1zW2MrMV0pLGQpe2Nhc2UgdGIuTTplPW49c1tjKytdLGk9bz1zW2MrK10sdC5tb3ZlVG8obixvKTticmVhaztjYXNlIHRiLkw6YT1zW2MrK10scj1zW2MrK10sKGhiKGEtbik+bHx8aGIoci1vKT51fHxjPT09aC0xKSYmKHQubGluZVRvKGEsciksbj1hLG89cik7YnJlYWs7Y2FzZSB0Yi5DOnQuYmV6aWVyQ3VydmVUbyhzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10sc1tjKytdLHNbYysrXSksbj1zW2MtMl0sbz1zW2MtMV07YnJlYWs7Y2FzZSB0Yi5ROnQucXVhZHJhdGljQ3VydmVUbyhzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10pLG49c1tjLTJdLG89c1tjLTFdO2JyZWFrO2Nhc2UgdGIuQTp2YXIgZj1zW2MrK10scD1zW2MrK10sZz1zW2MrK10sbT1zW2MrK10sdj1zW2MrK10seT1zW2MrK10seD1zW2MrK10sXz1zW2MrK10sdz1nPm0/ZzptLGI9Zz5tPzE6Zy9tLFM9Zz5tP20vZzoxLE09dit5O01hdGguYWJzKGctbSk+LjAwMT8odC50cmFuc2xhdGUoZixwKSx0LnJvdGF0ZSh4KSx0LnNjYWxlKGIsUyksdC5hcmMoMCwwLHcsdixNLDEtXyksdC5zY2FsZSgxL2IsMS9TKSx0LnJvdGF0ZSgteCksdC50cmFuc2xhdGUoLWYsLXApKTp0LmFyYyhmLHAsdyx2LE0sMS1fKSwxPT1jJiYoZT1zYih2KSpnK2YsaT1sYih2KSptK3ApLG49c2IoTSkqZytmLG89bGIoTSkqbStwO2JyZWFrO2Nhc2UgdGIuUjplPW49c1tjXSxpPW89c1tjKzFdLHQucmVjdChzW2MrK10sc1tjKytdLHNbYysrXSxzW2MrK10pO2JyZWFrO2Nhc2UgdGIuWjp0LmNsb3NlUGF0aCgpLG49ZSxvPWl9fX19LGRiLkNNRD10Yjt2YXIgZmI9MipNYXRoLlBJLHBiPTIqTWF0aC5QSSxnYj1kYi5DTUQsbWI9MipNYXRoLlBJLHZiPTFlLTQseWI9Wy0xLC0xLC0xXSx4Yj1bLTEsLTFdLF9iPUZfLnByb3RvdHlwZS5nZXRDYW52YXNQYXR0ZXJuLHdiPU1hdGguYWJzLGJiPW5ldyBkYighMCk7SW4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpJbix0eXBlOiJwYXRoIixfX2RpcnR5UGF0aDohMCxzdHJva2VDb250YWluVGhyZXNob2xkOjUsYnJ1c2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnN0eWxlLG49dGhpcy5wYXRofHxiYixvPWkuaGFzU3Ryb2tlKCksYT1pLmhhc0ZpbGwoKSxyPWkuZmlsbCxzPWkuc3Ryb2tlLGw9YSYmISFyLmNvbG9yU3RvcHMsdT1vJiYhIXMuY29sb3JTdG9wcyxoPWEmJiEhci5pbWFnZSxjPW8mJiEhcy5pbWFnZTtpZihpLmJpbmQodCx0aGlzLGUpLHRoaXMuc2V0VHJhbnNmb3JtKHQpLHRoaXMuX19kaXJ0eSl7dmFyIGQ7bCYmKGQ9ZHx8dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSx0aGlzLl9maWxsR3JhZGllbnQ9aS5nZXRHcmFkaWVudCh0LHIsZCkpLHUmJihkPWR8fHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksdGhpcy5fc3Ryb2tlR3JhZGllbnQ9aS5nZXRHcmFkaWVudCh0LHMsZCkpfWw/dC5maWxsU3R5bGU9dGhpcy5fZmlsbEdyYWRpZW50OmgmJih0LmZpbGxTdHlsZT1fYi5jYWxsKHIsdCkpLHU/dC5zdHJva2VTdHlsZT10aGlzLl9zdHJva2VHcmFkaWVudDpjJiYodC5zdHJva2VTdHlsZT1fYi5jYWxsKHMsdCkpO3ZhciBmPWkubGluZURhc2gscD1pLmxpbmVEYXNoT2Zmc2V0LGc9ISF0LnNldExpbmVEYXNoLG09dGhpcy5nZXRHbG9iYWxTY2FsZSgpO24uc2V0U2NhbGUobVswXSxtWzFdKSx0aGlzLl9fZGlydHlQYXRofHxmJiYhZyYmbz8obi5iZWdpblBhdGgodCksZiYmIWcmJihuLnNldExpbmVEYXNoKGYpLG4uc2V0TGluZURhc2hPZmZzZXQocCkpLHRoaXMuYnVpbGRQYXRoKG4sdGhpcy5zaGFwZSwhMSksdGhpcy5wYXRoJiYodGhpcy5fX2RpcnR5UGF0aD0hMSkpOih0LmJlZ2luUGF0aCgpLHRoaXMucGF0aC5yZWJ1aWxkUGF0aCh0KSksYSYmbi5maWxsKHQpLGYmJmcmJih0LnNldExpbmVEYXNoKGYpLHQubGluZURhc2hPZmZzZXQ9cCksbyYmbi5zdHJva2UodCksZiYmZyYmdC5zZXRMaW5lRGFzaChbXSksbnVsbCE9aS50ZXh0JiYodGhpcy5yZXN0b3JlVHJhbnNmb3JtKHQpLHRoaXMuZHJhd1JlY3RUZXh0KHQsdGhpcy5nZXRCb3VuZGluZ1JlY3QoKSkpfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlLGkpe30sY3JlYXRlUGF0aFByb3h5OmZ1bmN0aW9uKCl7dGhpcy5wYXRoPW5ldyBkYn0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVjdCxlPXRoaXMuc3R5bGUsaT0hdDtpZihpKXt2YXIgbj10aGlzLnBhdGg7bnx8KG49dGhpcy5wYXRoPW5ldyBkYiksdGhpcy5fX2RpcnR5UGF0aCYmKG4uYmVnaW5QYXRoKCksdGhpcy5idWlsZFBhdGgobix0aGlzLnNoYXBlLCExKSksdD1uLmdldEJvdW5kaW5nUmVjdCgpfWlmKHRoaXMuX3JlY3Q9dCxlLmhhc1N0cm9rZSgpKXt2YXIgbz10aGlzLl9yZWN0V2l0aFN0cm9rZXx8KHRoaXMuX3JlY3RXaXRoU3Ryb2tlPXQuY2xvbmUoKSk7aWYodGhpcy5fX2RpcnR5fHxpKXtvLmNvcHkodCk7dmFyIGE9ZS5saW5lV2lkdGgscj1lLnN0cm9rZU5vU2NhbGU/dGhpcy5nZXRMaW5lU2NhbGUoKToxO2UuaGFzRmlsbCgpfHwoYT1NYXRoLm1heChhLHRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZHx8NCkpLHI+MWUtMTAmJihvLndpZHRoKz1hL3Isby5oZWlnaHQrPWEvcixvLngtPWEvci8yLG8ueS09YS9yLzIpfXJldHVybiBvfXJldHVybiB0fSxjb250YWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxuPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksbz10aGlzLnN0eWxlO2lmKHQ9aVswXSxlPWlbMV0sbi5jb250YWluKHQsZSkpe3ZhciBhPXRoaXMucGF0aC5kYXRhO2lmKG8uaGFzU3Ryb2tlKCkpe3ZhciByPW8ubGluZVdpZHRoLHM9by5zdHJva2VOb1NjYWxlP3RoaXMuZ2V0TGluZVNjYWxlKCk6MTtpZihzPjFlLTEwJiYoby5oYXNGaWxsKCl8fChyPU1hdGgubWF4KHIsdGhpcy5zdHJva2VDb250YWluVGhyZXNob2xkKSksTW4oYSxyL3MsdCxlKSkpcmV0dXJuITB9aWYoby5oYXNGaWxsKCkpcmV0dXJuIFNuKGEsdCxlKX1yZXR1cm4hMX0sZGlydHk6ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9ITApLHQmJih0aGlzLl9fZGlydHlQYXRoPXQsdGhpcy5fcmVjdD1udWxsKSx0aGlzLl9fZGlydHk9ITAsdGhpcy5fX3pyJiZ0aGlzLl9fenIucmVmcmVzaCgpLHRoaXMuX19jbGlwVGFyZ2V0JiZ0aGlzLl9fY2xpcFRhcmdldC5kaXJ0eSgpfSxhbmltYXRlU2hhcGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5pbWF0ZSgic2hhcGUiLHQpfSxhdHRyS1Y6ZnVuY3Rpb24odCxlKXsic2hhcGUiPT09dD8odGhpcy5zZXRTaGFwZShlKSx0aGlzLl9fZGlydHlQYXRoPSEwLHRoaXMuX3JlY3Q9bnVsbCk6S2UucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsdCxlKX0sc2V0U2hhcGU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnNoYXBlO2lmKGkpe2lmKHcodCkpZm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGlbbl09dFtuXSk7ZWxzZSBpW3RdPWU7dGhpcy5kaXJ0eSghMCl9cmV0dXJuIHRoaXN9LGdldExpbmVTY2FsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudHJhbnNmb3JtO3JldHVybiB0JiZ3Yih0WzBdLTEpPjFlLTEwJiZ3Yih0WzNdLTEpPjFlLTEwP01hdGguc3FydCh3Yih0WzBdKnRbM10tdFsyXSp0WzFdKSk6MX19LEluLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlKXtJbi5jYWxsKHRoaXMsZSksdC5zdHlsZSYmdGhpcy5zdHlsZS5leHRlbmRGcm9tKHQuc3R5bGUsITEpO3ZhciBpPXQuc2hhcGU7aWYoaSl7dGhpcy5zaGFwZT10aGlzLnNoYXBlfHx7fTt2YXIgbj10aGlzLnNoYXBlO2Zvcih2YXIgbyBpbiBpKSFuLmhhc093blByb3BlcnR5KG8pJiZpLmhhc093blByb3BlcnR5KG8pJiYobltvXT1pW29dKX10LmluaXQmJnQuaW5pdC5jYWxsKHRoaXMsZSl9O3UoZSxJbik7Zm9yKHZhciBpIGluIHQpInN0eWxlIiE9PWkmJiJzaGFwZSIhPT1pJiYoZS5wcm90b3R5cGVbaV09dFtpXSk7cmV0dXJuIGV9LHUoSW4sS2UpO3ZhciBTYj1kYi5DTUQsTWI9W1tdLFtdLFtdXSxJYj1NYXRoLnNxcnQsRGI9TWF0aC5hdGFuMixUYj1mdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhLHIscyxsPXQuZGF0YSx1PVNiLk0saD1TYi5DLGM9U2IuTCxkPVNiLlIsZj1TYi5BLHA9U2IuUTtmb3Iobz0wLGE9MDtvPGwubGVuZ3RoOyl7c3dpdGNoKGk9bFtvKytdLGE9byxuPTAsaSl7Y2FzZSB1OmNhc2UgYzpuPTE7YnJlYWs7Y2FzZSBoOm49MzticmVhaztjYXNlIHA6bj0yO2JyZWFrO2Nhc2UgZjp2YXIgZz1lWzRdLG09ZVs1XSx2PUliKGVbMF0qZVswXStlWzFdKmVbMV0pLHk9SWIoZVsyXSplWzJdK2VbM10qZVszXSkseD1EYigtZVsxXS95LGVbMF0vdik7bFtvXSo9dixsW28rK10rPWcsbFtvXSo9eSxsW28rK10rPW0sbFtvKytdKj12LGxbbysrXSo9eSxsW28rK10rPXgsbFtvKytdKz14LGE9bys9MjticmVhaztjYXNlIGQ6c1swXT1sW28rK10sc1sxXT1sW28rK10sUShzLHMsZSksbFthKytdPXNbMF0sbFthKytdPXNbMV0sc1swXSs9bFtvKytdLHNbMV0rPWxbbysrXSxRKHMscyxlKSxsW2ErK109c1swXSxsW2ErK109c1sxXX1mb3Iocj0wO3I8bjtyKyspKHM9TWJbcl0pWzBdPWxbbysrXSxzWzFdPWxbbysrXSxRKHMscyxlKSxsW2ErK109c1swXSxsW2ErK109c1sxXX19LEFiPVsibSIsIk0iLCJsIiwiTCIsInYiLCJWIiwiaCIsIkgiLCJ6IiwiWiIsImMiLCJDIiwicSIsIlEiLCJ0IiwiVCIsInMiLCJTIiwiYSIsIkEiXSxDYj1NYXRoLnNxcnQsTGI9TWF0aC5zaW4sa2I9TWF0aC5jb3MsUGI9TWF0aC5QSSxOYj1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRbMF0qdFswXSt0WzFdKnRbMV0pfSxPYj1mdW5jdGlvbih0LGUpe3JldHVybih0WzBdKmVbMF0rdFsxXSplWzFdKS8oTmIodCkqTmIoZSkpfSxFYj1mdW5jdGlvbih0LGUpe3JldHVybih0WzBdKmVbMV08dFsxXSplWzBdPy0xOjEpKk1hdGguYWNvcyhPYih0LGUpKX0semI9ZnVuY3Rpb24odCl7S2UuY2FsbCh0aGlzLHQpfTt6Yi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnpiLHR5cGU6InRleHQiLGJydXNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zdHlsZTt0aGlzLl9fZGlydHkmJk5lKGkpLGkuZmlsbD1pLnN0cm9rZT1pLnNoYWRvd0JsdXI9aS5zaGFkb3dDb2xvcj1pLnNoYWRvd09mZnNldFg9aS5zaGFkb3dPZmZzZXRZPW51bGw7dmFyIG49aS50ZXh0O251bGwhPW4mJihuKz0iIiksaS5iaW5kKHQsdGhpcyxlKSwkZShuLGkpJiYodGhpcy5zZXRUcmFuc2Zvcm0odCksRWUodGhpcyx0LG4saSksdGhpcy5yZXN0b3JlVHJhbnNmb3JtKHQpKX0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtpZih0aGlzLl9fZGlydHkmJk5lKHQpLCF0aGlzLl9yZWN0KXt2YXIgZT10LnRleHQ7bnVsbCE9ZT9lKz0iIjplPSIiO3ZhciBpPW1lKHQudGV4dCsiIix0LmZvbnQsdC50ZXh0QWxpZ24sdC50ZXh0VmVydGljYWxBbGlnbix0LnRleHRQYWRkaW5nLHQucmljaCk7aWYoaS54Kz10Lnh8fDAsaS55Kz10Lnl8fDAsamUodC50ZXh0U3Ryb2tlLHQudGV4dFN0cm9rZVdpZHRoKSl7dmFyIG49dC50ZXh0U3Ryb2tlV2lkdGg7aS54LT1uLzIsaS55LT1uLzIsaS53aWR0aCs9bixpLmhlaWdodCs9bn10aGlzLl9yZWN0PWl9cmV0dXJuIHRoaXMuX3JlY3R9fSx1KHpiLEtlKTt2YXIgUmI9SW4uZXh0ZW5kKHt0eXBlOiJjaXJjbGUiLHNoYXBlOntjeDowLGN5OjAscjowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlLGkpe2kmJnQubW92ZVRvKGUuY3grZS5yLGUuY3kpLHQuYXJjKGUuY3gsZS5jeSxlLnIsMCwyKk1hdGguUEksITApfX0pLEJiPVtbInNoYWRvd0JsdXIiLDBdLFsic2hhZG93Q29sb3IiLCIjMDAwIl0sWyJzaGFkb3dPZmZzZXRYIiwwXSxbInNoYWRvd09mZnNldFkiLDBdXSxWYj1mdW5jdGlvbih0KXtyZXR1cm4gQXguYnJvd3Nlci5pZSYmQXguYnJvd3Nlci52ZXJzaW9uPj0xMT9mdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5fX2NsaXBQYXRocyxuPXRoaXMuc3R5bGU7aWYoaSlmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSxyPWEmJmEuc2hhcGUscz1hJiZhLnR5cGU7aWYociYmKCJzZWN0b3IiPT09cyYmci5zdGFydEFuZ2xlPT09ci5lbmRBbmdsZXx8InJlY3QiPT09cyYmKCFyLndpZHRofHwhci5oZWlnaHQpKSl7Zm9yKGw9MDtsPEJiLmxlbmd0aDtsKyspQmJbbF1bMl09bltCYltsXVswXV0sbltCYltsXVswXV09QmJbbF1bMV07ZT0hMDticmVha319aWYodC5hcHBseSh0aGlzLGFyZ3VtZW50cyksZSlmb3IodmFyIGw9MDtsPEJiLmxlbmd0aDtsKyspbltCYltsXVswXV09QmJbbF1bMl19OnR9LEdiPUluLmV4dGVuZCh7dHlwZToic2VjdG9yIixzaGFwZTp7Y3g6MCxjeTowLHIwOjAscjowLHN0YXJ0QW5nbGU6MCxlbmRBbmdsZToyKk1hdGguUEksY2xvY2t3aXNlOiEwfSxicnVzaDpWYihJbi5wcm90b3R5cGUuYnJ1c2gpLGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89TWF0aC5tYXgoZS5yMHx8MCwwKSxhPU1hdGgubWF4KGUuciwwKSxyPWUuc3RhcnRBbmdsZSxzPWUuZW5kQW5nbGUsbD1lLmNsb2Nrd2lzZSx1PU1hdGguY29zKHIpLGg9TWF0aC5zaW4ocik7dC5tb3ZlVG8odSpvK2ksaCpvK24pLHQubGluZVRvKHUqYStpLGgqYStuKSx0LmFyYyhpLG4sYSxyLHMsIWwpLHQubGluZVRvKE1hdGguY29zKHMpKm8raSxNYXRoLnNpbihzKSpvK24pLDAhPT1vJiZ0LmFyYyhpLG4sbyxzLHIsbCksdC5jbG9zZVBhdGgoKX19KSxGYj1Jbi5leHRlbmQoe3R5cGU6InJpbmciLHNoYXBlOntjeDowLGN5OjAscjowLHIwOjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89MipNYXRoLlBJO3QubW92ZVRvKGkrZS5yLG4pLHQuYXJjKGksbixlLnIsMCxvLCExKSx0Lm1vdmVUbyhpK2UucjAsbiksdC5hcmMoaSxuLGUucjAsMCxvLCEwKX19KSxXYj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10Lmxlbmd0aCxuPVtdLG89MCxhPTE7YTxpO2ErKylvKz0kKHRbYS0xXSx0W2FdKTt2YXIgcj1vLzI7cj1yPGk/aTpyO2ZvcihhPTA7YTxyO2ErKyl7dmFyIHMsbCx1LGg9YS8oci0xKSooZT9pOmktMSksYz1NYXRoLmZsb29yKGgpLGQ9aC1jLGY9dFtjJWldO2U/KHM9dFsoYy0xK2kpJWldLGw9dFsoYysxKSVpXSx1PXRbKGMrMiklaV0pOihzPXRbMD09PWM/YzpjLTFdLGw9dFtjPmktMj9pLTE6YysxXSx1PXRbYz5pLTM/aS0xOmMrMl0pO3ZhciBwPWQqZCxnPWQqcDtuLnB1c2goW2tuKHNbMF0sZlswXSxsWzBdLHVbMF0sZCxwLGcpLGtuKHNbMV0sZlsxXSxsWzFdLHVbMV0sZCxwLGcpXSl9cmV0dXJuIG59LEhiPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLGEscixzLGw9W10sdT1bXSxoPVtdLGM9W107aWYobil7cj1bMS8wLDEvMF0scz1bLTEvMCwtMS8wXTtmb3IodmFyIGQ9MCxmPXQubGVuZ3RoO2Q8ZjtkKyspdHQocixyLHRbZF0pLGV0KHMscyx0W2RdKTt0dChyLHIsblswXSksZXQocyxzLG5bMV0pfWZvcih2YXIgZD0wLGY9dC5sZW5ndGg7ZDxmO2QrKyl7dmFyIHA9dFtkXTtpZihpKW89dFtkP2QtMTpmLTFdLGE9dFsoZCsxKSVmXTtlbHNle2lmKDA9PT1kfHxkPT09Zi0xKXtsLnB1c2goRih0W2RdKSk7Y29udGludWV9bz10W2QtMV0sYT10W2QrMV19VSh1LGEsbyksWSh1LHUsZSk7dmFyIGc9JChwLG8pLG09JChwLGEpLHY9ZyttOzAhPT12JiYoZy89dixtLz12KSxZKGgsdSwtZyksWShjLHUsbSk7dmFyIHk9SChbXSxwLGgpLHg9SChbXSxwLGMpO24mJihldCh5LHksciksdHQoeSx5LHMpLGV0KHgseCxyKSx0dCh4LHgscykpLGwucHVzaCh5KSxsLnB1c2goeCl9cmV0dXJuIGkmJmwucHVzaChsLnNoaWZ0KCkpLGx9LFpiPUluLmV4dGVuZCh7dHlwZToicG9seWdvbiIsc2hhcGU6e3BvaW50czpudWxsLHNtb290aDohMSxzbW9vdGhDb25zdHJhaW50Om51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe1BuKHQsZSwhMCl9fSksVWI9SW4uZXh0ZW5kKHt0eXBlOiJwb2x5bGluZSIsc2hhcGU6e3BvaW50czpudWxsLHNtb290aDohMSxzbW9vdGhDb25zdHJhaW50Om51bGx9LHN0eWxlOntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7UG4odCxlLCExKX19KSxqYj1Jbi5leHRlbmQoe3R5cGU6InJlY3QiLHNoYXBlOntyOjAseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLngsbj1lLnksbz1lLndpZHRoLGE9ZS5oZWlnaHQ7ZS5yP1BlKHQsZSk6dC5yZWN0KGksbixvLGEpLHQuY2xvc2VQYXRoKCl9fSksWGI9SW4uZXh0ZW5kKHt0eXBlOiJsaW5lIixzaGFwZTp7eDE6MCx5MTowLHgyOjAseTI6MCxwZXJjZW50OjF9LHN0eWxlOntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54MSxuPWUueTEsbz1lLngyLGE9ZS55MixyPWUucGVyY2VudDswIT09ciYmKHQubW92ZVRvKGksbikscjwxJiYobz1pKigxLXIpK28qcixhPW4qKDEtcikrYSpyKSx0LmxpbmVUbyhvLGEpKX0scG9pbnRBdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlO3JldHVybltlLngxKigxLXQpK2UueDIqdCxlLnkxKigxLXQpK2UueTIqdF19fSksWWI9W10scWI9SW4uZXh0ZW5kKHt0eXBlOiJiZXppZXItY3VydmUiLHNoYXBlOnt4MTowLHkxOjAseDI6MCx5MjowLGNweDE6MCxjcHkxOjAscGVyY2VudDoxfSxzdHlsZTp7c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUueDEsbj1lLnkxLG89ZS54MixhPWUueTIscj1lLmNweDEscz1lLmNweTEsbD1lLmNweDIsdT1lLmNweTIsaD1lLnBlcmNlbnQ7MCE9PWgmJih0Lm1vdmVUbyhpLG4pLG51bGw9PWx8fG51bGw9PXU/KGg8MSYmKG9uKGkscixvLGgsWWIpLHI9WWJbMV0sbz1ZYlsyXSxvbihuLHMsYSxoLFliKSxzPVliWzFdLGE9WWJbMl0pLHQucXVhZHJhdGljQ3VydmVUbyhyLHMsbyxhKSk6KGg8MSYmKEtpKGkscixsLG8saCxZYikscj1ZYlsxXSxsPVliWzJdLG89WWJbM10sS2kobixzLHUsYSxoLFliKSxzPVliWzFdLHU9WWJbMl0sYT1ZYlszXSksdC5iZXppZXJDdXJ2ZVRvKHIscyxsLHUsbyxhKSkpfSxwb2ludEF0OmZ1bmN0aW9uKHQpe3JldHVybiBObih0aGlzLnNoYXBlLHQsITEpfSx0YW5nZW50QXQ6ZnVuY3Rpb24odCl7dmFyIGU9Tm4odGhpcy5zaGFwZSx0LCEwKTtyZXR1cm4gcShlLGUpfX0pLCRiPUluLmV4dGVuZCh7dHlwZToiYXJjIixzaGFwZTp7Y3g6MCxjeTowLHI6MCxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJLGNsb2Nrd2lzZTohMH0sc3R5bGU6e3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPU1hdGgubWF4KGUuciwwKSxhPWUuc3RhcnRBbmdsZSxyPWUuZW5kQW5nbGUscz1lLmNsb2Nrd2lzZSxsPU1hdGguY29zKGEpLHU9TWF0aC5zaW4oYSk7dC5tb3ZlVG8obCpvK2ksdSpvK24pLHQuYXJjKGksbixvLGEsciwhcyl9fSksS2I9SW4uZXh0ZW5kKHt0eXBlOiJjb21wb3VuZCIsc2hhcGU6e3BhdGhzOm51bGx9LF91cGRhdGVQYXRoRGlydHk6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fX2RpcnR5UGF0aCxlPXRoaXMuc2hhcGUucGF0aHMsaT0wO2k8ZS5sZW5ndGg7aSsrKXQ9dHx8ZVtpXS5fX2RpcnR5UGF0aDt0aGlzLl9fZGlydHlQYXRoPXQsdGhpcy5fX2RpcnR5PXRoaXMuX19kaXJ0eXx8dH0sYmVmb3JlQnJ1c2g6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVQYXRoRGlydHkoKTtmb3IodmFyIHQ9dGhpcy5zaGFwZS5wYXRoc3x8W10sZT10aGlzLmdldEdsb2JhbFNjYWxlKCksaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0ucGF0aHx8dFtpXS5jcmVhdGVQYXRoUHJveHkoKSx0W2ldLnBhdGguc2V0U2NhbGUoZVswXSxlWzFdKX0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPWUucGF0aHN8fFtdLG49MDtuPGkubGVuZ3RoO24rKylpW25dLmJ1aWxkUGF0aCh0LGlbbl0uc2hhcGUsITApfSxhZnRlckJydXNoOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc2hhcGUucGF0aHN8fFtdLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLl9fZGlydHlQYXRoPSExfSxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlUGF0aERpcnR5KCksSW4ucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdC5jYWxsKHRoaXMpfX0pLEpiPWZ1bmN0aW9uKHQpe3RoaXMuY29sb3JTdG9wcz10fHxbXX07SmIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpKYixhZGRDb2xvclN0b3A6ZnVuY3Rpb24odCxlKXt0aGlzLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnQsY29sb3I6ZX0pfX07dmFyIFFiPWZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt0aGlzLng9bnVsbD09dD8wOnQsdGhpcy55PW51bGw9PWU/MDplLHRoaXMueDI9bnVsbD09aT8xOmksdGhpcy55Mj1udWxsPT1uPzA6bix0aGlzLnR5cGU9ImxpbmVhciIsdGhpcy5nbG9iYWw9YXx8ITEsSmIuY2FsbCh0aGlzLG8pfTtRYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlFifSx1KFFiLEpiKTt2YXIgdFM9ZnVuY3Rpb24odCxlLGksbixvKXt0aGlzLng9bnVsbD09dD8uNTp0LHRoaXMueT1udWxsPT1lPy41OmUsdGhpcy5yPW51bGw9PWk/LjU6aSx0aGlzLnR5cGU9InJhZGlhbCIsdGhpcy5nbG9iYWw9b3x8ITEsSmIuY2FsbCh0aGlzLG4pfTt0Uy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnRTfSx1KHRTLEpiKSxPbi5wcm90b3R5cGUuaW5jcmVtZW50YWw9ITAsT24ucHJvdG90eXBlLmNsZWFyRGlzcGxheWJsZXM9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwbGF5YWJsZXM9W10sdGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzPVtdLHRoaXMuX2N1cnNvcj0wLHRoaXMuZGlydHkoKSx0aGlzLm5vdENsZWFyPSExfSxPbi5wcm90b3R5cGUuYWRkRGlzcGxheWFibGU9ZnVuY3Rpb24odCxlKXtlP3RoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcy5wdXNoKHQpOnRoaXMuX2Rpc3BsYXlhYmxlcy5wdXNoKHQpLHRoaXMuZGlydHkoKX0sT24ucHJvdG90eXBlLmFkZERpc3BsYXlhYmxlcz1mdW5jdGlvbih0LGUpe2U9ZXx8ITE7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy5hZGREaXNwbGF5YWJsZSh0W2ldLGUpfSxPbi5wcm90b3R5cGUuZWFjaFBlbmRpbmdEaXNwbGF5YWJsZT1mdW5jdGlvbih0KXtmb3IoZT10aGlzLl9jdXJzb3I7ZTx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl0JiZ0KHRoaXMuX2Rpc3BsYXlhYmxlc1tlXSk7Zm9yKHZhciBlPTA7ZTx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl0JiZ0KHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1tlXSl9LE9uLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO2Zvcih0PXRoaXMuX2N1cnNvcjt0PHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7dCsrKShlPXRoaXMuX2Rpc3BsYXlhYmxlc1t0XSkucGFyZW50PXRoaXMsZS51cGRhdGUoKSxlLnBhcmVudD1udWxsO2Zvcih2YXIgdD0wO3Q8dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1t0XTtlLnBhcmVudD10aGlzLGUudXBkYXRlKCksZS5wYXJlbnQ9bnVsbH19LE9uLnByb3RvdHlwZS5icnVzaD1mdW5jdGlvbih0LGUpe2ZvcihpPXRoaXMuX2N1cnNvcjtpPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7aSsrKShuPXRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1tpXSkuYmVmb3JlQnJ1c2gmJm4uYmVmb3JlQnJ1c2godCksbi5icnVzaCh0LGk9PT10aGlzLl9jdXJzb3I/bnVsbDp0aGlzLl9kaXNwbGF5YWJsZXNbaS0xXSksbi5hZnRlckJydXNoJiZuLmFmdGVyQnJ1c2godCk7dGhpcy5fY3Vyc29yPWk7Zm9yKHZhciBpPTA7aTx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW2ldO24uYmVmb3JlQnJ1c2gmJm4uYmVmb3JlQnJ1c2godCksbi5icnVzaCh0LDA9PT1pP251bGw6dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzW2ktMV0pLG4uYWZ0ZXJCcnVzaCYmbi5hZnRlckJydXNoKHQpfXRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlcz1bXSx0aGlzLm5vdENsZWFyPSEwfTt2YXIgZVM9W107T24ucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe2lmKCF0aGlzLl9yZWN0KXtmb3IodmFyIHQ9bmV3IEt0KDEvMCwxLzAsLTEvMCwtMS8wKSxlPTA7ZTx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5fZGlzcGxheWFibGVzW2VdLG49aS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO2kubmVlZExvY2FsVHJhbnNmb3JtKCkmJm4uYXBwbHlUcmFuc2Zvcm0oaS5nZXRMb2NhbFRyYW5zZm9ybShlUykpLHQudW5pb24obil9dGhpcy5fcmVjdD10fXJldHVybiB0aGlzLl9yZWN0fSxPbi5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSk7aWYodGhpcy5nZXRCb3VuZGluZ1JlY3QoKS5jb250YWluKGlbMF0saVsxXSkpZm9yKHZhciBuPTA7bjx0aGlzLl9kaXNwbGF5YWJsZXMubGVuZ3RoO24rKylpZih0aGlzLl9kaXNwbGF5YWJsZXNbbl0uY29udGFpbih0LGUpKXJldHVybiEwO3JldHVybiExfSx1KE9uLEtlKTt2YXIgaVM9TWF0aC5yb3VuZCxuUz1NYXRoLm1heCxvUz1NYXRoLm1pbixhUz17fSxyUz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1bXSxuPXQubGVuZ3RoLG89MDtvPG47bysrKXt2YXIgYT10W29dO2EucGF0aHx8YS5jcmVhdGVQYXRoUHJveHkoKSxhLl9fZGlydHlQYXRoJiZhLmJ1aWxkUGF0aChhLnBhdGgsYS5zaGFwZSwhMCksaS5wdXNoKGEucGF0aCl9dmFyIHI9bmV3IEluKGUpO3JldHVybiByLmNyZWF0ZVBhdGhQcm94eSgpLHIuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe3QuYXBwZW5kUGF0aChpKTt2YXIgZT10LmdldENvbnRleHQoKTtlJiZ0LnJlYnVpbGRQYXRoKGUpfSxyfSxzUz0oT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KSh7ZXh0ZW5kU2hhcGU6RW4sZXh0ZW5kUGF0aDpmdW5jdGlvbih0LGUpe3JldHVybiBMbih0LGUpfSxtYWtlUGF0aDp6bixtYWtlSW1hZ2U6Um4sbWVyZ2VQYXRoOnJTLHJlc2l6ZVBhdGg6Vm4sc3ViUGl4ZWxPcHRpbWl6ZUxpbmU6R24sc3ViUGl4ZWxPcHRpbWl6ZVJlY3Q6Rm4sc3ViUGl4ZWxPcHRpbWl6ZTpXbixzZXRIb3ZlclN0eWxlOmVvLHNldExhYmVsU3R5bGU6aW8sc2V0VGV4dFN0eWxlOm5vLHNldFRleHQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG89e2lzUmVjdFRleHQ6ITB9OyExPT09aT9uPSEwOm8uYXV0b0NvbG9yPWksb28odCxlLG8sbiksdC5ob3N0JiZ0Lmhvc3QuZGlydHkmJnQuaG9zdC5kaXJ0eSghMSl9LGdldEZvbnQ6aG8sdXBkYXRlUHJvcHM6Zm8saW5pdFByb3BzOnBvLGdldFRyYW5zZm9ybTpnbyxhcHBseVRyYW5zZm9ybTptbyx0cmFuc2Zvcm1EaXJlY3Rpb246dm8sZ3JvdXBUcmFuc2l0aW9uOnlvLGNsaXBQb2ludHNCeVJlY3Q6eG8sY2xpcFJlY3RCeVJlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1uUyh0LngsZS54KSxuPW9TKHQueCt0LndpZHRoLGUueCtlLndpZHRoKSxvPW5TKHQueSxlLnkpLGE9b1ModC55K3QuaGVpZ2h0LGUueStlLmhlaWdodCk7aWYobj49aSYmYT49bylyZXR1cm57eDppLHk6byx3aWR0aDpuLWksaGVpZ2h0OmEtb319LGNyZWF0ZUljb246X28sR3JvdXA6TF8sSW1hZ2U6SmUsVGV4dDp6YixDaXJjbGU6UmIsU2VjdG9yOkdiLFJpbmc6RmIsUG9seWdvbjpaYixQb2x5bGluZTpVYixSZWN0OmpiLExpbmU6WGIsQmV6aWVyQ3VydmU6cWIsQXJjOiRiLEluY3JlbWVudGFsRGlzcGxheWFibGU6T24sQ29tcG91bmRQYXRoOktiLExpbmVhckdyYWRpZW50OlFiLFJhZGlhbEdyYWRpZW50OnRTLEJvdW5kaW5nUmVjdDpLdH0pLGxTPVsidGV4dFN0eWxlIiwiY29sb3IiXSx1Uz17Z2V0VGV4dENvbG9yOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWNNb2RlbDtyZXR1cm4gdGhpcy5nZXRTaGFsbG93KCJjb2xvciIpfHwoIXQmJmU/ZS5nZXQobFMpOm51bGwpfSxnZXRGb250OmZ1bmN0aW9uKCl7cmV0dXJuIGhvKHtmb250U3R5bGU6dGhpcy5nZXRTaGFsbG93KCJmb250U3R5bGUiKSxmb250V2VpZ2h0OnRoaXMuZ2V0U2hhbGxvdygiZm9udFdlaWdodCIpLGZvbnRTaXplOnRoaXMuZ2V0U2hhbGxvdygiZm9udFNpemUiKSxmb250RmFtaWx5OnRoaXMuZ2V0U2hhbGxvdygiZm9udEZhbWlseSIpfSx0aGlzLmVjTW9kZWwpfSxnZXRUZXh0UmVjdDpmdW5jdGlvbih0KXtyZXR1cm4gbWUodCx0aGlzLmdldEZvbnQoKSx0aGlzLmdldFNoYWxsb3coImFsaWduIiksdGhpcy5nZXRTaGFsbG93KCJ2ZXJ0aWNhbEFsaWduIil8fHRoaXMuZ2V0U2hhbGxvdygiYmFzZWxpbmUiKSx0aGlzLmdldFNoYWxsb3coInBhZGRpbmciKSx0aGlzLmdldFNoYWxsb3coInJpY2giKSx0aGlzLmdldFNoYWxsb3coInRydW5jYXRlVGV4dCIpKX19LGhTPUx3KFtbImZpbGwiLCJjb2xvciJdLFsic3Ryb2tlIiwiYm9yZGVyQ29sb3IiXSxbImxpbmVXaWR0aCIsImJvcmRlcldpZHRoIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdLFsidGV4dFBvc2l0aW9uIl0sWyJ0ZXh0QWxpZ24iXV0pLGNTPXtnZXRJdGVtU3R5bGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1oUyh0aGlzLHQsZSksbj10aGlzLmdldEJvcmRlckxpbmVEYXNoKCk7cmV0dXJuIG4mJihpLmxpbmVEYXNoPW4pLGl9LGdldEJvcmRlckxpbmVEYXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoImJvcmRlclR5cGUiKTtyZXR1cm4ic29saWQiPT09dHx8bnVsbD09dD9udWxsOiJkYXNoZWQiPT09dD9bNSw1XTpbMSwxXX19LGRTPWgsZlM9TmkoKTt3by5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOndvLGluaXQ6bnVsbCxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXtuKHRoaXMub3B0aW9uLHQsITApfSxnZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbjpibyh0aGlzLm9wdGlvbix0aGlzLnBhcnNlUGF0aCh0KSwhZSYmU28odGhpcyx0KSl9LGdldFNoYWxsb3c6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbixuPW51bGw9PWk/aTppW3RdLG89IWUmJlNvKHRoaXMsdCk7cmV0dXJuIG51bGw9PW4mJm8mJihuPW8uZ2V0U2hhbGxvdyh0KSksbn0sZ2V0TW9kZWw6ZnVuY3Rpb24odCxlKXt2YXIgaSxuPW51bGw9PXQ/dGhpcy5vcHRpb246Ym8odGhpcy5vcHRpb24sdD10aGlzLnBhcnNlUGF0aCh0KSk7cmV0dXJuIGU9ZXx8KGk9U28odGhpcyx0KSkmJmkuZ2V0TW9kZWwodCksbmV3IHdvKG4sZSx0aGlzLmVjTW9kZWwpfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMub3B0aW9ufSxyZXN0b3JlRGF0YTpmdW5jdGlvbigpe30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3KDAsdGhpcy5jb25zdHJ1Y3RvcikoaSh0aGlzLm9wdGlvbikpfSxzZXRSZWFkT25seTpmdW5jdGlvbih0KXt9LHBhcnNlUGF0aDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoIi4iKSksdH0sY3VzdG9taXplR2V0UGFyZW50OmZ1bmN0aW9uKHQpe2ZTKHRoaXMpLmdldFBhcmVudD10fSxpc0FuaW1hdGlvbkVuYWJsZWQ6ZnVuY3Rpb24oKXtpZighQXgubm9kZSl7aWYobnVsbCE9dGhpcy5vcHRpb24uYW5pbWF0aW9uKXJldHVybiEhdGhpcy5vcHRpb24uYW5pbWF0aW9uO2lmKHRoaXMucGFyZW50TW9kZWwpcmV0dXJuIHRoaXMucGFyZW50TW9kZWwuaXNBbmltYXRpb25FbmFibGVkKCl9fX0sR2kod28pLEZpKHdvKSxkUyh3byxQdyksZFMod28sT3cpLGRTKHdvLHVTKSxkUyh3byxjUyk7dmFyIHBTPTAsZ1M9MWUtNCxtUz05MDA3MTk5MjU0NzQwOTkxLHZTPS9eKD86KFxkezR9KSg/OlstXC9dKFxkezEsMn0pKD86Wy1cL10oXGR7MSwyfSkoPzpbVCBdKFxkezEsMn0pKD86OihcZFxkKSg/OjooXGRcZCkoPzpbLixdKFxkKykpPyk/KT8oWnxbXCtcLV1cZFxkOj9cZFxkKT8pPyk/KT8pPyQvLHlTPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtsaW5lYXJNYXA6RG8scGFyc2VQZXJjZW50OlRvLHJvdW5kOkFvLGFzYzpDbyxnZXRQcmVjaXNpb246TG8sZ2V0UHJlY2lzaW9uU2FmZTprbyxnZXRQaXhlbFByZWNpc2lvbjpQbyxnZXRQZXJjZW50V2l0aFByZWNpc2lvbjpObyxNQVhfU0FGRV9JTlRFR0VSOm1TLHJlbVJhZGlhbjpPbyxpc1JhZGlhbkFyb3VuZFplcm86RW8scGFyc2VEYXRlOnpvLHF1YW50aXR5OlJvLG5pY2U6Vm8scmVmb3JtSW50ZXJ2YWxzOkdvLGlzTnVtZXJpYzpGb30pLHhTPUwsX1M9WyJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJnIl0sd1M9ZnVuY3Rpb24odCxlKXtyZXR1cm4ieyIrdCsobnVsbD09ZT8iIjplKSsifSJ9LGJTPWJlLFNTPW1lLE1TPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHthZGRDb21tYXM6V28sdG9DYW1lbENhc2U6SG8sbm9ybWFsaXplQ3NzQXJyYXk6eFMsZW5jb2RlSFRNTDpabyxmb3JtYXRUcGw6VW8sZm9ybWF0VHBsU2ltcGxlOmpvLGdldFRvb2x0aXBNYXJrZXI6WG8sZm9ybWF0VGltZTpxbyxjYXBpdGFsRmlyc3Q6JG8sdHJ1bmNhdGVUZXh0OmJTLGdldFRleHRSZWN0OlNTfSksSVM9ZCxEUz1bImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0Il0sVFM9W1sid2lkdGgiLCJsZWZ0IiwicmlnaHQiXSxbImhlaWdodCIsInRvcCIsImJvdHRvbSJdXSxBUz1LbyxDUz0odihLbywidmVydGljYWwiKSx2KEtvLCJob3Jpem9udGFsIikse2dldEJveExheW91dFBhcmFtczpmdW5jdGlvbigpe3JldHVybntsZWZ0OnRoaXMuZ2V0KCJsZWZ0IiksdG9wOnRoaXMuZ2V0KCJ0b3AiKSxyaWdodDp0aGlzLmdldCgicmlnaHQiKSxib3R0b206dGhpcy5nZXQoImJvdHRvbSIpLHdpZHRoOnRoaXMuZ2V0KCJ3aWR0aCIpLGhlaWdodDp0aGlzLmdldCgiaGVpZ2h0Iil9fX0pLExTPU5pKCksa1M9d28uZXh0ZW5kKHt0eXBlOiJjb21wb25lbnQiLGlkOiIiLG5hbWU6IiIsbWFpblR5cGU6IiIsc3ViVHlwZToiIixjb21wb25lbnRJbmRleDowLGRlZmF1bHRPcHRpb246bnVsbCxlY01vZGVsOm51bGwsZGVwZW5kZW50TW9kZWxzOltdLHVpZDpudWxsLGxheW91dE1vZGU6bnVsbCwkY29uc3RydWN0b3I6ZnVuY3Rpb24odCxlLGksbil7d28uY2FsbCh0aGlzLHQsZSxpLG4pLHRoaXMudWlkPU1vKCJlY19jcHRfbW9kZWwiKX0saW5pdDpmdW5jdGlvbih0LGUsaSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsaSl9LG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5sYXlvdXRNb2RlLG89aT9uYSh0KTp7fTtuKHQsZS5nZXRUaGVtZSgpLmdldCh0aGlzLm1haW5UeXBlKSksbih0LHRoaXMuZ2V0RGVmYXVsdE9wdGlvbigpKSxpJiZpYSh0LG8saSl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSl7bih0aGlzLm9wdGlvbix0LCEwKTt2YXIgaT10aGlzLmxheW91dE1vZGU7aSYmaWEodGhpcy5vcHRpb24sdCxpKX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbih0LGUpe30sZ2V0RGVmYXVsdE9wdGlvbjpmdW5jdGlvbigpe3ZhciB0PUxTKHRoaXMpO2lmKCF0LmRlZmF1bHRPcHRpb24pe2Zvcih2YXIgZT1bXSxpPXRoaXMuY29uc3RydWN0b3I7aTspe3ZhciBvPWkucHJvdG90eXBlLmRlZmF1bHRPcHRpb247byYmZS5wdXNoKG8pLGk9aS5zdXBlckNsYXNzfWZvcih2YXIgYT17fSxyPWUubGVuZ3RoLTE7cj49MDtyLS0pYT1uKGEsZVtyXSwhMCk7dC5kZWZhdWx0T3B0aW9uPWF9cmV0dXJuIHQuZGVmYXVsdE9wdGlvbn0sZ2V0UmVmZXJyaW5nQ29tcG9uZW50czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lY01vZGVsLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6dCxpbmRleDp0aGlzLmdldCh0KyJJbmRleCIsITApLGlkOnRoaXMuZ2V0KHQrIklkIiwhMCl9KX19KTtaaShrUyx7cmVnaXN0ZXJXaGVuRXh0ZW5kOiEwfSksZnVuY3Rpb24odCl7dmFyIGU9e307dC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXI9ZnVuY3Rpb24odCxpKXt0PUJpKHQpLGVbdC5tYWluXT1pfSx0LmRldGVybWluZVN1YlR5cGU9ZnVuY3Rpb24oaSxuKXt2YXIgbz1uLnR5cGU7aWYoIW8pe3ZhciBhPUJpKGkpLm1haW47dC5oYXNTdWJUeXBlcyhpKSYmZVthXSYmKG89ZVthXShuKSl9cmV0dXJuIG99fShrUyksZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBpPXt9LGE9W107cmV0dXJuIGQodCxmdW5jdGlvbihyKXt2YXIgcz1uKGksciksdT1vKHMub3JpZ2luYWxEZXBzPWUociksdCk7cy5lbnRyeUNvdW50PXUubGVuZ3RoLDA9PT1zLmVudHJ5Q291bnQmJmEucHVzaChyKSxkKHUsZnVuY3Rpb24odCl7bChzLnByZWRlY2Vzc29yLHQpPDAmJnMucHJlZGVjZXNzb3IucHVzaCh0KTt2YXIgZT1uKGksdCk7bChlLnN1Y2Nlc3Nvcix0KTwwJiZlLnN1Y2Nlc3Nvci5wdXNoKHIpfSl9KSx7Z3JhcGg6aSxub0VudHJ5TGlzdDphfX1mdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHRbZV18fCh0W2VdPXtwcmVkZWNlc3NvcjpbXSxzdWNjZXNzb3I6W119KSx0W2VdfWZ1bmN0aW9uIG8odCxlKXt2YXIgaT1bXTtyZXR1cm4gZCh0LGZ1bmN0aW9uKHQpe2woZSx0KT49MCYmaS5wdXNoKHQpfSksaX10LnRvcG9sb2dpY2FsVHJhdmVsPWZ1bmN0aW9uKHQsZSxuLG8pe2Z1bmN0aW9uIGEodCl7c1t0XS5lbnRyeUNvdW50LS0sMD09PXNbdF0uZW50cnlDb3VudCYmbC5wdXNoKHQpfWlmKHQubGVuZ3RoKXt2YXIgcj1pKGUpLHM9ci5ncmFwaCxsPXIubm9FbnRyeUxpc3QsdT17fTtmb3IoZCh0LGZ1bmN0aW9uKHQpe3VbdF09ITB9KTtsLmxlbmd0aDspe3ZhciBoPWwucG9wKCksYz1zW2hdLGY9ISF1W2hdO2YmJihuLmNhbGwobyxoLGMub3JpZ2luYWxEZXBzLnNsaWNlKCkpLGRlbGV0ZSB1W2hdKSxkKGMuc3VjY2Vzc29yLGY/ZnVuY3Rpb24odCl7dVt0XT0hMCxhKHQpfTphKX1kKHUsZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkNpcmNsZSBkZXBlbmRlbmN5IG1heSBleGlzdHMiKX0pfX19KGtTLGZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBkKGtTLmdldENsYXNzZXNCeU1haW5UeXBlKHQpLGZ1bmN0aW9uKHQpe2U9ZS5jb25jYXQodC5wcm90b3R5cGUuZGVwZW5kZW5jaWVzfHxbXSl9KSxlPWYoZSxmdW5jdGlvbih0KXtyZXR1cm4gQmkodCkubWFpbn0pLCJkYXRhc2V0IiE9PXQmJmwoZSwiZGF0YXNldCIpPD0wJiZlLnVuc2hpZnQoImRhdGFzZXQiKSxlfSksaChrUyxDUyk7dmFyIFBTPSIiOyJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYoUFM9bmF2aWdhdG9yLnBsYXRmb3JtfHwiIik7dmFyIE5TPXtjb2xvcjpbIiNjMjM1MzEiLCIjMmY0NTU0IiwiIzYxYTBhOCIsIiNkNDgyNjUiLCIjOTFjN2FlIiwiIzc0OWY4MyIsIiNjYTg2MjIiLCIjYmRhMjlhIiwiIzZlNzA3NCIsIiM1NDY1NzAiLCIjYzRjY2QzIl0sZ3JhZGllbnRDb2xvcjpbIiNmNmVmYTYiLCIjZDg4MjczIiwiI2JmNDQ0YyJdLHRleHRTdHlsZTp7Zm9udEZhbWlseTpQUy5tYXRjaCgvXldpbi8pPyJNaWNyb3NvZnQgWWFIZWkiOiJzYW5zLXNlcmlmIixmb250U2l6ZToxMixmb250U3R5bGU6Im5vcm1hbCIsZm9udFdlaWdodDoibm9ybWFsIn0sYmxlbmRNb2RlOm51bGwsYW5pbWF0aW9uOiJhdXRvIixhbmltYXRpb25EdXJhdGlvbjoxZTMsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6MzAwLGFuaW1hdGlvbkVhc2luZzoiZXhwb25lbnRpYWxPdXQiLGFuaW1hdGlvbkVhc2luZ1VwZGF0ZToiY3ViaWNPdXQiLGFuaW1hdGlvblRocmVzaG9sZDoyZTMscHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6M2UzLHByb2dyZXNzaXZlOjQwMCxob3ZlckxheWVyVGhyZXNob2xkOjNlMyx1c2VVVEM6ITF9LE9TPU5pKCksRVM9e2NsZWFyQ29sb3JQYWxldHRlOmZ1bmN0aW9uKCl7T1ModGhpcykuY29sb3JJZHg9MCxPUyh0aGlzKS5jb2xvck5hbWVNYXA9e319LGdldENvbG9yRnJvbVBhbGV0dGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPU9TKGU9ZXx8dGhpcyksbz1uLmNvbG9ySWR4fHwwLGE9bi5jb2xvck5hbWVNYXA9bi5jb2xvck5hbWVNYXB8fHt9O2lmKGEuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIGFbdF07dmFyIHI9U2kodGhpcy5nZXQoImNvbG9yIiwhMCkpLHM9dGhpcy5nZXQoImNvbG9yTGF5ZXIiLCEwKSxsPW51bGwhPWkmJnM/YWEocyxpKTpyO2lmKChsPWx8fHIpJiZsLmxlbmd0aCl7dmFyIHU9bFtvXTtyZXR1cm4gdCYmKGFbdF09dSksbi5jb2xvcklkeD0obysxKSVsLmxlbmd0aCx1fX19LHpTPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInhBeGlzIilbMF0sYT10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInlBeGlzIilbMF07ZS5jb29yZFN5c0RpbXM9WyJ4IiwieSJdLGkuc2V0KCJ4IixvKSxpLnNldCgieSIsYSksc2EobykmJihuLnNldCgieCIsbyksZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MCksc2EoYSkmJihuLnNldCgieSIsYSksZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MSl9LHNpbmdsZUF4aXM6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJzaW5nbGVBeGlzIilbMF07ZS5jb29yZFN5c0RpbXM9WyJzaW5nbGUiXSxpLnNldCgic2luZ2xlIixvKSxzYShvKSYmKG4uc2V0KCJzaW5nbGUiLG8pLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApfSxwb2xhcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoInBvbGFyIilbMF0sYT1vLmZpbmRBeGlzTW9kZWwoInJhZGl1c0F4aXMiKSxyPW8uZmluZEF4aXNNb2RlbCgiYW5nbGVBeGlzIik7ZS5jb29yZFN5c0RpbXM9WyJyYWRpdXMiLCJhbmdsZSJdLGkuc2V0KCJyYWRpdXMiLGEpLGkuc2V0KCJhbmdsZSIsciksc2EoYSkmJihuLnNldCgicmFkaXVzIixhKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0wKSxzYShyKSYmKG4uc2V0KCJhbmdsZSIsciksZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MSl9LGdlbzpmdW5jdGlvbih0LGUsaSxuKXtlLmNvb3JkU3lzRGltcz1bImxuZyIsImxhdCJdfSxwYXJhbGxlbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmVjTW9kZWwsYT1vLmdldENvbXBvbmVudCgicGFyYWxsZWwiLHQuZ2V0KCJwYXJhbGxlbEluZGV4IikpLHI9ZS5jb29yZFN5c0RpbXM9YS5kaW1lbnNpb25zLnNsaWNlKCk7ZChhLnBhcmFsbGVsQXhpc0luZGV4LGZ1bmN0aW9uKHQsYSl7dmFyIHM9by5nZXRDb21wb25lbnQoInBhcmFsbGVsQXhpcyIsdCksbD1yW2FdO2kuc2V0KGwscyksc2EocykmJm51bGw9PWUuZmlyc3RDYXRlZ29yeURpbUluZGV4JiYobi5zZXQobCxzKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD1hKX0pfX0sUlM9Im9yaWdpbmFsIixCUz0iYXJyYXlSb3dzIixWUz0ib2JqZWN0Um93cyIsR1M9ImtleWVkQ29sdW1ucyIsRlM9InVua25vd24iLFdTPSJ0eXBlZEFycmF5IixIUz0iY29sdW1uIixaUz0icm93IjtsYS5zZXJpZXNEYXRhVG9Tb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBsYSh7ZGF0YTp0LHNvdXJjZUZvcm1hdDpTKHQpP1dTOlJTLGZyb21EYXRhc2V0OiExfSl9LEZpKGxhKTt2YXIgVVM9TmkoKSxqUz0iXDBfZWNfaW5uZXIiLFhTPXdvLmV4dGVuZCh7Y29uc3RydWN0b3I6WFMsaW5pdDpmdW5jdGlvbih0LGUsaSxuKXtpPWl8fHt9LHRoaXMub3B0aW9uPW51bGwsdGhpcy5fdGhlbWU9bmV3IHdvKGkpLHRoaXMuX29wdGlvbk1hbmFnZXI9bn0sc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7ayghKGpTIGluIHQpLCJwbGVhc2UgdXNlIGNoYXJ0LmdldE9wdGlvbigpIiksdGhpcy5fb3B0aW9uTWFuYWdlci5zZXRPcHRpb24odCxlKSx0aGlzLnJlc2V0T3B0aW9uKG51bGwpfSxyZXNldE9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT0hMSxpPXRoaXMuX29wdGlvbk1hbmFnZXI7aWYoIXR8fCJyZWNyZWF0ZSI9PT10KXt2YXIgbj1pLm1vdW50T3B0aW9uKCJyZWNyZWF0ZSI9PT10KTt0aGlzLm9wdGlvbiYmInJlY3JlYXRlIiE9PXQ/KHRoaXMucmVzdG9yZURhdGEoKSx0aGlzLm1lcmdlT3B0aW9uKG4pKTpTYS5jYWxsKHRoaXMsbiksZT0hMH1pZigidGltZWxpbmUiIT09dCYmIm1lZGlhIiE9PXR8fHRoaXMucmVzdG9yZURhdGEoKSwhdHx8InJlY3JlYXRlIj09PXR8fCJ0aW1lbGluZSI9PT10KXt2YXIgbz1pLmdldFRpbWVsaW5lT3B0aW9uKHRoaXMpO28mJih0aGlzLm1lcmdlT3B0aW9uKG8pLGU9ITApfWlmKCF0fHwicmVjcmVhdGUiPT09dHx8Im1lZGlhIj09PXQpe3ZhciBhPWkuZ2V0TWVkaWFPcHRpb24odGhpcyx0aGlzLl9hcGkpO2EubGVuZ3RoJiZkKGEsZnVuY3Rpb24odCl7dGhpcy5tZXJnZU9wdGlvbih0LGU9ITApfSx0aGlzKX1yZXR1cm4gZX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24sbz10aGlzLl9jb21wb25lbnRzTWFwLHI9W107Y2EodGhpcyksZCh0LGZ1bmN0aW9uKHQsbyl7bnVsbCE9dCYmKGtTLmhhc0NsYXNzKG8pP28mJnIucHVzaChvKTplW29dPW51bGw9PWVbb10/aSh0KTpuKGVbb10sdCwhMCkpfSksa1MudG9wb2xvZ2ljYWxUcmF2ZWwocixrUy5nZXRBbGxDbGFzc01haW5UeXBlcygpLGZ1bmN0aW9uKGksbil7dmFyIHI9U2kodFtpXSkscz1UaShvLmdldChpKSxyKTtBaShzKSxkKHMsZnVuY3Rpb24odCxlKXt2YXIgbj10Lm9wdGlvbjt3KG4pJiYodC5rZXlJbmZvLm1haW5UeXBlPWksdC5rZXlJbmZvLnN1YlR5cGU9SWEoaSxuLHQuZXhpc3QpKX0pO3ZhciBsPU1hKG8sbik7ZVtpXT1bXSxvLnNldChpLFtdKSxkKHMsZnVuY3Rpb24odCxuKXt2YXIgcj10LmV4aXN0LHM9dC5vcHRpb247aWYoayh3KHMpfHxyLCJFbXB0eSBjb21wb25lbnQgZGVmaW5pdGlvbiIpLHMpe3ZhciB1PWtTLmdldENsYXNzKGksdC5rZXlJbmZvLnN1YlR5cGUsITApO2lmKHImJnIgaW5zdGFuY2VvZiB1KXIubmFtZT10LmtleUluZm8ubmFtZSxyLm1lcmdlT3B0aW9uKHMsdGhpcyksci5vcHRpb25VcGRhdGVkKHMsITEpO2Vsc2V7dmFyIGg9YSh7ZGVwZW5kZW50TW9kZWxzOmwsY29tcG9uZW50SW5kZXg6bn0sdC5rZXlJbmZvKTthKHI9bmV3IHUocyx0aGlzLHRoaXMsaCksaCksci5pbml0KHMsdGhpcyx0aGlzLGgpLHIub3B0aW9uVXBkYXRlZChudWxsLCEwKX19ZWxzZSByLm1lcmdlT3B0aW9uKHt9LHRoaXMpLHIub3B0aW9uVXBkYXRlZCh7fSwhMSk7by5nZXQoaSlbbl09cixlW2ldW25dPXIub3B0aW9ufSx0aGlzKSwic2VyaWVzIj09PWkmJkRhKHRoaXMsby5nZXQoInNlcmllcyIpKX0sdGhpcyksdGhpcy5fc2VyaWVzSW5kaWNlc01hcD16KHRoaXMuX3Nlcmllc0luZGljZXM9dGhpcy5fc2VyaWVzSW5kaWNlc3x8W10pfSxnZXRPcHRpb246ZnVuY3Rpb24oKXt2YXIgdD1pKHRoaXMub3B0aW9uKTtyZXR1cm4gZCh0LGZ1bmN0aW9uKGUsaSl7aWYoa1MuaGFzQ2xhc3MoaSkpe2Zvcih2YXIgbj0oZT1TaShlKSkubGVuZ3RoLTE7bj49MDtuLS0pTGkoZVtuXSkmJmUuc3BsaWNlKG4sMSk7dFtpXT1lfX0pLGRlbGV0ZSB0W2pTXSx0fSxnZXRUaGVtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aGVtZX0sZ2V0Q29tcG9uZW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fY29tcG9uZW50c01hcC5nZXQodCk7aWYoaSlyZXR1cm4gaVtlfHwwXX0scXVlcnlDb21wb25lbnRzOmZ1bmN0aW9uKHQpe3ZhciBlPXQubWFpblR5cGU7aWYoIWUpcmV0dXJuW107dmFyIGk9dC5pbmRleCxuPXQuaWQsbz10Lm5hbWUsYT10aGlzLl9jb21wb25lbnRzTWFwLmdldChlKTtpZighYXx8IWEubGVuZ3RoKXJldHVybltdO3ZhciByO2lmKG51bGwhPWkpeShpKXx8KGk9W2ldKSxyPWcoZihpLGZ1bmN0aW9uKHQpe3JldHVybiBhW3RdfSksZnVuY3Rpb24odCl7cmV0dXJuISF0fSk7ZWxzZSBpZihudWxsIT1uKXt2YXIgcz15KG4pO3I9ZyhhLGZ1bmN0aW9uKHQpe3JldHVybiBzJiZsKG4sdC5pZCk+PTB8fCFzJiZ0LmlkPT09bn0pfWVsc2UgaWYobnVsbCE9byl7dmFyIHU9eShvKTtyPWcoYSxmdW5jdGlvbih0KXtyZXR1cm4gdSYmbChvLHQubmFtZSk+PTB8fCF1JiZ0Lm5hbWU9PT1vfSl9ZWxzZSByPWEuc2xpY2UoKTtyZXR1cm4gVGEocix0KX0sZmluZENvbXBvbmVudHM6ZnVuY3Rpb24odCl7dmFyIGU9dC5xdWVyeSxpPXQubWFpblR5cGUsbj1mdW5jdGlvbih0KXt2YXIgZT1pKyJJbmRleCIsbj1pKyJJZCIsbz1pKyJOYW1lIjtyZXR1cm4hdHx8bnVsbD09dFtlXSYmbnVsbD09dFtuXSYmbnVsbD09dFtvXT9udWxsOnttYWluVHlwZTppLGluZGV4OnRbZV0saWQ6dFtuXSxuYW1lOnRbb119fShlKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmlsdGVyP2coZSx0LmZpbHRlcik6ZX0oVGEobj90aGlzLnF1ZXJ5Q29tcG9uZW50cyhuKTp0aGlzLl9jb21wb25lbnRzTWFwLmdldChpKSx0KSl9LGVhY2hDb21wb25lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2NvbXBvbmVudHNNYXA7ImZ1bmN0aW9uIj09dHlwZW9mIHQ/KGk9ZSxlPXQsbi5lYWNoKGZ1bmN0aW9uKHQsbil7ZCh0LGZ1bmN0aW9uKHQsbyl7ZS5jYWxsKGksbix0LG8pfSl9KSk6Xyh0KT9kKG4uZ2V0KHQpLGUsaSk6dyh0KSYmZCh0aGlzLmZpbmRDb21wb25lbnRzKHQpLGUsaSl9LGdldFNlcmllc0J5TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gZyh0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09PXR9KX0sZ2V0U2VyaWVzQnlJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpW3RdfSxnZXRTZXJpZXNCeVR5cGU6ZnVuY3Rpb24odCl7cmV0dXJuIGcodGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YlR5cGU9PT10fSl9LGdldFNlcmllczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIikuc2xpY2UoKX0sZ2V0U2VyaWVzQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLmxlbmd0aH0sZWFjaFNlcmllczpmdW5jdGlvbih0LGUpe2QodGhpcy5fc2VyaWVzSW5kaWNlcyxmdW5jdGlvbihpKXt2YXIgbj10aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIilbaV07dC5jYWxsKGUsbixpKX0sdGhpcyl9LGVhY2hSYXdTZXJpZXM6ZnVuY3Rpb24odCxlKXtkKHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSx0LGUpfSxlYWNoU2VyaWVzQnlUeXBlOmZ1bmN0aW9uKHQsZSxpKXtkKHRoaXMuX3Nlcmllc0luZGljZXMsZnVuY3Rpb24obil7dmFyIG89dGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpW25dO28uc3ViVHlwZT09PXQmJmUuY2FsbChpLG8sbil9LHRoaXMpfSxlYWNoUmF3U2VyaWVzQnlUeXBlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZCh0aGlzLmdldFNlcmllc0J5VHlwZSh0KSxlLGkpfSxpc1Nlcmllc0ZpbHRlcmVkOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLl9zZXJpZXNJbmRpY2VzTWFwLmdldCh0LmNvbXBvbmVudEluZGV4KX0sZ2V0Q3VycmVudFNlcmllc0luZGljZXM6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5fc2VyaWVzSW5kaWNlc3x8W10pLnNsaWNlKCl9LGZpbHRlclNlcmllczpmdW5jdGlvbih0LGUpe0RhKHRoaXMsZyh0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIiksdCxlKSl9LHJlc3RvcmVEYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbXBvbmVudHNNYXA7RGEodGhpcyxlLmdldCgic2VyaWVzIikpO3ZhciBpPVtdO2UuZWFjaChmdW5jdGlvbih0LGUpe2kucHVzaChlKX0pLGtTLnRvcG9sb2dpY2FsVHJhdmVsKGksa1MuZ2V0QWxsQ2xhc3NNYWluVHlwZXMoKSxmdW5jdGlvbihpLG4pe2QoZS5nZXQoaSksZnVuY3Rpb24oZSl7KCJzZXJpZXMiIT09aXx8IXdhKGUsdCkpJiZlLnJlc3RvcmVEYXRhKCl9KX0pfX0pO2goWFMsRVMpO3ZhciBZUz1bImdldERvbSIsImdldFpyIiwiZ2V0V2lkdGgiLCJnZXRIZWlnaHQiLCJnZXREZXZpY2VQaXhlbFJhdGlvIiwiZGlzcGF0Y2hBY3Rpb24iLCJpc0Rpc3Bvc2VkIiwib24iLCJvZmYiLCJnZXREYXRhVVJMIiwiZ2V0Q29ubmVjdGVkRGF0YVVSTCIsImdldE1vZGVsIiwiZ2V0T3B0aW9uIiwiZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwiLCJnZXRWaWV3T2ZTZXJpZXNNb2RlbCJdLHFTPXt9O0NhLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q2EsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107ZChxUyxmdW5jdGlvbihuLG8pe3ZhciBhPW4uY3JlYXRlKHQsZSk7aT1pLmNvbmNhdChhfHxbXSl9KSx0aGlzLl9jb29yZGluYXRlU3lzdGVtcz1pfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXtkKHRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zLGZ1bmN0aW9uKGkpe2kudXBkYXRlJiZpLnVwZGF0ZSh0LGUpfSl9LGdldENvb3JkaW5hdGVTeXN0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zLnNsaWNlKCl9fSxDYS5yZWdpc3Rlcj1mdW5jdGlvbih0LGUpe3FTW3RdPWV9LENhLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gcVNbdF19O3ZhciAkUz1kLEtTPWksSlM9ZixRUz1uLHRNPS9eKG1pbnxtYXgpPyguKykkLztMYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxhLHNldE9wdGlvbjpmdW5jdGlvbih0LGUpe3QmJmQoU2kodC5zZXJpZXMpLGZ1bmN0aW9uKHQpe3QmJnQuZGF0YSYmUyh0LmRhdGEpJiZOKHQuZGF0YSl9KSx0PUtTKHQsITApO3ZhciBpPXRoaXMuX29wdGlvbkJhY2t1cCxuPWthLmNhbGwodGhpcyx0LGUsIWkpO3RoaXMuX25ld0Jhc2VPcHRpb249bi5iYXNlT3B0aW9uLGk/KEVhKGkuYmFzZU9wdGlvbixuLmJhc2VPcHRpb24pLG4udGltZWxpbmVPcHRpb25zLmxlbmd0aCYmKGkudGltZWxpbmVPcHRpb25zPW4udGltZWxpbmVPcHRpb25zKSxuLm1lZGlhTGlzdC5sZW5ndGgmJihpLm1lZGlhTGlzdD1uLm1lZGlhTGlzdCksbi5tZWRpYURlZmF1bHQmJihpLm1lZGlhRGVmYXVsdD1uLm1lZGlhRGVmYXVsdCkpOnRoaXMuX29wdGlvbkJhY2t1cD1ufSxtb3VudE9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRpb25CYWNrdXA7cmV0dXJuIHRoaXMuX3RpbWVsaW5lT3B0aW9ucz1KUyhlLnRpbWVsaW5lT3B0aW9ucyxLUyksdGhpcy5fbWVkaWFMaXN0PUpTKGUubWVkaWFMaXN0LEtTKSx0aGlzLl9tZWRpYURlZmF1bHQ9S1MoZS5tZWRpYURlZmF1bHQpLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sS1ModD9lLmJhc2VPcHRpb246dGhpcy5fbmV3QmFzZU9wdGlvbil9LGdldFRpbWVsaW5lT3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5fdGltZWxpbmVPcHRpb25zO2lmKGkubGVuZ3RoKXt2YXIgbj10LmdldENvbXBvbmVudCgidGltZWxpbmUiKTtuJiYoZT1LUyhpW24uZ2V0Q3VycmVudEluZGV4KCldLCEwKSl9cmV0dXJuIGV9LGdldE1lZGlhT3B0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2FwaS5nZXRXaWR0aCgpLGk9dGhpcy5fYXBpLmdldEhlaWdodCgpLG49dGhpcy5fbWVkaWFMaXN0LG89dGhpcy5fbWVkaWFEZWZhdWx0LGE9W10scj1bXTtpZighbi5sZW5ndGgmJiFvKXJldHVybiByO2Zvcih2YXIgcz0wLGw9bi5sZW5ndGg7czxsO3MrKylQYShuW3NdLnF1ZXJ5LGUsaSkmJmEucHVzaChzKTtyZXR1cm4hYS5sZW5ndGgmJm8mJihhPVstMV0pLGEubGVuZ3RoJiYhT2EoYSx0aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzKSYmKHI9SlMoYSxmdW5jdGlvbih0KXtyZXR1cm4gS1MoLTE9PT10P28ub3B0aW9uOm5bdF0ub3B0aW9uKX0pKSx0aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzPWEscn19O3ZhciBlTT1kLGlNPXcsbk09WyJhcmVhU3R5bGUiLCJsaW5lU3R5bGUiLCJub2RlU3R5bGUiLCJsaW5rU3R5bGUiLCJjaG9yZFN0eWxlIiwibGFiZWwiLCJsYWJlbExpbmUiXSxvTT1mdW5jdGlvbih0LGUpe2VNKFdhKHQuc2VyaWVzKSxmdW5jdGlvbih0KXtpTSh0KSYmRmEodCl9KTt2YXIgaT1bInhBeGlzIiwieUF4aXMiLCJyYWRpdXNBeGlzIiwiYW5nbGVBeGlzIiwic2luZ2xlQXhpcyIsInBhcmFsbGVsQXhpcyIsInJhZGFyIl07ZSYmaS5wdXNoKCJ2YWx1ZUF4aXMiLCJjYXRlZ29yeUF4aXMiLCJsb2dBeGlzIiwidGltZUF4aXMiKSxlTShpLGZ1bmN0aW9uKGUpe2VNKFdhKHRbZV0pLGZ1bmN0aW9uKHQpe3QmJihWYSh0LCJheGlzTGFiZWwiKSxWYSh0LmF4aXNQb2ludGVyLCJsYWJlbCIpKX0pfSksZU0oV2EodC5wYXJhbGxlbCksZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5wYXJhbGxlbEF4aXNEZWZhdWx0O1ZhKGUsImF4aXNMYWJlbCIpLFZhKGUmJmUuYXhpc1BvaW50ZXIsImxhYmVsIil9KSxlTShXYSh0LmNhbGVuZGFyKSxmdW5jdGlvbih0KXtSYSh0LCJpdGVtU3R5bGUiKSxWYSh0LCJkYXlMYWJlbCIpLFZhKHQsIm1vbnRoTGFiZWwiKSxWYSh0LCJ5ZWFyTGFiZWwiKX0pLGVNKFdhKHQucmFkYXIpLGZ1bmN0aW9uKHQpe1ZhKHQsIm5hbWUiKX0pLGVNKFdhKHQuZ2VvKSxmdW5jdGlvbih0KXtpTSh0KSYmKEdhKHQpLGVNKFdhKHQucmVnaW9ucyksZnVuY3Rpb24odCl7R2EodCl9KSl9KSxlTShXYSh0LnRpbWVsaW5lKSxmdW5jdGlvbih0KXtHYSh0KSxSYSh0LCJsYWJlbCIpLFJhKHQsIml0ZW1TdHlsZSIpLFJhKHQsImNvbnRyb2xTdHlsZSIsITApO3ZhciBlPXQuZGF0YTt5KGUpJiZkKGUsZnVuY3Rpb24odCl7dyh0KSYmKFJhKHQsImxhYmVsIiksUmEodCwiaXRlbVN0eWxlIikpfSl9KSxlTShXYSh0LnRvb2xib3gpLGZ1bmN0aW9uKHQpe1JhKHQsImljb25TdHlsZSIpLGVNKHQuZmVhdHVyZSxmdW5jdGlvbih0KXtSYSh0LCJpY29uU3R5bGUiKX0pfSksVmEoSGEodC5heGlzUG9pbnRlciksImxhYmVsIiksVmEoSGEodC50b29sdGlwKS5heGlzUG9pbnRlciwibGFiZWwiKX0sYU09W1sieCIsImxlZnQiXSxbInkiLCJ0b3AiXSxbIngyIiwicmlnaHQiXSxbInkyIiwiYm90dG9tIl1dLHJNPVsiZ3JpZCIsImdlbyIsInBhcmFsbGVsIiwibGVnZW5kIiwidG9vbGJveCIsInRpdGxlIiwidmlzdWFsTWFwIiwiZGF0YVpvb20iLCJ0aW1lbGluZSJdLHNNPWZ1bmN0aW9uKHQsZSl7b00odCxlKSx0LnNlcmllcz1TaSh0LnNlcmllcyksZCh0LnNlcmllcyxmdW5jdGlvbih0KXtpZih3KHQpKXt2YXIgZT10LnR5cGU7aWYoInBpZSIhPT1lJiYiZ2F1Z2UiIT09ZXx8bnVsbCE9dC5jbG9ja1dpc2UmJih0LmNsb2Nrd2lzZT10LmNsb2NrV2lzZSksImdhdWdlIj09PWUpe3ZhciBpPVphKHQsInBvaW50ZXIuY29sb3IiKTtudWxsIT1pJiZVYSh0LCJpdGVtU3R5bGUubm9ybWFsLmNvbG9yIixpKX1qYSh0KX19KSx0LmRhdGFSYW5nZSYmKHQudmlzdWFsTWFwPXQuZGF0YVJhbmdlKSxkKHJNLGZ1bmN0aW9uKGUpe3ZhciBpPXRbZV07aSYmKHkoaSl8fChpPVtpXSksZChpLGZ1bmN0aW9uKHQpe2phKHQpfSkpfSl9LGxNPVlhLnByb3RvdHlwZTtsTS5wdXJlPSExLGxNLnBlcnNpc3RlbnQ9ITAsbE0uZ2V0U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX07dmFyIHVNPXthcnJheVJvd3NfY29sdW1uOntwdXJlOiEwLGNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KDAsdGhpcy5fZGF0YS5sZW5ndGgtdGhpcy5fc291cmNlLnN0YXJ0SW5kZXgpfSxnZXRJdGVtOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhW3QrdGhpcy5fc291cmNlLnN0YXJ0SW5kZXhdfSxhcHBlbmREYXRhOkthfSxhcnJheVJvd3Nfcm93OntwdXJlOiEwLGNvdW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YVswXTtyZXR1cm4gdD9NYXRoLm1heCgwLHQubGVuZ3RoLXRoaXMuX3NvdXJjZS5zdGFydEluZGV4KTowfSxnZXRJdGVtOmZ1bmN0aW9uKHQpe3QrPXRoaXMuX3NvdXJjZS5zdGFydEluZGV4O2Zvcih2YXIgZT1bXSxpPXRoaXMuX2RhdGEsbj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO2UucHVzaChvP29bdF06bnVsbCl9cmV0dXJuIGV9LGFwcGVuZERhdGE6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoJ0RvIG5vdCBzdXBwb3J0IGFwcGVuZERhdGEgd2hlbiBzZXQgc2VyaWVzTGF5b3V0Qnk6ICJyb3ciLicpfX0sb2JqZWN0Um93czp7cHVyZTohMCxjb3VudDpxYSxnZXRJdGVtOiRhLGFwcGVuZERhdGE6S2F9LGtleWVkQ29sdW1uczp7cHVyZTohMCxjb3VudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NvdXJjZS5kaW1lbnNpb25zRGVmaW5lWzBdLm5hbWUsZT10aGlzLl9kYXRhW3RdO3JldHVybiBlP2UubGVuZ3RoOjB9LGdldEl0ZW06ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9dGhpcy5fc291cmNlLmRpbWVuc2lvbnNEZWZpbmUsbj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz10aGlzLl9kYXRhW2lbbl0ubmFtZV07ZS5wdXNoKG8/b1t0XTpudWxsKX1yZXR1cm4gZX0sYXBwZW5kRGF0YTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kYXRhO2QodCxmdW5jdGlvbih0LGkpe2Zvcih2YXIgbj1lW2ldfHwoZVtpXT1bXSksbz0wO288KHR8fFtdKS5sZW5ndGg7bysrKW4ucHVzaCh0W29dKX0pfX0sb3JpZ2luYWw6e2NvdW50OnFhLGdldEl0ZW06JGEsYXBwZW5kRGF0YTpLYX0sdHlwZWRBcnJheTp7cGVyc2lzdGVudDohMSxwdXJlOiEwLGNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGE/dGhpcy5fZGF0YS5sZW5ndGgvdGhpcy5fZGltU2l6ZTowfSxnZXRJdGVtOmZ1bmN0aW9uKHQpe3QtPXRoaXMuX29mZnNldDtmb3IodmFyIGU9W10saT10aGlzLl9kaW1TaXplKnQsbj0wO248dGhpcy5fZGltU2l6ZTtuKyspZVtuXT10aGlzLl9kYXRhW2krbl07cmV0dXJuIGV9LGFwcGVuZERhdGE6ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSxjbGVhbjpmdW5jdGlvbigpe3RoaXMuX29mZnNldCs9dGhpcy5jb3VudCgpLHRoaXMuX2RhdGE9bnVsbH19fSxoTT17YXJyYXlSb3dzOkphLG9iamVjdFJvd3M6ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIG51bGwhPWk/dFtuXTp0fSxrZXllZENvbHVtbnM6SmEsb3JpZ2luYWw6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89SWkodCk7cmV0dXJuIG51bGwhPWkmJm8gaW5zdGFuY2VvZiBBcnJheT9vW2ldOm99LHR5cGVkQXJyYXk6SmF9LGNNPXthcnJheVJvd3M6UWEsb2JqZWN0Um93czpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdHIodFtlXSx0aGlzLl9kaW1lbnNpb25JbmZvc1tlXSl9LGtleWVkQ29sdW1uczpRYSxvcmlnaW5hbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10JiYobnVsbD09dC52YWx1ZT90OnQudmFsdWUpO3JldHVybiF0aGlzLl9yYXdEYXRhLnB1cmUmJkRpKHQpJiYodGhpcy5oYXNJdGVtT3B0aW9uPSEwKSx0cihvIGluc3RhbmNlb2YgQXJyYXk/b1tuXTpvLHRoaXMuX2RpbWVuc2lvbkluZm9zW2VdKX0sdHlwZWRBcnJheTpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdFtuXX19LGRNPS9ce0AoLis/KVx9L2csZk09e2dldERhdGFQYXJhbXM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldERhdGEoZSksbj10aGlzLmdldFJhd1ZhbHVlKHQsZSksbz1pLmdldFJhd0luZGV4KHQpLGE9aS5nZXROYW1lKHQsITApLHI9aS5nZXRSYXdEYXRhSXRlbSh0KSxzPWkuZ2V0SXRlbVZpc3VhbCh0LCJjb2xvciIpO3JldHVybntjb21wb25lbnRUeXBlOnRoaXMubWFpblR5cGUsY29tcG9uZW50U3ViVHlwZTp0aGlzLnN1YlR5cGUsc2VyaWVzVHlwZToic2VyaWVzIj09PXRoaXMubWFpblR5cGU/dGhpcy5zdWJUeXBlOm51bGwsc2VyaWVzSW5kZXg6dGhpcy5zZXJpZXNJbmRleCxzZXJpZXNJZDp0aGlzLmlkLHNlcmllc05hbWU6dGhpcy5uYW1lLG5hbWU6YSxkYXRhSW5kZXg6byxkYXRhOnIsZGF0YVR5cGU6ZSx2YWx1ZTpuLGNvbG9yOnMsbWFya2VyOlhvKHMpLCR2YXJzOlsic2VyaWVzTmFtZSIsIm5hbWUiLCJ2YWx1ZSJdfX0sZ2V0Rm9ybWF0dGVkTGFiZWw6ZnVuY3Rpb24odCxlLGksbixvKXtlPWV8fCJub3JtYWwiO3ZhciBhPXRoaXMuZ2V0RGF0YShpKSxyPWEuZ2V0SXRlbU1vZGVsKHQpLHM9dGhpcy5nZXREYXRhUGFyYW1zKHQsaSk7bnVsbCE9biYmcy52YWx1ZSBpbnN0YW5jZW9mIEFycmF5JiYocy52YWx1ZT1zLnZhbHVlW25dKTt2YXIgbD1yLmdldCgibm9ybWFsIj09PWU/W298fCJsYWJlbCIsImZvcm1hdHRlciJdOltlLG98fCJsYWJlbCIsImZvcm1hdHRlciJdKTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgbD8ocy5zdGF0dXM9ZSxsKHMpKToic3RyaW5nIj09dHlwZW9mIGw/VW8obCxzKS5yZXBsYWNlKGRNLGZ1bmN0aW9uKGUsaSl7dmFyIG49aS5sZW5ndGg7cmV0dXJuIlsiPT09aS5jaGFyQXQoMCkmJiJdIj09PWkuY2hhckF0KG4tMSkmJihpPStpLnNsaWNlKDEsbi0xKSksZXIoYSx0LGkpfSk6dm9pZCAwfSxnZXRSYXdWYWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBlcih0aGlzLmdldERhdGEoZSksdCl9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24oKXt9fSxwTT1vci5wcm90b3R5cGU7cE0ucGVyZm9ybT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl91cHN0cmVhbSxpPXQmJnQuc2tpcDtpZih0aGlzLl9kaXJ0eSYmZSl7dmFyIG49dGhpcy5jb250ZXh0O24uZGF0YT1uLm91dHB1dERhdGE9ZS5jb250ZXh0Lm91dHB1dERhdGF9dGhpcy5fX3BpcGVsaW5lJiYodGhpcy5fX3BpcGVsaW5lLmN1cnJlbnRUYXNrPXRoaXMpO3ZhciBvO3RoaXMuX3BsYW4mJiFpJiYobz10aGlzLl9wbGFuKHRoaXMuY29udGV4dCkpO3ZhciBhOyh0aGlzLl9kaXJ0eXx8InJlc2V0Ij09PW8pJiYodGhpcy5fZGlydHk9ITEsYT1hcih0aGlzLGkpKTt2YXIgcj10JiZ0LnN0ZXA7aWYodGhpcy5fZHVlRW5kPWU/ZS5fb3V0cHV0RHVlRW5kOnRoaXMuX2NvdW50P3RoaXMuX2NvdW50KHRoaXMuY29udGV4dCk6MS8wLHRoaXMuX3Byb2dyZXNzKXt2YXIgcz10aGlzLl9kdWVJbmRleCxsPU1hdGgubWluKG51bGwhPXI/dGhpcy5fZHVlSW5kZXgrcjoxLzAsdGhpcy5fZHVlRW5kKTshaSYmKGF8fHM8bCkmJnRoaXMuX3Byb2dyZXNzKHtzdGFydDpzLGVuZDpsfSx0aGlzLmNvbnRleHQpLHRoaXMuX2R1ZUluZGV4PWw7dmFyIHU9bnVsbCE9dGhpcy5fc2V0dGVkT3V0cHV0RW5kP3RoaXMuX3NldHRlZE91dHB1dEVuZDpsO3RoaXMuX291dHB1dER1ZUVuZD11fWVsc2UgdGhpcy5fZHVlSW5kZXg9dGhpcy5fb3V0cHV0RHVlRW5kPW51bGwhPXRoaXMuX3NldHRlZE91dHB1dEVuZD90aGlzLl9zZXR0ZWRPdXRwdXRFbmQ6dGhpcy5fZHVlRW5kO3JldHVybiB0aGlzLnVuZmluaXNoZWQoKX0scE0uZGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9kaXJ0eT0hMCx0aGlzLl9vbkRpcnR5JiZ0aGlzLl9vbkRpcnR5KHRoaXMuY29udGV4dCl9LHBNLnVuZmluaXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvZ3Jlc3MmJnRoaXMuX2R1ZUluZGV4PHRoaXMuX2R1ZUVuZH0scE0ucGlwZT1mdW5jdGlvbih0KXsodGhpcy5fZG93bnN0cmVhbSE9PXR8fHRoaXMuX2RpcnR5KSYmKHRoaXMuX2Rvd25zdHJlYW09dCx0Ll91cHN0cmVhbT10aGlzLHQuZGlydHkoKSl9LHBNLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlZHx8KHRoaXMuX3Vwc3RyZWFtJiYodGhpcy5fdXBzdHJlYW0uX2Rvd25zdHJlYW09bnVsbCksdGhpcy5fZG93bnN0cmVhbSYmKHRoaXMuX2Rvd25zdHJlYW0uX3Vwc3RyZWFtPW51bGwpLHRoaXMuX2RpcnR5PSExLHRoaXMuX2Rpc3Bvc2VkPSEwKX0scE0uZ2V0VXBzdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBzdHJlYW19LHBNLmdldERvd25zdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG93bnN0cmVhbX0scE0uc2V0T3V0cHV0RW5kPWZ1bmN0aW9uKHQpe3RoaXMuX291dHB1dER1ZUVuZD10aGlzLl9zZXR0ZWRPdXRwdXRFbmQ9dH07dmFyIGdNPU5pKCksbU09a1MuZXh0ZW5kKHt0eXBlOiJzZXJpZXMuX19iYXNlX18iLHNlcmllc0luZGV4OjAsY29vcmRpbmF0ZVN5c3RlbTpudWxsLGRlZmF1bHRPcHRpb246bnVsbCxsZWdlbmREYXRhUHJvdmlkZXI6bnVsbCx2aXN1YWxDb2xvckFjY2Vzc1BhdGg6Iml0ZW1TdHlsZS5jb2xvciIsbGF5b3V0TW9kZTpudWxsLGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5zZXJpZXNJbmRleD10aGlzLmNvbXBvbmVudEluZGV4LHRoaXMuZGF0YVRhc2s9bnIoe2NvdW50OmxyLHJlc2V0OnVyfSksdGhpcy5kYXRhVGFzay5jb250ZXh0PXttb2RlbDp0aGlzfSx0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsaSksZGEodGhpcyk7dmFyIG89dGhpcy5nZXRJbml0aWFsRGF0YSh0LGkpO2NyKG8sdGhpcyksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9byxnTSh0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPW8scnIodGhpcyl9LG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5sYXlvdXRNb2RlLG89aT9uYSh0KTp7fSxhPXRoaXMuc3ViVHlwZTtrUy5oYXNDbGFzcyhhKSYmKGErPSJTZXJpZXMiKSxuKHQsZS5nZXRUaGVtZSgpLmdldCh0aGlzLnN1YlR5cGUpKSxuKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLE1pKHQsImxhYmVsIixbInNob3ciXSksdGhpcy5maWxsRGF0YVRleHRTdHlsZSh0LmRhdGEpLGkmJmlhKHQsbyxpKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCxlKXt0PW4odGhpcy5vcHRpb24sdCwhMCksdGhpcy5maWxsRGF0YVRleHRTdHlsZSh0LmRhdGEpO3ZhciBpPXRoaXMubGF5b3V0TW9kZTtpJiZpYSh0aGlzLm9wdGlvbix0LGkpLGRhKHRoaXMpO3ZhciBvPXRoaXMuZ2V0SW5pdGlhbERhdGEodCxlKTtjcihvLHRoaXMpLHRoaXMuZGF0YVRhc2suZGlydHkoKSx0aGlzLmRhdGFUYXNrLmNvbnRleHQuZGF0YT1vLGdNKHRoaXMpLmRhdGFCZWZvcmVQcm9jZXNzZWQ9byxycih0aGlzKX0sZmlsbERhdGFUZXh0U3R5bGU6ZnVuY3Rpb24odCl7aWYodClmb3IodmFyIGU9WyJzaG93Il0saT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0mJnRbaV0ubGFiZWwmJk1pKHRbaV0sImxhYmVsIixlKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24oKXt9LGFwcGVuZERhdGE6ZnVuY3Rpb24odCl7dGhpcy5nZXRSYXdEYXRhKCkuYXBwZW5kRGF0YSh0LmRhdGEpfSxnZXREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPWZyKHRoaXMpO2lmKGUpe3ZhciBpPWUuY29udGV4dC5kYXRhO3JldHVybiBudWxsPT10P2k6aS5nZXRMaW5rZWREYXRhKHQpfXJldHVybiBnTSh0aGlzKS5kYXRhfSxzZXREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPWZyKHRoaXMpO2lmKGUpe3ZhciBpPWUuY29udGV4dDtpLmRhdGEhPT10JiZlLmlzT3ZlcmFsbEZpbHRlciYmZS5zZXRPdXRwdXRFbmQodC5jb3VudCgpKSxpLm91dHB1dERhdGE9dCxlIT09dGhpcy5kYXRhVGFzayYmKGkuZGF0YT10KX1nTSh0aGlzKS5kYXRhPXR9LGdldFNvdXJjZTpmdW5jdGlvbigpe3JldHVybiBoYSh0aGlzKX0sZ2V0UmF3RGF0YTpmdW5jdGlvbigpe3JldHVybiBnTSh0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkfSxnZXRCYXNlQXhpczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29vcmRpbmF0ZVN5c3RlbTtyZXR1cm4gdCYmdC5nZXRCYXNlQXhpcyYmdC5nZXRCYXNlQXhpcygpfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiBabyhXbyh0KSl9dmFyIG89dGhpcy5nZXREYXRhKCksYT1vLm1hcERpbWVuc2lvbigiZGVmYXVsdGVkVG9vbHRpcCIsITApLHI9YS5sZW5ndGgscz10aGlzLmdldFJhd1ZhbHVlKHQpLGw9eShzKSx1PW8uZ2V0SXRlbVZpc3VhbCh0LCJjb2xvciIpO3codSkmJnUuY29sb3JTdG9wcyYmKHU9KHUuY29sb3JTdG9wc1swXXx8e30pLmNvbG9yKSx1PXV8fCJ0cmFuc3BhcmVudCI7dmFyIGg9cj4xfHxsJiYhcj9mdW5jdGlvbihpKXtmdW5jdGlvbiBuKHQsaSl7dmFyIG49by5nZXREaW1lbnNpb25JbmZvKGkpO2lmKG4mJiExIT09bi5vdGhlckRpbXMudG9vbHRpcCl7dmFyIGE9bi50eXBlLGw9WG8oe2NvbG9yOnUsdHlwZToic3ViSXRlbSJ9KSxoPShyP2wrWm8obi5kaXNwbGF5TmFtZXx8Ii0iKSsiOiAiOiIiKStabygib3JkaW5hbCI9PT1hP3QrIiI6InRpbWUiPT09YT9lPyIiOnFvKCJ5eXl5L01NL2RkIGhoOm1tOnNzIix0KTpXbyh0KSk7aCYmcy5wdXNoKGgpfX12YXIgcj1wKGksZnVuY3Rpb24odCxlLGkpe3ZhciBuPW8uZ2V0RGltZW5zaW9uSW5mbyhpKTtyZXR1cm4gdHw9biYmITEhPT1uLnRvb2x0aXAmJm51bGwhPW4uZGlzcGxheU5hbWV9LDApLHM9W107cmV0dXJuIGEubGVuZ3RoP2QoYSxmdW5jdGlvbihlKXtuKGVyKG8sdCxlKSxlKX0pOmQoaSxuKSwocj8iPGJyLz4iOiIiKStzLmpvaW4ocj8iPGJyLz4iOiIsICIpfShzKTpuKHI/ZXIobyx0LGFbMF0pOmw/c1swXTpzKSxjPVhvKHUpLGY9by5nZXROYW1lKHQpLGc9dGhpcy5uYW1lO3JldHVybiBDaSh0aGlzKXx8KGc9IiIpLGc9Zz9abyhnKSsoZT8iOiAiOiI8YnIvPiIpOiIiLGU/YytnK2g6ZytjKyhmP1pvKGYpKyI6ICIraDpoKX0saXNBbmltYXRpb25FbmFibGVkOmZ1bmN0aW9uKCl7aWYoQXgubm9kZSlyZXR1cm4hMTt2YXIgdD10aGlzLmdldFNoYWxsb3coImFuaW1hdGlvbiIpO3JldHVybiB0JiZ0aGlzLmdldERhdGEoKS5jb3VudCgpPnRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uVGhyZXNob2xkIikmJih0PSExKSx0fSxyZXN0b3JlRGF0YTpmdW5jdGlvbigpe3RoaXMuZGF0YVRhc2suZGlydHkoKX0sZ2V0Q29sb3JGcm9tUGFsZXR0ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5lY01vZGVsLG89RVMuZ2V0Q29sb3JGcm9tUGFsZXR0ZS5jYWxsKHRoaXMsdCxlLGkpO3JldHVybiBvfHwobz1uLmdldENvbG9yRnJvbVBhbGV0dGUodCxlLGkpKSxvfSxjb29yZERpbVRvRGF0YURpbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRSYXdEYXRhKCkubWFwRGltZW5zaW9uKHQsITApfSxnZXRQcm9ncmVzc2l2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKX0sZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIil9LGdldEF4aXNUb29sdGlwRGF0YTpudWxsLGdldFRvb2x0aXBQb3NpdGlvbjpudWxsLHBpcGVUYXNrOm51bGwscHJldmVudEluY3JlbWVudGFsOm51bGwscGlwZWxpbmVDb250ZXh0Om51bGx9KTtoKG1NLGZNKSxoKG1NLEVTKTt2YXIgdk09ZnVuY3Rpb24oKXt0aGlzLmdyb3VwPW5ldyBMXyx0aGlzLnVpZD1Nbygidmlld0NvbXBvbmVudCIpfTt2TS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnZNLGluaXQ6ZnVuY3Rpb24odCxlKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fTt2YXIgeU09dk0ucHJvdG90eXBlO3lNLnVwZGF0ZVZpZXc9eU0udXBkYXRlTGF5b3V0PXlNLnVwZGF0ZVZpc3VhbD1mdW5jdGlvbih0LGUsaSxuKXt9LEdpKHZNKSxaaSh2TSx7cmVnaXN0ZXJXaGVuRXh0ZW5kOiEwfSk7dmFyIHhNPWZ1bmN0aW9uKCl7dmFyIHQ9TmkoKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGk9dChlKSxuPWUucGlwZWxpbmVDb250ZXh0LG89aS5sYXJnZSxhPWkuY2FuUHJvZ3Jlc3NpdmVSZW5kZXIscj1pLmxhcmdlPW4ubGFyZ2Uscz1pLmNhblByb2dyZXNzaXZlUmVuZGVyPW4uY2FuUHJvZ3Jlc3NpdmVSZW5kZXI7cmV0dXJuISEob15yfHxhXnMpJiYicmVzZXQifX0sX009TmkoKSx3TT14TSgpO3ByLnByb3RvdHlwZT17dHlwZToiY2hhcnQiLGluaXQ6ZnVuY3Rpb24odCxlKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXt9LGhpZ2hsaWdodDpmdW5jdGlvbih0LGUsaSxuKXttcih0LmdldERhdGEoKSxuLCJlbXBoYXNpcyIpfSxkb3ducGxheTpmdW5jdGlvbih0LGUsaSxuKXttcih0LmdldERhdGEoKSxuLCJub3JtYWwiKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZGlzcG9zZTpmdW5jdGlvbigpe30saW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyOm51bGwsaW5jcmVtZW50YWxSZW5kZXI6bnVsbCx1cGRhdGVUcmFuc2Zvcm06bnVsbH07dmFyIGJNPXByLnByb3RvdHlwZTtiTS51cGRhdGVWaWV3PWJNLnVwZGF0ZUxheW91dD1iTS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLGksbil7dGhpcy5yZW5kZXIodCxlLGksbil9LEdpKHByKSxaaShwcix7cmVnaXN0ZXJXaGVuRXh0ZW5kOiEwfSkscHIubWFya1VwZGF0ZU1ldGhvZD1mdW5jdGlvbih0LGUpe19NKHQpLnVwZGF0ZU1ldGhvZD1lfTt2YXIgU009e2luY3JlbWVudGFsUHJlcGFyZVJlbmRlcjp7cHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtlLnZpZXcuaW5jcmVtZW50YWxSZW5kZXIodCxlLm1vZGVsLGUuZWNNb2RlbCxlLmFwaSxlLnBheWxvYWQpfX0scmVuZGVyOntmb3JjZUZpcnN0UHJvZ3Jlc3M6ITAscHJvZ3Jlc3M6ZnVuY3Rpb24odCxlKXtlLnZpZXcucmVuZGVyKGUubW9kZWwsZS5lY01vZGVsLGUuYXBpLGUucGF5bG9hZCl9fX0sTU09IlwwX190aHJvdHRsZU9yaWdpbk1ldGhvZCIsSU09IlwwX190aHJvdHRsZVJhdGUiLERNPSJcMF9fdGhyb3R0bGVUeXBlIixUTT17Y3JlYXRlT25BbGxTZXJpZXM6ITAscGVyZm9ybVJhd1NlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0RGF0YSgpLG49KHQudmlzdWFsQ29sb3JBY2Nlc3NQYXRofHwiaXRlbVN0eWxlLmNvbG9yIikuc3BsaXQoIi4iKSxvPXQuZ2V0KG4pfHx0LmdldENvbG9yRnJvbVBhbGV0dGUodC5uYW1lLG51bGwsZS5nZXRTZXJpZXNDb3VudCgpKTtpZihpLnNldFZpc3VhbCgiY29sb3IiLG8pLCFlLmlzU2VyaWVzRmlsdGVyZWQodCkpeyJmdW5jdGlvbiIhPXR5cGVvZiBvfHxvIGluc3RhbmNlb2YgSmJ8fGkuZWFjaChmdW5jdGlvbihlKXtpLnNldEl0ZW1WaXN1YWwoZSwiY29sb3IiLG8odC5nZXREYXRhUGFyYW1zKGUpKSl9KTtyZXR1cm57ZGF0YUVhY2g6aS5oYXNJdGVtT3B0aW9uP2Z1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRJdGVtTW9kZWwoZSkuZ2V0KG4sITApO251bGwhPWkmJnQuc2V0SXRlbVZpc3VhbChlLCJjb2xvciIsaSl9Om51bGx9fX19LEFNPXt0b29sYm94OnticnVzaDp7dGl0bGU6e3JlY3Q6IuefqeW9oumAieaLqSIscG9seWdvbjoi5ZyI6YCJIixsaW5lWDoi5qiq5ZCR6YCJ5oupIixsaW5lWToi57q15ZCR6YCJ5oupIixrZWVwOiLkv53mjIHpgInmi6kiLGNsZWFyOiLmuIXpmaTpgInmi6kifX0sZGF0YVZpZXc6e3RpdGxlOiLmlbDmja7op4blm74iLGxhbmc6WyLmlbDmja7op4blm74iLCLlhbPpl60iLCLliLfmlrAiXX0sZGF0YVpvb206e3RpdGxlOnt6b29tOiLljLrln5/nvKnmlL4iLGJhY2s6IuWMuuWfn+e8qeaUvui/mOWOnyJ9fSxtYWdpY1R5cGU6e3RpdGxlOntsaW5lOiLliIfmjaLkuLrmipjnur/lm74iLGJhcjoi5YiH5o2i5Li65p+x54q25Zu+IixzdGFjazoi5YiH5o2i5Li65aCG5Y+gIix0aWxlZDoi5YiH5o2i5Li65bmz6ZO6In19LHJlc3RvcmU6e3RpdGxlOiLov5jljp8ifSxzYXZlQXNJbWFnZTp7dGl0bGU6IuS/neWtmOS4uuWbvueJhyIsbGFuZzpbIuWPs+mUruWPpuWtmOS4uuWbvueJhyJdfX0sc2VyaWVzOnt0eXBlTmFtZXM6e3BpZToi6aW85Zu+IixiYXI6IuafseeKtuWbviIsbGluZToi5oqY57q/5Zu+IixzY2F0dGVyOiLmlaPngrnlm74iLGVmZmVjdFNjYXR0ZXI6Iua2n+a8quaVo+eCueWbviIscmFkYXI6Iumbt+i+vuWbviIsdHJlZToi5qCR5Zu+Iix0cmVlbWFwOiLnn6nlvaLmoJHlm74iLGJveHBsb3Q6IueuseWei+WbviIsY2FuZGxlc3RpY2s6Ikvnur/lm74iLGs6Ikvnur/lm74iLGhlYXRtYXA6IueDreWKm+WbviIsbWFwOiLlnLDlm74iLHBhcmFsbGVsOiLlubPooYzlnZDmoIflm74iLGxpbmVzOiLnur/lm74iLGdyYXBoOiLlhbPns7vlm74iLHNhbmtleToi5qGR5Z+65Zu+IixmdW5uZWw6Iua8j+aWl+WbviIsZ2F1Z2U6IuS7quihqOebmOWbviIscGljdG9yaWFsQmFyOiLosaHlvaLmn7Hlm74iLHRoZW1lUml2ZXI6IuS4u+mimOays+a1geWbviIsc3VuYnVyc3Q6IuaXreaXpeWbviJ9fSxhcmlhOntnZW5lcmFsOnt3aXRoVGl0bGU6Iui/meaYr+S4gOS4quWFs+S6juKAnHt0aXRsZX3igJ3nmoTlm77ooajjgIIiLHdpdGhvdXRUaXRsZToi6L+Z5piv5LiA5Liq5Zu+6KGo77yMIn0sc2VyaWVzOntzaW5nbGU6e3ByZWZpeDoiIix3aXRoTmFtZToi5Zu+6KGo57G75Z6L5pive3Nlcmllc1R5cGV977yM6KGo56S6e3Nlcmllc05hbWV944CCIix3aXRob3V0TmFtZToi5Zu+6KGo57G75Z6L5pive3Nlcmllc1R5cGV944CCIn0sbXVsdGlwbGU6e3ByZWZpeDoi5a6D55Sxe3Nlcmllc0NvdW50feS4quWbvuihqOezu+WIl+e7hOaIkOOAgiIsd2l0aE5hbWU6IuesrHtzZXJpZXNJZH3kuKrns7vliJfmmK/kuIDkuKrooajnpLp7c2VyaWVzTmFtZX3nmoR7c2VyaWVzVHlwZX3vvIwiLHdpdGhvdXROYW1lOiLnrKx7c2VyaWVzSWR95Liq57O75YiX5piv5LiA5Liqe3Nlcmllc1R5cGV977yMIixzZXBhcmF0b3I6e21pZGRsZToi77ybIixlbmQ6IuOAgiJ9fX0sZGF0YTp7YWxsRGF0YToi5YW25pWw5o2u5piv4oCU4oCUIixwYXJ0aWFsRGF0YToi5YW25Lit77yM5YmNe2Rpc3BsYXlDbnR96aG55piv4oCU4oCUIix3aXRoTmFtZToie25hbWV955qE5pWw5o2u5pive3ZhbHVlfSIsd2l0aG91dE5hbWU6Int2YWx1ZX0iLHNlcGFyYXRvcjp7bWlkZGxlOiLvvIwiLGVuZDoiIn19fX0sQ009ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBpPXQ7cmV0dXJuIGQoZSxmdW5jdGlvbih0LGUpe2k9aS5yZXBsYWNlKG5ldyBSZWdFeHAoIlxce1xccyoiK2UrIlxccypcXH0iLCJnIiksdCl9KSxpfWZ1bmN0aW9uIG4odCl7dmFyIGU9YS5nZXQodCk7aWYobnVsbD09ZSl7Zm9yKHZhciBpPXQuc3BsaXQoIi4iKSxuPUFNLmFyaWEsbz0wO288aS5sZW5ndGg7KytvKW49bltpW29dXTtyZXR1cm4gbn1yZXR1cm4gZX1mdW5jdGlvbiBvKHQpe3JldHVybiBBTS5zZXJpZXMudHlwZU5hbWVzW3RdfHwi6Ieq5a6a5LmJ5Zu+In12YXIgYT1lLmdldE1vZGVsKCJhcmlhIik7aWYoYS5nZXQoInNob3ciKSlpZihhLmdldCgiZGVzY3JpcHRpb24iKSl0LnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsYS5nZXQoImRlc2NyaXB0aW9uIikpO2Vsc2V7dmFyIHI9MDtlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCxlKXsrK3J9LHRoaXMpO3ZhciBzLGw9YS5nZXQoImRhdGEubWF4Q291bnQiKXx8MTAsdT1hLmdldCgic2VyaWVzLm1heENvdW50Iil8fDEwLGg9TWF0aC5taW4ocix1KTtpZighKHI8MSkpe3ZhciBjPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRNb2RlbCgidGl0bGUiKS5vcHRpb247cmV0dXJuIHQmJnQubGVuZ3RoJiYodD10WzBdKSx0JiZ0LnRleHR9KCk7cz1jP2kobigiZ2VuZXJhbC53aXRoVGl0bGUiKSx7dGl0bGU6Y30pOm4oImdlbmVyYWwud2l0aG91dFRpdGxlIik7dmFyIGY9W107cys9aShuKHI+MT8ic2VyaWVzLm11bHRpcGxlLnByZWZpeCI6InNlcmllcy5zaW5nbGUucHJlZml4Iikse3Nlcmllc0NvdW50OnJ9KSxlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCxlKXtpZihlPGgpe3ZhciBhLHM9dC5nZXQoIm5hbWUiKSx1PSJzZXJpZXMuIisocj4xPyJtdWx0aXBsZSI6InNpbmdsZSIpKyIuIjthPWkoYT1uKHM/dSsid2l0aE5hbWUiOnUrIndpdGhvdXROYW1lIikse3Nlcmllc0lkOnQuc2VyaWVzSW5kZXgsc2VyaWVzTmFtZTp0LmdldCgibmFtZSIpLHNlcmllc1R5cGU6byh0LnN1YlR5cGUpfSk7dmFyIGM9dC5nZXREYXRhKCk7d2luZG93LmRhdGE9YyxjLmNvdW50KCk+bD9hKz1pKG4oImRhdGEucGFydGlhbERhdGEiKSx7ZGlzcGxheUNudDpsfSk6YSs9bigiZGF0YS5hbGxEYXRhIik7Zm9yKHZhciBkPVtdLHA9MDtwPGMuY291bnQoKTtwKyspaWYocDxsKXt2YXIgZz1jLmdldE5hbWUocCksbT1lcihjLHApO2QucHVzaChpKG4oZz8iZGF0YS53aXRoTmFtZSI6ImRhdGEud2l0aG91dE5hbWUiKSx7bmFtZTpnLHZhbHVlOm19KSl9YSs9ZC5qb2luKG4oImRhdGEuc2VwYXJhdG9yLm1pZGRsZSIpKStuKCJkYXRhLnNlcGFyYXRvci5lbmQiKSxmLnB1c2goYSl9fSkscys9Zi5qb2luKG4oInNlcmllcy5tdWx0aXBsZS5zZXBhcmF0b3IubWlkZGxlIikpK24oInNlcmllcy5tdWx0aXBsZS5zZXBhcmF0b3IuZW5kIiksdC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLHMpfX19LExNPU1hdGguUEksa009YnIucHJvdG90eXBlO2tNLmdldFBlcmZvcm1BcmdzPWZ1bmN0aW9uKHQsZSl7aWYodC5fX3BpcGVsaW5lKXt2YXIgaT10aGlzLl9waXBlbGluZU1hcC5nZXQodC5fX3BpcGVsaW5lLmlkKSxuPWkuY29udGV4dDtyZXR1cm57c3RlcDohZSYmaS5wcm9ncmVzc2l2ZUVuYWJsZWQmJighbnx8bi5jYW5Qcm9ncmVzc2l2ZVJlbmRlcikmJnQuX19pZHhJblBpcGVsaW5lPmkuYm9ja0luZGV4P2kuc3RlcDpudWxsfX19LGtNLmdldFBpcGVsaW5lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9waXBlbGluZU1hcC5nZXQodCl9LGtNLnVwZGF0ZVN0cmVhbU1vZGVzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fcGlwZWxpbmVNYXAuZ2V0KHQudWlkKSxuPXQuZ2V0RGF0YSgpLmNvdW50KCksbz1pLnByb2dyZXNzaXZlRW5hYmxlZCYmZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXImJm4+PWkudGhyZXNob2xkLGE9dC5nZXQoImxhcmdlIikmJm4+PXQuZ2V0KCJsYXJnZVRocmVzaG9sZCIpO3QucGlwZWxpbmVDb250ZXh0PWkuY29udGV4dD17Y2FuUHJvZ3Jlc3NpdmVSZW5kZXI6byxsYXJnZTphfX0sa00ucmVzdG9yZVBpcGVsaW5lcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9ZS5fcGlwZWxpbmVNYXA9eigpO3QuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgbj10LmdldFByb2dyZXNzaXZlKCksbz10LnVpZDtpLnNldChvLHtpZDpvLGhlYWQ6bnVsbCx0YWlsOm51bGwsdGhyZXNob2xkOnQuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQoKSxwcm9ncmVzc2l2ZUVuYWJsZWQ6biYmISh0LnByZXZlbnRJbmNyZW1lbnRhbCYmdC5wcmV2ZW50SW5jcmVtZW50YWwoKSksYm9ja0luZGV4Oi0xLHN0ZXA6bnx8NzAwLGNvdW50OjB9KSxPcihlLHQsdC5kYXRhVGFzayl9KX0sa00ucHJlcGFyZVN0YWdlVGFza3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdGFnZVRhc2tNYXAsZT10aGlzLmVjSW5zdGFuY2UuZ2V0TW9kZWwoKSxpPXRoaXMuYXBpO2QoW3RoaXMuX2RhdGFQcm9jZXNzb3JIYW5kbGVycyx0aGlzLl92aXN1YWxIYW5kbGVyc10sZnVuY3Rpb24obil7ZChuLGZ1bmN0aW9uKG4pe3ZhciBvPXQuZ2V0KG4udWlkKXx8dC5zZXQobi51aWQsW10pO24ucmVzZXQmJk1yKHRoaXMsbixvLGUsaSksbi5vdmVyYWxsUmVzZXQmJklyKHRoaXMsbixvLGUsaSl9LHRoaXMpfSx0aGlzKX0sa00ucHJlcGFyZVZpZXc9ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5yZW5kZXJUYXNrLGE9by5jb250ZXh0O2EubW9kZWw9ZSxhLmVjTW9kZWw9aSxhLmFwaT1uLG8uX19ibG9jaz0hdC5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXIsT3IodGhpcyxlLG8pfSxrTS5wZXJmb3JtRGF0YVByb2Nlc3NvclRhc2tzPWZ1bmN0aW9uKHQsZSl7U3IodGhpcyx0aGlzLl9kYXRhUHJvY2Vzc29ySGFuZGxlcnMsdCxlLHtibG9jazohMH0pfSxrTS5wZXJmb3JtVmlzdWFsVGFza3M9ZnVuY3Rpb24odCxlLGkpe1NyKHRoaXMsdGhpcy5fdmlzdWFsSGFuZGxlcnMsdCxlLGkpfSxrTS5wZXJmb3JtU2VyaWVzVGFza3M9ZnVuY3Rpb24odCl7dmFyIGU7dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2V8PXQuZGF0YVRhc2sucGVyZm9ybSgpfSksdGhpcy51bmZpbmlzaGVkfD1lfSxrTS5wbGFuPWZ1bmN0aW9uKCl7dGhpcy5fcGlwZWxpbmVNYXAuZWFjaChmdW5jdGlvbih0KXt2YXIgZT10LnRhaWw7ZG97aWYoZS5fX2Jsb2NrKXt0LmJvY2tJbmRleD1lLl9faWR4SW5QaXBlbGluZTticmVha31lPWUuZ2V0VXBzdHJlYW0oKX13aGlsZShlKX0pfTt2YXIgUE09a00udXBkYXRlUGF5bG9hZD1mdW5jdGlvbih0LGUpeyJyZW1haW4iIT09ZSYmKHQuY29udGV4dC5wYXlsb2FkPWUpfTtici53cmFwU3RhZ2VIYW5kbGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHgodCkmJih0PXtvdmVyYWxsUmVzZXQ6dCxzZXJpZXNUeXBlOkVyKHQpfSksdC51aWQ9TW8oInN0YWdlSGFuZGxlciIpLGUmJih0LnZpc3VhbFR5cGU9ZSksdH07dmFyIE5NLE9NPXt9LEVNPXt9O3pyKE9NLFhTKSx6cihFTSxBYSksT00uZWFjaFNlcmllc0J5VHlwZT1PTS5lYWNoUmF3U2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQpe05NPXR9LE9NLmVhY2hDb21wb25lbnQ9ZnVuY3Rpb24odCl7InNlcmllcyI9PT10Lm1haW5UeXBlJiZ0LnN1YlR5cGUmJihOTT10LnN1YlR5cGUpfTt2YXIgek09WyIjMzdBMkRBIiwiIzMyQzVFOSIsIiM2N0UwRTMiLCIjOUZFNkI4IiwiI0ZGREI1QyIsIiNmZjlmN2YiLCIjZmI3MjkzIiwiI0UwNjJBRSIsIiNFNjkwRDEiLCIjZTdiY2YzIiwiIzlkOTZmNSIsIiM4Mzc4RUEiLCIjOTZCRkZGIl0sUk09e2NvbG9yOnpNLGNvbG9yTGF5ZXI6W1siIzM3QTJEQSIsIiNmZmQ4NWMiLCIjZmQ3YjVmIl0sWyIjMzdBMkRBIiwiIzY3RTBFMyIsIiNGRkRCNUMiLCIjZmY5ZjdmIiwiI0UwNjJBRSIsIiM5ZDk2ZjUiXSxbIiMzN0EyREEiLCIjMzJDNUU5IiwiIzlGRTZCOCIsIiNGRkRCNUMiLCIjZmY5ZjdmIiwiI2ZiNzI5MyIsIiNlN2JjZjMiLCIjODM3OEVBIiwiIzk2QkZGRiJdLHpNXX0sQk09WyIjZGQ2YjY2IiwiIzc1OWFhMCIsIiNlNjlkODciLCIjOGRjMWE5IiwiI2VhN2U1MyIsIiNlZWRkNzgiLCIjNzNhMzczIiwiIzczYjliYyIsIiM3Mjg5YWIiLCIjOTFjYThjIiwiI2Y0OWY0MiJdLFZNPXtjb2xvcjpCTSxiYWNrZ3JvdW5kQ29sb3I6IiMzMzMiLHRvb2x0aXA6e2F4aXNQb2ludGVyOntsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIn0sY3Jvc3NTdHlsZTp7Y29sb3I6IiNlZWUifX19LGxlZ2VuZDp7dGV4dFN0eWxlOntjb2xvcjoiI2VlZSJ9fSx0ZXh0U3R5bGU6e2NvbG9yOiIjZWVlIn0sdGl0bGU6e3RleHRTdHlsZTp7Y29sb3I6IiNlZWUifX0sdG9vbGJveDp7aWNvblN0eWxlOntub3JtYWw6e2JvcmRlckNvbG9yOiIjZWVlIn19fSxkYXRhWm9vbTp7dGV4dFN0eWxlOntjb2xvcjoiI2VlZSJ9fSx2aXN1YWxNYXA6e3RleHRTdHlsZTp7Y29sb3I6IiNlZWUifX0sdGltZWxpbmU6e2xpbmVTdHlsZTp7Y29sb3I6IiNlZWUifSxpdGVtU3R5bGU6e25vcm1hbDp7Y29sb3I6Qk1bMV19fSxsYWJlbDp7bm9ybWFsOnt0ZXh0U3R5bGU6e2NvbG9yOiIjZWVlIn19fSxjb250cm9sU3R5bGU6e25vcm1hbDp7Y29sb3I6IiNlZWUiLGJvcmRlckNvbG9yOiIjZWVlIn19fSx0aW1lQXhpczp7YXhpc0xpbmU6e2xpbmVTdHlsZTp7Y29sb3I6IiNlZWUifX0sYXhpc1RpY2s6e2xpbmVTdHlsZTp7Y29sb3I6IiNlZWUifX0sYXhpc0xhYmVsOnt0ZXh0U3R5bGU6e2NvbG9yOiIjZWVlIn19LHNwbGl0TGluZTp7bGluZVN0eWxlOnt0eXBlOiJkYXNoZWQiLGNvbG9yOiIjYWFhIn19LHNwbGl0QXJlYTp7YXJlYVN0eWxlOntjb2xvcjoiI2VlZSJ9fX0sbG9nQXhpczp7YXhpc0xpbmU6e2xpbmVTdHlsZTp7Y29sb3I6IiNlZWUifX0sYXhpc1RpY2s6e2xpbmVTdHlsZTp7Y29sb3I6IiNlZWUifX0sYXhpc0xhYmVsOnt0ZXh0U3R5bGU6e2NvbG9yOiIjZWVlIn19LHNwbGl0TGluZTp7bGluZVN0eWxlOnt0eXBlOiJkYXNoZWQiLGNvbG9yOiIjYWFhIn19LHNwbGl0QXJlYTp7YXJlYVN0eWxlOntjb2xvcjoiI2VlZSJ9fX0sdmFsdWVBeGlzOntheGlzTGluZTp7bGluZVN0eWxlOntjb2xvcjoiI2VlZSJ9fSxheGlzVGljazp7bGluZVN0eWxlOntjb2xvcjoiI2VlZSJ9fSxheGlzTGFiZWw6e3RleHRTdHlsZTp7Y29sb3I6IiNlZWUifX0sc3BsaXRMaW5lOntsaW5lU3R5bGU6e3R5cGU6ImRhc2hlZCIsY29sb3I6IiNhYWEifX0sc3BsaXRBcmVhOnthcmVhU3R5bGU6e2NvbG9yOiIjZWVlIn19fSxjYXRlZ29yeUF4aXM6e2F4aXNMaW5lOntsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIn19LGF4aXNUaWNrOntsaW5lU3R5bGU6e2NvbG9yOiIjZWVlIn19LGF4aXNMYWJlbDp7dGV4dFN0eWxlOntjb2xvcjoiI2VlZSJ9fSxzcGxpdExpbmU6e2xpbmVTdHlsZTp7dHlwZToiZGFzaGVkIixjb2xvcjoiI2FhYSJ9fSxzcGxpdEFyZWE6e2FyZWFTdHlsZTp7Y29sb3I6IiNlZWUifX19LGxpbmU6e3N5bWJvbDoiY2lyY2xlIn0sZ3JhcGg6e2NvbG9yOkJNfSxnYXVnZTp7dGl0bGU6e3RleHRTdHlsZTp7Y29sb3I6IiNlZWUifX19LGNhbmRsZXN0aWNrOntpdGVtU3R5bGU6e25vcm1hbDp7Y29sb3I6IiNGRDEwNTAiLGNvbG9yMDoiIzBDRjQ5QiIsYm9yZGVyQ29sb3I6IiNGRDEwNTAiLGJvcmRlckNvbG9yMDoiIzBDRjQ5QiJ9fX19O1ZNLmNhdGVnb3J5QXhpcy5zcGxpdExpbmUuc2hvdz0hMTt2YXIgR009ayxGTT1kLFdNPXgsSE09dyxaTT1rUy5wYXJzZUNsYXNzVHlwZSxVTT17enJlbmRlcjoiNC4wLjMifSxqTT0xZTMsWE09MWUzLFlNPTNlMyxxTT17UFJPQ0VTU09SOntGSUxURVI6ak0sU1RBVElTVElDOjVlM30sVklTVUFMOntMQVlPVVQ6WE0sR0xPQkFMOjJlMyxDSEFSVDpZTSxDT01QT05FTlQ6NGUzLEJSVVNIOjVlM319LCRNPSJfX2ZsYWdJbk1haW5Qcm9jZXNzIixLTT0iX19vcHRpb25VcGRhdGVkIixKTT0vXlthLXpBLVowLTlfXSskLztCci5wcm90b3R5cGUub249UnIoIm9uIiksQnIucHJvdG90eXBlLm9mZj1Scigib2ZmIiksQnIucHJvdG90eXBlLm9uZT1Scigib25lIiksaChCciwkeCk7dmFyIFFNPVZyLnByb3RvdHlwZTtRTS5fb25mcmFtZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9kaXNwb3NlZCl7dmFyIHQ9dGhpcy5fc2NoZWR1bGVyO2lmKHRoaXNbS01dKXt2YXIgZT10aGlzW0tNXS5zaWxlbnQ7dGhpc1skTV09ITAsRnIodGhpcyksdEkudXBkYXRlLmNhbGwodGhpcyksdGhpc1skTV09ITEsdGhpc1tLTV09ITEsVXIuY2FsbCh0aGlzLGUpLGpyLmNhbGwodGhpcyxlKX1lbHNlIGlmKHQudW5maW5pc2hlZCl7dmFyIGk9MSxuPXRoaXMuX21vZGVsO3RoaXMuX2FwaTt0LnVuZmluaXNoZWQ9ITE7ZG97dmFyIG89K25ldyBEYXRlO3QucGVyZm9ybVNlcmllc1Rhc2tzKG4pLHQucGVyZm9ybURhdGFQcm9jZXNzb3JUYXNrcyhuKSxIcih0aGlzLG4pLHQucGVyZm9ybVZpc3VhbFRhc2tzKG4pLEpyKHRoaXMsdGhpcy5fbW9kZWwsMCwicmVtYWluIiksaS09K25ldyBEYXRlLW99d2hpbGUoaT4wJiZ0LnVuZmluaXNoZWQpO3QudW5maW5pc2hlZHx8dGhpcy5fenIuZmx1c2goKX19fSxRTS5nZXREb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tfSxRTS5nZXRacj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96cn0sUU0uc2V0T3B0aW9uPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbjtpZihITShlKSYmKGk9ZS5sYXp5VXBkYXRlLG49ZS5zaWxlbnQsZT1lLm5vdE1lcmdlKSx0aGlzWyRNXT0hMCwhdGhpcy5fbW9kZWx8fGUpe3ZhciBvPW5ldyBMYSh0aGlzLl9hcGkpLGE9dGhpcy5fdGhlbWUscj10aGlzLl9tb2RlbD1uZXcgWFMobnVsbCxudWxsLGEsbyk7ci5zY2hlZHVsZXI9dGhpcy5fc2NoZWR1bGVyLHIuaW5pdChudWxsLG51bGwsYSxvKX10aGlzLl9tb2RlbC5zZXRPcHRpb24odCxhSSksaT8odGhpc1tLTV09e3NpbGVudDpufSx0aGlzWyRNXT0hMSk6KEZyKHRoaXMpLHRJLnVwZGF0ZS5jYWxsKHRoaXMpLHRoaXMuX3pyLmZsdXNoKCksdGhpc1tLTV09ITEsdGhpc1skTV09ITEsVXIuY2FsbCh0aGlzLG4pLGpyLmNhbGwodGhpcyxuKSl9LFFNLnNldFRoZW1lPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coIkVDaGFydHMjc2V0VGhlbWUoKSBpcyBERVBSRUNBVEVEIGluIEVDaGFydHMgMy4wIil9LFFNLmdldE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsfSxRTS5nZXRPcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWwmJnRoaXMuX21vZGVsLmdldE9wdGlvbigpfSxRTS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96ci5nZXRXaWR0aCgpfSxRTS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIuZ2V0SGVpZ2h0KCl9LFFNLmdldERldmljZVBpeGVsUmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIucGFpbnRlci5kcHJ8fHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxfSxRTS5nZXRSZW5kZXJlZENhbnZhcz1mdW5jdGlvbih0KXtpZihBeC5jYW52YXNTdXBwb3J0ZWQpcmV0dXJuKHQ9dHx8e30pLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvfHwxLHQuYmFja2dyb3VuZENvbG9yPXQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9tb2RlbC5nZXQoImJhY2tncm91bmRDb2xvciIpLHRoaXMuX3pyLnBhaW50ZXIuZ2V0UmVuZGVyZWRDYW52YXModCl9LFFNLmdldFN2Z0RhdGFVcmw9ZnVuY3Rpb24oKXtpZihBeC5zdmdTdXBwb3J0ZWQpe3ZhciB0PXRoaXMuX3pyO3JldHVybiBkKHQuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpLGZ1bmN0aW9uKHQpe3Quc3RvcEFuaW1hdGlvbighMCl9KSx0LnBhaW50ZXIucGF0aFRvRGF0YVVybCgpfX0sUU0uZ2V0RGF0YVVSTD1mdW5jdGlvbih0KXt2YXIgZT0odD10fHx7fSkuZXhjbHVkZUNvbXBvbmVudHMsaT10aGlzLl9tb2RlbCxuPVtdLG89dGhpcztGTShlLGZ1bmN0aW9uKHQpe2kuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6dH0sZnVuY3Rpb24odCl7dmFyIGU9by5fY29tcG9uZW50c01hcFt0Ll9fdmlld0lkXTtlLmdyb3VwLmlnbm9yZXx8KG4ucHVzaChlKSxlLmdyb3VwLmlnbm9yZT0hMCl9KX0pO3ZhciBhPSJzdmciPT09dGhpcy5fenIucGFpbnRlci5nZXRUeXBlKCk/dGhpcy5nZXRTdmdEYXRhVXJsKCk6dGhpcy5nZXRSZW5kZXJlZENhbnZhcyh0KS50b0RhdGFVUkwoImltYWdlLyIrKHQmJnQudHlwZXx8InBuZyIpKTtyZXR1cm4gRk0obixmdW5jdGlvbih0KXt0Lmdyb3VwLmlnbm9yZT0hMX0pLGF9LFFNLmdldENvbm5lY3RlZERhdGFVUkw9ZnVuY3Rpb24odCl7aWYoQXguY2FudmFzU3VwcG9ydGVkKXt2YXIgZT10aGlzLmdyb3VwLG49TWF0aC5taW4sbz1NYXRoLm1heDtpZihjSVtlXSl7dmFyIGE9MS8wLHI9MS8wLHM9LTEvMCxsPS0xLzAsdT1bXSxoPXQmJnQucGl4ZWxSYXRpb3x8MTtkKGhJLGZ1bmN0aW9uKGgsYyl7aWYoaC5ncm91cD09PWUpe3ZhciBkPWguZ2V0UmVuZGVyZWRDYW52YXMoaSh0KSksZj1oLmdldERvbSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2E9bihmLmxlZnQsYSkscj1uKGYudG9wLHIpLHM9byhmLnJpZ2h0LHMpLGw9byhmLmJvdHRvbSxsKSx1LnB1c2goe2RvbTpkLGxlZnQ6Zi5sZWZ0LHRvcDpmLnRvcH0pfX0pO3ZhciBjPShzKj1oKS0oYSo9aCksZj0obCo9aCktKHIqPWgpLHA9VngoKTtwLndpZHRoPWMscC5oZWlnaHQ9Zjt2YXIgZz1faShwKTtyZXR1cm4gRk0odSxmdW5jdGlvbih0KXt2YXIgZT1uZXcgSmUoe3N0eWxlOnt4OnQubGVmdCpoLWEseTp0LnRvcCpoLXIsaW1hZ2U6dC5kb219fSk7Zy5hZGQoZSl9KSxnLnJlZnJlc2hJbW1lZGlhdGVseSgpLHAudG9EYXRhVVJMKCJpbWFnZS8iKyh0JiZ0LnR5cGV8fCJwbmciKSl9cmV0dXJuIHRoaXMuZ2V0RGF0YVVSTCh0KX19LFFNLmNvbnZlcnRUb1BpeGVsPXYoR3IsImNvbnZlcnRUb1BpeGVsIiksUU0uY29udmVydEZyb21QaXhlbD12KEdyLCJjb252ZXJ0RnJvbVBpeGVsIiksUU0uY29udGFpblBpeGVsPWZ1bmN0aW9uKHQsZSl7dmFyIGk7cmV0dXJuIHQ9T2kodGhpcy5fbW9kZWwsdCksZCh0LGZ1bmN0aW9uKHQsbil7bi5pbmRleE9mKCJNb2RlbHMiKT49MCYmZCh0LGZ1bmN0aW9uKHQpe3ZhciBvPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihvJiZvLmNvbnRhaW5Qb2ludClpfD0hIW8uY29udGFpblBvaW50KGUpO2Vsc2UgaWYoInNlcmllc01vZGVscyI9PT1uKXt2YXIgYT10aGlzLl9jaGFydHNNYXBbdC5fX3ZpZXdJZF07YSYmYS5jb250YWluUG9pbnQmJihpfD1hLmNvbnRhaW5Qb2ludChlLHQpKX19LHRoaXMpfSx0aGlzKSwhIWl9LFFNLmdldFZpc3VhbD1mdW5jdGlvbih0LGUpe3ZhciBpPSh0PU9pKHRoaXMuX21vZGVsLHQse2RlZmF1bHRNYWluVHlwZToic2VyaWVzIn0pKS5zZXJpZXNNb2RlbC5nZXREYXRhKCksbj10Lmhhc093blByb3BlcnR5KCJkYXRhSW5kZXhJbnNpZGUiKT90LmRhdGFJbmRleEluc2lkZTp0Lmhhc093blByb3BlcnR5KCJkYXRhSW5kZXgiKT9pLmluZGV4T2ZSYXdJbmRleCh0LmRhdGFJbmRleCk6bnVsbDtyZXR1cm4gbnVsbCE9bj9pLmdldEl0ZW1WaXN1YWwobixlKTppLmdldFZpc3VhbChlKX0sUU0uZ2V0Vmlld09mQ29tcG9uZW50TW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF19LFFNLmdldFZpZXdPZlNlcmllc01vZGVsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGFydHNNYXBbdC5fX3ZpZXdJZF19O3ZhciB0ST17cHJlcGFyZUFuZFVwZGF0ZTpmdW5jdGlvbih0KXtGcih0aGlzKSx0SS51cGRhdGUuY2FsbCh0aGlzLHQpfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbW9kZWwsaT10aGlzLl9hcGksbj10aGlzLl96cixvPXRoaXMuX2Nvb3JkU3lzTWdyLGE9dGhpcy5fc2NoZWR1bGVyO2lmKGUpe2UucmVzdG9yZURhdGEodCksYS5wZXJmb3JtU2VyaWVzVGFza3MoZSksby5jcmVhdGUoZSxpKSxhLnBlcmZvcm1EYXRhUHJvY2Vzc29yVGFza3MoZSx0KSxIcih0aGlzLGUpLG8udXBkYXRlKGUsaSkscXIoZSksYS5wZXJmb3JtVmlzdWFsVGFza3MoZSx0KSwkcih0aGlzLGUsaSx0KTt2YXIgcj1lLmdldCgiYmFja2dyb3VuZENvbG9yIil8fCJ0cmFuc3BhcmVudCI7aWYoQXguY2FudmFzU3VwcG9ydGVkKW4uc2V0QmFja2dyb3VuZENvbG9yKHIpO2Vsc2V7dmFyIHM9QXQocik7cj1SdChzLCJyZ2IiKSwwPT09c1szXSYmKHI9InRyYW5zcGFyZW50Iil9UXIoZSxpKX19LHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb2RlbCxpPXRoaXMsbj10aGlzLl9hcGk7aWYoZSl7dmFyIG89W107ZS5lYWNoQ29tcG9uZW50KGZ1bmN0aW9uKGEscil7dmFyIHM9aS5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChyKTtpZihzJiZzLl9fYWxpdmUpaWYocy51cGRhdGVUcmFuc2Zvcm0pe3ZhciBsPXMudXBkYXRlVHJhbnNmb3JtKHIsZSxuLHQpO2wmJmwudXBkYXRlJiZvLnB1c2gocyl9ZWxzZSBvLnB1c2gocyl9KTt2YXIgYT16KCk7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKG8pe3ZhciByPWkuX2NoYXJ0c01hcFtvLl9fdmlld0lkXTtpZihyLnVwZGF0ZVRyYW5zZm9ybSl7dmFyIHM9ci51cGRhdGVUcmFuc2Zvcm0obyxlLG4sdCk7cyYmcy51cGRhdGUmJmEuc2V0KG8udWlkLDEpfWVsc2UgYS5zZXQoby51aWQsMSl9KSxxcihlKSx0aGlzLl9zY2hlZHVsZXIucGVyZm9ybVZpc3VhbFRhc2tzKGUsdCx7c2V0RGlydHk6ITAsZGlydHlNYXA6YX0pLEpyKGksZSwwLHQsYSksUXIoZSx0aGlzLl9hcGkpfX0sdXBkYXRlVmlldzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tb2RlbDtlJiYocHIubWFya1VwZGF0ZU1ldGhvZCh0LCJ1cGRhdGVWaWV3IikscXIoZSksdGhpcy5fc2NoZWR1bGVyLnBlcmZvcm1WaXN1YWxUYXNrcyhlLHQse3NldERpcnR5OiEwfSksJHIodGhpcyx0aGlzLl9tb2RlbCx0aGlzLl9hcGksdCksUXIoZSx0aGlzLl9hcGkpKX0sdXBkYXRlVmlzdWFsOmZ1bmN0aW9uKHQpe3RJLnVwZGF0ZS5jYWxsKHRoaXMsdCl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbih0KXt0SS51cGRhdGUuY2FsbCh0aGlzLHQpfX07UU0ucmVzaXplPWZ1bmN0aW9uKHQpe3RoaXMuX3pyLnJlc2l6ZSh0KTt2YXIgZT10aGlzLl9tb2RlbDtpZih0aGlzLl9sb2FkaW5nRlgmJnRoaXMuX2xvYWRpbmdGWC5yZXNpemUoKSxlKXt2YXIgaT1lLnJlc2V0T3B0aW9uKCJtZWRpYSIpLG49dCYmdC5zaWxlbnQ7dGhpc1skTV09ITAsaSYmRnIodGhpcyksdEkudXBkYXRlLmNhbGwodGhpcyksdGhpc1skTV09ITEsVXIuY2FsbCh0aGlzLG4pLGpyLmNhbGwodGhpcyxuKX19LFFNLnNob3dMb2FkaW5nPWZ1bmN0aW9uKHQsZSl7aWYoSE0odCkmJihlPXQsdD0iIiksdD10fHwiZGVmYXVsdCIsdGhpcy5oaWRlTG9hZGluZygpLHVJW3RdKXt2YXIgaT11SVt0XSh0aGlzLl9hcGksZSksbj10aGlzLl96cjt0aGlzLl9sb2FkaW5nRlg9aSxuLmFkZChpKX19LFFNLmhpZGVMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5fbG9hZGluZ0ZYJiZ0aGlzLl96ci5yZW1vdmUodGhpcy5fbG9hZGluZ0ZYKSx0aGlzLl9sb2FkaW5nRlg9bnVsbH0sUU0ubWFrZUFjdGlvbkZyb21FdmVudD1mdW5jdGlvbih0KXt2YXIgZT1hKHt9LHQpO3JldHVybiBlLnR5cGU9bklbdC50eXBlXSxlfSxRTS5kaXNwYXRjaEFjdGlvbj1mdW5jdGlvbih0LGUpe0hNKGUpfHwoZT17c2lsZW50OiEhZX0pLGlJW3QudHlwZV0mJnRoaXMuX21vZGVsJiYodGhpc1skTV0/dGhpcy5fcGVuZGluZ0FjdGlvbnMucHVzaCh0KTooWnIuY2FsbCh0aGlzLHQsZS5zaWxlbnQpLGUuZmx1c2g/dGhpcy5fenIuZmx1c2goITApOiExIT09ZS5mbHVzaCYmQXguYnJvd3Nlci53ZUNoYXQmJnRoaXMuX3Rocm90dGxlZFpyRmx1c2goKSxVci5jYWxsKHRoaXMsZS5zaWxlbnQpLGpyLmNhbGwodGhpcyxlLnNpbGVudCkpKX0sUU0uYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10LnNlcmllc0luZGV4O3RoaXMuZ2V0TW9kZWwoKS5nZXRTZXJpZXNCeUluZGV4KGUpLmFwcGVuZERhdGEodCksdGhpcy5fc2NoZWR1bGVyLnVuZmluaXNoZWQ9ITB9LFFNLm9uPVJyKCJvbiIpLFFNLm9mZj1Scigib2ZmIiksUU0ub25lPVJyKCJvbmUiKTt2YXIgZUk9WyJjbGljayIsImRibGNsaWNrIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwiZ2xvYmFsb3V0IiwiY29udGV4dG1lbnUiXTtRTS5faW5pdEV2ZW50cz1mdW5jdGlvbigpe0ZNKGVJLGZ1bmN0aW9uKHQpe3RoaXMuX3pyLm9uKHQsZnVuY3Rpb24oZSl7dmFyIGksbj10aGlzLmdldE1vZGVsKCksbz1lLnRhcmdldDtpZigiZ2xvYmFsb3V0Ij09PXQpaT17fTtlbHNlIGlmKG8mJm51bGwhPW8uZGF0YUluZGV4KXt2YXIgcj1vLmRhdGFNb2RlbHx8bi5nZXRTZXJpZXNCeUluZGV4KG8uc2VyaWVzSW5kZXgpO2k9ciYmci5nZXREYXRhUGFyYW1zKG8uZGF0YUluZGV4LG8uZGF0YVR5cGUpfHx7fX1lbHNlIG8mJm8uZXZlbnREYXRhJiYoaT1hKHt9LG8uZXZlbnREYXRhKSk7aSYmKGkuZXZlbnQ9ZSxpLnR5cGU9dCx0aGlzLnRyaWdnZXIodCxpKSl9LHRoaXMpfSx0aGlzKSxGTShuSSxmdW5jdGlvbih0LGUpe3RoaXMuX21lc3NhZ2VDZW50ZXIub24oZSxmdW5jdGlvbih0KXt0aGlzLnRyaWdnZXIoZSx0KX0sdGhpcyl9LHRoaXMpfSxRTS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VkfSxRTS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0T3B0aW9uKHtzZXJpZXM6W119LCEwKX0sUU0uZGlzcG9zZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9kaXNwb3NlZCl7dGhpcy5fZGlzcG9zZWQ9ITAsemkodGhpcy5nZXREb20oKSxwSSwiIik7dmFyIHQ9dGhpcy5fYXBpLGU9dGhpcy5fbW9kZWw7Rk0odGhpcy5fY29tcG9uZW50c1ZpZXdzLGZ1bmN0aW9uKGkpe2kuZGlzcG9zZShlLHQpfSksRk0odGhpcy5fY2hhcnRzVmlld3MsZnVuY3Rpb24oaSl7aS5kaXNwb3NlKGUsdCl9KSx0aGlzLl96ci5kaXNwb3NlKCksZGVsZXRlIGhJW3RoaXMuaWRdfX0saChWciwkeCk7dmFyIGlJPXt9LG5JPXt9LG9JPVtdLGFJPVtdLHJJPVtdLHNJPVtdLGxJPXt9LHVJPXt9LGhJPXt9LGNJPXt9LGRJPW5ldyBEYXRlLTAsZkk9bmV3IERhdGUtMCxwST0iX2VjaGFydHNfaW5zdGFuY2VfIixnST17fSxtST1hcztmcygyZTMsVE0pLGxzKHNNKSx1cyg1ZTMsZnVuY3Rpb24odCl7dmFyIGU9eigpO3QuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt2YXIgaT10LmdldCgic3RhY2siKTtpZihpKXt2YXIgbj1lLmdldChpKXx8ZS5zZXQoaSxbXSksbz10LmdldERhdGEoKSxhPXtzdGFja1Jlc3VsdERpbWVuc2lvbjpvLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tSZXN1bHREaW1lbnNpb24iKSxzdGFja2VkT3ZlckRpbWVuc2lvbjpvLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE92ZXJEaW1lbnNpb24iKSxzdGFja2VkRGltZW5zaW9uOm8uZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkRGltZW5zaW9uIiksc3RhY2tlZEJ5RGltZW5zaW9uOm8uZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkQnlEaW1lbnNpb24iKSxpc1N0YWNrZWRCeUluZGV4Om8uZ2V0Q2FsY3VsYXRpb25JbmZvKCJpc1N0YWNrZWRCeUluZGV4IiksZGF0YTpvLHNlcmllc01vZGVsOnR9O2lmKCFhLnN0YWNrZWREaW1lbnNpb258fCFhLmlzU3RhY2tlZEJ5SW5kZXgmJiFhLnN0YWNrZWRCeURpbWVuc2lvbilyZXR1cm47bi5sZW5ndGgmJm8uc2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT25TZXJpZXMiLG5bbi5sZW5ndGgtMV0uc2VyaWVzTW9kZWwpLG4ucHVzaChhKX19KSxlLmVhY2goWGEpfSksZ3MoImRlZmF1bHQiLGZ1bmN0aW9uKHQsZSl7cihlPWV8fHt9LHt0ZXh0OiJsb2FkaW5nIixjb2xvcjoiI2MyMzUzMSIsdGV4dENvbG9yOiIjMDAwIixtYXNrQ29sb3I6InJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KSIsemxldmVsOjB9KTt2YXIgaT1uZXcgamIoe3N0eWxlOntmaWxsOmUubWFza0NvbG9yfSx6bGV2ZWw6ZS56bGV2ZWwsejoxZTR9KSxuPW5ldyAkYih7c2hhcGU6e3N0YXJ0QW5nbGU6LUxNLzIsZW5kQW5nbGU6LUxNLzIrLjEscjoxMH0sc3R5bGU6e3N0cm9rZTplLmNvbG9yLGxpbmVDYXA6InJvdW5kIixsaW5lV2lkdGg6NX0semxldmVsOmUuemxldmVsLHo6MTAwMDF9KSxvPW5ldyBqYih7c3R5bGU6e2ZpbGw6Im5vbmUiLHRleHQ6ZS50ZXh0LHRleHRQb3NpdGlvbjoicmlnaHQiLHRleHREaXN0YW5jZToxMCx0ZXh0RmlsbDplLnRleHRDb2xvcn0semxldmVsOmUuemxldmVsLHo6MTAwMDF9KTtuLmFuaW1hdGVTaGFwZSghMCkud2hlbigxZTMse2VuZEFuZ2xlOjMqTE0vMn0pLnN0YXJ0KCJjaXJjdWxhckluT3V0Iiksbi5hbmltYXRlU2hhcGUoITApLndoZW4oMWUzLHtzdGFydEFuZ2xlOjMqTE0vMn0pLmRlbGF5KDMwMCkuc3RhcnQoImNpcmN1bGFySW5PdXQiKTt2YXIgYT1uZXcgTF87cmV0dXJuIGEuYWRkKG4pLGEuYWRkKG8pLGEuYWRkKGkpLGEucmVzaXplPWZ1bmN0aW9uKCl7dmFyIGU9dC5nZXRXaWR0aCgpLzIsYT10LmdldEhlaWdodCgpLzI7bi5zZXRTaGFwZSh7Y3g6ZSxjeTphfSk7dmFyIHI9bi5zaGFwZS5yO28uc2V0U2hhcGUoe3g6ZS1yLHk6YS1yLHdpZHRoOjIqcixoZWlnaHQ6MipyfSksaS5zZXRTaGFwZSh7eDowLHk6MCx3aWR0aDp0LmdldFdpZHRoKCksaGVpZ2h0OnQuZ2V0SGVpZ2h0KCl9KX0sYS5yZXNpemUoKSxhfSksaHMoe3R5cGU6ImhpZ2hsaWdodCIsZXZlbnQ6ImhpZ2hsaWdodCIsdXBkYXRlOiJoaWdobGlnaHQifSxCKSxocyh7dHlwZToiZG93bnBsYXkiLGV2ZW50OiJkb3ducGxheSIsdXBkYXRlOiJkb3ducGxheSJ9LEIpLHNzKCJsaWdodCIsUk0pLHNzKCJkYXJrIixWTSk7dmFyIHZJPXt9O2JzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YnMsYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGQ9dCx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZT10LHRoaXN9LHJlbW92ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlPXQsdGhpc30sZXhlY3V0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX29sZCxlPXRoaXMuX25ldyxpPXt9LG49W10sbz1bXTtmb3IoU3ModCx7fSxuLCJfb2xkS2V5R2V0dGVyIix0aGlzKSxTcyhlLGksbywiX25ld0tleUdldHRlciIsdGhpcyksYT0wO2E8dC5sZW5ndGg7YSsrKW51bGwhPShzPWlbcj1uW2FdXSk/KCh1PXMubGVuZ3RoKT8oMT09PXUmJihpW3JdPW51bGwpLHM9cy51bnNoaWZ0KCkpOmlbcl09bnVsbCx0aGlzLl91cGRhdGUmJnRoaXMuX3VwZGF0ZShzLGEpKTp0aGlzLl9yZW1vdmUmJnRoaXMuX3JlbW92ZShhKTtmb3IodmFyIGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIHI9b1thXTtpZihpLmhhc093blByb3BlcnR5KHIpKXt2YXIgcz1pW3JdO2lmKG51bGw9PXMpY29udGludWU7aWYocy5sZW5ndGgpZm9yKHZhciBsPTAsdT1zLmxlbmd0aDtsPHU7bCsrKXRoaXMuX2FkZCYmdGhpcy5fYWRkKHNbbF0pO2Vsc2UgdGhpcy5fYWRkJiZ0aGlzLl9hZGQocyl9fX19O3ZhciB5ST16KFsidG9vbHRpcCIsImxhYmVsIiwiaXRlbU5hbWUiLCJpdGVtSWQiLCJzZXJpZXNOYW1lIl0pLHhJPXcsX0k9InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/Z2xvYmFsOndpbmRvdyx3ST0iZVwwXDAiLGJJPXtmbG9hdDp2b2lkIDA9PT1fSS5GbG9hdDY0QXJyYXk/QXJyYXk6X0kuRmxvYXQ2NEFycmF5LGludDp2b2lkIDA9PT1fSS5JbnQzMkFycmF5P0FycmF5Ol9JLkludDMyQXJyYXksb3JkaW5hbDpBcnJheSxudW1iZXI6QXJyYXksdGltZTpBcnJheX0sU0k9dm9pZCAwPT09X0kuVWludDMyQXJyYXk/QXJyYXk6X0kuVWludDMyQXJyYXksTUk9dm9pZCAwPT09X0kuVWludDE2QXJyYXk/QXJyYXk6X0kuVWludDE2QXJyYXksSUk9WyJoYXNJdGVtT3B0aW9uIiwiX25hbWVMaXN0IiwiX2lkTGlzdCIsIl9jYWxjdWxhdGlvbkluZm8iLCJfaW52ZXJ0ZWRJbmRpY2VzTWFwIiwiX3Jhd0RhdGEiLCJfcmF3RXh0ZW50IiwiX2NodW5rU2l6ZSIsIl9jaHVua0NvdW50IiwiX2RpbVZhbHVlR2V0dGVyIiwiX2NvdW50IiwiX3Jhd0NvdW50IiwiX25hbWVEaW1JZHgiLCJfaWREaW1JZHgiXSxEST1mdW5jdGlvbih0LGUpe3Q9dHx8WyJ4IiwieSJdO2Zvcih2YXIgaT17fSxuPVtdLG89e30sYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcj10W2FdO18ocikmJihyPXtuYW1lOnJ9KTt2YXIgcz1yLm5hbWU7ci50eXBlPXIudHlwZXx8ImZsb2F0IixyLmNvb3JkRGltfHwoci5jb29yZERpbT1zLHIuY29vcmREaW1JbmRleD0wKSxyLm90aGVyRGltcz1yLm90aGVyRGltc3x8e30sbi5wdXNoKHMpLGlbc109cixyLmluZGV4PWEsci5jcmVhdGVJbnZlcnRlZEluZGljZXMmJihvW3NdPVtdKX10aGlzLmRpbWVuc2lvbnM9bix0aGlzLl9kaW1lbnNpb25JbmZvcz1pLHRoaXMuaG9zdE1vZGVsPWUsdGhpcy5kYXRhVHlwZSx0aGlzLl9pbmRpY2VzPW51bGwsdGhpcy5fY291bnQ9MCx0aGlzLl9yYXdDb3VudD0wLHRoaXMuX3N0b3JhZ2U9e30sdGhpcy5fbmFtZUxpc3Q9W10sdGhpcy5faWRMaXN0PVtdLHRoaXMuX29wdGlvbk1vZGVscz1bXSx0aGlzLl92aXN1YWw9e30sdGhpcy5fbGF5b3V0PXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdLHRoaXMuaGFzSXRlbVZpc3VhbD17fSx0aGlzLl9pdGVtTGF5b3V0cz1bXSx0aGlzLl9ncmFwaGljRWxzPVtdLHRoaXMuX2NodW5rU2l6ZT0xZTUsdGhpcy5fY2h1bmtDb3VudD0wLHRoaXMuX3Jhd0RhdGEsdGhpcy5fcmF3RXh0ZW50PXt9LHRoaXMuX2V4dGVudD17fSx0aGlzLl9hcHByb3hpbWF0ZUV4dGVudD17fSx0aGlzLl9kaW1lbnNpb25zU3VtbWFyeT1Ncyh0aGlzKSx0aGlzLl9pbnZlcnRlZEluZGljZXNNYXA9byx0aGlzLl9jYWxjdWxhdGlvbkluZm89e319LFRJPURJLnByb3RvdHlwZTtUSS50eXBlPSJsaXN0IixUSS5oYXNJdGVtT3B0aW9uPSEwLFRJLmdldERpbWVuc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odCl8fCh0PXRoaXMuZGltZW5zaW9uc1t0XXx8dCksdH0sVEkuZ2V0RGltZW5zaW9uSW5mbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGltZW5zaW9uSW5mb3NbdGhpcy5nZXREaW1lbnNpb24odCldfSxUSS5nZXREaW1lbnNpb25zT25Db29yZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaW1lbnNpb25zU3VtbWFyeS5kYXRhRGltc09uQ29vcmQuc2xpY2UoKX0sVEkubWFwRGltZW5zaW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZGltZW5zaW9uc1N1bW1hcnk7aWYobnVsbD09ZSlyZXR1cm4gaS5lbmNvZGVGaXJzdERpbU5vdEV4dHJhW3RdO3ZhciBuPWkuZW5jb2RlW3RdO3JldHVybiEwPT09ZT8obnx8W10pLnNsaWNlKCk6biYmbltlXX0sVEkuaW5pdERhdGE9ZnVuY3Rpb24odCxlLGkpeyhsYS5pc0luc3RhbmNlKHQpfHxjKHQpKSYmKHQ9bmV3IFlhKHQsdGhpcy5kaW1lbnNpb25zLmxlbmd0aCkpLHRoaXMuX3Jhd0RhdGE9dCx0aGlzLl9zdG9yYWdlPXt9LHRoaXMuX2luZGljZXM9bnVsbCx0aGlzLl9uYW1lTGlzdD1lfHxbXSx0aGlzLl9pZExpc3Q9W10sdGhpcy5fbmFtZVJlcGVhdENvdW50PXt9LGl8fCh0aGlzLmhhc0l0ZW1PcHRpb249ITEpLHRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyPWNNW3RoaXMuX3Jhd0RhdGEuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0XSx0aGlzLl9kaW1WYWx1ZUdldHRlcj1pPWl8fHRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyLHRoaXMuX3Jhd0V4dGVudD17fSx0aGlzLl9pbml0RGF0YUZyb21Qcm92aWRlcigwLHQuY291bnQoKSksdC5wdXJlJiYodGhpcy5oYXNJdGVtT3B0aW9uPSExKX0sVEkuZ2V0UHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmF3RGF0YX0sVEkuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yYXdEYXRhLGk9dGhpcy5jb3VudCgpO2UuYXBwZW5kRGF0YSh0KTt2YXIgbj1lLmNvdW50KCk7ZS5wZXJzaXN0ZW50fHwobis9aSksdGhpcy5faW5pdERhdGFGcm9tUHJvdmlkZXIoaSxuKX0sVEkuX2luaXREYXRhRnJvbVByb3ZpZGVyPWZ1bmN0aW9uKHQsZSl7aWYoISh0Pj1lKSl7Zm9yKHZhciBpLG49dGhpcy5fY2h1bmtTaXplLG89dGhpcy5fcmF3RGF0YSxhPXRoaXMuX3N0b3JhZ2Uscj10aGlzLmRpbWVuc2lvbnMscz10aGlzLl9kaW1lbnNpb25JbmZvcyxsPXRoaXMuX25hbWVMaXN0LHU9dGhpcy5faWRMaXN0LGg9dGhpcy5fcmF3RXh0ZW50LGM9dGhpcy5fbmFtZVJlcGVhdENvdW50PXt9LGQ9dGhpcy5fY2h1bmtDb3VudCxmPWQtMSxwPTA7cDxyLmxlbmd0aDtwKyspe2hbST1yW3BdXXx8KGhbSV09WzEvMCwtMS8wXSk7dmFyIGc9c1tJXTswPT09Zy5vdGhlckRpbXMuaXRlbU5hbWUmJihpPXRoaXMuX25hbWVEaW1JZHg9cCksMD09PWcub3RoZXJEaW1zLml0ZW1JZCYmKHRoaXMuX2lkRGltSWR4PXApO3ZhciBtPWJJW2cudHlwZV07YVtJXXx8KGFbSV09W10pO3ZhciB2PWFbSV1bZl07aWYodiYmdi5sZW5ndGg8bil7Zm9yKHZhciB5PW5ldyBtKE1hdGgubWluKGUtZipuLG4pKSx4PTA7eDx2Lmxlbmd0aDt4KyspeVt4XT12W3hdO2FbSV1bZl09eX1mb3IoTT1kKm47TTxlO00rPW4pYVtJXS5wdXNoKG5ldyBtKE1hdGgubWluKGUtTSxuKSkpO3RoaXMuX2NodW5rQ291bnQ9YVtJXS5sZW5ndGh9Zm9yKHZhciBfPXQ7XzxlO18rKyl7Zm9yKHZhciB3PW8uZ2V0SXRlbShfKSxiPU1hdGguZmxvb3IoXy9uKSxTPV8lbixNPTA7TTxyLmxlbmd0aDtNKyspe3ZhciBJPXJbTV0sRD1hW0ldW2JdLFQ9dGhpcy5fZGltVmFsdWVHZXR0ZXIodyxJLF8sTSk7RFtTXT1ULFQ8aFtJXVswXSYmKGhbSV1bMF09VCksVD5oW0ldWzFdJiYoaFtJXVsxXT1UKX1pZighby5wdXJlKXt2YXIgQT1sW19dO3cmJiFBJiYobnVsbCE9aT9BPXRoaXMuX2dldE5hbWVGcm9tU3RvcmUoXyk6bnVsbCE9dy5uYW1lJiYobFtfXT1BPXcubmFtZSkpO3ZhciBDPW51bGw9PXc/bnVsbDp3LmlkO251bGw9PUMmJm51bGwhPUEmJihjW0FdPWNbQV18fDAsQz1BLGNbQV0+MCYmKEMrPSJfX2VjX18iK2NbQV0pLGNbQV0rKyksbnVsbCE9QyYmKHVbX109Qyl9fSFvLnBlcnNpc3RlbnQmJm8uY2xlYW4mJm8uY2xlYW4oKSx0aGlzLl9yYXdDb3VudD10aGlzLl9jb3VudD1lLHRoaXMuX2V4dGVudD17fSxMcyh0aGlzKX19LFRJLl9nZXROYW1lRnJvbVN0b3JlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX25hbWVEaW1JZHg7aWYobnVsbCE9ZSl7dmFyIGk9dGhpcy5fY2h1bmtTaXplLG49TWF0aC5mbG9vcih0L2kpLG89dCVpLGE9dGhpcy5kaW1lbnNpb25zW2VdLHI9dGhpcy5fZGltZW5zaW9uSW5mb3NbYV0ub3JkaW5hbE1ldGE7aWYocilyZXR1cm4gci5jYXRlZ29yaWVzW3RdO3ZhciBzPXRoaXMuX3N0b3JhZ2VbYV1bbl07cmV0dXJuIHMmJnNbb119fSxUSS5fZ2V0SWRGcm9tU3RvcmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faWREaW1JZHg7aWYobnVsbCE9ZSl7dmFyIGk9dGhpcy5fY2h1bmtTaXplLG49TWF0aC5mbG9vcih0L2kpLG89dCVpLGE9dGhpcy5kaW1lbnNpb25zW2VdLHI9dGhpcy5fZGltZW5zaW9uSW5mb3NbYV0ub3JkaW5hbE1ldGE7aWYocilyZXR1cm4gci5jYXRlZ29yaWVzW3RdO3ZhciBzPXRoaXMuX3N0b3JhZ2VbYV1bbl07cmV0dXJuIHMmJnNbb119fSxUSS5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3VudH0sVEkuZ2V0SW5kaWNlcz1mdW5jdGlvbigpe2lmKHRoaXMuX2luZGljZXMpcmV0dXJuIG5ldyh0PXRoaXMuX2luZGljZXMuY29uc3RydWN0b3IpKHRoaXMuX2luZGljZXMuYnVmZmVyLDAsdGhpcy5fY291bnQpO2Zvcih2YXIgdD1Ucyh0aGlzKSxlPW5ldyB0KHRoaXMuY291bnQoKSksaT0wO2k8ZS5sZW5ndGg7aSsrKWVbaV09aTtyZXR1cm4gZX0sVEkuZ2V0PWZ1bmN0aW9uKHQsZSl7aWYoIShlPj0wJiZlPHRoaXMuX2NvdW50KSlyZXR1cm4gTmFOO3ZhciBpPXRoaXMuX3N0b3JhZ2U7aWYoIWlbdF0pcmV0dXJuIE5hTjtlPXRoaXMuZ2V0UmF3SW5kZXgoZSk7dmFyIG49TWF0aC5mbG9vcihlL3RoaXMuX2NodW5rU2l6ZSksbz1lJXRoaXMuX2NodW5rU2l6ZTtyZXR1cm4gaVt0XVtuXVtvXX0sVEkuZ2V0QnlSYXdJbmRleD1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTx0aGlzLl9yYXdDb3VudCkpcmV0dXJuIE5hTjt2YXIgaT10aGlzLl9zdG9yYWdlW3RdO2lmKCFpKXJldHVybiBOYU47dmFyIG49TWF0aC5mbG9vcihlL3RoaXMuX2NodW5rU2l6ZSksbz1lJXRoaXMuX2NodW5rU2l6ZTtyZXR1cm4gaVtuXVtvXX0sVEkuX2dldEZhc3Q9ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLmZsb29yKGUvdGhpcy5fY2h1bmtTaXplKSxuPWUldGhpcy5fY2h1bmtTaXplO3JldHVybiB0aGlzLl9zdG9yYWdlW3RdW2ldW25dfSxUSS5nZXRWYWx1ZXM9ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTt5KHQpfHwoZT10LHQ9dGhpcy5kaW1lbnNpb25zKTtmb3IodmFyIG49MCxvPXQubGVuZ3RoO248bztuKyspaS5wdXNoKHRoaXMuZ2V0KHRbbl0sZSkpO3JldHVybiBpfSxUSS5oYXNWYWx1ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZGltZW5zaW9uc1N1bW1hcnkuZGF0YURpbXNPbkNvb3JkLGk9dGhpcy5fZGltZW5zaW9uSW5mb3Msbj0wLG89ZS5sZW5ndGg7bjxvO24rKylpZigib3JkaW5hbCIhPT1pW2Vbbl1dLnR5cGUmJmlzTmFOKHRoaXMuZ2V0KGVbbl0sdCkpKXJldHVybiExO3JldHVybiEwfSxUSS5nZXREYXRhRXh0ZW50PWZ1bmN0aW9uKHQpe3Q9dGhpcy5nZXREaW1lbnNpb24odCk7dmFyIGU9WzEvMCwtMS8wXTtpZighdGhpcy5fc3RvcmFnZVt0XSlyZXR1cm4gZTt2YXIgaSxuPXRoaXMuY291bnQoKTtpZighdGhpcy5faW5kaWNlcylyZXR1cm4gdGhpcy5fcmF3RXh0ZW50W3RdLnNsaWNlKCk7aWYoaT10aGlzLl9leHRlbnRbdF0pcmV0dXJuIGkuc2xpY2UoKTtmb3IodmFyIG89KGk9ZSlbMF0sYT1pWzFdLHI9MDtyPG47cisrKXt2YXIgcz10aGlzLl9nZXRGYXN0KHQsdGhpcy5nZXRSYXdJbmRleChyKSk7czxvJiYobz1zKSxzPmEmJihhPXMpfXJldHVybiBpPVtvLGFdLHRoaXMuX2V4dGVudFt0XT1pLGl9LFRJLmdldEFwcHJveGltYXRlRXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuZ2V0RGltZW5zaW9uKHQpLHRoaXMuX2FwcHJveGltYXRlRXh0ZW50W3RdfHx0aGlzLmdldERhdGFFeHRlbnQodCl9LFRJLnNldEFwcHJveGltYXRlRXh0ZW50PWZ1bmN0aW9uKHQsZSl7ZT10aGlzLmdldERpbWVuc2lvbihlKSx0aGlzLl9hcHByb3hpbWF0ZUV4dGVudFtlXT10LnNsaWNlKCl9LFRJLmdldENhbGN1bGF0aW9uSW5mbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2FsY3VsYXRpb25JbmZvW3RdfSxUSS5zZXRDYWxjdWxhdGlvbkluZm89ZnVuY3Rpb24odCxlKXt4SSh0KT9hKHRoaXMuX2NhbGN1bGF0aW9uSW5mbyx0KTp0aGlzLl9jYWxjdWxhdGlvbkluZm9bdF09ZX0sVEkuZ2V0U3VtPWZ1bmN0aW9uKHQpe3ZhciBlPTA7aWYodGhpcy5fc3RvcmFnZVt0XSlmb3IodmFyIGk9MCxuPXRoaXMuY291bnQoKTtpPG47aSsrKXt2YXIgbz10aGlzLmdldCh0LGkpO2lzTmFOKG8pfHwoZSs9byl9cmV0dXJuIGV9LFRJLnJhd0luZGV4T2Y9ZnVuY3Rpb24odCxlKXt2YXIgaT0odCYmdGhpcy5faW52ZXJ0ZWRJbmRpY2VzTWFwW3RdKVtlXTtyZXR1cm4gbnVsbD09aXx8aXNOYU4oaSk/LTE6aX0sVEkuaW5kZXhPZk5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10aGlzLmNvdW50KCk7ZTxpO2UrKylpZih0aGlzLmdldE5hbWUoZSk9PT10KXJldHVybiBlO3JldHVybi0xfSxUSS5pbmRleE9mUmF3SW5kZXg9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2luZGljZXMpcmV0dXJuIHQ7aWYodD49dGhpcy5fcmF3Q291bnR8fHQ8MClyZXR1cm4tMTt2YXIgZT10aGlzLl9pbmRpY2VzLGk9ZVt0XTtpZihudWxsIT1pJiZpPHRoaXMuX2NvdW50JiZpPT09dClyZXR1cm4gdDtmb3IodmFyIG49MCxvPXRoaXMuX2NvdW50LTE7bjw9bzspe3ZhciBhPShuK28pLzJ8MDtpZihlW2FdPHQpbj1hKzE7ZWxzZXtpZighKGVbYV0+dCkpcmV0dXJuIGE7bz1hLTF9fXJldHVybi0xfSxUSS5pbmRpY2VzT2ZOZWFyZXN0PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1bXTtpZighdGhpcy5fc3RvcmFnZVt0XSlyZXR1cm4gbjtudWxsPT1pJiYoaT0xLzApO2Zvcih2YXIgbz1OdW1iZXIuTUFYX1ZBTFVFLGE9LTEscj0wLHM9dGhpcy5jb3VudCgpO3I8cztyKyspe3ZhciBsPWUtdGhpcy5nZXQodCxyKSx1PU1hdGguYWJzKGwpO2w8PWkmJnU8PW8mJigodTxvfHxsPj0wJiZhPDApJiYobz11LGE9bCxuLmxlbmd0aD0wKSxuLnB1c2gocikpfXJldHVybiBufSxUSS5nZXRSYXdJbmRleD1rcyxUSS5nZXRSYXdEYXRhSXRlbT1mdW5jdGlvbih0KXtpZih0aGlzLl9yYXdEYXRhLnBlcnNpc3RlbnQpcmV0dXJuIHRoaXMuX3Jhd0RhdGEuZ2V0SXRlbSh0aGlzLmdldFJhd0luZGV4KHQpKTtmb3IodmFyIGU9W10saT0wO2k8dGhpcy5kaW1lbnNpb25zLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuZGltZW5zaW9uc1tpXTtlLnB1c2godGhpcy5nZXQobix0KSl9cmV0dXJuIGV9LFRJLmdldE5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5fbmFtZUxpc3RbZV18fHRoaXMuX2dldE5hbWVGcm9tU3RvcmUoZSl8fCIifSxUSS5nZXRJZD1mdW5jdGlvbih0KXtyZXR1cm4gTnModGhpcyx0aGlzLmdldFJhd0luZGV4KHQpKX0sVEkuZWFjaD1mdW5jdGlvbih0LGUsaSxuKXtpZih0aGlzLl9jb3VudCl7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPWksaT1lLGU9dCx0PVtdKSxpPWl8fG58fHRoaXM7Zm9yKHZhciBvPSh0PWYoT3ModCksdGhpcy5nZXREaW1lbnNpb24sdGhpcykpLmxlbmd0aCxhPTA7YTx0aGlzLmNvdW50KCk7YSsrKXN3aXRjaChvKXtjYXNlIDA6ZS5jYWxsKGksYSk7YnJlYWs7Y2FzZSAxOmUuY2FsbChpLHRoaXMuZ2V0KHRbMF0sYSksYSk7YnJlYWs7Y2FzZSAyOmUuY2FsbChpLHRoaXMuZ2V0KHRbMF0sYSksdGhpcy5nZXQodFsxXSxhKSxhKTticmVhaztkZWZhdWx0OmZvcih2YXIgcj0wLHM9W107cjxvO3IrKylzW3JdPXRoaXMuZ2V0KHRbcl0sYSk7c1tyXT1hLGUuYXBwbHkoaSxzKX19fSxUSS5maWx0ZXJTZWxmPWZ1bmN0aW9uKHQsZSxpLG4pe2lmKHRoaXMuX2NvdW50KXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49aSxpPWUsZT10LHQ9W10pLGk9aXx8bnx8dGhpcyx0PWYoT3ModCksdGhpcy5nZXREaW1lbnNpb24sdGhpcyk7Zm9yKHZhciBvPXRoaXMuY291bnQoKSxhPW5ldyhUcyh0aGlzKSkobykscj1bXSxzPXQubGVuZ3RoLGw9MCx1PXRbMF0saD0wO2g8bztoKyspe3ZhciBjLGQ9dGhpcy5nZXRSYXdJbmRleChoKTtpZigwPT09cyljPWUuY2FsbChpLGgpO2Vsc2UgaWYoMT09PXMpe3ZhciBwPXRoaXMuX2dldEZhc3QodSxkKTtjPWUuY2FsbChpLHAsaCl9ZWxzZXtmb3IodmFyIGc9MDtnPHM7ZysrKXJbZ109dGhpcy5fZ2V0RmFzdCh1LGQpO3JbZ109aCxjPWUuYXBwbHkoaSxyKX1jJiYoYVtsKytdPWQpfXJldHVybiBsPG8mJih0aGlzLl9pbmRpY2VzPWEpLHRoaXMuX2NvdW50PWwsdGhpcy5fZXh0ZW50PXt9LHRoaXMuZ2V0UmF3SW5kZXg9dGhpcy5faW5kaWNlcz9Qczprcyx0aGlzfX0sVEkuc2VsZWN0UmFuZ2U9ZnVuY3Rpb24odCl7aWYodGhpcy5fY291bnQpe3ZhciBlPVtdO2Zvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJmUucHVzaChpKTt2YXIgbj1lLmxlbmd0aDtpZihuKXt2YXIgbz10aGlzLmNvdW50KCksYT1uZXcoVHModGhpcykpKG8pLHI9MCxzPWVbMF0sbD10W3NdWzBdLHU9dFtzXVsxXSxoPSExO2lmKCF0aGlzLl9pbmRpY2VzKXt2YXIgYz0wO2lmKDE9PT1uKXtmb3IodmFyIGQ9dGhpcy5fc3RvcmFnZVtlWzBdXSxmPTA7Zjx0aGlzLl9jaHVua0NvdW50O2YrKylmb3IodmFyIHA9ZFtmXSxnPU1hdGgubWluKHRoaXMuX2NvdW50LWYqdGhpcy5fY2h1bmtTaXplLHRoaXMuX2NodW5rU2l6ZSksbT0wO208ZzttKyspKHc9cFttXSk+PWwmJnc8PXUmJihhW3IrK109YyksYysrO2g9ITB9ZWxzZSBpZigyPT09bil7Zm9yKHZhciBkPXRoaXMuX3N0b3JhZ2Vbc10sdj10aGlzLl9zdG9yYWdlW2VbMV1dLHk9dFtlWzFdXVswXSx4PXRbZVsxXV1bMV0sZj0wO2Y8dGhpcy5fY2h1bmtDb3VudDtmKyspZm9yKHZhciBwPWRbZl0sXz12W2ZdLGc9TWF0aC5taW4odGhpcy5fY291bnQtZip0aGlzLl9jaHVua1NpemUsdGhpcy5fY2h1bmtTaXplKSxtPTA7bTxnO20rKyl7dmFyIHc9cFttXSxiPV9bbV07dz49bCYmdzw9dSYmYj49eSYmYjw9eCYmKGFbcisrXT1jKSxjKyt9aD0hMH19aWYoIWgpaWYoMT09PW4pZm9yKG09MDttPG87bSsrKXtNPXRoaXMuZ2V0UmF3SW5kZXgobSk7KHc9dGhpcy5fZ2V0RmFzdChzLE0pKT49bCYmdzw9dSYmKGFbcisrXT1NKX1lbHNlIGZvcihtPTA7bTxvO20rKyl7Zm9yKHZhciBTPSEwLE09dGhpcy5nZXRSYXdJbmRleChtKSxmPTA7ZjxuO2YrKyl7dmFyIEk9ZVtmXTsoKHc9dGhpcy5fZ2V0RmFzdChpLE0pKTx0W0ldWzBdfHx3PnRbSV1bMV0pJiYoUz0hMSl9UyYmKGFbcisrXT10aGlzLmdldFJhd0luZGV4KG0pKX1yZXR1cm4gcjxvJiYodGhpcy5faW5kaWNlcz1hKSx0aGlzLl9jb3VudD1yLHRoaXMuX2V4dGVudD17fSx0aGlzLmdldFJhd0luZGV4PXRoaXMuX2luZGljZXM/UHM6a3MsdGhpc319fSxUSS5tYXBBcnJheT1mdW5jdGlvbih0LGUsaSxuKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49aSxpPWUsZT10LHQ9W10pLGk9aXx8bnx8dGhpczt2YXIgbz1bXTtyZXR1cm4gdGhpcy5lYWNoKHQsZnVuY3Rpb24oKXtvLnB1c2goZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxpKSxvfSxUSS5tYXA9ZnVuY3Rpb24odCxlLGksbil7aT1pfHxufHx0aGlzO3ZhciBvPUVzKHRoaXMsdD1mKE9zKHQpLHRoaXMuZ2V0RGltZW5zaW9uLHRoaXMpKTtvLl9pbmRpY2VzPXRoaXMuX2luZGljZXMsby5nZXRSYXdJbmRleD1vLl9pbmRpY2VzP1BzOmtzO2Zvcih2YXIgYT1vLl9zdG9yYWdlLHI9W10scz10aGlzLl9jaHVua1NpemUsbD10Lmxlbmd0aCx1PXRoaXMuY291bnQoKSxoPVtdLGM9by5fcmF3RXh0ZW50LGQ9MDtkPHU7ZCsrKXtmb3IodmFyIHA9MDtwPGw7cCsrKWhbcF09dGhpcy5nZXQodFtwXSxkKTtoW2xdPWQ7dmFyIGc9ZSYmZS5hcHBseShpLGgpO2lmKG51bGwhPWcpeyJvYmplY3QiIT10eXBlb2YgZyYmKHJbMF09ZyxnPXIpO2Zvcih2YXIgbT10aGlzLmdldFJhd0luZGV4KGQpLHY9TWF0aC5mbG9vcihtL3MpLHk9bSVzLHg9MDt4PGcubGVuZ3RoO3grKyl7dmFyIF89dFt4XSx3PWdbeF0sYj1jW19dLFM9YVtfXTtTJiYoU1t2XVt5XT13KSx3PGJbMF0mJihiWzBdPXcpLHc+YlsxXSYmKGJbMV09dyl9fX1yZXR1cm4gb30sVEkuZG93blNhbXBsZT1mdW5jdGlvbih0LGUsaSxuKXtmb3IodmFyIG89RXModGhpcyxbdF0pLGE9by5fc3RvcmFnZSxyPVtdLHM9TWF0aC5mbG9vcigxL2UpLGw9YVt0XSx1PXRoaXMuY291bnQoKSxoPXRoaXMuX2NodW5rU2l6ZSxjPW8uX3Jhd0V4dGVudFt0XSxkPW5ldyhUcyh0aGlzKSkodSksZj0wLHA9MDtwPHU7cCs9cyl7cz51LXAmJihzPXUtcCxyLmxlbmd0aD1zKTtmb3IodmFyIGc9MDtnPHM7ZysrKXt2YXIgbT10aGlzLmdldFJhd0luZGV4KHArZyksdj1NYXRoLmZsb29yKG0vaCkseT1tJWg7cltnXT1sW3ZdW3ldfXZhciB4PWkociksXz10aGlzLmdldFJhd0luZGV4KE1hdGgubWluKHArbihyLHgpfHwwLHUtMSkpLHc9XyVoO2xbTWF0aC5mbG9vcihfL2gpXVt3XT14LHg8Y1swXSYmKGNbMF09eCkseD5jWzFdJiYoY1sxXT14KSxkW2YrK109X31yZXR1cm4gby5fY291bnQ9ZixvLl9pbmRpY2VzPWQsby5nZXRSYXdJbmRleD1QcyxvfSxUSS5nZXRJdGVtTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ob3N0TW9kZWw7cmV0dXJuIG5ldyB3byh0aGlzLmdldFJhd0RhdGFJdGVtKHQpLGUsZSYmZS5lY01vZGVsKX0sVEkuZGlmZj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgYnModD90LmdldEluZGljZXMoKTpbXSx0aGlzLmdldEluZGljZXMoKSxmdW5jdGlvbihlKXtyZXR1cm4gTnModCxlKX0sZnVuY3Rpb24odCl7cmV0dXJuIE5zKGUsdCl9KX0sVEkuZ2V0VmlzdWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Zpc3VhbDtyZXR1cm4gZSYmZVt0XX0sVEkuc2V0VmlzdWFsPWZ1bmN0aW9uKHQsZSl7aWYoeEkodCkpZm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5zZXRWaXN1YWwoaSx0W2ldKTtlbHNlIHRoaXMuX3Zpc3VhbD10aGlzLl92aXN1YWx8fHt9LHRoaXMuX3Zpc3VhbFt0XT1lfSxUSS5zZXRMYXlvdXQ9ZnVuY3Rpb24odCxlKXtpZih4SSh0KSlmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZ0aGlzLnNldExheW91dChpLHRbaV0pO2Vsc2UgdGhpcy5fbGF5b3V0W3RdPWV9LFRJLmdldExheW91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF5b3V0W3RdfSxUSS5nZXRJdGVtTGF5b3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pdGVtTGF5b3V0c1t0XX0sVEkuc2V0SXRlbUxheW91dD1mdW5jdGlvbih0LGUsaSl7dGhpcy5faXRlbUxheW91dHNbdF09aT9hKHRoaXMuX2l0ZW1MYXlvdXRzW3RdfHx7fSxlKTplfSxUSS5jbGVhckl0ZW1MYXlvdXRzPWZ1bmN0aW9uKCl7dGhpcy5faXRlbUxheW91dHMubGVuZ3RoPTB9LFRJLmdldEl0ZW1WaXN1YWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2l0ZW1WaXN1YWxzW3RdLG89biYmbltlXTtyZXR1cm4gbnVsbCE9b3x8aT9vOnRoaXMuZ2V0VmlzdWFsKGUpfSxUSS5zZXRJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9pdGVtVmlzdWFsc1t0XXx8e30sbz10aGlzLmhhc0l0ZW1WaXN1YWw7aWYodGhpcy5faXRlbVZpc3VhbHNbdF09bix4SShlKSlmb3IodmFyIGEgaW4gZSllLmhhc093blByb3BlcnR5KGEpJiYoblthXT1lW2FdLG9bYV09ITApO2Vsc2UgbltlXT1pLG9bZV09ITB9LFRJLmNsZWFyQWxsVmlzdWFsPWZ1bmN0aW9uKCl7dGhpcy5fdmlzdWFsPXt9LHRoaXMuX2l0ZW1WaXN1YWxzPVtdLHRoaXMuaGFzSXRlbVZpc3VhbD17fX07dmFyIEFJPWZ1bmN0aW9uKHQpe3Quc2VyaWVzSW5kZXg9dGhpcy5zZXJpZXNJbmRleCx0LmRhdGFJbmRleD10aGlzLmRhdGFJbmRleCx0LmRhdGFUeXBlPXRoaXMuZGF0YVR5cGV9O1RJLnNldEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmhvc3RNb2RlbDtlJiYoZS5kYXRhSW5kZXg9dCxlLmRhdGFUeXBlPXRoaXMuZGF0YVR5cGUsZS5zZXJpZXNJbmRleD1pJiZpLnNlcmllc0luZGV4LCJncm91cCI9PT1lLnR5cGUmJmUudHJhdmVyc2UoQUksZSkpLHRoaXMuX2dyYXBoaWNFbHNbdF09ZX0sVEkuZ2V0SXRlbUdyYXBoaWNFbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ3JhcGhpY0Vsc1t0XX0sVEkuZWFjaEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCxlKXtkKHRoaXMuX2dyYXBoaWNFbHMsZnVuY3Rpb24oaSxuKXtpJiZ0JiZ0LmNhbGwoZSxpLG4pfSl9LFRJLmNsb25lU2hhbGxvdz1mdW5jdGlvbih0KXtpZighdCl7dmFyIGU9Zih0aGlzLmRpbWVuc2lvbnMsdGhpcy5nZXREaW1lbnNpb25JbmZvLHRoaXMpO3Q9bmV3IERJKGUsdGhpcy5ob3N0TW9kZWwpfWlmKHQuX3N0b3JhZ2U9dGhpcy5fc3RvcmFnZSxDcyh0LHRoaXMpLHRoaXMuX2luZGljZXMpe3ZhciBuPXRoaXMuX2luZGljZXMuY29uc3RydWN0b3I7dC5faW5kaWNlcz1uZXcgbih0aGlzLl9pbmRpY2VzKX1lbHNlIHQuX2luZGljZXM9bnVsbDtyZXR1cm4gdC5nZXRSYXdJbmRleD10Ll9pbmRpY2VzP1BzOmtzLHQuX2V4dGVudD1pKHRoaXMuX2V4dGVudCksdC5fYXBwcm94aW1hdGVFeHRlbnQ9aSh0aGlzLl9hcHByb3hpbWF0ZUV4dGVudCksdH0sVEkud3JhcE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbdF07ImZ1bmN0aW9uIj09dHlwZW9mIGkmJih0aGlzLl9fd3JhcHBlZE1ldGhvZHM9dGhpcy5fX3dyYXBwZWRNZXRob2RzfHxbXSx0aGlzLl9fd3JhcHBlZE1ldGhvZHMucHVzaCh0KSx0aGlzW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUuYXBwbHkodGhpcyxbdF0uY29uY2F0KEMoYXJndW1lbnRzKSkpfSl9LFRJLlRSQU5TRkVSQUJMRV9NRVRIT0RTPVsiY2xvbmVTaGFsbG93IiwiZG93blNhbXBsZSIsIm1hcCJdLFRJLkNIQU5HQUJMRV9NRVRIT0RTPVsiZmlsdGVyU2VsZiIsInNlbGVjdFJhbmdlIl07dmFyIENJPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8e30sQnMoZS5jb29yZERpbWVuc2lvbnN8fFtdLHQse2RpbXNEZWY6ZS5kaW1lbnNpb25zRGVmaW5lfHx0LmRpbWVuc2lvbnNEZWZpbmUsZW5jb2RlRGVmOmUuZW5jb2RlRGVmaW5lfHx0LmVuY29kZURlZmluZSxkaW1Db3VudDplLmRpbWVuc2lvbnNDb3VudCxnZW5lcmF0ZUNvb3JkOmUuZ2VuZXJhdGVDb29yZCxnZW5lcmF0ZUNvb3JkQ291bnQ6ZS5nZW5lcmF0ZUNvb3JkQ291bnR9KX07anMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxqcy5wcm90b3R5cGUuZ2V0U2V0dGluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2V0dGluZ1t0XX0sanMucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O3JldHVybiB0Pj1lWzBdJiZ0PD1lWzFdfSxqcy5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDtyZXR1cm4gZVsxXT09PWVbMF0/LjU6KHQtZVswXSkvKGVbMV0tZVswXSl9LGpzLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7cmV0dXJuIHQqKGVbMV0tZVswXSkrZVswXX0sanMucHJvdG90eXBlLnVuaW9uRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDt0WzBdPGVbMF0mJihlWzBdPXRbMF0pLHRbMV0+ZVsxXSYmKGVbMV09dFsxXSl9LGpzLnByb3RvdHlwZS51bmlvbkV4dGVudEZyb21EYXRhPWZ1bmN0aW9uKHQsZSl7dGhpcy51bmlvbkV4dGVudCh0LmdldEFwcHJveGltYXRlRXh0ZW50KGUpKX0sanMucHJvdG90eXBlLmdldEV4dGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHRlbnQuc2xpY2UoKX0sanMucHJvdG90eXBlLnNldEV4dGVudD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudDtpc05hTih0KXx8KGlbMF09dCksaXNOYU4oZSl8fChpWzFdPWUpfSxqcy5wcm90b3R5cGUuZ2V0VGlja3NMYWJlbHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLmdldFRpY2tzKCksaT0wO2k8ZS5sZW5ndGg7aSsrKXQucHVzaCh0aGlzLmdldExhYmVsKGVbaV0pKTtyZXR1cm4gdH0sanMucHJvdG90eXBlLmlzQmxhbms9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNCbGFua30sanMucHJvdG90eXBlLnNldEJsYW5rPWZ1bmN0aW9uKHQpe3RoaXMuX2lzQmxhbms9dH0sR2koanMpLFppKGpzLHtyZWdpc3RlcldoZW5FeHRlbmQ6ITB9KSxYcy5jcmVhdGVCeUF4aXNNb2RlbD1mdW5jdGlvbih0KXt2YXIgZT10Lm9wdGlvbixpPWUuZGF0YSxuPWkmJmYoaSxxcyk7cmV0dXJuIG5ldyBYcyh7Y2F0ZWdvcmllczpuLG5lZWRDb2xsZWN0OiFuLGRlZHVwbGljYXRpb246ITEhPT1lLmRlZHBsaWNhdGlvbn0pfTt2YXIgTEk9WHMucHJvdG90eXBlO0xJLmdldE9yZGluYWw9ZnVuY3Rpb24odCl7cmV0dXJuIFlzKHRoaXMpLmdldCh0KX0sTEkucGFyc2VBbmRDb2xsZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5fbmVlZENvbGxlY3Q7aWYoInN0cmluZyIhPXR5cGVvZiB0JiYhaSlyZXR1cm4gdDtpZihpJiYhdGhpcy5fZGVkdXBsaWNhdGlvbilyZXR1cm4gZT10aGlzLmNhdGVnb3JpZXMubGVuZ3RoLHRoaXMuY2F0ZWdvcmllc1tlXT10LGU7dmFyIG49WXModGhpcyk7cmV0dXJuIG51bGw9PShlPW4uZ2V0KHQpKSYmKGk/KGU9dGhpcy5jYXRlZ29yaWVzLmxlbmd0aCx0aGlzLmNhdGVnb3JpZXNbZV09dCxuLnNldCh0LGUpKTplPU5hTiksZX07dmFyIGtJPWpzLnByb3RvdHlwZSxQST1qcy5leHRlbmQoe3R5cGU6Im9yZGluYWwiLGluaXQ6ZnVuY3Rpb24odCxlKXt0JiYheSh0KXx8KHQ9bmV3IFhzKHtjYXRlZ29yaWVzOnR9KSksdGhpcy5fb3JkaW5hbE1ldGE9dCx0aGlzLl9leHRlbnQ9ZXx8WzAsdC5jYXRlZ29yaWVzLmxlbmd0aC0xXX0scGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3RoaXMuX29yZGluYWxNZXRhLmdldE9yZGluYWwodCk6TWF0aC5yb3VuZCh0KX0sY29udGFpbjpmdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnBhcnNlKHQpLGtJLmNvbnRhaW4uY2FsbCh0aGlzLHQpJiZudWxsIT10aGlzLl9vcmRpbmFsTWV0YS5jYXRlZ29yaWVzW3RdfSxub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIGtJLm5vcm1hbGl6ZS5jYWxsKHRoaXMsdGhpcy5wYXJzZSh0KSl9LHNjYWxlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKGtJLnNjYWxlLmNhbGwodGhpcyx0KSl9LGdldFRpY2tzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5fZXh0ZW50LGk9ZVswXTtpPD1lWzFdOyl0LnB1c2goaSksaSsrO3JldHVybiB0fSxnZXRMYWJlbDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3JkaW5hbE1ldGEuY2F0ZWdvcmllc1t0XX0sY291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW50WzFdLXRoaXMuX2V4dGVudFswXSsxfSx1bmlvbkV4dGVudEZyb21EYXRhOmZ1bmN0aW9uKHQsZSl7dGhpcy51bmlvbkV4dGVudCh0LmdldEFwcHJveGltYXRlRXh0ZW50KGUpKX0sbmljZVRpY2tzOkIsbmljZUV4dGVudDpCfSk7UEkuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQSX07dmFyIE5JPUFvLE9JPUFvLEVJPWpzLmV4dGVuZCh7dHlwZToiaW50ZXJ2YWwiLF9pbnRlcnZhbDowLF9pbnRlcnZhbFByZWNpc2lvbjoyLHNldEV4dGVudDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudDtpc05hTih0KXx8KGlbMF09cGFyc2VGbG9hdCh0KSksaXNOYU4oZSl8fChpWzFdPXBhcnNlRmxvYXQoZSkpfSx1bmlvbkV4dGVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7dFswXTxlWzBdJiYoZVswXT10WzBdKSx0WzFdPmVbMV0mJihlWzFdPXRbMV0pLEVJLnByb3RvdHlwZS5zZXRFeHRlbnQuY2FsbCh0aGlzLGVbMF0sZVsxXSl9LGdldEludGVydmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVydmFsfSxzZXRJbnRlcnZhbDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcnZhbD10LHRoaXMuX25pY2VFeHRlbnQ9dGhpcy5fZXh0ZW50LnNsaWNlKCksdGhpcy5faW50ZXJ2YWxQcmVjaXNpb249S3ModCl9LGdldFRpY2tzOmZ1bmN0aW9uKCl7cmV0dXJuIHRsKHRoaXMuX2ludGVydmFsLHRoaXMuX2V4dGVudCx0aGlzLl9uaWNlRXh0ZW50LHRoaXMuX2ludGVydmFsUHJlY2lzaW9uKX0sZ2V0VGlja3NMYWJlbHM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLmdldFRpY2tzKCksaT0wO2k8ZS5sZW5ndGg7aSsrKXQucHVzaCh0aGlzLmdldExhYmVsKGVbaV0pKTtyZXR1cm4gdH0sZ2V0TGFiZWw6ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybiIiO3ZhciBpPWUmJmUucHJlY2lzaW9uO3JldHVybiBudWxsPT1pP2k9a28odCl8fDA6ImF1dG8iPT09aSYmKGk9dGhpcy5faW50ZXJ2YWxQcmVjaXNpb24pLHQ9T0kodCxpLCEwKSxXbyh0KX0sbmljZVRpY2tzOmZ1bmN0aW9uKHQsZSxpKXt0PXR8fDU7dmFyIG49dGhpcy5fZXh0ZW50LG89blsxXS1uWzBdO2lmKGlzRmluaXRlKG8pKXtvPDAmJihvPS1vLG4ucmV2ZXJzZSgpKTt2YXIgYT0kcyhuLHQsZSxpKTt0aGlzLl9pbnRlcnZhbFByZWNpc2lvbj1hLmludGVydmFsUHJlY2lzaW9uLHRoaXMuX2ludGVydmFsPWEuaW50ZXJ2YWwsdGhpcy5fbmljZUV4dGVudD1hLm5pY2VUaWNrRXh0ZW50fX0sbmljZUV4dGVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7aWYoZVswXT09PWVbMV0paWYoMCE9PWVbMF0pe3ZhciBpPWVbMF07dC5maXhNYXg/ZVswXS09aS8yOihlWzFdKz1pLzIsZVswXS09aS8yKX1lbHNlIGVbMV09MTt2YXIgbj1lWzFdLWVbMF07aXNGaW5pdGUobil8fChlWzBdPTAsZVsxXT0xKSx0aGlzLm5pY2VUaWNrcyh0LnNwbGl0TnVtYmVyLHQubWluSW50ZXJ2YWwsdC5tYXhJbnRlcnZhbCk7dmFyIG89dGhpcy5faW50ZXJ2YWw7dC5maXhNaW58fChlWzBdPU9JKE1hdGguZmxvb3IoZVswXS9vKSpvKSksdC5maXhNYXh8fChlWzFdPU9JKE1hdGguY2VpbChlWzFdL28pKm8pKX19KTtFSS5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEVJfTt2YXIgekk9Il9fZWNfc3RhY2tfIixSST1FSS5wcm90b3R5cGUsQkk9TWF0aC5jZWlsLFZJPU1hdGguZmxvb3IsR0k9ZnVuY3Rpb24odCxlLGksbil7Zm9yKDtpPG47KXt2YXIgbz1pK24+Pj4xO3Rbb11bMV08ZT9pPW8rMTpuPW99cmV0dXJuIGl9LEZJPUVJLmV4dGVuZCh7dHlwZToidGltZSIsZ2V0TGFiZWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RlcEx2bCxpPW5ldyBEYXRlKHQpO3JldHVybiBxbyhlWzBdLGksdGhpcy5nZXRTZXR0aW5nKCJ1c2VVVEMiKSl9LG5pY2VFeHRlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXh0ZW50O2lmKGVbMF09PT1lWzFdJiYoZVswXS09ODY0ZTUsZVsxXSs9ODY0ZTUpLGVbMV09PT0tMS8wJiZlWzBdPT09MS8wKXt2YXIgaT1uZXcgRGF0ZTtlWzFdPStuZXcgRGF0ZShpLmdldEZ1bGxZZWFyKCksaS5nZXRNb250aCgpLGkuZ2V0RGF0ZSgpKSxlWzBdPWVbMV0tODY0ZTV9dGhpcy5uaWNlVGlja3ModC5zcGxpdE51bWJlcix0Lm1pbkludGVydmFsLHQubWF4SW50ZXJ2YWwpO3ZhciBuPXRoaXMuX2ludGVydmFsO3QuZml4TWlufHwoZVswXT1BbyhWSShlWzBdL24pKm4pKSx0LmZpeE1heHx8KGVbMV09QW8oQkkoZVsxXS9uKSpuKSl9LG5pY2VUaWNrczpmdW5jdGlvbih0LGUsaSl7dD10fHwxMDt2YXIgbj10aGlzLl9leHRlbnQsbz1uWzFdLW5bMF0sYT1vL3Q7bnVsbCE9ZSYmYTxlJiYoYT1lKSxudWxsIT1pJiZhPmkmJihhPWkpO3ZhciByPVdJLmxlbmd0aCxzPUdJKFdJLGEsMCxyKSxsPVdJW01hdGgubWluKHMsci0xKV0sdT1sWzFdOyJ5ZWFyIj09PWxbMF0mJih1Kj1WbyhvL3UvdCwhMCkpO3ZhciBoPXRoaXMuZ2V0U2V0dGluZygidXNlVVRDIik/MDo2MCpuZXcgRGF0ZSgrblswXXx8K25bMV0pLmdldFRpbWV6b25lT2Zmc2V0KCkqMWUzLGM9W01hdGgucm91bmQoQkkoKG5bMF0taCkvdSkqdStoKSxNYXRoLnJvdW5kKFZJKChuWzFdLWgpL3UpKnUraCldO1FzKGMsbiksdGhpcy5fc3RlcEx2bD1sLHRoaXMuX2ludGVydmFsPXUsdGhpcy5fbmljZUV4dGVudD1jfSxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4rem8odCl9fSk7ZChbImNvbnRhaW4iLCJub3JtYWxpemUiXSxmdW5jdGlvbih0KXtGSS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIFJJW3RdLmNhbGwodGhpcyx0aGlzLnBhcnNlKGUpKX19KTt2YXIgV0k9W1siaGg6bW06c3MiLDFlM10sWyJoaDptbTpzcyIsNWUzXSxbImhoOm1tOnNzIiwxZTRdLFsiaGg6bW06c3MiLDE1ZTNdLFsiaGg6bW06c3MiLDNlNF0sWyJoaDptbVxuTU0tZGQiLDZlNF0sWyJoaDptbVxuTU0tZGQiLDNlNV0sWyJoaDptbVxuTU0tZGQiLDZlNV0sWyJoaDptbVxuTU0tZGQiLDllNV0sWyJoaDptbVxuTU0tZGQiLDE4ZTVdLFsiaGg6bW1cbk1NLWRkIiwzNmU1XSxbImhoOm1tXG5NTS1kZCIsNzJlNV0sWyJoaDptbVxuTU0tZGQiLDIxNmU1XSxbImhoOm1tXG5NTS1kZCIsNDMyZTVdLFsiTU0tZGRcbnl5eXkiLDg2NGU1XSxbIk1NLWRkXG55eXl5IiwxNzI4ZTVdLFsiTU0tZGRcbnl5eXkiLDI1OTJlNV0sWyJNTS1kZFxueXl5eSIsMzQ1NmU1XSxbIk1NLWRkXG55eXl5Iiw0MzJlNl0sWyJNTS1kZFxueXl5eSIsNTE4NGU1XSxbIndlZWsiLDYwNDhlNV0sWyJNTS1kZFxueXl5eSIsODY0ZTZdLFsid2VlayIsMTIwOTZlNV0sWyJ3ZWVrIiwxODE0NGU1XSxbIm1vbnRoIiwyNjc4NGU1XSxbIndlZWsiLDM2Mjg4ZTVdLFsibW9udGgiLDUzNTY4ZTVdLFsid2VlayIsMzYyODhlNV0sWyJxdWFydGVyIiw4MjA4ZTZdLFsibW9udGgiLDEwNzEzNmU1XSxbIm1vbnRoIiwxMzM5MmU2XSxbImhhbGYteWVhciIsMTY0MTZlNl0sWyJtb250aCIsMjE0MjcyZTVdLFsibW9udGgiLDI2Nzg0ZTZdLFsieWVhciIsMzI4MzJlNl1dO0ZJLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZJKHt1c2VVVEM6dC5lY01vZGVsLmdldCgidXNlVVRDIil9KX07dmFyIEhJPWpzLnByb3RvdHlwZSxaST1FSS5wcm90b3R5cGUsVUk9a28sakk9QW8sWEk9TWF0aC5mbG9vcixZST1NYXRoLmNlaWwscUk9TWF0aC5wb3csJEk9TWF0aC5sb2csS0k9anMuZXh0ZW5kKHt0eXBlOiJsb2ciLGJhc2U6MTAsJGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7anMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX29yaWdpbmFsU2NhbGU9bmV3IEVJfSxnZXRUaWNrczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX29yaWdpbmFsU2NhbGUsZT10aGlzLl9leHRlbnQsaT10LmdldEV4dGVudCgpO3JldHVybiBmKFpJLmdldFRpY2tzLmNhbGwodGhpcyksZnVuY3Rpb24obil7dmFyIG89QW8ocUkodGhpcy5iYXNlLG4pKTtyZXR1cm4gbz1uPT09ZVswXSYmdC5fX2ZpeE1pbj9zbChvLGlbMF0pOm8sbz1uPT09ZVsxXSYmdC5fX2ZpeE1heD9zbChvLGlbMV0pOm99LHRoaXMpfSxnZXRMYWJlbDpaSS5nZXRMYWJlbCxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gdD1ISS5zY2FsZS5jYWxsKHRoaXMsdCkscUkodGhpcy5iYXNlLHQpfSxzZXRFeHRlbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmJhc2U7dD0kSSh0KS8kSShpKSxlPSRJKGUpLyRJKGkpLFpJLnNldEV4dGVudC5jYWxsKHRoaXMsdCxlKX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYXNlLGU9SEkuZ2V0RXh0ZW50LmNhbGwodGhpcyk7ZVswXT1xSSh0LGVbMF0pLGVbMV09cUkodCxlWzFdKTt2YXIgaT10aGlzLl9vcmlnaW5hbFNjYWxlLG49aS5nZXRFeHRlbnQoKTtyZXR1cm4gaS5fX2ZpeE1pbiYmKGVbMF09c2woZVswXSxuWzBdKSksaS5fX2ZpeE1heCYmKGVbMV09c2woZVsxXSxuWzFdKSksZX0sdW5pb25FeHRlbnQ6ZnVuY3Rpb24odCl7dGhpcy5fb3JpZ2luYWxTY2FsZS51bmlvbkV4dGVudCh0KTt2YXIgZT10aGlzLmJhc2U7dFswXT0kSSh0WzBdKS8kSShlKSx0WzFdPSRJKHRbMV0pLyRJKGUpLEhJLnVuaW9uRXh0ZW50LmNhbGwodGhpcyx0KX0sdW5pb25FeHRlbnRGcm9tRGF0YTpmdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LG5pY2VUaWNrczpmdW5jdGlvbih0KXt0PXR8fDEwO3ZhciBlPXRoaXMuX2V4dGVudCxpPWVbMV0tZVswXTtpZighKGk9PT0xLzB8fGk8PTApKXt2YXIgbj1SbyhpKTtmb3IodC9pKm48PS41JiYobio9MTApOyFpc05hTihuKSYmTWF0aC5hYnMobik8MSYmTWF0aC5hYnMobik+MDspbio9MTA7dmFyIG89W0FvKFlJKGVbMF0vbikqbiksQW8oWEkoZVsxXS9uKSpuKV07dGhpcy5faW50ZXJ2YWw9bix0aGlzLl9uaWNlRXh0ZW50PW99fSxuaWNlRXh0ZW50OmZ1bmN0aW9uKHQpe1pJLm5pY2VFeHRlbnQuY2FsbCh0aGlzLHQpO3ZhciBlPXRoaXMuX29yaWdpbmFsU2NhbGU7ZS5fX2ZpeE1pbj10LmZpeE1pbixlLl9fZml4TWF4PXQuZml4TWF4fX0pO2QoWyJjb250YWluIiwibm9ybWFsaXplIl0sZnVuY3Rpb24odCl7S0kucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiBlPSRJKGUpLyRJKHRoaXMuYmFzZSksSElbdF0uY2FsbCh0aGlzLGUpfX0pLEtJLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgS0l9O3ZhciBKST17Z2V0Rm9ybWF0dGVkTGFiZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIGZsKHRoaXMuYXhpcyx0aGlzLmdldCgiYXhpc0xhYmVsLmZvcm1hdHRlciIpKX0sZ2V0TWluOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLGk9dHx8bnVsbD09ZS5yYW5nZVN0YXJ0P2UubWluOmUucmFuZ2VTdGFydDtyZXR1cm4gdGhpcy5heGlzJiZudWxsIT1pJiYiZGF0YU1pbiIhPT1pJiYiZnVuY3Rpb24iIT10eXBlb2YgaSYmIUkoaSkmJihpPXRoaXMuYXhpcy5zY2FsZS5wYXJzZShpKSksaX0sZ2V0TWF4OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLGk9dHx8bnVsbD09ZS5yYW5nZUVuZD9lLm1heDplLnJhbmdlRW5kO3JldHVybiB0aGlzLmF4aXMmJm51bGwhPWkmJiJkYXRhTWF4IiE9PWkmJiJmdW5jdGlvbiIhPXR5cGVvZiBpJiYhSShpKSYmKGk9dGhpcy5heGlzLnNjYWxlLnBhcnNlKGkpKSxpfSxnZXROZWVkQ3Jvc3NaZXJvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb247cmV0dXJuIG51bGw9PXQucmFuZ2VTdGFydCYmbnVsbD09dC5yYW5nZUVuZCYmIXQuc2NhbGV9LGdldENvb3JkU3lzTW9kZWw6QixzZXRSYW5nZTpmdW5jdGlvbih0LGUpe3RoaXMub3B0aW9uLnJhbmdlU3RhcnQ9dCx0aGlzLm9wdGlvbi5yYW5nZUVuZD1lfSxyZXNldFJhbmdlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb24ucmFuZ2VTdGFydD10aGlzLm9wdGlvbi5yYW5nZUVuZD1udWxsfX0sUUk9RW4oe3R5cGU6InRyaWFuZ2xlIixzaGFwZTp7Y3g6MCxjeTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY3gsbj1lLmN5LG89ZS53aWR0aC8yLGE9ZS5oZWlnaHQvMjt0Lm1vdmVUbyhpLG4tYSksdC5saW5lVG8oaStvLG4rYSksdC5saW5lVG8oaS1vLG4rYSksdC5jbG9zZVBhdGgoKX19KSx0RD1Fbih7dHlwZToiZGlhbW9uZCIsc2hhcGU6e2N4OjAsY3k6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmN4LG49ZS5jeSxvPWUud2lkdGgvMixhPWUuaGVpZ2h0LzI7dC5tb3ZlVG8oaSxuLWEpLHQubGluZVRvKGkrbyxuKSx0LmxpbmVUbyhpLG4rYSksdC5saW5lVG8oaS1vLG4pLHQuY2xvc2VQYXRoKCl9fSksZUQ9RW4oe3R5cGU6InBpbiIsc2hhcGU6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54LG49ZS55LG89ZS53aWR0aC81KjMsYT1NYXRoLm1heChvLGUuaGVpZ2h0KSxyPW8vMixzPXIqci8oYS1yKSxsPW4tYStyK3MsdT1NYXRoLmFzaW4ocy9yKSxoPU1hdGguY29zKHUpKnIsYz1NYXRoLnNpbih1KSxkPU1hdGguY29zKHUpLGY9LjYqcixwPS43KnI7dC5tb3ZlVG8oaS1oLGwrcyksdC5hcmMoaSxsLHIsTWF0aC5QSS11LDIqTWF0aC5QSSt1KSx0LmJlemllckN1cnZlVG8oaStoLWMqZixsK3MrZCpmLGksbi1wLGksbiksdC5iZXppZXJDdXJ2ZVRvKGksbi1wLGktaCtjKmYsbCtzK2QqZixpLWgsbCtzKSx0LmNsb3NlUGF0aCgpfX0pLGlEPUVuKHt0eXBlOiJhcnJvdyIsc2hhcGU6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5oZWlnaHQsbj1lLndpZHRoLG89ZS54LGE9ZS55LHI9bi8zKjI7dC5tb3ZlVG8obyxhKSx0LmxpbmVUbyhvK3IsYStpKSx0LmxpbmVUbyhvLGEraS80KjMpLHQubGluZVRvKG8tcixhK2kpLHQubGluZVRvKG8sYSksdC5jbG9zZVBhdGgoKX19KSxuRD17bGluZTpmdW5jdGlvbih0LGUsaSxuLG8pe28ueDE9dCxvLnkxPWUrbi8yLG8ueDI9dCtpLG8ueTI9ZStuLzJ9LHJlY3Q6ZnVuY3Rpb24odCxlLGksbixvKXtvLng9dCxvLnk9ZSxvLndpZHRoPWksby5oZWlnaHQ9bn0scm91bmRSZWN0OmZ1bmN0aW9uKHQsZSxpLG4sbyl7by54PXQsby55PWUsby53aWR0aD1pLG8uaGVpZ2h0PW4sby5yPU1hdGgubWluKGksbikvNH0sc3F1YXJlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9TWF0aC5taW4oaSxuKTtvLng9dCxvLnk9ZSxvLndpZHRoPWEsby5oZWlnaHQ9YX0sY2lyY2xlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7by5jeD10K2kvMixvLmN5PWUrbi8yLG8ucj1NYXRoLm1pbihpLG4pLzJ9LGRpYW1vbmQ6ZnVuY3Rpb24odCxlLGksbixvKXtvLmN4PXQraS8yLG8uY3k9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59LHBpbjpmdW5jdGlvbih0LGUsaSxuLG8pe28ueD10K2kvMixvLnk9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59LGFycm93OmZ1bmN0aW9uKHQsZSxpLG4sbyl7by54PXQraS8yLG8ueT1lK24vMixvLndpZHRoPWksby5oZWlnaHQ9bn0sdHJpYW5nbGU6ZnVuY3Rpb24odCxlLGksbixvKXtvLmN4PXQraS8yLG8uY3k9ZStuLzIsby53aWR0aD1pLG8uaGVpZ2h0PW59fSxvRD17fTtkKHtsaW5lOlhiLHJlY3Q6amIscm91bmRSZWN0OmpiLHNxdWFyZTpqYixjaXJjbGU6UmIsZGlhbW9uZDp0RCxwaW46ZUQsYXJyb3c6aUQsdHJpYW5nbGU6UUl9LGZ1bmN0aW9uKHQsZSl7b0RbZV09bmV3IHR9KTt2YXIgYUQ9RW4oe3R5cGU6InN5bWJvbCIsc2hhcGU6e3N5bWJvbFR5cGU6IiIseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxiZWZvcmVCcnVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGU7InBpbiI9PT10aGlzLnNoYXBlLnN5bWJvbFR5cGUmJiJpbnNpZGUiPT09dC50ZXh0UG9zaXRpb24mJih0LnRleHRQb3NpdGlvbj1bIjUwJSIsIjQwJSJdLHQudGV4dEFsaWduPSJjZW50ZXIiLHQudGV4dFZlcnRpY2FsQWxpZ249Im1pZGRsZSIpfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUuc3ltYm9sVHlwZSxvPW9EW25dOyJub25lIiE9PWUuc3ltYm9sVHlwZSYmKG98fChvPW9EW249InJlY3QiXSksbkRbbl0oZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LG8uc2hhcGUpLG8uYnVpbGRQYXRoKHQsby5zaGFwZSxpKSl9fSksckQ9e2lzRGltZW5zaW9uU3RhY2tlZDpXcyxlbmFibGVEYXRhU3RhY2s6RnN9LHNEPShPYmplY3QuZnJlZXplfHxPYmplY3QpKHtjcmVhdGVMaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBIcyh0LmdldFNvdXJjZSgpLHQpfSxnZXRMYXlvdXRSZWN0OlFvLGRhdGFTdGFjazpyRCxjcmVhdGVTY2FsZTpmdW5jdGlvbih0LGUpe3ZhciBpPWU7d28uaXNJbnN0YW5jZShlKXx8aChpPW5ldyB3byhlKSxKSSk7dmFyIG49Y2woaSk7cmV0dXJuIG4uc2V0RXh0ZW50KHRbMF0sdFsxXSksaGwobixpKSxufSxtaXhpbkF4aXNNb2RlbENvbW1vbk1ldGhvZHM6ZnVuY3Rpb24odCl7aCh0LEpJKX0sY29tcGxldGVEaW1lbnNpb25zOkJzLGNyZWF0ZURpbWVuc2lvbnM6Q0ksY3JlYXRlU3ltYm9sOm1sfSksbEQ9MWUtODt4bC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnhsLHByb3BlcnRpZXM6bnVsbCxnZXRCb3VuZGluZ1JlY3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0O2lmKHQpcmV0dXJuIHQ7Zm9yKHZhciBlPU51bWJlci5NQVhfVkFMVUUsaT1bZSxlXSxuPVstZSwtZV0sbz1bXSxhPVtdLHI9dGhpcy5nZW9tZXRyaWVzLHM9MDtzPHIubGVuZ3RoO3MrKykicG9seWdvbiI9PT1yW3NdLnR5cGUmJihybihyW3NdLmV4dGVyaW9yLG8sYSksdHQoaSxpLG8pLGV0KG4sbixhKSk7cmV0dXJuIDA9PT1zJiYoaVswXT1pWzFdPW5bMF09blsxXT0wKSx0aGlzLl9yZWN0PW5ldyBLdChpWzBdLGlbMV0sblswXS1pWzBdLG5bMV0taVsxXSl9LGNvbnRhaW46ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxpPXRoaXMuZ2VvbWV0cmllcztpZighZS5jb250YWluKHRbMF0sdFsxXSkpcmV0dXJuITE7dDpmb3IodmFyIG49MCxvPWkubGVuZ3RoO248bztuKyspaWYoInBvbHlnb24iPT09aVtuXS50eXBlKXt2YXIgYT1pW25dLmV4dGVyaW9yLHI9aVtuXS5pbnRlcmlvcnM7aWYoeWwoYSx0WzBdLHRbMV0pKXtmb3IodmFyIHM9MDtzPChyP3IubGVuZ3RoOjApO3MrKylpZih5bChyW3NdKSljb250aW51ZSB0O3JldHVybiEwfX1yZXR1cm4hMX0sdHJhbnNmb3JtVG86ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxhPW8ud2lkdGgvby5oZWlnaHQ7aT9ufHwobj1pL2EpOmk9YSpuO2Zvcih2YXIgcj1uZXcgS3QodCxlLGksbikscz1vLmNhbGN1bGF0ZVRyYW5zZm9ybShyKSxsPXRoaXMuZ2VvbWV0cmllcyx1PTA7dTxsLmxlbmd0aDt1KyspaWYoInBvbHlnb24iPT09bFt1XS50eXBlKXtmb3IodmFyIGg9bFt1XS5leHRlcmlvcixjPWxbdV0uaW50ZXJpb3JzLGQ9MDtkPGgubGVuZ3RoO2QrKylRKGhbZF0saFtkXSxzKTtmb3IodmFyIGY9MDtmPChjP2MubGVuZ3RoOjApO2YrKylmb3IoZD0wO2Q8Y1tmXS5sZW5ndGg7ZCsrKVEoY1tmXVtkXSxjW2ZdW2RdLHMpfShvPXRoaXMuX3JlY3QpLmNvcHkociksdGhpcy5jZW50ZXI9W28ueCtvLndpZHRoLzIsby55K28uaGVpZ2h0LzJdfX07dmFyIHVEPWZ1bmN0aW9uKHQpe3JldHVybiBfbCh0KSxmKGcodC5mZWF0dXJlcyxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeSYmdC5wcm9wZXJ0aWVzJiZ0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aD4wfSksZnVuY3Rpb24odCl7dmFyIGU9dC5wcm9wZXJ0aWVzLGk9dC5nZW9tZXRyeSxuPWkuY29vcmRpbmF0ZXMsbz1bXTsiUG9seWdvbiI9PT1pLnR5cGUmJm8ucHVzaCh7dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6blswXSxpbnRlcmlvcnM6bi5zbGljZSgxKX0pLCJNdWx0aVBvbHlnb24iPT09aS50eXBlJiZkKG4sZnVuY3Rpb24odCl7dFswXSYmby5wdXNoKHt0eXBlOiJwb2x5Z29uIixleHRlcmlvcjp0WzBdLGludGVyaW9yczp0LnNsaWNlKDEpfSl9KTt2YXIgYT1uZXcgeGwoZS5uYW1lLG8sZS5jcCk7cmV0dXJuIGEucHJvcGVydGllcz1lLGF9KX0saEQ9RG8sY0Q9WzAsMV0sZEQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMuZGltPXQsdGhpcy5zY2FsZT1lLHRoaXMuX2V4dGVudD1pfHxbMCwwXSx0aGlzLmludmVyc2U9ITEsdGhpcy5vbkJhbmQ9ITEsdGhpcy5fbGFiZWxJbnRlcnZhbH07ZEQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkRCxjb250YWluOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudCxpPU1hdGgubWluKGVbMF0sZVsxXSksbj1NYXRoLm1heChlWzBdLGVbMV0pO3JldHVybiB0Pj1pJiZ0PD1ufSxjb250YWluRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250YWluKHRoaXMuZGF0YVRvQ29vcmQodCkpfSxnZXRFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW50LnNsaWNlKCl9LGdldFBpeGVsUHJlY2lzaW9uOmZ1bmN0aW9uKHQpe3JldHVybiBQbyh0fHx0aGlzLnNjYWxlLmdldEV4dGVudCgpLHRoaXMuX2V4dGVudCl9LHNldEV4dGVudDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudDtpWzBdPXQsaVsxXT1lfSxkYXRhVG9Db29yZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2V4dGVudCxuPXRoaXMuc2NhbGU7cmV0dXJuIHQ9bi5ub3JtYWxpemUodCksdGhpcy5vbkJhbmQmJiJvcmRpbmFsIj09PW4udHlwZSYmYmwoaT1pLnNsaWNlKCksbi5jb3VudCgpKSxoRCh0LGNELGksZSl9LGNvb3JkVG9EYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZXh0ZW50LG49dGhpcy5zY2FsZTt0aGlzLm9uQmFuZCYmIm9yZGluYWwiPT09bi50eXBlJiZibChpPWkuc2xpY2UoKSxuLmNvdW50KCkpO3ZhciBvPWhEKHQsaSxjRCxlKTtyZXR1cm4gdGhpcy5zY2FsZS5zY2FsZShvKX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCxlKXt9LGdldFRpY2tzQ29vcmRzOmZ1bmN0aW9uKHQpe2lmKHRoaXMub25CYW5kJiYhdCl7Zm9yKHZhciBlPXRoaXMuZ2V0QmFuZHMoKSxpPVtdLG49MDtuPGUubGVuZ3RoO24rKylpLnB1c2goZVtuXVswXSk7cmV0dXJuIGVbbi0xXSYmaS5wdXNoKGVbbi0xXVsxXSksaX1yZXR1cm4gZih0aGlzLnNjYWxlLmdldFRpY2tzKCksdGhpcy5kYXRhVG9Db29yZCx0aGlzKX0sZ2V0TGFiZWxzQ29vcmRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5zY2FsZS5nZXRUaWNrcygpLHRoaXMuZGF0YVRvQ29vcmQsdGhpcyl9LGdldEJhbmRzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0RXh0ZW50KCksZT1bXSxpPXRoaXMuc2NhbGUuY291bnQoKSxuPXRbMF0sbz10WzFdLW4sYT0wO2E8aTthKyspZS5wdXNoKFtvKmEvaStuLG8qKGErMSkvaStuXSk7cmV0dXJuIGV9LGdldEJhbmRXaWR0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2V4dGVudCxlPXRoaXMuc2NhbGUuZ2V0RXh0ZW50KCksaT1lWzFdLWVbMF0rKHRoaXMub25CYW5kPzE6MCk7MD09PWkmJihpPTEpO3ZhciBuPU1hdGguYWJzKHRbMV0tdFswXSk7cmV0dXJuIE1hdGguYWJzKG4pL2l9LGlzSG9yaXpvbnRhbDpudWxsLGdldFJvdGF0ZTpudWxsLGdldExhYmVsSW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYWJlbEludGVydmFsO2lmKCF0KXt2YXIgZT10aGlzLm1vZGVsLGk9ZS5nZXRNb2RlbCgiYXhpc0xhYmVsIik7dD1pLmdldCgiaW50ZXJ2YWwiKSwiY2F0ZWdvcnkiIT09dGhpcy50eXBlfHxudWxsIT10JiYiYXV0byIhPT10fHwodD1kbChmKHRoaXMuc2NhbGUuZ2V0VGlja3MoKSx0aGlzLmRhdGFUb0Nvb3JkLHRoaXMpLGUuZ2V0Rm9ybWF0dGVkTGFiZWxzKCksaS5nZXRGb250KCksdGhpcy5nZXRSb3RhdGU/dGhpcy5nZXRSb3RhdGUoKTp0aGlzLmlzSG9yaXpvbnRhbCYmIXRoaXMuaXNIb3Jpem9udGFsKCk/OTA6MCxpLmdldCgicm90YXRlIikpKSx0aGlzLl9sYWJlbEludGVydmFsPXR9cmV0dXJuIHR9fTt2YXIgZkQ9dUQscEQ9e307ZChbIm1hcCIsImVhY2giLCJmaWx0ZXIiLCJpbmRleE9mIiwiaW5oZXJpdHMiLCJyZWR1Y2UiLCJmaWx0ZXIiLCJiaW5kIiwiY3VycnkiLCJpc0FycmF5IiwiaXNTdHJpbmciLCJpc09iamVjdCIsImlzRnVuY3Rpb24iLCJleHRlbmQiLCJkZWZhdWx0cyIsImNsb25lIiwibWVyZ2UiXSxmdW5jdGlvbih0KXtwRFt0XT1XeFt0XX0pO21zKHt0eXBlOiJkYXRhc2V0IixkZWZhdWx0T3B0aW9uOntzZXJpZXNMYXlvdXRCeTpIUyxzb3VyY2VIZWFkZXI6bnVsbCxkaW1lbnNpb25zOm51bGwsc291cmNlOm51bGx9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt1YSh0aGlzKX19KTt2cyh7dHlwZToiZGF0YXNldCJ9KSxtTS5leHRlbmQoe3R5cGU6InNlcmllcy5saW5lIixkZXBlbmRlbmNpZXM6WyJncmlkIiwicG9sYXIiXSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBIcyh0aGlzLmdldFNvdXJjZSgpLHRoaXMpfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxob3ZlckFuaW1hdGlvbjohMCxjbGlwT3ZlcmZsb3c6ITAsbGFiZWw6e3Bvc2l0aW9uOiJ0b3AifSxsaW5lU3R5bGU6e3dpZHRoOjIsdHlwZToic29saWQifSxzdGVwOiExLHNtb290aDohMSxzbW9vdGhNb25vdG9uZTpudWxsLHN5bWJvbDoiZW1wdHlDaXJjbGUiLHN5bWJvbFNpemU6NCxzeW1ib2xSb3RhdGU6bnVsbCxzaG93U3ltYm9sOiEwLHNob3dBbGxTeW1ib2w6ITEsY29ubmVjdE51bGxzOiExLHNhbXBsaW5nOiJub25lIixhbmltYXRpb25FYXNpbmc6ImxpbmVhciIscHJvZ3Jlc3NpdmU6MCxob3ZlckxheWVyVGhyZXNob2xkOjEvMH19KTt2YXIgZ0Q9RGwucHJvdG90eXBlO2dELl9jcmVhdGVTeW1ib2w9ZnVuY3Rpb24odCxlLGksbil7dGhpcy5yZW1vdmVBbGwoKTt2YXIgbz1tbCh0LC0xLC0xLDIsMixlLmdldEl0ZW1WaXN1YWwoaSwiY29sb3IiKSk7by5hdHRyKHt6MjoxMDAsY3VsbGluZzohMCxzY2FsZTpJbChuKX0pLG8uZHJpZnQ9VGwsdGhpcy5fc3ltYm9sVHlwZT10LHRoaXMuYWRkKG8pfSxnRC5zdG9wU3ltYm9sQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuY2hpbGRBdCgwKS5zdG9wQW5pbWF0aW9uKHQpfSxnRC5nZXRTeW1ib2xQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRBdCgwKX0sZ0QuZ2V0U2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZEF0KDApLnNjYWxlfSxnRC5oaWdobGlnaHQ9ZnVuY3Rpb24oKXt0aGlzLmNoaWxkQXQoMCkudHJpZ2dlcigiZW1waGFzaXMiKX0sZ0QuZG93bnBsYXk9ZnVuY3Rpb24oKXt0aGlzLmNoaWxkQXQoMCkudHJpZ2dlcigibm9ybWFsIil9LGdELnNldFo9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmNoaWxkQXQoMCk7aS56bGV2ZWw9dCxpLno9ZX0sZ0Quc2V0RHJhZ2dhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRBdCgwKTtlLmRyYWdnYWJsZT10LGUuY3Vyc29yPXQ/Im1vdmUiOiJwb2ludGVyIn0sZ0QudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsaSl7dGhpcy5zaWxlbnQ9ITE7dmFyIG49dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIpfHwiY2lyY2xlIixvPXQuaG9zdE1vZGVsLGE9TWwodCxlKSxyPW4hPT10aGlzLl9zeW1ib2xUeXBlO2lmKHI/dGhpcy5fY3JlYXRlU3ltYm9sKG4sdCxlLGEpOigocz10aGlzLmNoaWxkQXQoMCkpLnNpbGVudD0hMSxmbyhzLHtzY2FsZTpJbChhKX0sbyxlKSksdGhpcy5fdXBkYXRlQ29tbW9uKHQsZSxhLGkpLHIpe3ZhciBzPXRoaXMuY2hpbGRBdCgwKSxsPWkmJmkuZmFkZUluLHU9e3NjYWxlOnMuc2NhbGUuc2xpY2UoKX07bCYmKHUuc3R5bGU9e29wYWNpdHk6cy5zdHlsZS5vcGFjaXR5fSkscy5zY2FsZT1bMCwwXSxsJiYocy5zdHlsZS5vcGFjaXR5PTApLHBvKHMsdSxvLGUpfXRoaXMuX3Nlcmllc01vZGVsPW99O3ZhciBtRD1bIml0ZW1TdHlsZSJdLHZEPVsiZW1waGFzaXMiLCJpdGVtU3R5bGUiXSx5RD1bImxhYmVsIl0seEQ9WyJlbXBoYXNpcyIsImxhYmVsIl07Z0QuX3VwZGF0ZUNvbW1vbj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLmNoaWxkQXQoMCkscj10Lmhvc3RNb2RlbCxzPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpOyJpbWFnZSIhPT1vLnR5cGUmJm8udXNlU3R5bGUoe3N0cm9rZU5vU2NhbGU6ITB9KTt2YXIgbD1uJiZuLml0ZW1TdHlsZSx1PW4mJm4uaG92ZXJJdGVtU3R5bGUsaD1uJiZuLnN5bWJvbFJvdGF0ZSxjPW4mJm4uc3ltYm9sT2Zmc2V0LGQ9biYmbi5sYWJlbE1vZGVsLGY9biYmbi5ob3ZlckxhYmVsTW9kZWwscD1uJiZuLmhvdmVyQW5pbWF0aW9uLGc9biYmbi5jdXJzb3JTdHlsZTtpZighbnx8dC5oYXNJdGVtT3B0aW9uKXt2YXIgbT1uJiZuLml0ZW1Nb2RlbD9uLml0ZW1Nb2RlbDp0LmdldEl0ZW1Nb2RlbChlKTtsPW0uZ2V0TW9kZWwobUQpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pLHU9bS5nZXRNb2RlbCh2RCkuZ2V0SXRlbVN0eWxlKCksaD1tLmdldFNoYWxsb3coInN5bWJvbFJvdGF0ZSIpLGM9bS5nZXRTaGFsbG93KCJzeW1ib2xPZmZzZXQiKSxkPW0uZ2V0TW9kZWwoeUQpLGY9bS5nZXRNb2RlbCh4RCkscD1tLmdldFNoYWxsb3coImhvdmVyQW5pbWF0aW9uIiksZz1tLmdldFNoYWxsb3coImN1cnNvciIpfWVsc2UgdT1hKHt9LHUpO3ZhciB2PW8uc3R5bGU7by5hdHRyKCJyb3RhdGlvbiIsKGh8fDApKk1hdGguUEkvMTgwfHwwKSxjJiZvLmF0dHIoInBvc2l0aW9uIixbVG8oY1swXSxpWzBdKSxUbyhjWzFdLGlbMV0pXSksZyYmby5hdHRyKCJjdXJzb3IiLGcpLG8uc2V0Q29sb3IocyxuJiZuLnN5bWJvbElubmVyQ29sb3IpLG8uc2V0U3R5bGUobCk7dmFyIHk9dC5nZXRJdGVtVmlzdWFsKGUsIm9wYWNpdHkiKTtudWxsIT15JiYodi5vcGFjaXR5PXkpO3ZhciB4PW4mJm4udXNlTmFtZUxhYmVsO2lvKHYsdSxkLGYse2xhYmVsRmV0Y2hlcjpyLGxhYmVsRGF0YUluZGV4OmUsZGVmYXVsdFRleHQ6ZnVuY3Rpb24oZSxpKXtyZXR1cm4geD90LmdldE5hbWUoZSk6U2wodCxlKX0saXNSZWN0VGV4dDohMCxhdXRvQ29sb3I6c30pLG8ub2ZmKCJtb3VzZW92ZXIiKS5vZmYoIm1vdXNlb3V0Iikub2ZmKCJlbXBoYXNpcyIpLm9mZigibm9ybWFsIiksby5ob3ZlclN0eWxlPXUsZW8obyk7dmFyIF89SWwoaSk7aWYocCYmci5pc0FuaW1hdGlvbkVuYWJsZWQoKSl7dmFyIHc9ZnVuY3Rpb24oKXtpZighdGhpcy5pbmNyZW1lbnRhbCl7dmFyIHQ9X1sxXS9fWzBdO3RoaXMuYW5pbWF0ZVRvKHtzY2FsZTpbTWF0aC5tYXgoMS4xKl9bMF0sX1swXSszKSxNYXRoLm1heCgxLjEqX1sxXSxfWzFdKzMqdCldfSw0MDAsImVsYXN0aWNPdXQiKX19LGI9ZnVuY3Rpb24oKXt0aGlzLmluY3JlbWVudGFsfHx0aGlzLmFuaW1hdGVUbyh7c2NhbGU6X30sNDAwLCJlbGFzdGljT3V0Iil9O28ub24oIm1vdXNlb3ZlciIsdykub24oIm1vdXNlb3V0IixiKS5vbigiZW1waGFzaXMiLHcpLm9uKCJub3JtYWwiLGIpfX0sZ0QuZmFkZU91dD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hpbGRBdCgwKTt0aGlzLnNpbGVudD1pLnNpbGVudD0hMCwhKGUmJmUua2VlcExhYmVsKSYmKGkuc3R5bGUudGV4dD1udWxsKSxmbyhpLHtzdHlsZTp7b3BhY2l0eTowfSxzY2FsZTpbMCwwXX0sdGhpcy5fc2VyaWVzTW9kZWwsdGhpcy5kYXRhSW5kZXgsdCl9LHUoRGwsTF8pO3ZhciBfRD1BbC5wcm90b3R5cGU7X0QudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe2U9TGwoZSk7dmFyIGk9dGhpcy5ncm91cCxuPXQuaG9zdE1vZGVsLG89dGhpcy5fZGF0YSxhPXRoaXMuX3N5bWJvbEN0b3Iscj1rbCh0KTtvfHxpLnJlbW92ZUFsbCgpLHQuZGlmZihvKS5hZGQoZnVuY3Rpb24obil7dmFyIG89dC5nZXRJdGVtTGF5b3V0KG4pO2lmKENsKHQsbyxuLGUpKXt2YXIgcz1uZXcgYSh0LG4scik7cy5hdHRyKCJwb3NpdGlvbiIsbyksdC5zZXRJdGVtR3JhcGhpY0VsKG4scyksaS5hZGQocyl9fSkudXBkYXRlKGZ1bmN0aW9uKHMsbCl7dmFyIHU9by5nZXRJdGVtR3JhcGhpY0VsKGwpLGg9dC5nZXRJdGVtTGF5b3V0KHMpO0NsKHQsaCxzLGUpPyh1Pyh1LnVwZGF0ZURhdGEodCxzLHIpLGZvKHUse3Bvc2l0aW9uOmh9LG4pKToodT1uZXcgYSh0LHMpKS5hdHRyKCJwb3NpdGlvbiIsaCksaS5hZGQodSksdC5zZXRJdGVtR3JhcGhpY0VsKHMsdSkpOmkucmVtb3ZlKHUpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZlLmZhZGVPdXQoZnVuY3Rpb24oKXtpLnJlbW92ZShlKX0pfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9dH0sX0QuaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITB9LF9ELnVwZGF0ZUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGE7dCYmdC5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbihlLGkpe3ZhciBuPXQuZ2V0SXRlbUxheW91dChpKTtlLmF0dHIoInBvc2l0aW9uIixuKX0pfSxfRC5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc2VyaWVzU2NvcGU9a2wodCksdGhpcy5fZGF0YT1udWxsLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LF9ELmluY3JlbWVudGFsVXBkYXRlPWZ1bmN0aW9uKHQsZSxpKXtpPUxsKGkpO2Zvcih2YXIgbj10LnN0YXJ0O248dC5lbmQ7bisrKXt2YXIgbz1lLmdldEl0ZW1MYXlvdXQobik7aWYoQ2woZSxvLG4saSkpe3ZhciBhPW5ldyB0aGlzLl9zeW1ib2xDdG9yKGUsbix0aGlzLl9zZXJpZXNTY29wZSk7YS50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmlzR3JvdXB8fCh0LmluY3JlbWVudGFsPXQudXNlSG92ZXJMYXllcj0hMCl9KSxhLmF0dHIoInBvc2l0aW9uIixvKSx0aGlzLmdyb3VwLmFkZChhKSxlLnNldEl0ZW1HcmFwaGljRWwobixhKX19fSxfRC5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxpPXRoaXMuX2RhdGE7aSYmdD9pLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQpe3QuZmFkZU91dChmdW5jdGlvbigpe2UucmVtb3ZlKHQpfSl9KTplLnJlbW92ZUFsbCgpfTt2YXIgd0Q9ZnVuY3Rpb24odCxlLGksbixvLGEscixzKXtmb3IodmFyIGw9RWwodCxlKSx1PVtdLGg9W10sYz1bXSxkPVtdLGY9W10scD1bXSxnPVtdLG09UGwobyxlLHIpLHY9UGwoYSx0LHMpLHk9MDt5PGwubGVuZ3RoO3krKyl7dmFyIHg9bFt5XSxfPSEwO3N3aXRjaCh4LmNtZCl7Y2FzZSI9Ijp2YXIgdz10LmdldEl0ZW1MYXlvdXQoeC5pZHgpLGI9ZS5nZXRJdGVtTGF5b3V0KHguaWR4MSk7KGlzTmFOKHdbMF0pfHxpc05hTih3WzFdKSkmJih3PWIuc2xpY2UoKSksdS5wdXNoKHcpLGgucHVzaChiKSxjLnB1c2goaVt4LmlkeF0pLGQucHVzaChuW3guaWR4MV0pLGcucHVzaChlLmdldFJhd0luZGV4KHguaWR4MSkpO2JyZWFrO2Nhc2UiKyI6Uz14LmlkeDt1LnB1c2goby5kYXRhVG9Qb2ludChbZS5nZXQobS5kYXRhRGltc0ZvclBvaW50WzBdLFMpLGUuZ2V0KG0uZGF0YURpbXNGb3JQb2ludFsxXSxTKV0pKSxoLnB1c2goZS5nZXRJdGVtTGF5b3V0KFMpLnNsaWNlKCkpLGMucHVzaChPbChtLG8sZSxTKSksZC5wdXNoKG5bU10pLGcucHVzaChlLmdldFJhd0luZGV4KFMpKTticmVhaztjYXNlIi0iOnZhciBTPXguaWR4LE09dC5nZXRSYXdJbmRleChTKTtNIT09Uz8odS5wdXNoKHQuZ2V0SXRlbUxheW91dChTKSksaC5wdXNoKGEuZGF0YVRvUG9pbnQoW3QuZ2V0KHYuZGF0YURpbXNGb3JQb2ludFswXSxTKSx0LmdldCh2LmRhdGFEaW1zRm9yUG9pbnRbMV0sUyldKSksYy5wdXNoKGlbU10pLGQucHVzaChPbCh2LGEsdCxTKSksZy5wdXNoKE0pKTpfPSExfV8mJihmLnB1c2goeCkscC5wdXNoKHAubGVuZ3RoKSl9cC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGdbdF0tZ1tlXX0pO2Zvcih2YXIgST1bXSxEPVtdLFQ9W10sQT1bXSxDPVtdLHk9MDt5PHAubGVuZ3RoO3krKyl7Uz1wW3ldO0lbeV09dVtTXSxEW3ldPWhbU10sVFt5XT1jW1NdLEFbeV09ZFtTXSxDW3ldPWZbU119cmV0dXJue2N1cnJlbnQ6SSxuZXh0OkQsc3RhY2tlZE9uQ3VycmVudDpULHN0YWNrZWRPbk5leHQ6QSxzdGF0dXM6Q319LGJEPXR0LFNEPWV0LE1EPVosSUQ9RyxERD1bXSxURD1bXSxBRD1bXSxDRD1Jbi5leHRlbmQoe3R5cGU6ImVjLXBvbHlsaW5lIixzaGFwZTp7cG9pbnRzOltdLHNtb290aDowLHNtb290aENvbnN0cmFpbnQ6ITAsc21vb3RoTW9ub3RvbmU6bnVsbCxjb25uZWN0TnVsbHM6ITF9LHN0eWxlOntmaWxsOm51bGwsc3Ryb2tlOiIjMDAwIn0sYnJ1c2g6VmIoSW4ucHJvdG90eXBlLmJydXNoKSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnBvaW50cyxuPTAsbz1pLmxlbmd0aCxhPUZsKGksZS5zbW9vdGhDb25zdHJhaW50KTtpZihlLmNvbm5lY3ROdWxscyl7Zm9yKDtvPjAmJnpsKGlbby0xXSk7by0tKTtmb3IoO248byYmemwoaVtuXSk7bisrKTt9Zm9yKDtuPG87KW4rPVJsKHQsaSxuLG8sbywxLGEubWluLGEubWF4LGUuc21vb3RoLGUuc21vb3RoTW9ub3RvbmUsZS5jb25uZWN0TnVsbHMpKzF9fSksTEQ9SW4uZXh0ZW5kKHt0eXBlOiJlYy1wb2x5Z29uIixzaGFwZTp7cG9pbnRzOltdLHN0YWNrZWRPblBvaW50czpbXSxzbW9vdGg6MCxzdGFja2VkT25TbW9vdGg6MCxzbW9vdGhDb25zdHJhaW50OiEwLHNtb290aE1vbm90b25lOm51bGwsY29ubmVjdE51bGxzOiExfSxicnVzaDpWYihJbi5wcm90b3R5cGUuYnJ1c2gpLGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUucG9pbnRzLG49ZS5zdGFja2VkT25Qb2ludHMsbz0wLGE9aS5sZW5ndGgscj1lLnNtb290aE1vbm90b25lLHM9RmwoaSxlLnNtb290aENvbnN0cmFpbnQpLGw9RmwobixlLnNtb290aENvbnN0cmFpbnQpO2lmKGUuY29ubmVjdE51bGxzKXtmb3IoO2E+MCYmemwoaVthLTFdKTthLS0pO2Zvcig7bzxhJiZ6bChpW29dKTtvKyspO31mb3IoO288YTspe3ZhciB1PVJsKHQsaSxvLGEsYSwxLHMubWluLHMubWF4LGUuc21vb3RoLHIsZS5jb25uZWN0TnVsbHMpO1JsKHQsbixvK3UtMSx1LGEsLTEsbC5taW4sbC5tYXgsZS5zdGFja2VkT25TbW9vdGgscixlLmNvbm5lY3ROdWxscyksbys9dSsxLHQuY2xvc2VQYXRoKCl9fX0pO3ByLmV4dGVuZCh7dHlwZToibGluZSIsaW5pdDpmdW5jdGlvbigpe3ZhciB0PW5ldyBMXyxlPW5ldyBBbDt0aGlzLmdyb3VwLmFkZChlLmdyb3VwKSx0aGlzLl9zeW1ib2xEcmF3PWUsdGhpcy5fbGluZUdyb3VwPXR9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtLG89dGhpcy5ncm91cCxhPXQuZ2V0RGF0YSgpLHM9dC5nZXRNb2RlbCgibGluZVN0eWxlIiksbD10LmdldE1vZGVsKCJhcmVhU3R5bGUiKSx1PWEubWFwQXJyYXkoYS5nZXRJdGVtTGF5b3V0KSxoPSJwb2xhciI9PT1uLnR5cGUsYz10aGlzLl9jb29yZFN5cyxkPXRoaXMuX3N5bWJvbERyYXcsZj10aGlzLl9wb2x5bGluZSxwPXRoaXMuX3BvbHlnb24sZz10aGlzLl9saW5lR3JvdXAsbT10LmdldCgiYW5pbWF0aW9uIiksdj0hbC5pc0VtcHR5KCkseT1sLmdldCgib3JpZ2luIikseD1VbChuLGEsUGwobixhLHkpKSxfPXQuZ2V0KCJzaG93U3ltYm9sIiksdz1fJiYhaCYmIXQuZ2V0KCJzaG93QWxsU3ltYm9sIikmJnRoaXMuX2dldFN5bWJvbElnbm9yZUZ1bmMoYSxuKSxiPXRoaXMuX2RhdGE7YiYmYi5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0LGUpe3QuX190ZW1wJiYoby5yZW1vdmUodCksYi5zZXRJdGVtR3JhcGhpY0VsKGUsbnVsbCkpfSksX3x8ZC5yZW1vdmUoKSxvLmFkZChnKTt2YXIgUz0haCYmdC5nZXQoInN0ZXAiKTtpZihmJiZjLnR5cGU9PT1uLnR5cGUmJlM9PT10aGlzLl9zdGVwKXt2JiYhcD9wPXRoaXMuX25ld1BvbHlnb24odSx4LG4sbSk6cCYmIXYmJihnLnJlbW92ZShwKSxwPXRoaXMuX3BvbHlnb249bnVsbCk7dmFyIE09WWwobiwhMSx0KTtnLnNldENsaXBQYXRoKE0pLF8mJmQudXBkYXRlRGF0YShhLHtpc0lnbm9yZTp3LGNsaXBTaGFwZTpNfSksYS5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0KXt0LnN0b3BBbmltYXRpb24oITApfSksV2wodGhpcy5fc3RhY2tlZE9uUG9pbnRzLHgpJiZXbCh0aGlzLl9wb2ludHMsdSl8fChtP3RoaXMuX3VwZGF0ZUFuaW1hdGlvbihhLHgsbixpLFMseSk6KFMmJih1PXFsKHUsbixTKSx4PXFsKHgsbixTKSksZi5zZXRTaGFwZSh7cG9pbnRzOnV9KSxwJiZwLnNldFNoYXBlKHtwb2ludHM6dSxzdGFja2VkT25Qb2ludHM6eH0pKSl9ZWxzZSBfJiZkLnVwZGF0ZURhdGEoYSx7aXNJZ25vcmU6dyxjbGlwU2hhcGU6WWwobiwhMSx0KX0pLFMmJih1PXFsKHUsbixTKSx4PXFsKHgsbixTKSksZj10aGlzLl9uZXdQb2x5bGluZSh1LG4sbSksdiYmKHA9dGhpcy5fbmV3UG9seWdvbih1LHgsbixtKSksZy5zZXRDbGlwUGF0aChZbChuLCEwLHQpKTt2YXIgST0kbChhLG4pfHxhLmdldFZpc3VhbCgiY29sb3IiKTtmLnVzZVN0eWxlKHIocy5nZXRMaW5lU3R5bGUoKSx7ZmlsbDoibm9uZSIsc3Ryb2tlOkksbGluZUpvaW46ImJldmVsIn0pKTt2YXIgRD10LmdldCgic21vb3RoIik7aWYoRD1IbCh0LmdldCgic21vb3RoIikpLGYuc2V0U2hhcGUoe3Ntb290aDpELHNtb290aE1vbm90b25lOnQuZ2V0KCJzbW9vdGhNb25vdG9uZSIpLGNvbm5lY3ROdWxsczp0LmdldCgiY29ubmVjdE51bGxzIil9KSxwKXt2YXIgVD1hLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE9uU2VyaWVzIiksQT0wO3AudXNlU3R5bGUocihsLmdldEFyZWFTdHlsZSgpLHtmaWxsOkksb3BhY2l0eTouNyxsaW5lSm9pbjoiYmV2ZWwifSkpLFQmJihBPUhsKFQuZ2V0KCJzbW9vdGgiKSkpLHAuc2V0U2hhcGUoe3Ntb290aDpELHN0YWNrZWRPblNtb290aDpBLHNtb290aE1vbm90b25lOnQuZ2V0KCJzbW9vdGhNb25vdG9uZSIpLGNvbm5lY3ROdWxsczp0LmdldCgiY29ubmVjdE51bGxzIil9KX10aGlzLl9kYXRhPWEsdGhpcy5fY29vcmRTeXM9bix0aGlzLl9zdGFja2VkT25Qb2ludHM9eCx0aGlzLl9wb2ludHM9dSx0aGlzLl9zdGVwPVMsdGhpcy5fdmFsdWVPcmlnaW49eX0sZGlzcG9zZTpmdW5jdGlvbigpe30saGlnaGxpZ2h0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0RGF0YSgpLGE9UGkobyxuKTtpZighKGEgaW5zdGFuY2VvZiBBcnJheSkmJm51bGwhPWEmJmE+PTApe3ZhciByPW8uZ2V0SXRlbUdyYXBoaWNFbChhKTtpZighcil7dmFyIHM9by5nZXRJdGVtTGF5b3V0KGEpO2lmKCFzKXJldHVybjsocj1uZXcgRGwobyxhKSkucG9zaXRpb249cyxyLnNldFoodC5nZXQoInpsZXZlbCIpLHQuZ2V0KCJ6IikpLHIuaWdub3JlPWlzTmFOKHNbMF0pfHxpc05hTihzWzFdKSxyLl9fdGVtcD0hMCxvLnNldEl0ZW1HcmFwaGljRWwoYSxyKSxyLnN0b3BTeW1ib2xBbmltYXRpb24oITApLHRoaXMuZ3JvdXAuYWRkKHIpfXIuaGlnaGxpZ2h0KCl9ZWxzZSBwci5wcm90b3R5cGUuaGlnaGxpZ2h0LmNhbGwodGhpcyx0LGUsaSxuKX0sZG93bnBsYXk6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXREYXRhKCksYT1QaShvLG4pO2lmKG51bGwhPWEmJmE+PTApe3ZhciByPW8uZ2V0SXRlbUdyYXBoaWNFbChhKTtyJiYoci5fX3RlbXA/KG8uc2V0SXRlbUdyYXBoaWNFbChhLG51bGwpLHRoaXMuZ3JvdXAucmVtb3ZlKHIpKTpyLmRvd25wbGF5KCkpfWVsc2UgcHIucHJvdG90eXBlLmRvd25wbGF5LmNhbGwodGhpcyx0LGUsaSxuKX0sX25ld1BvbHlsaW5lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BvbHlsaW5lO3JldHVybiBlJiZ0aGlzLl9saW5lR3JvdXAucmVtb3ZlKGUpLGU9bmV3IENEKHtzaGFwZTp7cG9pbnRzOnR9LHNpbGVudDohMCx6MjoxMH0pLHRoaXMuX2xpbmVHcm91cC5hZGQoZSksdGhpcy5fcG9seWxpbmU9ZSxlfSxfbmV3UG9seWdvbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3BvbHlnb247cmV0dXJuIGkmJnRoaXMuX2xpbmVHcm91cC5yZW1vdmUoaSksaT1uZXcgTEQoe3NoYXBlOntwb2ludHM6dCxzdGFja2VkT25Qb2ludHM6ZX0sc2lsZW50OiEwfSksdGhpcy5fbGluZUdyb3VwLmFkZChpKSx0aGlzLl9wb2x5Z29uPWksaX0sX2dldFN5bWJvbElnbm9yZUZ1bmM6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF07aWYoaSYmaS5pc0xhYmVsSWdub3JlZClyZXR1cm4gbShpLmlzTGFiZWxJZ25vcmVkLGkpfSxfdXBkYXRlQW5pbWF0aW9uOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcj10aGlzLl9wb2x5bGluZSxzPXRoaXMuX3BvbHlnb24sbD10Lmhvc3RNb2RlbCx1PXdEKHRoaXMuX2RhdGEsdCx0aGlzLl9zdGFja2VkT25Qb2ludHMsZSx0aGlzLl9jb29yZFN5cyxpLHRoaXMuX3ZhbHVlT3JpZ2luLGEpLGg9dS5jdXJyZW50LGM9dS5zdGFja2VkT25DdXJyZW50LGQ9dS5uZXh0LGY9dS5zdGFja2VkT25OZXh0O28mJihoPXFsKHUuY3VycmVudCxpLG8pLGM9cWwodS5zdGFja2VkT25DdXJyZW50LGksbyksZD1xbCh1Lm5leHQsaSxvKSxmPXFsKHUuc3RhY2tlZE9uTmV4dCxpLG8pKSxyLnNoYXBlLl9fcG9pbnRzPXUuY3VycmVudCxyLnNoYXBlLnBvaW50cz1oLGZvKHIse3NoYXBlOntwb2ludHM6ZH19LGwpLHMmJihzLnNldFNoYXBlKHtwb2ludHM6aCxzdGFja2VkT25Qb2ludHM6Y30pLGZvKHMse3NoYXBlOntwb2ludHM6ZCxzdGFja2VkT25Qb2ludHM6Zn19LGwpKTtmb3IodmFyIHA9W10sZz11LnN0YXR1cyxtPTA7bTxnLmxlbmd0aDttKyspaWYoIj0iPT09Z1ttXS5jbWQpe3ZhciB2PXQuZ2V0SXRlbUdyYXBoaWNFbChnW21dLmlkeDEpO3YmJnAucHVzaCh7ZWw6dixwdElkeDptfSl9ci5hbmltYXRvcnMmJnIuYW5pbWF0b3JzLmxlbmd0aCYmci5hbmltYXRvcnNbMF0uZHVyaW5nKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxwLmxlbmd0aDt0KyspcFt0XS5lbC5hdHRyKCJwb3NpdGlvbiIsci5zaGFwZS5fX3BvaW50c1twW3RdLnB0SWR4XSl9KX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsaT10aGlzLl9kYXRhO3RoaXMuX2xpbmVHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZSghMCksaSYmaS5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0LG4pe3QuX190ZW1wJiYoZS5yZW1vdmUodCksaS5zZXRJdGVtR3JhcGhpY0VsKG4sbnVsbCkpfSksdGhpcy5fcG9seWxpbmU9dGhpcy5fcG9seWdvbj10aGlzLl9jb29yZFN5cz10aGlzLl9wb2ludHM9dGhpcy5fc3RhY2tlZE9uUG9pbnRzPXRoaXMuX2RhdGE9bnVsbH19KTt2YXIga0Q9ZnVuY3Rpb24odCxlLGkpe3JldHVybntzZXJpZXNUeXBlOnQscGVyZm9ybVJhd1NlcmllczohMCxyZXNldDpmdW5jdGlvbih0LG4sbyl7dmFyIGE9dC5nZXREYXRhKCkscj10LmdldCgic3ltYm9sIil8fGUscz10LmdldCgic3ltYm9sU2l6ZSIpO2lmKGEuc2V0VmlzdWFsKHtsZWdlbmRTeW1ib2w6aXx8cixzeW1ib2w6cixzeW1ib2xTaXplOnN9KSwhbi5pc1Nlcmllc0ZpbHRlcmVkKHQpKXt2YXIgbD0iZnVuY3Rpb24iPT10eXBlb2YgcztyZXR1cm57ZGF0YUVhY2g6YS5oYXNJdGVtT3B0aW9ufHxsP2Z1bmN0aW9uKGUsaSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHMpe3ZhciBuPXQuZ2V0UmF3VmFsdWUoaSksbz10LmdldERhdGFQYXJhbXMoaSk7ZS5zZXRJdGVtVmlzdWFsKGksInN5bWJvbFNpemUiLHMobixvKSl9aWYoZS5oYXNJdGVtT3B0aW9uKXt2YXIgYT1lLmdldEl0ZW1Nb2RlbChpKSxyPWEuZ2V0U2hhbGxvdygic3ltYm9sIiwhMCksbD1hLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKTtudWxsIT1yJiZlLnNldEl0ZW1WaXN1YWwoaSwic3ltYm9sIixyKSxudWxsIT1sJiZlLnNldEl0ZW1WaXN1YWwoaSwic3ltYm9sU2l6ZSIsbCl9fTpudWxsfX19fX0sUEQ9ZnVuY3Rpb24odCl7cmV0dXJue3Nlcmllc1R5cGU6dCxwbGFuOnhNKCkscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW0sbj10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTtpZihpKXt2YXIgbz1mKGkuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KS5zbGljZSgwLDIpLGE9by5sZW5ndGg7cmV0dXJuIFdzKGUsb1swXSxvWzFdKSYmKG9bMF09ZS5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIikpLFdzKGUsb1sxXSxvWzBdKSYmKG9bMV09ZS5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIikpLGEmJntwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10LmVuZC10LnN0YXJ0LHM9biYmbmV3IEZsb2F0MzJBcnJheShyKmEpLGw9dC5zdGFydCx1PTAsaD1bXSxjPVtdO2w8dC5lbmQ7bCsrKXt2YXIgZDtpZigxPT09YSlmPWUuZ2V0KG9bMF0sbCwhMCksZD0haXNOYU4oZikmJmkuZGF0YVRvUG9pbnQoZixudWxsLGMpO2Vsc2V7dmFyIGY9aFswXT1lLmdldChvWzBdLGwsITApLHA9aFsxXT1lLmdldChvWzFdLGwsITApO2Q9IWlzTmFOKGYpJiYhaXNOYU4ocCkmJmkuZGF0YVRvUG9pbnQoaCxudWxsLGMpfW4/KHNbdSsrXT1kP2RbMF06TmFOLHNbdSsrXT1kP2RbMV06TmFOKTplLnNldEl0ZW1MYXlvdXQobCxkJiZkLnNsaWNlKCl8fFtOYU4sTmFOXSl9biYmZS5zZXRMYXlvdXQoInN5bWJvbFBvaW50cyIscyl9fX19fX0sTkQ9e2F2ZXJhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT0wLG49MDtuPHQubGVuZ3RoO24rKylpc05hTih0W25dKXx8KGUrPXRbbl0saSsrKTtyZXR1cm4gMD09PWk/TmFOOmUvaX0sc3VtOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9MDtpPHQubGVuZ3RoO2krKyllKz10W2ldfHwwO3JldHVybiBlfSxtYXg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0xLzAsaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0+ZSYmKGU9dFtpXSk7cmV0dXJuIGV9LG1pbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MS8wLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldPGUmJihlPXRbaV0pO3JldHVybiBlfSxuZWFyZXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfX0sT0Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5yb3VuZCh0Lmxlbmd0aC8yKX0sRUQ9ZnVuY3Rpb24odCl7dGhpcy5fYXhlcz17fSx0aGlzLl9kaW1MaXN0PVtdLHRoaXMubmFtZT10fHwiIn07RUQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpFRCx0eXBlOiJjYXJ0ZXNpYW4iLGdldEF4aXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2F4ZXNbdF19LGdldEF4ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLl9kaW1MaXN0LEtsLHRoaXMpfSxnZXRBeGVzQnlTY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gdD10LnRvTG93ZXJDYXNlKCksZyh0aGlzLmdldEF4ZXMoKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2FsZS50eXBlPT09dH0pfSxhZGRBeGlzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGltO3RoaXMuX2F4ZXNbZV09dCx0aGlzLl9kaW1MaXN0LnB1c2goZSl9LGRhdGFUb0Nvb3JkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhQ29vcmRDb252ZXJ0KHQsImRhdGFUb0Nvb3JkIil9LGNvb3JkVG9EYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhQ29vcmRDb252ZXJ0KHQsImNvb3JkVG9EYXRhIil9LF9kYXRhQ29vcmRDb252ZXJ0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX2RpbUxpc3Qsbj10IGluc3RhbmNlb2YgQXJyYXk/W106e30sbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dLHI9dGhpcy5fYXhlc1thXTtuW2FdPXJbZV0odFthXSl9cmV0dXJuIG59fSxKbC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkpsLHR5cGU6ImNhcnRlc2lhbjJkIixkaW1lbnNpb25zOlsieCIsInkiXSxnZXRCYXNlQXhpczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF18fHRoaXMuZ2V0QXhlc0J5U2NhbGUoInRpbWUiKVswXXx8dGhpcy5nZXRBeGlzKCJ4Iil9LGNvbnRhaW5Qb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF4aXMoIngiKSxpPXRoaXMuZ2V0QXhpcygieSIpO3JldHVybiBlLmNvbnRhaW4oZS50b0xvY2FsQ29vcmQodFswXSkpJiZpLmNvbnRhaW4oaS50b0xvY2FsQ29vcmQodFsxXSkpfSxjb250YWluRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRBeGlzKCJ4IikuY29udGFpbkRhdGEodFswXSkmJnRoaXMuZ2V0QXhpcygieSIpLmNvbnRhaW5EYXRhKHRbMV0pfSxkYXRhVG9Qb2ludDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5nZXRBeGlzKCJ4Iiksbz10aGlzLmdldEF4aXMoInkiKTtyZXR1cm4gaT1pfHxbXSxpWzBdPW4udG9HbG9iYWxDb29yZChuLmRhdGFUb0Nvb3JkKHRbMF0pKSxpWzFdPW8udG9HbG9iYWxDb29yZChvLmRhdGFUb0Nvb3JkKHRbMV0pKSxpfSxjbGFtcERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEF4aXMoIngiKS5zY2FsZS5nZXRFeHRlbnQoKSxuPXRoaXMuZ2V0QXhpcygieSIpLnNjYWxlLmdldEV4dGVudCgpO3JldHVybiBlPWV8fFtdLGVbMF09TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5taW4oaVswXSxpWzFdKSx0WzBdKSxNYXRoLm1heChpWzBdLGlbMV0pKSxlWzFdPU1hdGgubWluKE1hdGgubWF4KE1hdGgubWluKG5bMF0sblsxXSksdFsxXSksTWF0aC5tYXgoblswXSxuWzFdKSksZX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEF4aXMoIngiKSxuPXRoaXMuZ2V0QXhpcygieSIpO3JldHVybiBlPWV8fFtdLGVbMF09aS5jb29yZFRvRGF0YShpLnRvTG9jYWxDb29yZCh0WzBdKSksZVsxXT1uLmNvb3JkVG9EYXRhKG4udG9Mb2NhbENvb3JkKHRbMV0pKSxlfSxnZXRPdGhlckF4aXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QXhpcygieCI9PT10LmRpbT8ieSI6IngiKX19LHUoSmwsRUQpO3ZhciB6RD1mdW5jdGlvbih0LGUsaSxuLG8pe2RELmNhbGwodGhpcyx0LGUsaSksdGhpcy50eXBlPW58fCJ2YWx1ZSIsdGhpcy5wb3NpdGlvbj1vfHwiYm90dG9tIn07ekQucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp6RCxpbmRleDowLG9uWmVybzohMSxtb2RlbDpudWxsLGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucG9zaXRpb247cmV0dXJuInRvcCI9PT10fHwiYm90dG9tIj09PXR9LGdldEdsb2JhbEV4dGVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEV4dGVudCgpO3JldHVybiBlWzBdPXRoaXMudG9HbG9iYWxDb29yZChlWzBdKSxlWzFdPXRoaXMudG9HbG9iYWxDb29yZChlWzFdKSx0JiZlWzBdPmVbMV0mJmUucmV2ZXJzZSgpLGV9LGdldE90aGVyQXhpczpmdW5jdGlvbigpe3RoaXMuZ3JpZC5nZXRPdGhlckF4aXMoKX0saXNMYWJlbElnbm9yZWQ6ZnVuY3Rpb24odCl7aWYoImNhdGVnb3J5Ij09PXRoaXMudHlwZSl7dmFyIGU9dGhpcy5nZXRMYWJlbEludGVydmFsKCk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiFlKHQsdGhpcy5zY2FsZS5nZXRMYWJlbCh0KSl8fHQlKGUrMSl9fSxwb2ludFRvRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkVG9EYXRhKHRoaXMudG9Mb2NhbENvb3JkKHRbIngiPT09dGhpcy5kaW0/MDoxXSksZSl9LHRvTG9jYWxDb29yZDpudWxsLHRvR2xvYmFsQ29vcmQ6bnVsbH0sdSh6RCxkRCk7dmFyIFJEPXtzaG93OiEwLHpsZXZlbDowLHo6MCxpbnZlcnNlOiExLG5hbWU6IiIsbmFtZUxvY2F0aW9uOiJlbmQiLG5hbWVSb3RhdGU6bnVsbCxuYW1lVHJ1bmNhdGU6e21heFdpZHRoOm51bGwsZWxsaXBzaXM6Ii4uLiIscGxhY2Vob2xkZXI6Ii4ifSxuYW1lVGV4dFN0eWxlOnt9LG5hbWVHYXA6MTUsc2lsZW50OiExLHRyaWdnZXJFdmVudDohMSx0b29sdGlwOntzaG93OiExfSxheGlzUG9pbnRlcjp7fSxheGlzTGluZTp7c2hvdzohMCxvblplcm86ITAsb25aZXJvQXhpc0luZGV4Om51bGwsbGluZVN0eWxlOntjb2xvcjoiIzMzMyIsd2lkdGg6MSx0eXBlOiJzb2xpZCJ9LHN5bWJvbDpbIm5vbmUiLCJub25lIl0sc3ltYm9sU2l6ZTpbMTAsMTVdfSxheGlzVGljazp7c2hvdzohMCxpbnNpZGU6ITEsbGVuZ3RoOjUsbGluZVN0eWxlOnt3aWR0aDoxfX0sYXhpc0xhYmVsOntzaG93OiEwLGluc2lkZTohMSxyb3RhdGU6MCxzaG93TWluTGFiZWw6bnVsbCxzaG93TWF4TGFiZWw6bnVsbCxtYXJnaW46OCxmb250U2l6ZToxMn0sc3BsaXRMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7Y29sb3I6WyIjY2NjIl0sd2lkdGg6MSx0eXBlOiJzb2xpZCJ9fSxzcGxpdEFyZWE6e3Nob3c6ITEsYXJlYVN0eWxlOntjb2xvcjpbInJnYmEoMjUwLDI1MCwyNTAsMC4zKSIsInJnYmEoMjAwLDIwMCwyMDAsMC4zKSJdfX19LEJEPXt9O0JELmNhdGVnb3J5QXhpcz1uKHtib3VuZGFyeUdhcDohMCxkZWR1cGxpY2F0aW9uOm51bGwsc3BsaXRMaW5lOntzaG93OiExfSxheGlzVGljazp7YWxpZ25XaXRoTGFiZWw6ITEsaW50ZXJ2YWw6ImF1dG8ifSxheGlzTGFiZWw6e2ludGVydmFsOiJhdXRvIn19LFJEKSxCRC52YWx1ZUF4aXM9bih7Ym91bmRhcnlHYXA6WzAsMF0sc3BsaXROdW1iZXI6NX0sUkQpLEJELnRpbWVBeGlzPXIoe3NjYWxlOiEwLG1pbjoiZGF0YU1pbiIsbWF4OiJkYXRhTWF4In0sQkQudmFsdWVBeGlzKSxCRC5sb2dBeGlzPXIoe3NjYWxlOiEwLGxvZ0Jhc2U6MTB9LEJELnZhbHVlQXhpcyk7dmFyIFZEPVsidmFsdWUiLCJjYXRlZ29yeSIsInRpbWUiLCJsb2ciXSxHRD1mdW5jdGlvbih0LGUsaSxhKXtkKFZELGZ1bmN0aW9uKHIpe2UuZXh0ZW5kKHt0eXBlOnQrIkF4aXMuIityLG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKGUsbyl7dmFyIGE9dGhpcy5sYXlvdXRNb2RlLHM9YT9uYShlKTp7fTtuKGUsby5nZXRUaGVtZSgpLmdldChyKyJBeGlzIikpLG4oZSx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksZS50eXBlPWkodCxlKSxhJiZpYShlLHMsYSl9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXsiY2F0ZWdvcnkiPT09dGhpcy5vcHRpb24udHlwZSYmKHRoaXMuX19vcmRpbmFsTWV0YT1Ycy5jcmVhdGVCeUF4aXNNb2RlbCh0aGlzKSl9LGdldENhdGVnb3JpZXM6ZnVuY3Rpb24oKXtpZigiY2F0ZWdvcnkiPT09dGhpcy5vcHRpb24udHlwZSlyZXR1cm4gdGhpcy5fX29yZGluYWxNZXRhLmNhdGVnb3JpZXN9LGdldE9yZGluYWxNZXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19vcmRpbmFsTWV0YX0sZGVmYXVsdE9wdGlvbjpvKFt7fSxCRFtyKyJBeGlzIl0sYV0sITApfSl9KSxrUy5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIodCsiQXhpcyIsdihpLHQpKX0sRkQ9a1MuZXh0ZW5kKHt0eXBlOiJjYXJ0ZXNpYW4yZEF4aXMiLGF4aXM6bnVsbCxpbml0OmZ1bmN0aW9uKCl7RkQuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMucmVzZXRSYW5nZSgpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbigpe0ZELnN1cGVyQXBwbHkodGhpcywibWVyZ2VPcHRpb24iLGFyZ3VtZW50cyksdGhpcy5yZXNldFJhbmdlKCl9LHJlc3RvcmVEYXRhOmZ1bmN0aW9uKCl7RkQuc3VwZXJBcHBseSh0aGlzLCJyZXN0b3JlRGF0YSIsYXJndW1lbnRzKSx0aGlzLnJlc2V0UmFuZ2UoKX0sZ2V0Q29vcmRTeXNNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVjTW9kZWwucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToiZ3JpZCIsaW5kZXg6dGhpcy5vcHRpb24uZ3JpZEluZGV4LGlkOnRoaXMub3B0aW9uLmdyaWRJZH0pWzBdfX0pO24oRkQucHJvdG90eXBlLEpJKTt2YXIgV0Q9e29mZnNldDowfTtHRCgieCIsRkQsUWwsV0QpLEdEKCJ5IixGRCxRbCxXRCksa1MuZXh0ZW5kKHt0eXBlOiJncmlkIixkZXBlbmRlbmNpZXM6WyJ4QXhpcyIsInlBeGlzIl0sbGF5b3V0TW9kZToiYm94Iixjb29yZGluYXRlU3lzdGVtOm51bGwsZGVmYXVsdE9wdGlvbjp7c2hvdzohMSx6bGV2ZWw6MCx6OjAsbGVmdDoiMTAlIix0b3A6NjAscmlnaHQ6IjEwJSIsYm90dG9tOjYwLGNvbnRhaW5MYWJlbDohMSxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6IiNjY2MifX0pO3ZhciBIRD1kLFpEPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NhbGUuZ2V0RXh0ZW50KCksaT1lWzBdLG49ZVsxXTtyZXR1cm4hKGk+MCYmbj4wfHxpPDAmJm48MCl9LFVEPWhsLGpEPW51LnByb3RvdHlwZTtqRC50eXBlPSJncmlkIixqRC5heGlzUG9pbnRlckVuYWJsZWQ9ITAsakQuZ2V0UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSxqRC51cGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9heGVzTWFwO3RoaXMuX3VwZGF0ZVNjYWxlKHQsdGhpcy5tb2RlbCksSEQoaS54LGZ1bmN0aW9uKHQpe1VEKHQuc2NhbGUsdC5tb2RlbCl9KSxIRChpLnksZnVuY3Rpb24odCl7VUQodC5zY2FsZSx0Lm1vZGVsKX0pLEhEKGkueCxmdW5jdGlvbih0KXtvdShpLCJ5Iix0KX0pLEhEKGkueSxmdW5jdGlvbih0KXtvdShpLCJ4Iix0KX0pLHRoaXMucmVzaXplKHRoaXMubW9kZWwsZSl9LGpELnJlc2l6ZT1mdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbigpe0hEKGEsZnVuY3Rpb24odCl7dmFyIGU9dC5pc0hvcml6b250YWwoKSxpPWU/WzAsby53aWR0aF06WzAsby5oZWlnaHRdLG49dC5pbnZlcnNlPzE6MDt0LnNldEV4dGVudChpW25dLGlbMS1uXSkscnUodCxlP28ueDpvLnkpfSl9dmFyIG89UW8odC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSk7dGhpcy5fcmVjdD1vO3ZhciBhPXRoaXMuX2F4ZXNMaXN0O24oKSwhaSYmdC5nZXQoImNvbnRhaW5MYWJlbCIpJiYoSEQoYSxmdW5jdGlvbih0KXtpZighdC5tb2RlbC5nZXQoImF4aXNMYWJlbC5pbnNpZGUiKSl7dmFyIGU9aXUodCk7aWYoZSl7dmFyIGk9dC5pc0hvcml6b250YWwoKT8iaGVpZ2h0Ijoid2lkdGgiLG49dC5tb2RlbC5nZXQoImF4aXNMYWJlbC5tYXJnaW4iKTtvW2ldLT1lW2ldK24sInRvcCI9PT10LnBvc2l0aW9uP28ueSs9ZS5oZWlnaHQrbjoibGVmdCI9PT10LnBvc2l0aW9uJiYoby54Kz1lLndpZHRoK24pfX19KSxuKCkpfSxqRC5nZXRBeGlzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fYXhlc01hcFt0XTtpZihudWxsIT1pKXtpZihudWxsPT1lKWZvcih2YXIgbiBpbiBpKWlmKGkuaGFzT3duUHJvcGVydHkobikpcmV0dXJuIGlbbl07cmV0dXJuIGlbZV19fSxqRC5nZXRBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4ZXNMaXN0LnNsaWNlKCl9LGpELmdldENhcnRlc2lhbj1mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQmJm51bGwhPWUpe3ZhciBpPSJ4Iit0KyJ5IitlO3JldHVybiB0aGlzLl9jb29yZHNNYXBbaV19dyh0KSYmKGU9dC55QXhpc0luZGV4LHQ9dC54QXhpc0luZGV4KTtmb3IodmFyIG49MCxvPXRoaXMuX2Nvb3Jkc0xpc3Q7bjxvLmxlbmd0aDtuKyspaWYob1tuXS5nZXRBeGlzKCJ4IikuaW5kZXg9PT10fHxvW25dLmdldEF4aXMoInkiKS5pbmRleD09PWUpcmV0dXJuIG9bbl19LGpELmdldENhcnRlc2lhbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRzTGlzdC5zbGljZSgpfSxqRC5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZmluZENvbnZlcnRUYXJnZXQodCxlKTtyZXR1cm4gbi5jYXJ0ZXNpYW4/bi5jYXJ0ZXNpYW4uZGF0YVRvUG9pbnQoaSk6bi5heGlzP24uYXhpcy50b0dsb2JhbENvb3JkKG4uYXhpcy5kYXRhVG9Db29yZChpKSk6bnVsbH0sakQuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZmluZENvbnZlcnRUYXJnZXQodCxlKTtyZXR1cm4gbi5jYXJ0ZXNpYW4/bi5jYXJ0ZXNpYW4ucG9pbnRUb0RhdGEoaSk6bi5heGlzP24uYXhpcy5jb29yZFRvRGF0YShuLmF4aXMudG9Mb2NhbENvb3JkKGkpKTpudWxsfSxqRC5fZmluZENvbnZlcnRUYXJnZXQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG89ZS5zZXJpZXNNb2RlbCxhPWUueEF4aXNNb2RlbHx8byYmby5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJ4QXhpcyIpWzBdLHI9ZS55QXhpc01vZGVsfHxvJiZvLmdldFJlZmVycmluZ0NvbXBvbmVudHMoInlBeGlzIilbMF0scz1lLmdyaWRNb2RlbCx1PXRoaXMuX2Nvb3Jkc0xpc3Q7cmV0dXJuIG8/bCh1LGk9by5jb29yZGluYXRlU3lzdGVtKTwwJiYoaT1udWxsKTphJiZyP2k9dGhpcy5nZXRDYXJ0ZXNpYW4oYS5jb21wb25lbnRJbmRleCxyLmNvbXBvbmVudEluZGV4KTphP249dGhpcy5nZXRBeGlzKCJ4IixhLmNvbXBvbmVudEluZGV4KTpyP249dGhpcy5nZXRBeGlzKCJ5IixyLmNvbXBvbmVudEluZGV4KTpzJiZzLmNvb3JkaW5hdGVTeXN0ZW09PT10aGlzJiYoaT10aGlzLl9jb29yZHNMaXN0WzBdKSx7Y2FydGVzaWFuOmksYXhpczpufX0sakQuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2Nvb3Jkc0xpc3RbMF07aWYoZSlyZXR1cm4gZS5jb250YWluUG9pbnQodCl9LGpELl9pbml0Q2FydGVzaWFuPWZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKGkpe3JldHVybiBmdW5jdGlvbihuLHMpe2lmKHR1KG4sdCxlKSl7dmFyIGw9bi5nZXQoInBvc2l0aW9uIik7IngiPT09aT8idG9wIiE9PWwmJiJib3R0b20iIT09bCYmb1tsPSJib3R0b20iXSYmKGw9InRvcCI9PT1sPyJib3R0b20iOiJ0b3AiKToibGVmdCIhPT1sJiYicmlnaHQiIT09bCYmb1tsPSJsZWZ0Il0mJihsPSJsZWZ0Ij09PWw/InJpZ2h0IjoibGVmdCIpLG9bbF09ITA7dmFyIHU9bmV3IHpEKGksY2wobiksWzAsMF0sbi5nZXQoInR5cGUiKSxsKSxoPSJjYXRlZ29yeSI9PT11LnR5cGU7dS5vbkJhbmQ9aCYmbi5nZXQoImJvdW5kYXJ5R2FwIiksdS5pbnZlcnNlPW4uZ2V0KCJpbnZlcnNlIiksdS5vblplcm89bi5nZXQoImF4aXNMaW5lLm9uWmVybyIpLHUub25aZXJvQXhpc0luZGV4PW4uZ2V0KCJheGlzTGluZS5vblplcm9BeGlzSW5kZXgiKSxuLmF4aXM9dSx1Lm1vZGVsPW4sdS5ncmlkPXRoaXMsdS5pbmRleD1zLHRoaXMuX2F4ZXNMaXN0LnB1c2godSksYVtpXVtzXT11LHJbaV0rK319fXZhciBvPXtsZWZ0OiExLHJpZ2h0OiExLHRvcDohMSxib3R0b206ITF9LGE9e3g6e30seTp7fX0scj17eDowLHk6MH07aWYoZS5lYWNoQ29tcG9uZW50KCJ4QXhpcyIsbigieCIpLHRoaXMpLGUuZWFjaENvbXBvbmVudCgieUF4aXMiLG4oInkiKSx0aGlzKSwhci54fHwhci55KXJldHVybiB0aGlzLl9heGVzTWFwPXt9LHZvaWQodGhpcy5fYXhlc0xpc3Q9W10pO3RoaXMuX2F4ZXNNYXA9YSxIRChhLngsZnVuY3Rpb24oZSxpKXtIRChhLnksZnVuY3Rpb24obixvKXt2YXIgYT0ieCIraSsieSIrbyxyPW5ldyBKbChhKTtyLmdyaWQ9dGhpcyxyLm1vZGVsPXQsdGhpcy5fY29vcmRzTWFwW2FdPXIsdGhpcy5fY29vcmRzTGlzdC5wdXNoKHIpLHIuYWRkQXhpcyhlKSxyLmFkZEF4aXMobil9LHRoaXMpfSx0aGlzKX0sakQuX3VwZGF0ZVNjYWxlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7SEQodC5tYXBEaW1lbnNpb24oZS5kaW0sITApLGZ1bmN0aW9uKGkpe2Uuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YSh0LGkpfSl9ZCh0aGlzLl9heGVzTGlzdCxmdW5jdGlvbih0KXt0LnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCl9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24obil7aWYobHUobikpe3ZhciBvPXN1KG4pLGE9b1swXSxyPW9bMV07aWYoIXR1KGEsZSx0KXx8IXR1KHIsZSx0KSlyZXR1cm47dmFyIHM9dGhpcy5nZXRDYXJ0ZXNpYW4oYS5jb21wb25lbnRJbmRleCxyLmNvbXBvbmVudEluZGV4KSxsPW4uZ2V0RGF0YSgpLHU9cy5nZXRBeGlzKCJ4IiksaD1zLmdldEF4aXMoInkiKTsibGlzdCI9PT1sLnR5cGUmJihpKGwsdSksaShsLGgpKX19LHRoaXMpfSxqRC5nZXRUb29sdGlwQXhlcz1mdW5jdGlvbih0KXt2YXIgZT1bXSxpPVtdO3JldHVybiBIRCh0aGlzLmdldENhcnRlc2lhbnMoKSxmdW5jdGlvbihuKXt2YXIgbz1udWxsIT10JiYiYXV0byIhPT10P24uZ2V0QXhpcyh0KTpuLmdldEJhc2VBeGlzKCksYT1uLmdldE90aGVyQXhpcyhvKTtsKGUsbyk8MCYmZS5wdXNoKG8pLGwoaSxhKTwwJiZpLnB1c2goYSl9KSx7YmFzZUF4ZXM6ZSxvdGhlckF4ZXM6aX19O3ZhciBYRD1bInhBeGlzIiwieUF4aXMiXTtudS5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJncmlkIixmdW5jdGlvbihuLG8pe3ZhciBhPW5ldyBudShuLHQsZSk7YS5uYW1lPSJncmlkXyIrbyxhLnJlc2l6ZShuLGUsITApLG4uY29vcmRpbmF0ZVN5c3RlbT1hLGkucHVzaChhKX0pLHQuZWFjaFNlcmllcyhmdW5jdGlvbih0KXtpZihsdSh0KSl7dmFyIGU9c3UodCksaT1lWzBdLG49ZVsxXSxvPWkuZ2V0Q29vcmRTeXNNb2RlbCgpLmNvb3JkaW5hdGVTeXN0ZW07dC5jb29yZGluYXRlU3lzdGVtPW8uZ2V0Q2FydGVzaWFuKGkuY29tcG9uZW50SW5kZXgsbi5jb21wb25lbnRJbmRleCl9fSksaX0sbnUuZGltZW5zaW9ucz1udS5wcm90b3R5cGUuZGltZW5zaW9ucz1KbC5wcm90b3R5cGUuZGltZW5zaW9ucyxDYS5yZWdpc3RlcigiY2FydGVzaWFuMmQiLG51KTt2YXIgWUQ9TWF0aC5QSSxxRD1mdW5jdGlvbih0LGUpe3RoaXMub3B0PWUsdGhpcy5heGlzTW9kZWw9dCxyKGUse2xhYmVsT2Zmc2V0OjAsbmFtZURpcmVjdGlvbjoxLHRpY2tEaXJlY3Rpb246MSxsYWJlbERpcmVjdGlvbjoxLHNpbGVudDohMH0pLHRoaXMuZ3JvdXA9bmV3IExfO3ZhciBpPW5ldyBMXyh7cG9zaXRpb246ZS5wb3NpdGlvbi5zbGljZSgpLHJvdGF0aW9uOmUucm90YXRpb259KTtpLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuX3RyYW5zZm9ybT1pLnRyYW5zZm9ybSx0aGlzLl9kdW1iR3JvdXA9aX07cUQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpxRCxoYXNCdWlsZGVyOmZ1bmN0aW9uKHQpe3JldHVybiEhJERbdF19LGFkZDpmdW5jdGlvbih0KXskRFt0XS5jYWxsKHRoaXMpfSxnZXRHcm91cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdyb3VwfX07dmFyICREPXtheGlzTGluZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0LGU9dGhpcy5heGlzTW9kZWw7aWYoZS5nZXQoImF4aXNMaW5lLnNob3ciKSl7dmFyIGk9dGhpcy5heGlzTW9kZWwuYXhpcy5nZXRFeHRlbnQoKSxuPXRoaXMuX3RyYW5zZm9ybSxvPVtpWzBdLDBdLHI9W2lbMV0sMF07biYmKFEobyxvLG4pLFEocixyLG4pKTt2YXIgcz1hKHtsaW5lQ2FwOiJyb3VuZCJ9LGUuZ2V0TW9kZWwoImF4aXNMaW5lLmxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpKTt0aGlzLmdyb3VwLmFkZChuZXcgWGIoR24oe2FuaWQ6ImxpbmUiLHNoYXBlOnt4MTpvWzBdLHkxOm9bMV0seDI6clswXSx5MjpyWzFdfSxzdHlsZTpzLHN0cm9rZUNvbnRhaW5UaHJlc2hvbGQ6dC5zdHJva2VDb250YWluVGhyZXNob2xkfHw1LHNpbGVudDohMCx6MjoxfSkpKTt2YXIgbD1lLmdldCgiYXhpc0xpbmUuc3ltYm9sIiksdT1lLmdldCgiYXhpc0xpbmUuc3ltYm9sU2l6ZSIpLGg9ZS5nZXQoImF4aXNMaW5lLnN5bWJvbE9mZnNldCIpfHwwO2lmKCJudW1iZXIiPT10eXBlb2YgaCYmKGg9W2gsaF0pLG51bGwhPWwpeyJzdHJpbmciPT10eXBlb2YgbCYmKGw9W2wsbF0pLCJzdHJpbmciIT10eXBlb2YgdSYmIm51bWJlciIhPXR5cGVvZiB1fHwodT1bdSx1XSk7dmFyIGM9dVswXSxmPXVbMV07ZChbe3JvdGF0ZTp0LnJvdGF0aW9uK01hdGguUEkvMixvZmZzZXQ6aFswXSxyOjB9LHtyb3RhdGU6dC5yb3RhdGlvbi1NYXRoLlBJLzIsb2Zmc2V0OmhbMV0scjpNYXRoLnNxcnQoKG9bMF0tclswXSkqKG9bMF0tclswXSkrKG9bMV0tclsxXSkqKG9bMV0tclsxXSkpfV0sZnVuY3Rpb24oZSxpKXtpZigibm9uZSIhPT1sW2ldJiZudWxsIT1sW2ldKXt2YXIgbj1tbChsW2ldLC1jLzIsLWYvMixjLGYscy5zdHJva2UsITApLGE9ZS5yK2Uub2Zmc2V0LHI9W29bMF0rYSpNYXRoLmNvcyh0LnJvdGF0aW9uKSxvWzFdLWEqTWF0aC5zaW4odC5yb3RhdGlvbildO24uYXR0cih7cm90YXRpb246ZS5yb3RhdGUscG9zaXRpb246cixzaWxlbnQ6ITB9KSx0aGlzLmdyb3VwLmFkZChuKX19LHRoaXMpfX19LGF4aXNUaWNrTGFiZWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmF4aXNNb2RlbCxlPXRoaXMub3B0LGk9bXUodGhpcyx0LGUpO2R1KHQsdnUodGhpcyx0LGUpLGkpfSxheGlzTmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0LGU9dGhpcy5heGlzTW9kZWwsaT1EKHQuYXhpc05hbWUsZS5nZXQoIm5hbWUiKSk7aWYoaSl7dmFyIG4sbz1lLmdldCgibmFtZUxvY2F0aW9uIikscj10Lm5hbWVEaXJlY3Rpb24scz1lLmdldE1vZGVsKCJuYW1lVGV4dFN0eWxlIiksbD1lLmdldCgibmFtZUdhcCIpfHwwLHU9dGhpcy5heGlzTW9kZWwuYXhpcy5nZXRFeHRlbnQoKSxoPXVbMF0+dVsxXT8tMToxLGM9WyJzdGFydCI9PT1vP3VbMF0taCpsOiJlbmQiPT09bz91WzFdK2gqbDoodVswXSt1WzFdKS8yLGd1KG8pP3QubGFiZWxPZmZzZXQrcipsOjBdLGQ9ZS5nZXQoIm5hbWVSb3RhdGUiKTtudWxsIT1kJiYoZD1kKllELzE4MCk7dmFyIGY7Z3Uobyk/bj1LRCh0LnJvdGF0aW9uLG51bGwhPWQ/ZDp0LnJvdGF0aW9uLHIpOihuPWh1KHQsbyxkfHwwLHUpLG51bGwhPShmPXQuYXhpc05hbWVBdmFpbGFibGVXaWR0aCkmJihmPU1hdGguYWJzKGYvTWF0aC5zaW4obi5yb3RhdGlvbikpLCFpc0Zpbml0ZShmKSYmKGY9bnVsbCkpKTt2YXIgcD1zLmdldEZvbnQoKSxnPWUuZ2V0KCJuYW1lVHJ1bmNhdGUiLCEwKXx8e30sbT1nLmVsbGlwc2lzLHY9RCh0Lm5hbWVUcnVuY2F0ZU1heFdpZHRoLGcubWF4V2lkdGgsZikseT1udWxsIT1tJiZudWxsIT12P2JTKGksdixwLG0se21pbkNoYXI6MixwbGFjZWhvbGRlcjpnLnBsYWNlaG9sZGVyfSk6aSx4PWUuZ2V0KCJ0b29sdGlwIiwhMCksXz1lLm1haW5UeXBlLHc9e2NvbXBvbmVudFR5cGU6XyxuYW1lOmksJHZhcnM6WyJuYW1lIl19O3dbXysiSW5kZXgiXT1lLmNvbXBvbmVudEluZGV4O3ZhciBiPW5ldyB6Yih7YW5pZDoibmFtZSIsX19mdWxsVGV4dDppLF9fdHJ1bmNhdGVkVGV4dDp5LHBvc2l0aW9uOmMscm90YXRpb246bi5yb3RhdGlvbixzaWxlbnQ6Y3UoZSksejI6MSx0b29sdGlwOngmJnguc2hvdz9hKHtjb250ZW50OmksZm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGl9LGZvcm1hdHRlclBhcmFtczp3fSx4KTpudWxsfSk7bm8oYi5zdHlsZSxzLHt0ZXh0OnksdGV4dEZvbnQ6cCx0ZXh0RmlsbDpzLmdldFRleHRDb2xvcigpfHxlLmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIiksdGV4dEFsaWduOm4udGV4dEFsaWduLHRleHRWZXJ0aWNhbEFsaWduOm4udGV4dFZlcnRpY2FsQWxpZ259KSxlLmdldCgidHJpZ2dlckV2ZW50IikmJihiLmV2ZW50RGF0YT11dShlKSxiLmV2ZW50RGF0YS50YXJnZXRUeXBlPSJheGlzTmFtZSIsYi5ldmVudERhdGEubmFtZT1pKSx0aGlzLl9kdW1iR3JvdXAuYWRkKGIpLGIudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5ncm91cC5hZGQoYiksYi5kZWNvbXBvc2VUcmFuc2Zvcm0oKX19fSxLRD1xRC5pbm5lclRleHRMYXlvdXQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG8sYT1PbyhlLXQpO3JldHVybiBFbyhhKT8obz1pPjA/InRvcCI6ImJvdHRvbSIsbj0iY2VudGVyIik6RW8oYS1ZRCk/KG89aT4wPyJib3R0b20iOiJ0b3AiLG49ImNlbnRlciIpOihvPSJtaWRkbGUiLG49YT4wJiZhPFlEP2k+MD8icmlnaHQiOiJsZWZ0IjppPjA/ImxlZnQiOiJyaWdodCIpLHtyb3RhdGlvbjphLHRleHRBbGlnbjpuLHRleHRWZXJ0aWNhbEFsaWduOm99fSxKRD1xRC5pZklnbm9yZU9uVGljaz1mdW5jdGlvbih0LGUsaSxuLG8sYSl7aWYoMD09PWUmJm98fGU9PT1uLTEmJmEpcmV0dXJuITE7dmFyIHIscz10LnNjYWxlO3JldHVybiJvcmRpbmFsIj09PXMudHlwZSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBpPyhyPXMuZ2V0VGlja3MoKVtlXSwhaShyLHMuZ2V0TGFiZWwocikpKTplJShpKzEpKX0sUUQ9cUQuZ2V0SW50ZXJ2YWw9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldCgiaW50ZXJ2YWwiKTtyZXR1cm4gbnVsbCE9aSYmImF1dG8iIT1pfHwoaT1lKSxpfSx0VD1kLGVUPXYsaVQ9dnMoe3R5cGU6ImF4aXMiLF9heGlzUG9pbnRlcjpudWxsLGF4aXNQb2ludGVyQ2xhc3M6bnVsbCxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5heGlzUG9pbnRlckNsYXNzJiZNdSh0KSxpVC5zdXBlckFwcGx5KHRoaXMsInJlbmRlciIsYXJndW1lbnRzKSxDdSh0aGlzLHQsMCxpLDAsITApfSx1cGRhdGVBeGlzUG9pbnRlcjpmdW5jdGlvbih0LGUsaSxuLG8pe0N1KHRoaXMsdCwwLGksMCwhMSl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2F4aXNQb2ludGVyO2kmJmkucmVtb3ZlKGUpLGlULnN1cGVyQXBwbHkodGhpcywicmVtb3ZlIixhcmd1bWVudHMpfSxkaXNwb3NlOmZ1bmN0aW9uKHQsZSl7THUodGhpcyxlKSxpVC5zdXBlckFwcGx5KHRoaXMsImRpc3Bvc2UiLGFyZ3VtZW50cyl9fSksblQ9W107aVQucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQsZSl7blRbdF09ZX0saVQuZ2V0QXhpc1BvaW50ZXJDbGFzcz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmblRbdF19O3ZhciBvVD1xRC5pZklnbm9yZU9uVGljayxhVD1xRC5nZXRJbnRlcnZhbCxyVD1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sc1Q9WyJzcGxpdEFyZWEiLCJzcGxpdExpbmUiXSxsVD1pVC5leHRlbmQoe3R5cGU6ImNhcnRlc2lhbkF4aXMiLGF4aXNQb2ludGVyQ2xhc3M6IkNhcnRlc2lhbkF4aXNQb2ludGVyIixyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgbz10aGlzLl9heGlzR3JvdXA7aWYodGhpcy5fYXhpc0dyb3VwPW5ldyBMXyx0aGlzLmdyb3VwLmFkZCh0aGlzLl9heGlzR3JvdXApLHQuZ2V0KCJzaG93Iikpe3ZhciBhPXQuZ2V0Q29vcmRTeXNNb2RlbCgpLHI9a3UoYSx0KSxzPW5ldyBxRCh0LHIpO2QoclQscy5hZGQscyksdGhpcy5fYXhpc0dyb3VwLmFkZChzLmdldEdyb3VwKCkpLGQoc1QsZnVuY3Rpb24oZSl7dC5nZXQoZSsiLnNob3ciKSYmdGhpc1siXyIrZV0odCxhLHIubGFiZWxJbnRlcnZhbCl9LHRoaXMpLHlvKG8sdGhpcy5fYXhpc0dyb3VwLHQpLGxULnN1cGVyQ2FsbCh0aGlzLCJyZW5kZXIiLHQsZSxpLG4pfX0sX3NwbGl0TGluZTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5heGlzO2lmKCFuLnNjYWxlLmlzQmxhbmsoKSl7dmFyIG89dC5nZXRNb2RlbCgic3BsaXRMaW5lIiksYT1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9YVQobyxpKTtzPXkocyk/czpbc107Zm9yKHZhciB1PWUuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCksaD1uLmlzSG9yaXpvbnRhbCgpLGM9MCxkPW4uZ2V0VGlja3NDb29yZHMoKSxmPW4uc2NhbGUuZ2V0VGlja3MoKSxwPXQuZ2V0KCJheGlzTGFiZWwuc2hvd01pbkxhYmVsIiksZz10LmdldCgiYXhpc0xhYmVsLnNob3dNYXhMYWJlbCIpLG09W10sdj1bXSx4PWEuZ2V0TGluZVN0eWxlKCksXz0wO188ZC5sZW5ndGg7XysrKWlmKCFvVChuLF8sbCxkLmxlbmd0aCxwLGcpKXt2YXIgdz1uLnRvR2xvYmFsQ29vcmQoZFtfXSk7aD8obVswXT13LG1bMV09dS55LHZbMF09dyx2WzFdPXUueSt1LmhlaWdodCk6KG1bMF09dS54LG1bMV09dyx2WzBdPXUueCt1LndpZHRoLHZbMV09dyk7dmFyIGI9YysrJXMubGVuZ3RoO3RoaXMuX2F4aXNHcm91cC5hZGQobmV3IFhiKEduKHthbmlkOiJsaW5lXyIrZltfXSxzaGFwZTp7eDE6bVswXSx5MTptWzFdLHgyOnZbMF0seTI6dlsxXX0sc3R5bGU6cih7c3Ryb2tlOnNbYl19LHgpLHNpbGVudDohMH0pKSl9fX0sX3NwbGl0QXJlYTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5heGlzO2lmKCFuLnNjYWxlLmlzQmxhbmsoKSl7dmFyIG89dC5nZXRNb2RlbCgic3BsaXRBcmVhIiksYT1vLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9ZS5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSx1PW4uZ2V0VGlja3NDb29yZHMoKSxoPW4uc2NhbGUuZ2V0VGlja3MoKSxjPW4udG9HbG9iYWxDb29yZCh1WzBdKSxkPW4udG9HbG9iYWxDb29yZCh1WzBdKSxmPTAscD1hVChvLGkpLGc9YS5nZXRBcmVhU3R5bGUoKTtzPXkocyk/czpbc107Zm9yKHZhciBtPXQuZ2V0KCJheGlzTGFiZWwuc2hvd01pbkxhYmVsIiksdj10LmdldCgiYXhpc0xhYmVsLnNob3dNYXhMYWJlbCIpLHg9MTt4PHUubGVuZ3RoO3grKylpZighKG9UKG4seCxwLHUubGVuZ3RoLG0sdikmJng8dS5sZW5ndGgtMSkpe3ZhciBfLHcsYixTLE09bi50b0dsb2JhbENvb3JkKHVbeF0pO24uaXNIb3Jpem9udGFsKCk/KF89Yyx3PWwueSxiPU0tXyxTPWwuaGVpZ2h0KTooXz1sLngsdz1kLGI9bC53aWR0aCxTPU0tdyk7dmFyIEk9ZisrJXMubGVuZ3RoO3RoaXMuX2F4aXNHcm91cC5hZGQobmV3IGpiKHthbmlkOiJhcmVhXyIraFt4XSxzaGFwZTp7eDpfLHk6dyx3aWR0aDpiLGhlaWdodDpTfSxzdHlsZTpyKHtmaWxsOnNbSV19LGcpLHNpbGVudDohMH0pKSxjPV8rYixkPXcrU319fX0pO2xULmV4dGVuZCh7dHlwZToieEF4aXMifSksbFQuZXh0ZW5kKHt0eXBlOiJ5QXhpcyJ9KSx2cyh7dHlwZToiZ3JpZCIscmVuZGVyOmZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIpJiZ0aGlzLmdyb3VwLmFkZChuZXcgamIoe3NoYXBlOnQuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCksc3R5bGU6cih7ZmlsbDp0LmdldCgiYmFja2dyb3VuZENvbG9yIil9LHQuZ2V0SXRlbVN0eWxlKCkpLHNpbGVudDohMCx6MjotMX0pKX19KSxscyhmdW5jdGlvbih0KXt0LnhBeGlzJiZ0LnlBeGlzJiYhdC5ncmlkJiYodC5ncmlkPXt9KX0pLGZzKGtEKCJsaW5lIiwiY2lyY2xlIiwibGluZSIpKSxkcyhQRCgibGluZSIpKSx1cyhxTS5QUk9DRVNTT1IuU1RBVElTVElDLGZ1bmN0aW9uKHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpLG89dC5nZXQoInNhbXBsaW5nIiksYT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoImNhcnRlc2lhbjJkIj09PWEudHlwZSYmbyl7dmFyIHI9YS5nZXRCYXNlQXhpcygpLHM9YS5nZXRPdGhlckF4aXMociksbD1yLmdldEV4dGVudCgpLHU9bFsxXS1sWzBdLGg9TWF0aC5yb3VuZChuLmNvdW50KCkvdSk7aWYoaD4xKXt2YXIgYzsic3RyaW5nIj09dHlwZW9mIG8/Yz1ORFtvXToiZnVuY3Rpb24iPT10eXBlb2YgbyYmKGM9byksYyYmdC5zZXREYXRhKG4uZG93blNhbXBsZShzLmRpbSwxL2gsYyxPRCkpfX19fX0oImxpbmUiKSk7dmFyIHVUPW1NLmV4dGVuZCh7dHlwZToic2VyaWVzLl9fYmFzZV9iYXJfXyIsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gSHModGhpcy5nZXRTb3VyY2UoKSx0aGlzKX0sZ2V0TWFya2VyUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb29yZGluYXRlU3lzdGVtO2lmKGUpe3ZhciBpPWUuZGF0YVRvUG9pbnQoZS5jbGFtcERhdGEodCkpLG49dGhpcy5nZXREYXRhKCksbz1uLmdldExheW91dCgib2Zmc2V0IiksYT1uLmdldExheW91dCgic2l6ZSIpO3JldHVybiBpW2UuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKT8wOjFdKz1vK2EvMixpfXJldHVybltOYU4sTmFOXX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsYmFyTWluSGVpZ2h0OjAsYmFyTWluQW5nbGU6MCxpdGVtU3R5bGU6e30sZW1waGFzaXM6e319fSk7dVQuZXh0ZW5kKHt0eXBlOiJzZXJpZXMuYmFyIixkZXBlbmRlbmNpZXM6WyJncmlkIiwicG9sYXIiXSxicnVzaFNlbGVjdG9yOiJyZWN0In0pO3ZhciBoVD1MdyhbWyJmaWxsIiwiY29sb3IiXSxbInN0cm9rZSIsImJvcmRlckNvbG9yIl0sWyJsaW5lV2lkdGgiLCJib3JkZXJXaWR0aCJdLFsic3Ryb2tlIiwiYmFyQm9yZGVyQ29sb3IiXSxbImxpbmVXaWR0aCIsImJhckJvcmRlcldpZHRoIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdXSksY1Q9e2dldEJhckl0ZW1TdHlsZTpmdW5jdGlvbih0KXt2YXIgZT1oVCh0aGlzLHQpO2lmKHRoaXMuZ2V0Qm9yZGVyTGluZURhc2gpe3ZhciBpPXRoaXMuZ2V0Qm9yZGVyTGluZURhc2goKTtpJiYoZS5saW5lRGFzaD1pKX1yZXR1cm4gZX19LGRUPVsiaXRlbVN0eWxlIiwiYmFyQm9yZGVyV2lkdGgiXTthKHdvLnByb3RvdHlwZSxjVCkseHMoe3R5cGU6ImJhciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO3JldHVybiJjYXJ0ZXNpYW4yZCIhPT1uJiYicG9sYXIiIT09bnx8dGhpcy5fcmVuZGVyKHQsZSxpKSx0aGlzLmdyb3VwfSxkaXNwb3NlOkIsX3JlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG4sbz10aGlzLmdyb3VwLGE9dC5nZXREYXRhKCkscj10aGlzLl9kYXRhLHM9dC5jb29yZGluYXRlU3lzdGVtLGw9cy5nZXRCYXNlQXhpcygpOyJjYXJ0ZXNpYW4yZCI9PT1zLnR5cGU/bj1sLmlzSG9yaXpvbnRhbCgpOiJwb2xhciI9PT1zLnR5cGUmJihuPSJhbmdsZSI9PT1sLmRpbSk7dmFyIHU9dC5pc0FuaW1hdGlvbkVuYWJsZWQoKT90Om51bGw7YS5kaWZmKHIpLmFkZChmdW5jdGlvbihlKXtpZihhLmhhc1ZhbHVlKGUpKXt2YXIgaT1hLmdldEl0ZW1Nb2RlbChlKSxyPXBUW3MudHlwZV0oYSxlLGkpLGw9ZlRbcy50eXBlXShhLGUsaSxyLG4sdSk7YS5zZXRJdGVtR3JhcGhpY0VsKGUsbCksby5hZGQobCksenUobCxhLGUsaSxyLHQsbiwicG9sYXIiPT09cy50eXBlKX19KS51cGRhdGUoZnVuY3Rpb24oZSxpKXt2YXIgbD1yLmdldEl0ZW1HcmFwaGljRWwoaSk7aWYoYS5oYXNWYWx1ZShlKSl7dmFyIGg9YS5nZXRJdGVtTW9kZWwoZSksYz1wVFtzLnR5cGVdKGEsZSxoKTtsP2ZvKGwse3NoYXBlOmN9LHUsZSk6bD1mVFtzLnR5cGVdKGEsZSxoLGMsbix1LCEwKSxhLnNldEl0ZW1HcmFwaGljRWwoZSxsKSxvLmFkZChsKSx6dShsLGEsZSxoLGMsdCxuLCJwb2xhciI9PT1zLnR5cGUpfWVsc2Ugby5yZW1vdmUobCl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJdGVtR3JhcGhpY0VsKHQpOyJjYXJ0ZXNpYW4yZCI9PT1zLnR5cGU/ZSYmT3UodCx1LGUpOmUmJkV1KHQsdSxlKX0pLmV4ZWN1dGUoKSx0aGlzLl9kYXRhPWF9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ3JvdXAsbj10aGlzLl9kYXRhO3QuZ2V0KCJhbmltYXRpb24iKT9uJiZuLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKGUpeyJzZWN0b3IiPT09ZS50eXBlP0V1KGUuZGF0YUluZGV4LHQsZSk6T3UoZS5kYXRhSW5kZXgsdCxlKX0pOmkucmVtb3ZlQWxsKCl9fSk7dmFyIGZUPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsaSxuLG8scixzKXt2YXIgbD1uZXcgamIoe3NoYXBlOmEoe30sbil9KTtpZihyKXt2YXIgdT1sLnNoYXBlLGg9bz8iaGVpZ2h0Ijoid2lkdGgiLGM9e307dVtoXT0wLGNbaF09bltoXSxzU1tzPyJ1cGRhdGVQcm9wcyI6ImluaXRQcm9wcyJdKGwse3NoYXBlOmN9LHIsZSl9cmV0dXJuIGx9LHBvbGFyOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHMpe3ZhciBsPW4uc3RhcnRBbmdsZTxuLmVuZEFuZ2xlLHU9bmV3IEdiKHtzaGFwZTpyKHtjbG9ja3dpc2U6bH0sbil9KTtpZihhKXt2YXIgaD11LnNoYXBlLGM9bz8iciI6ImVuZEFuZ2xlIixkPXt9O2hbY109bz8wOm4uc3RhcnRBbmdsZSxkW2NdPW5bY10sc1Nbcz8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXSh1LHtzaGFwZTpkfSxhLGUpfXJldHVybiB1fX0scFQ9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSksbz1SdShpLG4pLGE9bi53aWR0aD4wPzE6LTEscj1uLmhlaWdodD4wPzE6LTE7cmV0dXJue3g6bi54K2Eqby8yLHk6bi55K3Iqby8yLHdpZHRoOm4ud2lkdGgtYSpvLGhlaWdodDpuLmhlaWdodC1yKm99fSxwb2xhcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRJdGVtTGF5b3V0KGUpO3JldHVybntjeDpuLmN4LGN5Om4uY3kscjA6bi5yMCxyOm4ucixzdGFydEFuZ2xlOm4uc3RhcnRBbmdsZSxlbmRBbmdsZTpuLmVuZEFuZ2xlfX19O2RzKHYocmwsImJhciIpKSxmcyhmdW5jdGlvbih0KXt0LmVhY2hTZXJpZXNCeVR5cGUoImJhciIsZnVuY3Rpb24odCl7dC5nZXREYXRhKCkuc2V0VmlzdWFsKCJsZWdlbmRTeW1ib2wiLCJyb3VuZFJlY3QiKX0pfSk7dmFyIGdUPWZ1bmN0aW9uKHQsZSxpKXtlPXkoZSkmJntjb29yZERpbWVuc2lvbnM6ZX18fGEoe30sZSk7dmFyIG49dC5nZXRTb3VyY2UoKSxvPUNJKG4sZSkscj1uZXcgREkobyx0KTtyZXR1cm4gci5pbml0RGF0YShuLGkpLHJ9LG1UPXt1cGRhdGVTZWxlY3RlZE1hcDpmdW5jdGlvbih0KXt0aGlzLl90YXJnZXRMaXN0PXkodCk/dC5zbGljZSgpOltdLHRoaXMuX3NlbGVjdFRhcmdldE1hcD1wKHR8fFtdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2V0KGUubmFtZSxlKSx0fSx6KCkpfSxzZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsIT1lP3RoaXMuX3RhcmdldExpc3RbZV06dGhpcy5fc2VsZWN0VGFyZ2V0TWFwLmdldCh0KTsic2luZ2xlIj09PXRoaXMuZ2V0KCJzZWxlY3RlZE1vZGUiKSYmdGhpcy5fc2VsZWN0VGFyZ2V0TWFwLmVhY2goZnVuY3Rpb24odCl7dC5zZWxlY3RlZD0hMX0pLGkmJihpLnNlbGVjdGVkPSEwKX0sdW5TZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsIT1lP3RoaXMuX3RhcmdldExpc3RbZV06dGhpcy5fc2VsZWN0VGFyZ2V0TWFwLmdldCh0KTtpJiYoaS5zZWxlY3RlZD0hMSl9LHRvZ2dsZVNlbGVjdGVkOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bnVsbCE9ZT90aGlzLl90YXJnZXRMaXN0W2VdOnRoaXMuX3NlbGVjdFRhcmdldE1hcC5nZXQodCk7aWYobnVsbCE9aSlyZXR1cm4gdGhpc1tpLnNlbGVjdGVkPyJ1blNlbGVjdCI6InNlbGVjdCJdKHQsZSksaS5zZWxlY3RlZH0saXNTZWxlY3RlZDpmdW5jdGlvbih0LGUpe3ZhciBpPW51bGwhPWU/dGhpcy5fdGFyZ2V0TGlzdFtlXTp0aGlzLl9zZWxlY3RUYXJnZXRNYXAuZ2V0KHQpO3JldHVybiBpJiZpLnNlbGVjdGVkfX0sdlQ9eXMoe3R5cGU6InNlcmllcy5waWUiLGluaXQ6ZnVuY3Rpb24odCl7dlQuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMubGVnZW5kRGF0YVByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmF3RGF0YSgpfSx0aGlzLnVwZGF0ZVNlbGVjdGVkTWFwKHRoaXMuX2NyZWF0ZVNlbGVjdGFibGVMaXN0KCkpLHRoaXMuX2RlZmF1bHRMYWJlbExpbmUodCl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe3ZULnN1cGVyQ2FsbCh0aGlzLCJtZXJnZU9wdGlvbiIsdCksdGhpcy51cGRhdGVTZWxlY3RlZE1hcCh0aGlzLl9jcmVhdGVTZWxlY3RhYmxlTGlzdCgpKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ1QodGhpcyxbInZhbHVlIl0pfSxfY3JlYXRlU2VsZWN0YWJsZUxpc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRSYXdEYXRhKCksZT10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxpPVtdLG49MCxvPXQuY291bnQoKTtuPG87bisrKWkucHVzaCh7bmFtZTp0LmdldE5hbWUobiksdmFsdWU6dC5nZXQoZSxuKSxzZWxlY3RlZDppcih0LG4sInNlbGVjdGVkIil9KTtyZXR1cm4gaX0sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPXZULnN1cGVyQ2FsbCh0aGlzLCJnZXREYXRhUGFyYW1zIix0KSxuPVtdO3JldHVybiBlLmVhY2goZS5tYXBEaW1lbnNpb24oInZhbHVlIiksZnVuY3Rpb24odCl7bi5wdXNoKHQpfSksaS5wZXJjZW50PU5vKG4sdCxlLmhvc3RNb2RlbC5nZXQoInBlcmNlbnRQcmVjaXNpb24iKSksaS4kdmFycy5wdXNoKCJwZXJjZW50IiksaX0sX2RlZmF1bHRMYWJlbExpbmU6ZnVuY3Rpb24odCl7TWkodCwibGFiZWxMaW5lIixbInNob3ciXSk7dmFyIGU9dC5sYWJlbExpbmUsaT10LmVtcGhhc2lzLmxhYmVsTGluZTtlLnNob3c9ZS5zaG93JiZ0LmxhYmVsLnNob3csaS5zaG93PWkuc2hvdyYmdC5lbXBoYXNpcy5sYWJlbC5zaG93fSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLGNlbnRlcjpbIjUwJSIsIjUwJSJdLHJhZGl1czpbMCwiNzUlIl0sY2xvY2t3aXNlOiEwLHN0YXJ0QW5nbGU6OTAsbWluQW5nbGU6MCxzZWxlY3RlZE9mZnNldDoxMCxob3Zlck9mZnNldDoxMCxhdm9pZExhYmVsT3ZlcmxhcDohMCxwZXJjZW50UHJlY2lzaW9uOjIsc3RpbGxTaG93WmVyb1N1bTohMCxsYWJlbDp7cm90YXRlOiExLHNob3c6ITAscG9zaXRpb246Im91dGVyIn0sbGFiZWxMaW5lOntzaG93OiEwLGxlbmd0aDoxNSxsZW5ndGgyOjE1LHNtb290aDohMSxsaW5lU3R5bGU6e3dpZHRoOjEsdHlwZToic29saWQifX0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoxfSxhbmltYXRpb25UeXBlOiJleHBhbnNpb24iLGFuaW1hdGlvbkVhc2luZzoiY3ViaWNPdXQifX0pO2godlQsbVQpO3ZhciB5VD1HdS5wcm90b3R5cGU7eVQudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbigpe3Muc3RvcEFuaW1hdGlvbighMCkscy5hbmltYXRlVG8oe3NoYXBlOntyOmgucitsLmdldCgiaG92ZXJPZmZzZXQiKX19LDMwMCwiZWxhc3RpY091dCIpfWZ1bmN0aW9uIG8oKXtzLnN0b3BBbmltYXRpb24oITApLHMuYW5pbWF0ZVRvKHtzaGFwZTp7cjpoLnJ9fSwzMDAsImVsYXN0aWNPdXQiKX12YXIgcz10aGlzLmNoaWxkQXQoMCksbD10Lmhvc3RNb2RlbCx1PXQuZ2V0SXRlbU1vZGVsKGUpLGg9dC5nZXRJdGVtTGF5b3V0KGUpLGM9YSh7fSxoKTtjLmxhYmVsPW51bGwsaT8ocy5zZXRTaGFwZShjKSwic2NhbGUiPT09bC5nZXRTaGFsbG93KCJhbmltYXRpb25UeXBlIik/KHMuc2hhcGUucj1oLnIwLHBvKHMse3NoYXBlOntyOmgucn19LGwsZSkpOihzLnNoYXBlLmVuZEFuZ2xlPWguc3RhcnRBbmdsZSxmbyhzLHtzaGFwZTp7ZW5kQW5nbGU6aC5lbmRBbmdsZX19LGwsZSkpKTpmbyhzLHtzaGFwZTpjfSxsLGUpO3ZhciBkPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO3MudXNlU3R5bGUocih7bGluZUpvaW46ImJldmVsIixmaWxsOmR9LHUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpKSkscy5ob3ZlclN0eWxlPXUuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO3ZhciBmPXUuZ2V0U2hhbGxvdygiY3Vyc29yIik7ZiYmcy5hdHRyKCJjdXJzb3IiLGYpLFZ1KHRoaXMsdC5nZXRJdGVtTGF5b3V0KGUpLGwuaXNTZWxlY3RlZChudWxsLGUpLGwuZ2V0KCJzZWxlY3RlZE9mZnNldCIpLGwuZ2V0KCJhbmltYXRpb24iKSkscy5vZmYoIm1vdXNlb3ZlciIpLm9mZigibW91c2VvdXQiKS5vZmYoImVtcGhhc2lzIikub2ZmKCJub3JtYWwiKSx1LmdldCgiaG92ZXJBbmltYXRpb24iKSYmbC5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmcy5vbigibW91c2VvdmVyIixuKS5vbigibW91c2VvdXQiLG8pLm9uKCJlbXBoYXNpcyIsbikub24oIm5vcm1hbCIsbyksdGhpcy5fdXBkYXRlTGFiZWwodCxlKSxlbyh0aGlzKX0seVQuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGlsZEF0KDEpLG49dGhpcy5jaGlsZEF0KDIpLG89dC5ob3N0TW9kZWwsYT10LmdldEl0ZW1Nb2RlbChlKSxyPXQuZ2V0SXRlbUxheW91dChlKS5sYWJlbCxzPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO2ZvKGkse3NoYXBlOntwb2ludHM6ci5saW5lUG9pbnRzfHxbW3IueCxyLnldLFtyLngsci55XSxbci54LHIueV1dfX0sbyxlKSxmbyhuLHtzdHlsZTp7eDpyLngseTpyLnl9fSxvLGUpLG4uYXR0cih7cm90YXRpb246ci5yb3RhdGlvbixvcmlnaW46W3IueCxyLnldLHoyOjEwfSk7dmFyIGw9YS5nZXRNb2RlbCgibGFiZWwiKSx1PWEuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIiksaD1hLmdldE1vZGVsKCJsYWJlbExpbmUiKSxjPWEuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsTGluZSIpLHM9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7aW8obi5zdHlsZSxuLmhvdmVyU3R5bGU9e30sbCx1LHtsYWJlbEZldGNoZXI6dC5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6ZSxkZWZhdWx0VGV4dDp0LmdldE5hbWUoZSksYXV0b0NvbG9yOnMsdXNlSW5zaWRlU3R5bGU6ISFyLmluc2lkZX0se3RleHRBbGlnbjpyLnRleHRBbGlnbix0ZXh0VmVydGljYWxBbGlnbjpyLnZlcnRpY2FsQWxpZ24sb3BhY2l0eTp0LmdldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIpfSksbi5pZ25vcmU9bi5ub3JtYWxJZ25vcmU9IWwuZ2V0KCJzaG93Iiksbi5ob3Zlcklnbm9yZT0hdS5nZXQoInNob3ciKSxpLmlnbm9yZT1pLm5vcm1hbElnbm9yZT0haC5nZXQoInNob3ciKSxpLmhvdmVySWdub3JlPSFjLmdldCgic2hvdyIpLGkuc2V0U3R5bGUoe3N0cm9rZTpzLG9wYWNpdHk6dC5nZXRJdGVtVmlzdWFsKGUsIm9wYWNpdHkiKX0pLGkuc2V0U3R5bGUoaC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLGkuaG92ZXJTdHlsZT1jLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKTt2YXIgZD1oLmdldCgic21vb3RoIik7ZCYmITA9PT1kJiYoZD0uNCksaS5zZXRTaGFwZSh7c21vb3RoOmR9KX0sdShHdSxMXyk7cHIuZXh0ZW5kKHt0eXBlOiJwaWUiLGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgTF87dGhpcy5fc2VjdG9yR3JvdXA9dH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKCFufHxuLmZyb20hPT10aGlzLnVpZCl7dmFyIG89dC5nZXREYXRhKCksYT10aGlzLl9kYXRhLHI9dGhpcy5ncm91cCxzPWUuZ2V0KCJhbmltYXRpb24iKSxsPSFhLHU9dC5nZXQoImFuaW1hdGlvblR5cGUiKSxoPXYoQnUsdGhpcy51aWQsdCxzLGkpLGM9dC5nZXQoInNlbGVjdGVkTW9kZSIpO2lmKG8uZGlmZihhKS5hZGQoZnVuY3Rpb24odCl7dmFyIGU9bmV3IEd1KG8sdCk7bCYmInNjYWxlIiE9PXUmJmUuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3Quc3RvcEFuaW1hdGlvbighMCl9KSxjJiZlLm9uKCJjbGljayIsaCksby5zZXRJdGVtR3JhcGhpY0VsKHQsZSksci5hZGQoZSl9KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1hLmdldEl0ZW1HcmFwaGljRWwoZSk7aS51cGRhdGVEYXRhKG8sdCksaS5vZmYoImNsaWNrIiksYyYmaS5vbigiY2xpY2siLGgpLHIuYWRkKGkpLG8uc2V0SXRlbUdyYXBoaWNFbCh0LGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPWEuZ2V0SXRlbUdyYXBoaWNFbCh0KTtyLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSxzJiZsJiZvLmNvdW50KCk+MCYmInNjYWxlIiE9PXUpe3ZhciBkPW8uZ2V0SXRlbUxheW91dCgwKSxmPU1hdGgubWF4KGkuZ2V0V2lkdGgoKSxpLmdldEhlaWdodCgpKS8yLHA9bShyLnJlbW92ZUNsaXBQYXRoLHIpO3Iuc2V0Q2xpcFBhdGgodGhpcy5fY3JlYXRlQ2xpcFBhdGgoZC5jeCxkLmN5LGYsZC5zdGFydEFuZ2xlLGQuY2xvY2t3aXNlLHAsdCkpfXRoaXMuX2RhdGE9b319LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9LF9jcmVhdGVDbGlwUGF0aDpmdW5jdGlvbih0LGUsaSxuLG8sYSxyKXt2YXIgcz1uZXcgR2Ioe3NoYXBlOntjeDp0LGN5OmUscjA6MCxyOmksc3RhcnRBbmdsZTpuLGVuZEFuZ2xlOm4sY2xvY2t3aXNlOm99fSk7cmV0dXJuIHBvKHMse3NoYXBlOntlbmRBbmdsZTpuKyhvPzE6LTEpKk1hdGguUEkqMn19LHIsYSksc30sY29udGFpblBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dCgwKTtpZihpKXt2YXIgbj10WzBdLWkuY3gsbz10WzFdLWkuY3ksYT1NYXRoLnNxcnQobipuK28qbyk7cmV0dXJuIGE8PWkuciYmYT49aS5yMH19fSk7dmFyIHhUPWZ1bmN0aW9uKHQsZSl7ZChlLGZ1bmN0aW9uKGUpe2UudXBkYXRlPSJ1cGRhdGVWaWV3IixocyhlLGZ1bmN0aW9uKGksbil7dmFyIG89e307cmV0dXJuIG4uZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZTp0LHF1ZXJ5Oml9LGZ1bmN0aW9uKHQpe3RbZS5tZXRob2RdJiZ0W2UubWV0aG9kXShpLm5hbWUsaS5kYXRhSW5kZXgpO3ZhciBuPXQuZ2V0RGF0YSgpO24uZWFjaChmdW5jdGlvbihlKXt2YXIgaT1uLmdldE5hbWUoZSk7b1tpXT10LmlzU2VsZWN0ZWQoaSl8fCExfSl9KSx7bmFtZTppLm5hbWUsc2VsZWN0ZWQ6b319KX0pfSxfVD1mdW5jdGlvbih0KXtyZXR1cm57Z2V0VGFyZ2V0U2VyaWVzOmZ1bmN0aW9uKGUpe3ZhciBpPXt9LG49eigpO3JldHVybiBlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXt0Ll9fcGFsZXR0ZVNjb3BlPWksbi5zZXQodC51aWQsdCl9KSxufSxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0UmF3RGF0YSgpLG49e30sbz10LmdldERhdGEoKTtvLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9by5nZXRSYXdJbmRleCh0KTtuW2VdPXR9KSxpLmVhY2goZnVuY3Rpb24oZSl7dmFyIGE9bltlXSxyPW51bGwhPWEmJm8uZ2V0SXRlbVZpc3VhbChhLCJjb2xvciIsITApO2lmKHIpaS5zZXRJdGVtVmlzdWFsKGUsImNvbG9yIixyKTtlbHNle3ZhciBzPWkuZ2V0SXRlbU1vZGVsKGUpLmdldCgiaXRlbVN0eWxlLmNvbG9yIil8fHQuZ2V0Q29sb3JGcm9tUGFsZXR0ZShpLmdldE5hbWUoZSl8fGUrIiIsdC5fX3BhbGV0dGVTY29wZSxpLmNvdW50KCkpO2kuc2V0SXRlbVZpc3VhbChlLCJjb2xvciIscyksbnVsbCE9YSYmby5zZXRJdGVtVmlzdWFsKGEsImNvbG9yIixzKX19KX19fSx3VD1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxhLHI9dC5nZXREYXRhKCkscz1bXSxsPSExO3IuZWFjaChmdW5jdGlvbihpKXt2YXIgbix1LGgsYyxkPXIuZ2V0SXRlbUxheW91dChpKSxmPXIuZ2V0SXRlbU1vZGVsKGkpLHA9Zi5nZXRNb2RlbCgibGFiZWwiKSxnPXAuZ2V0KCJwb3NpdGlvbiIpfHxmLmdldCgiZW1waGFzaXMubGFiZWwucG9zaXRpb24iKSxtPWYuZ2V0TW9kZWwoImxhYmVsTGluZSIpLHY9bS5nZXQoImxlbmd0aCIpLHk9bS5nZXQoImxlbmd0aDIiKSx4PShkLnN0YXJ0QW5nbGUrZC5lbmRBbmdsZSkvMixfPU1hdGguY29zKHgpLHc9TWF0aC5zaW4oeCk7bz1kLmN4LGE9ZC5jeTt2YXIgYj0iaW5zaWRlIj09PWd8fCJpbm5lciI9PT1nO2lmKCJjZW50ZXIiPT09ZyluPWQuY3gsdT1kLmN5LGM9ImNlbnRlciI7ZWxzZXt2YXIgUz0oYj8oZC5yK2QucjApLzIqXzpkLnIqXykrbyxNPShiPyhkLnIrZC5yMCkvMip3OmQucip3KSthO2lmKG49UyszKl8sdT1NKzMqdywhYil7dmFyIEk9UytfKih2K2UtZC5yKSxEPU0rdyooditlLWQuciksVD1JKyhfPDA/LTE6MSkqeSxBPUQ7bj1UKyhfPDA/LTU6NSksdT1BLGg9W1tTLE1dLFtJLERdLFtULEFdXX1jPWI/ImNlbnRlciI6Xz4wPyJsZWZ0IjoicmlnaHQifXZhciBDPXAuZ2V0Rm9udCgpLEw9cC5nZXQoInJvdGF0ZSIpP188MD8teCtNYXRoLlBJOi14OjAsaz1tZSh0LmdldEZvcm1hdHRlZExhYmVsKGksIm5vcm1hbCIpfHxyLmdldE5hbWUoaSksQyxjLCJ0b3AiKTtsPSEhTCxkLmxhYmVsPXt4Om4seTp1LHBvc2l0aW9uOmcsaGVpZ2h0OmsuaGVpZ2h0LGxlbjp2LGxlbjI6eSxsaW5lUG9pbnRzOmgsdGV4dEFsaWduOmMsdmVydGljYWxBbGlnbjoibWlkZGxlIixyb3RhdGlvbjpMLGluc2lkZTpifSxifHxzLnB1c2goZC5sYWJlbCl9KSwhbCYmdC5nZXQoImF2b2lkTGFiZWxPdmVybGFwIikmJld1KHMsbyxhLGUsaSxuKX0sYlQ9MipNYXRoLlBJLFNUPU1hdGguUEkvMTgwLE1UPWZ1bmN0aW9uKHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2lmKGkmJmkubGVuZ3RoKXt2YXIgbj10LmdldERhdGEoKTtuLmZpbHRlclNlbGYoZnVuY3Rpb24odCl7Zm9yKHZhciBlPW4uZ2V0TmFtZSh0KSxvPTA7bzxpLmxlbmd0aDtvKyspaWYoIWlbb10uaXNTZWxlY3RlZChlKSlyZXR1cm4hMTtyZXR1cm4hMH0pfX19fTt4VCgicGllIixbe3R5cGU6InBpZVRvZ2dsZVNlbGVjdCIsZXZlbnQ6InBpZXNlbGVjdGNoYW5nZWQiLG1ldGhvZDoidG9nZ2xlU2VsZWN0ZWQifSx7dHlwZToicGllU2VsZWN0IixldmVudDoicGllc2VsZWN0ZWQiLG1ldGhvZDoic2VsZWN0In0se3R5cGU6InBpZVVuU2VsZWN0IixldmVudDoicGlldW5zZWxlY3RlZCIsbWV0aG9kOiJ1blNlbGVjdCJ9XSksZnMoX1QoInBpZSIpKSxkcyh2KGZ1bmN0aW9uKHQsZSxpLG4pe2UuZWFjaFNlcmllc0J5VHlwZSh0LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49ZS5tYXBEaW1lbnNpb24oInZhbHVlIiksbz10LmdldCgiY2VudGVyIiksYT10LmdldCgicmFkaXVzIik7eShhKXx8KGE9WzAsYV0pLHkobyl8fChvPVtvLG9dKTt2YXIgcj1pLmdldFdpZHRoKCkscz1pLmdldEhlaWdodCgpLGw9TWF0aC5taW4ocixzKSx1PVRvKG9bMF0sciksaD1UbyhvWzFdLHMpLGM9VG8oYVswXSxsLzIpLGQ9VG8oYVsxXSxsLzIpLGY9LXQuZ2V0KCJzdGFydEFuZ2xlIikqU1QscD10LmdldCgibWluQW5nbGUiKSpTVCxnPTA7ZS5lYWNoKG4sZnVuY3Rpb24odCl7IWlzTmFOKHQpJiZnKyt9KTt2YXIgbT1lLmdldFN1bShuKSx2PU1hdGguUEkvKG18fGcpKjIseD10LmdldCgiY2xvY2t3aXNlIiksXz10LmdldCgicm9zZVR5cGUiKSx3PXQuZ2V0KCJzdGlsbFNob3daZXJvU3VtIiksYj1lLmdldERhdGFFeHRlbnQobik7YlswXT0wO3ZhciBTPWJULE09MCxJPWYsRD14PzE6LTE7aWYoZS5lYWNoKG4sZnVuY3Rpb24odCxpKXt2YXIgbjtpZihpc05hTih0KSllLnNldEl0ZW1MYXlvdXQoaSx7YW5nbGU6TmFOLHN0YXJ0QW5nbGU6TmFOLGVuZEFuZ2xlOk5hTixjbG9ja3dpc2U6eCxjeDp1LGN5OmgscjA6YyxyOl8/TmFOOmR9KTtlbHNleyhuPSJhcmVhIiE9PV8/MD09PW0mJnc/djp0KnY6YlQvZyk8cD8obj1wLFMtPXApOk0rPXQ7dmFyIG89SStEKm47ZS5zZXRJdGVtTGF5b3V0KGkse2FuZ2xlOm4sc3RhcnRBbmdsZTpJLGVuZEFuZ2xlOm8sY2xvY2t3aXNlOngsY3g6dSxjeTpoLHIwOmMscjpfP0RvKHQsYixbYyxkXSk6ZH0pLEk9b319KSxTPGJUJiZnKWlmKFM8PS4wMDEpe3ZhciBUPWJUL2c7ZS5lYWNoKG4sZnVuY3Rpb24odCxpKXtpZighaXNOYU4odCkpe3ZhciBuPWUuZ2V0SXRlbUxheW91dChpKTtuLmFuZ2xlPVQsbi5zdGFydEFuZ2xlPWYrRCppKlQsbi5lbmRBbmdsZT1mK0QqKGkrMSkqVH19KX1lbHNlIHY9Uy9NLEk9ZixlLmVhY2gobixmdW5jdGlvbih0LGkpe2lmKCFpc05hTih0KSl7dmFyIG49ZS5nZXRJdGVtTGF5b3V0KGkpLG89bi5hbmdsZT09PXA/cDp0KnY7bi5zdGFydEFuZ2xlPUksbi5lbmRBbmdsZT1JK0QqbyxJKz1EKm99fSk7d1QodCxkLHIscyl9KX0sInBpZSIpKSx1cyhNVCgicGllIikpLG1NLmV4dGVuZCh7dHlwZToic2VyaWVzLnNjYXR0ZXIiLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciIsImdlbyIsInNpbmdsZUF4aXMiLCJjYWxlbmRhciJdLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhzKHRoaXMuZ2V0U291cmNlKCksdGhpcyl9LGJydXNoU2VsZWN0b3I6InBvaW50IixnZXRQcm9ncmVzc2l2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzVlMzp0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKTp0fSxnZXRQcm9ncmVzc2l2ZVRocmVzaG9sZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlVGhyZXNob2xkO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzFlNDp0aGlzLmdldCgicHJvZ3Jlc3NpdmVUaHJlc2hvbGQiKTp0fSxkZWZhdWx0T3B0aW9uOntjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxob3ZlckFuaW1hdGlvbjohMCxzeW1ib2xTaXplOjEwLGxhcmdlOiExLGxhcmdlVGhyZXNob2xkOjJlMyxpdGVtU3R5bGU6e29wYWNpdHk6Ljh9LHByb2dyZXNzaXZlOm51bGx9fSk7dmFyIElUPUVuKHtzaGFwZTp7cG9pbnRzOm51bGx9LHN5bWJvbFByb3h5Om51bGwsYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5wb2ludHMsbj1lLnNpemUsbz10aGlzLnN5bWJvbFByb3h5LGE9by5zaGFwZTtpZighKCh0LmdldENvbnRleHQ/dC5nZXRDb250ZXh0KCk6dCkmJm5bMF08NCkpZm9yKHZhciByPTA7cjxpLmxlbmd0aDspe3ZhciBzPWlbcisrXSxsPWlbcisrXTtpc05hTihzKXx8aXNOYU4obCl8fChhLng9cy1uWzBdLzIsYS55PWwtblsxXS8yLGEud2lkdGg9blswXSxhLmhlaWdodD1uWzFdLG8uYnVpbGRQYXRoKHQsYSwhMCkpfX0sYWZ0ZXJCcnVzaDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlLGk9ZS5wb2ludHMsbj1lLnNpemU7aWYoblswXTw0KXt0aGlzLnNldFRyYW5zZm9ybSh0KTtmb3IodmFyIG89MDtvPGkubGVuZ3RoOyl7dmFyIGE9aVtvKytdLHI9aVtvKytdO2lzTmFOKGEpfHxpc05hTihyKXx8dC5maWxsUmVjdChhLW5bMF0vMixyLW5bMV0vMixuWzBdLG5bMV0pfXRoaXMucmVzdG9yZVRyYW5zZm9ybSh0KX19LGZpbmREYXRhSW5kZXg6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5zaGFwZSxuPWkucG9pbnRzLG89aS5zaXplLGE9TWF0aC5tYXgob1swXSw0KSxyPU1hdGgubWF4KG9bMV0sNCkscz1uLmxlbmd0aC8yLTE7cz49MDtzLS0pe3ZhciBsPTIqcyx1PW5bbF0tYS8yLGg9bltsKzFdLXIvMjtpZih0Pj11JiZlPj1oJiZ0PD11K2EmJmU8PWgrcilyZXR1cm4gc31yZXR1cm4tMX19KSxEVD1IdS5wcm90b3R5cGU7RFQuaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2luY3JlbWVudGFsfSxEVC51cGRhdGVEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIGU9bmV3IElUKHtyZWN0SG92ZXI6ITAsY3Vyc29yOiJkZWZhdWx0In0pO2Uuc2V0U2hhcGUoe3BvaW50czp0LmdldExheW91dCgic3ltYm9sUG9pbnRzIil9KSx0aGlzLl9zZXRDb21tb24oZSx0KSx0aGlzLmdyb3VwLmFkZChlKSx0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSxEVC51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2luY3JlbWVudGFsKXt2YXIgZT10LmdldExheW91dCgic3ltYm9sUG9pbnRzIik7dGhpcy5ncm91cC5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7aWYobnVsbCE9dC5zdGFydEluZGV4KXt2YXIgaT0yKih0LmVuZEluZGV4LXQuc3RhcnRJbmRleCksbj00KnQuc3RhcnRJbmRleCoyO2U9bmV3IEZsb2F0MzJBcnJheShlLmJ1ZmZlcixuLGkpfXQuc2V0U2hhcGUoInBvaW50cyIsZSl9KX19LERULmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2NsZWFySW5jcmVtZW50YWwoKSx0LmNvdW50KCk+MmU2Pyh0aGlzLl9pbmNyZW1lbnRhbHx8KHRoaXMuX2luY3JlbWVudGFsPW5ldyBPbih7c2lsZW50OiEwfSkpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2luY3JlbWVudGFsKSk6dGhpcy5faW5jcmVtZW50YWw9bnVsbH0sRFQuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgaTt0aGlzLl9pbmNyZW1lbnRhbD8oaT1uZXcgSVQsdGhpcy5faW5jcmVtZW50YWwuYWRkRGlzcGxheWFibGUoaSwhMCkpOigoaT1uZXcgSVQoe3JlY3RIb3ZlcjohMCxjdXJzb3I6ImRlZmF1bHQiLHN0YXJ0SW5kZXg6dC5zdGFydCxlbmRJbmRleDp0LmVuZH0pKS5pbmNyZW1lbnRhbD0hMCx0aGlzLmdyb3VwLmFkZChpKSksaS5zZXRTaGFwZSh7cG9pbnRzOmUuZ2V0TGF5b3V0KCJzeW1ib2xQb2ludHMiKX0pLHRoaXMuX3NldENvbW1vbihpLGUsISF0aGlzLl9pbmNyZW1lbnRhbCl9LERULl9zZXRDb21tb249ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUuaG9zdE1vZGVsLG89ZS5nZXRWaXN1YWwoInN5bWJvbFNpemUiKTt0LnNldFNoYXBlKCJzaXplIixvIGluc3RhbmNlb2YgQXJyYXk/bzpbbyxvXSksdC5zeW1ib2xQcm94eT1tbChlLmdldFZpc3VhbCgic3ltYm9sIiksMCwwLDAsMCksdC5zZXRDb2xvcj10LnN5bWJvbFByb3h5LnNldENvbG9yO3ZhciBhPXQuc2hhcGUuc2l6ZVswXTw0O3QudXNlU3R5bGUobi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKGE/WyJjb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciJdOlsiY29sb3IiXSkpO3ZhciByPWUuZ2V0VmlzdWFsKCJjb2xvciIpO3ImJnQuc2V0Q29sb3IociksaXx8KHQuc2VyaWVzSW5kZXg9bi5zZXJpZXNJbmRleCx0Lm9uKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKGUpe3QuZGF0YUluZGV4PW51bGw7dmFyIGk9dC5maW5kRGF0YUluZGV4KGUub2Zmc2V0WCxlLm9mZnNldFkpO2k+PTAmJih0LmRhdGFJbmRleD1pKyh0LnN0YXJ0SW5kZXh8fDApKX0pKX0sRFQucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHRoaXMuX2luY3JlbWVudGFsPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sRFQuX2NsZWFySW5jcmVtZW50YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbmNyZW1lbnRhbDt0JiZ0LmNsZWFyRGlzcGxheWJsZXMoKX0seHMoe3R5cGU6InNjYXR0ZXIiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlU3ltYm9sRHJhdyhuLHQpLnVwZGF0ZURhdGEobiksdGhpcy5fZmluaXNoZWQ9ITB9LGluY3JlbWVudGFsUHJlcGFyZVJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlU3ltYm9sRHJhdyhuLHQpLmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZShuKSx0aGlzLl9maW5pc2hlZD0hMX0saW5jcmVtZW50YWxSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX3N5bWJvbERyYXcuaW5jcmVtZW50YWxVcGRhdGUodCxlLmdldERhdGEoKSksdGhpcy5fZmluaXNoZWQ9dC5lbmQ9PT1lLmdldERhdGEoKS5jb3VudCgpfSx1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0RGF0YSgpO2lmKHRoaXMuZ3JvdXAuZGlydHkoKSwhdGhpcy5fZmluaXNoZWR8fG4uY291bnQoKT4xZTR8fCF0aGlzLl9zeW1ib2xEcmF3LmlzUGVyc2lzdGVudCgpKXJldHVybnt1cGRhdGU6ITB9O3ZhciBvPVBEKCkucmVzZXQodCk7by5wcm9ncmVzcyYmby5wcm9ncmVzcyh7c3RhcnQ6MCxlbmQ6bi5jb3VudCgpfSxuKSx0aGlzLl9zeW1ib2xEcmF3LnVwZGF0ZUxheW91dChuKX0sX3VwZGF0ZVN5bWJvbERyYXc6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9zeW1ib2xEcmF3LG49ZS5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJuIGkmJm49PT10aGlzLl9pc0xhcmdlRHJhd3x8KGkmJmkucmVtb3ZlKCksaT10aGlzLl9zeW1ib2xEcmF3PW4/bmV3IEh1Om5ldyBBbCx0aGlzLl9pc0xhcmdlRHJhdz1uLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCkpLHRoaXMuZ3JvdXAuYWRkKGkuZ3JvdXApLGl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3N5bWJvbERyYXcmJnRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKCEwKSx0aGlzLl9zeW1ib2xEcmF3PW51bGx9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fSksZnMoa0QoInNjYXR0ZXIiLCJjaXJjbGUiKSksZHMoUEQoInNjYXR0ZXIiKSksdShadSxkRCksVXUucHJvdG90eXBlLmdldEluZGljYXRvckF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kaWNhdG9yQXhlc30sVXUucHJvdG90eXBlLmRhdGFUb1BvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5faW5kaWNhdG9yQXhlc1tlXTtyZXR1cm4gdGhpcy5jb29yZFRvUG9pbnQoaS5kYXRhVG9Db29yZCh0KSxlKX0sVXUucHJvdG90eXBlLmNvb3JkVG9Qb2ludD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2luZGljYXRvckF4ZXNbZV0uYW5nbGU7cmV0dXJuW3RoaXMuY3grdCpNYXRoLmNvcyhpKSx0aGlzLmN5LXQqTWF0aC5zaW4oaSldfSxVdS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dFswXS10aGlzLmN4LGk9dFsxXS10aGlzLmN5LG49TWF0aC5zcXJ0KGUqZStpKmkpO2UvPW4saS89bjtmb3IodmFyIG8sYT1NYXRoLmF0YW4yKC1pLGUpLHI9MS8wLHM9LTEsbD0wO2w8dGhpcy5faW5kaWNhdG9yQXhlcy5sZW5ndGg7bCsrKXt2YXIgdT10aGlzLl9pbmRpY2F0b3JBeGVzW2xdLGg9TWF0aC5hYnMoYS11LmFuZ2xlKTtoPHImJihvPXUscz1sLHI9aCl9cmV0dXJuW3MsKyhvJiZvLmNvb2RUb0RhdGEobikpXX0sVXUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJjZW50ZXIiKSxuPWUuZ2V0V2lkdGgoKSxvPWUuZ2V0SGVpZ2h0KCksYT1NYXRoLm1pbihuLG8pLzI7dGhpcy5jeD1UbyhpWzBdLG4pLHRoaXMuY3k9VG8oaVsxXSxvKSx0aGlzLnN0YXJ0QW5nbGU9dC5nZXQoInN0YXJ0QW5nbGUiKSpNYXRoLlBJLzE4MCx0aGlzLnI9VG8odC5nZXQoInJhZGl1cyIpLGEpLGQodGhpcy5faW5kaWNhdG9yQXhlcyxmdW5jdGlvbih0LGUpe3Quc2V0RXh0ZW50KDAsdGhpcy5yKTt2YXIgaT10aGlzLnN0YXJ0QW5nbGUrZSpNYXRoLlBJKjIvdGhpcy5faW5kaWNhdG9yQXhlcy5sZW5ndGg7aT1NYXRoLmF0YW4yKE1hdGguc2luKGkpLE1hdGguY29zKGkpKSx0LmFuZ2xlPWl9LHRoaXMpfSxVdS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXt2YXIgZT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4xMCkpLGk9dC9lO3JldHVybiAyPT09aT9pPTU6aSo9MixpKmV9dmFyIG49dGhpcy5faW5kaWNhdG9yQXhlcyxvPXRoaXMuX21vZGVsO2QobixmdW5jdGlvbih0KXt0LnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCl9KSx0LmVhY2hTZXJpZXNCeVR5cGUoInJhZGFyIixmdW5jdGlvbihlLGkpe2lmKCJyYWRhciI9PT1lLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpJiZ0LmdldENvbXBvbmVudCgicmFkYXIiLGUuZ2V0KCJyYWRhckluZGV4IikpPT09byl7dmFyIGE9ZS5nZXREYXRhKCk7ZChuLGZ1bmN0aW9uKHQpe3Quc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShhLGEubWFwRGltZW5zaW9uKHQuZGltKSl9KX19LHRoaXMpO3ZhciBhPW8uZ2V0KCJzcGxpdE51bWJlciIpO2QobixmdW5jdGlvbih0LGUpe3ZhciBuPWxsKHQuc2NhbGUsdC5tb2RlbCk7aGwodC5zY2FsZSx0Lm1vZGVsKTt2YXIgbz10Lm1vZGVsLHI9dC5zY2FsZSxzPW8uZ2V0TWluKCksbD1vLmdldE1heCgpLHU9ci5nZXRJbnRlcnZhbCgpO2lmKG51bGwhPXMmJm51bGwhPWwpci5zZXRFeHRlbnQoK3MsK2wpLHIuc2V0SW50ZXJ2YWwoKGwtcykvYSk7ZWxzZSBpZihudWxsIT1zKXt2YXIgaDtkb3toPXMrdSphLHIuc2V0RXh0ZW50KCtzLGgpLHIuc2V0SW50ZXJ2YWwodSksdT1pKHUpfXdoaWxlKGg8blsxXSYmaXNGaW5pdGUoaCkmJmlzRmluaXRlKG5bMV0pKX1lbHNlIGlmKG51bGwhPWwpe3ZhciBjO2Rve2M9bC11KmEsci5zZXRFeHRlbnQoYywrbCksci5zZXRJbnRlcnZhbCh1KSx1PWkodSl9d2hpbGUoYz5uWzBdJiZpc0Zpbml0ZShjKSYmaXNGaW5pdGUoblswXSkpfWVsc2V7ci5nZXRUaWNrcygpLmxlbmd0aC0xPmEmJih1PWkodSkpO3ZhciBkPU1hdGgucm91bmQoKG5bMF0rblsxXSkvMi91KSp1LGY9TWF0aC5yb3VuZChhLzIpO3Iuc2V0RXh0ZW50KEFvKGQtZip1KSxBbyhkKyhhLWYpKnUpKSxyLnNldEludGVydmFsKHUpfX0pfSxVdS5kaW1lbnNpb25zPVtdLFV1LmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoInJhZGFyIixmdW5jdGlvbihuKXt2YXIgbz1uZXcgVXUobix0LGUpO2kucHVzaChvKSxuLmNvb3JkaW5hdGVTeXN0ZW09b30pLHQuZWFjaFNlcmllc0J5VHlwZSgicmFkYXIiLGZ1bmN0aW9uKHQpeyJyYWRhciI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpJiYodC5jb29yZGluYXRlU3lzdGVtPWlbdC5nZXQoInJhZGFySW5kZXgiKXx8MF0pfSksaX0sQ2EucmVnaXN0ZXIoInJhZGFyIixVdSk7dmFyIFRUPUJELnZhbHVlQXhpcyxBVD0obXMoe3R5cGU6InJhZGFyIixvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoImJvdW5kYXJ5R2FwIiksZT10aGlzLmdldCgic3BsaXROdW1iZXIiKSxvPXRoaXMuZ2V0KCJzY2FsZSIpLHM9dGhpcy5nZXQoImF4aXNMaW5lIiksbD10aGlzLmdldCgiYXhpc1RpY2siKSx1PXRoaXMuZ2V0KCJheGlzTGFiZWwiKSxoPXRoaXMuZ2V0KCJuYW1lIiksYz10aGlzLmdldCgibmFtZS5zaG93IiksZD10aGlzLmdldCgibmFtZS5mb3JtYXR0ZXIiKSxwPXRoaXMuZ2V0KCJuYW1lR2FwIiksZz10aGlzLmdldCgidHJpZ2dlckV2ZW50IiksbT1mKHRoaXMuZ2V0KCJpbmRpY2F0b3IiKXx8W10sZnVuY3Rpb24oZil7bnVsbCE9Zi5tYXgmJmYubWF4PjAmJiFmLm1pbj9mLm1pbj0wOm51bGwhPWYubWluJiZmLm1pbjwwJiYhZi5tYXgmJihmLm1heD0wKTt2YXIgbT1oO2lmKG51bGwhPWYuY29sb3ImJihtPXIoe2NvbG9yOmYuY29sb3J9LGgpKSxmPW4oaShmKSx7Ym91bmRhcnlHYXA6dCxzcGxpdE51bWJlcjplLHNjYWxlOm8sYXhpc0xpbmU6cyxheGlzVGljazpsLGF4aXNMYWJlbDp1LG5hbWU6Zi50ZXh0LG5hbWVMb2NhdGlvbjoiZW5kIixuYW1lR2FwOnAsbmFtZVRleHRTdHlsZTptLHRyaWdnZXJFdmVudDpnfSwhMSksY3x8KGYubmFtZT0iIiksInN0cmluZyI9PXR5cGVvZiBkKXt2YXIgdj1mLm5hbWU7Zi5uYW1lPWQucmVwbGFjZSgie3ZhbHVlfSIsbnVsbCE9dj92OiIiKX1lbHNlImZ1bmN0aW9uIj09dHlwZW9mIGQmJihmLm5hbWU9ZChmLm5hbWUsZikpO3ZhciB5PWEobmV3IHdvKGYsbnVsbCx0aGlzLmVjTW9kZWwpLEpJKTtyZXR1cm4geS5tYWluVHlwZT0icmFkYXIiLHkuY29tcG9uZW50SW5kZXg9dGhpcy5jb21wb25lbnRJbmRleCx5fSx0aGlzKTt0aGlzLmdldEluZGljYXRvck1vZGVscz1mdW5jdGlvbigpe3JldHVybiBtfX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejowLGNlbnRlcjpbIjUwJSIsIjUwJSJdLHJhZGl1czoiNzUlIixzdGFydEFuZ2xlOjkwLG5hbWU6e3Nob3c6ITB9LGJvdW5kYXJ5R2FwOlswLDBdLHNwbGl0TnVtYmVyOjUsbmFtZUdhcDoxNSxzY2FsZTohMSxzaGFwZToicG9seWdvbiIsYXhpc0xpbmU6bih7bGluZVN0eWxlOntjb2xvcjoiI2JiYiJ9fSxUVC5heGlzTGluZSksYXhpc0xhYmVsOmp1KFRULmF4aXNMYWJlbCwhMSksYXhpc1RpY2s6anUoVFQuYXhpc1RpY2ssITEpLHNwbGl0TGluZTpqdShUVC5zcGxpdExpbmUsITApLHNwbGl0QXJlYTpqdShUVC5zcGxpdEFyZWEsITApLGluZGljYXRvcjpbXX19KSxbImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0pO3ZzKHt0eXBlOiJyYWRhciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2J1aWxkQXhlcyh0KSx0aGlzLl9idWlsZFNwbGl0TGluZUFuZEFyZWEodCl9LF9idWlsZEF4ZXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2QoZihlLmdldEluZGljYXRvckF4ZXMoKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHFEKHQubW9kZWwse3Bvc2l0aW9uOltlLmN4LGUuY3ldLHJvdGF0aW9uOnQuYW5nbGUsbGFiZWxEaXJlY3Rpb246LTEsdGlja0RpcmVjdGlvbjotMSxuYW1lRGlyZWN0aW9uOjF9KX0pLGZ1bmN0aW9uKHQpe2QoQVQsdC5hZGQsdCksdGhpcy5ncm91cC5hZGQodC5nZXRHcm91cCgpKX0sdGhpcyl9LF9idWlsZFNwbGl0TGluZUFuZEFyZWE6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsaSl7dmFyIG49aSVlLmxlbmd0aDtyZXR1cm4gdFtuXT10W25dfHxbXSxufXZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxuPWkuZ2V0SW5kaWNhdG9yQXhlcygpO2lmKG4ubGVuZ3RoKXt2YXIgbz10LmdldCgic2hhcGUiKSxhPXQuZ2V0TW9kZWwoInNwbGl0TGluZSIpLHM9dC5nZXRNb2RlbCgic3BsaXRBcmVhIiksbD1hLmdldE1vZGVsKCJsaW5lU3R5bGUiKSx1PXMuZ2V0TW9kZWwoImFyZWFTdHlsZSIpLGg9YS5nZXQoInNob3ciKSxjPXMuZ2V0KCJzaG93IikscD1sLmdldCgiY29sb3IiKSxnPXUuZ2V0KCJjb2xvciIpO3A9eShwKT9wOltwXSxnPXkoZyk/ZzpbZ107dmFyIG09W10sdj1bXTtpZigiY2lyY2xlIj09PW8pZm9yKHZhciB4PW5bMF0uZ2V0VGlja3NDb29yZHMoKSxfPWkuY3gsdz1pLmN5LGI9MDtiPHgubGVuZ3RoO2IrKyloJiZtW0E9ZShtLHAsYildLnB1c2gobmV3IFJiKHtzaGFwZTp7Y3g6XyxjeTp3LHI6eFtiXX19KSksYyYmYjx4Lmxlbmd0aC0xJiZ2W0E9ZSh2LGcsYildLnB1c2gobmV3IEZiKHtzaGFwZTp7Y3g6XyxjeTp3LHIwOnhbYl0scjp4W2IrMV19fSkpO2Vsc2UgZm9yKHZhciBTLE09ZihuLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRUaWNrc0Nvb3JkcygpO3JldHVybiBTPW51bGw9PVM/bi5sZW5ndGgtMTpNYXRoLm1pbihuLmxlbmd0aC0xLFMpLGYobixmdW5jdGlvbih0KXtyZXR1cm4gaS5jb29yZFRvUG9pbnQodCxlKX0pfSksST1bXSxiPTA7Yjw9UztiKyspe2Zvcih2YXIgRD1bXSxUPTA7VDxuLmxlbmd0aDtUKyspRC5wdXNoKE1bVF1bYl0pO2lmKERbMF0mJkQucHVzaChEWzBdLnNsaWNlKCkpLGgmJm1bQT1lKG0scCxiKV0ucHVzaChuZXcgVWIoe3NoYXBlOntwb2ludHM6RH19KSksYyYmSSl7dmFyIEE9ZSh2LGcsYi0xKTt2W0FdLnB1c2gobmV3IFpiKHtzaGFwZTp7cG9pbnRzOkQuY29uY2F0KEkpfX0pKX1JPUQuc2xpY2UoKS5yZXZlcnNlKCl9dmFyIEM9bC5nZXRMaW5lU3R5bGUoKSxMPXUuZ2V0QXJlYVN0eWxlKCk7ZCh2LGZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5hZGQoclModCx7c3R5bGU6cih7c3Ryb2tlOiJub25lIixmaWxsOmdbZSVnLmxlbmd0aF19LEwpLHNpbGVudDohMH0pKX0sdGhpcyksZChtLGZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5hZGQoclModCx7c3R5bGU6cih7ZmlsbDoibm9uZSIsc3Ryb2tlOnBbZSVwLmxlbmd0aF19LEMpLHNpbGVudDohMH0pKX0sdGhpcyl9fX0pO3ZhciBDVD1tTS5leHRlbmQoe3R5cGU6InNlcmllcy5yYWRhciIsZGVwZW5kZW5jaWVzOlsicmFkYXIiXSxpbml0OmZ1bmN0aW9uKHQpe0NULnN1cGVyQXBwbHkodGhpcywiaW5pdCIsYXJndW1lbnRzKSx0aGlzLmxlZ2VuZERhdGFQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFJhd0RhdGEoKX19LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGdUKHRoaXMse2dlbmVyYXRlQ29vcmQ6ImluZGljYXRvcl8iLGdlbmVyYXRlQ29vcmRDb3VudDoxLzB9KX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPXRoaXMuY29vcmRpbmF0ZVN5c3RlbS5nZXRJbmRpY2F0b3JBeGVzKCksbj10aGlzLmdldERhdGEoKS5nZXROYW1lKHQpO3JldHVybiBabygiIj09PW4/dGhpcy5uYW1lOm4pKyI8YnIvPiIrZihpLGZ1bmN0aW9uKGksbil7dmFyIG89ZS5nZXQoZS5tYXBEaW1lbnNpb24oaS5kaW0pLHQpO3JldHVybiBabyhpLm5hbWUrIiA6ICIrbyl9KS5qb2luKCI8YnIgLz4iKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InJhZGFyIixsZWdlbmRIb3Zlckxpbms6ITAscmFkYXJJbmRleDowLGxpbmVTdHlsZTp7d2lkdGg6Mix0eXBlOiJzb2xpZCJ9LGxhYmVsOntwb3NpdGlvbjoidG9wIn0sc3ltYm9sOiJlbXB0eUNpcmNsZSIsc3ltYm9sU2l6ZTo0fX0pO3hzKHt0eXBlOiJyYWRhciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSl7dmFyIGk9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIpfHwiY2lyY2xlIixuPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO2lmKCJub25lIiE9PWkpe3ZhciBvPVh1KHQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIikpLGE9bWwoaSwtMSwtMSwyLDIsbik7cmV0dXJuIGEuYXR0cih7c3R5bGU6e3N0cm9rZU5vU2NhbGU6ITB9LHoyOjEwMCxzY2FsZTpbb1swXS8yLG9bMV0vMl19KSxhfX1mdW5jdGlvbiBhKGUsaSxuLGEscixzKXtuLnJlbW92ZUFsbCgpO2Zvcih2YXIgbD0wO2w8aS5sZW5ndGgtMTtsKyspe3ZhciB1PW8oYSxyKTt1JiYodS5fX2RpbUlkeD1sLGVbbF0/KHUuYXR0cigicG9zaXRpb24iLGVbbF0pLHNTW3M/ImluaXRQcm9wcyI6InVwZGF0ZVByb3BzIl0odSx7cG9zaXRpb246aVtsXX0sdCxyKSk6dS5hdHRyKCJwb3NpdGlvbiIsaVtsXSksbi5hZGQodSkpfX1mdW5jdGlvbiBzKHQpe3JldHVybiBmKHQsZnVuY3Rpb24odCl7cmV0dXJuW2wuY3gsbC5jeV19KX12YXIgbD10LmNvb3JkaW5hdGVTeXN0ZW0sdT10aGlzLmdyb3VwLGg9dC5nZXREYXRhKCksYz10aGlzLl9kYXRhO2guZGlmZihjKS5hZGQoZnVuY3Rpb24oZSl7dmFyIGk9aC5nZXRJdGVtTGF5b3V0KGUpO2lmKGkpe3ZhciBuPW5ldyBaYixvPW5ldyBVYixyPXtzaGFwZTp7cG9pbnRzOml9fTtuLnNoYXBlLnBvaW50cz1zKGkpLG8uc2hhcGUucG9pbnRzPXMoaSkscG8obixyLHQsZSkscG8obyxyLHQsZSk7dmFyIGw9bmV3IExfLHU9bmV3IExfO2wuYWRkKG8pLGwuYWRkKG4pLGwuYWRkKHUpLGEoby5zaGFwZS5wb2ludHMsaSx1LGgsZSwhMCksaC5zZXRJdGVtR3JhcGhpY0VsKGUsbCl9fSkudXBkYXRlKGZ1bmN0aW9uKGUsaSl7dmFyIG49Yy5nZXRJdGVtR3JhcGhpY0VsKGkpLG89bi5jaGlsZEF0KDApLHI9bi5jaGlsZEF0KDEpLHM9bi5jaGlsZEF0KDIpLGw9e3NoYXBlOntwb2ludHM6aC5nZXRJdGVtTGF5b3V0KGUpfX07bC5zaGFwZS5wb2ludHMmJihhKG8uc2hhcGUucG9pbnRzLGwuc2hhcGUucG9pbnRzLHMsaCxlLCExKSxmbyhvLGwsdCksZm8ocixsLHQpLGguc2V0SXRlbUdyYXBoaWNFbChlLG4pKX0pLnJlbW92ZShmdW5jdGlvbih0KXt1LnJlbW92ZShjLmdldEl0ZW1HcmFwaGljRWwodCkpfSkuZXhlY3V0ZSgpLGguZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7bC5hdHRyKCJpZ25vcmUiLG0pfWZ1bmN0aW9uIG8oKXtsLmF0dHIoImlnbm9yZSIsZyl9dmFyIGE9aC5nZXRJdGVtTW9kZWwoZSkscz10LmNoaWxkQXQoMCksbD10LmNoaWxkQXQoMSksYz10LmNoaWxkQXQoMiksZD1oLmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKTt1LmFkZCh0KSxzLnVzZVN0eWxlKHIoYS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkse2ZpbGw6Im5vbmUiLHN0cm9rZTpkfSkpLHMuaG92ZXJTdHlsZT1hLmdldE1vZGVsKCJlbXBoYXNpcy5saW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKTt2YXIgZj1hLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxwPWEuZ2V0TW9kZWwoImVtcGhhc2lzLmFyZWFTdHlsZSIpLGc9Zi5pc0VtcHR5KCkmJmYucGFyZW50TW9kZWwuaXNFbXB0eSgpLG09cC5pc0VtcHR5KCkmJnAucGFyZW50TW9kZWwuaXNFbXB0eSgpO209bSYmZyxsLmlnbm9yZT1nLGwudXNlU3R5bGUocihmLmdldEFyZWFTdHlsZSgpLHtmaWxsOmQsb3BhY2l0eTouN30pKSxsLmhvdmVyU3R5bGU9cC5nZXRBcmVhU3R5bGUoKTt2YXIgdj1hLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSx5PWEuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHg9YS5nZXRNb2RlbCgibGFiZWwiKSxfPWEuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIik7Yy5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7dC5zZXRTdHlsZSh2KSx0LmhvdmVyU3R5bGU9aSh5KSxpbyh0LnN0eWxlLHQuaG92ZXJTdHlsZSx4LF8se2xhYmVsRmV0Y2hlcjpoLmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGxhYmVsRGltSW5kZXg6dC5fX2RpbUlkeCxkZWZhdWx0VGV4dDpoLmdldChoLmRpbWVuc2lvbnNbdC5fX2RpbUlkeF0sZSksYXV0b0NvbG9yOmQsaXNSZWN0VGV4dDohMH0pfSksdC5vZmYoIm1vdXNlb3ZlciIpLm9mZigibW91c2VvdXQiKS5vZmYoIm5vcm1hbCIpLm9mZigiZW1waGFzaXMiKSx0Lm9uKCJlbXBoYXNpcyIsbikub24oIm1vdXNlb3ZlciIsbikub24oIm5vcm1hbCIsbykub24oIm1vdXNlb3V0IixvKSxlbyh0KX0pLHRoaXMuX2RhdGE9aH0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fSk7ZnMoX1QoInJhZGFyIikpLGZzKGtEKCJyYWRhciIsImNpcmNsZSIpKSxkcyhmdW5jdGlvbih0KXt0LmVhY2hTZXJpZXNCeVR5cGUoInJhZGFyIixmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxpPVtdLG49dC5jb29yZGluYXRlU3lzdGVtO2lmKG4pe2Zvcih2YXIgbz1uLmdldEluZGljYXRvckF4ZXMoKSxhPTA7YTxuLmdldEluZGljYXRvckF4ZXMoKS5sZW5ndGg7YSsrKWUuZWFjaChlLm1hcERpbWVuc2lvbihvW2FdLmRpbSksZnVuY3Rpb24odCxlKXtpW2VdPWlbZV18fFtdLGlbZV1bYV09bi5kYXRhVG9Qb2ludCh0LGEpfSk7ZS5lYWNoKGZ1bmN0aW9uKHQpe2lbdF1bMF0mJmlbdF0ucHVzaChpW3RdWzBdLnNsaWNlKCkpLGUuc2V0SXRlbUxheW91dCh0LGlbdF0pfSl9fSl9KSx1cyhNVCgicmFkYXIiKSksbHMoZnVuY3Rpb24odCl7dmFyIGU9dC5wb2xhcjtpZihlKXt5KGUpfHwoZT1bZV0pO3ZhciBpPVtdO2QoZSxmdW5jdGlvbihlLG4pe2UuaW5kaWNhdG9yPyhlLnR5cGUmJiFlLnNoYXBlJiYoZS5zaGFwZT1lLnR5cGUpLHQucmFkYXI9dC5yYWRhcnx8W10seSh0LnJhZGFyKXx8KHQucmFkYXI9W3QucmFkYXJdKSx0LnJhZGFyLnB1c2goZSkpOmkucHVzaChlKX0pLHQucG9sYXI9aX1kKHQuc2VyaWVzLGZ1bmN0aW9uKHQpe3QmJiJyYWRhciI9PT10LnR5cGUmJnQucG9sYXJJbmRleCYmKHQucmFkYXJJbmRleD10LnBvbGFySW5kZXgpfSl9KTt2YXIgTFQ9UTtoKFl1LG9fKSxxdS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnF1LHR5cGU6InZpZXciLGRpbWVuc2lvbnM6WyJ4IiwieSJdLHNldEJvdW5kaW5nUmVjdDpmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdGhpcy5fcmVjdD1uZXcgS3QodCxlLGksbiksdGhpcy5fcmVjdH0sZ2V0Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LHNldFZpZXdSZWN0OmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMudHJhbnNmb3JtVG8odCxlLGksbiksdGhpcy5fdmlld1JlY3Q9bmV3IEt0KHQsZSxpLG4pfSx0cmFuc2Zvcm1UbzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLmdldEJvdW5kaW5nUmVjdCgpLGE9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZTthLnRyYW5zZm9ybT1vLmNhbGN1bGF0ZVRyYW5zZm9ybShuZXcgS3QodCxlLGksbikpLGEuZGVjb21wb3NlVHJhbnNmb3JtKCksdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LHNldENlbnRlcjpmdW5jdGlvbih0KXt0JiYodGhpcy5fY2VudGVyPXQsdGhpcy5fdXBkYXRlQ2VudGVyQW5kWm9vbSgpKX0sc2V0Wm9vbTpmdW5jdGlvbih0KXt0PXR8fDE7dmFyIGU9dGhpcy56b29tTGltaXQ7ZSYmKG51bGwhPWUubWF4JiYodD1NYXRoLm1pbihlLm1heCx0KSksbnVsbCE9ZS5taW4mJih0PU1hdGgubWF4KGUubWluLHQpKSksdGhpcy5fem9vbT10LHRoaXMuX3VwZGF0ZUNlbnRlckFuZFpvb20oKX0sZ2V0RGVmYXVsdENlbnRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuW3QueCt0LndpZHRoLzIsdC55K3QuaGVpZ2h0LzJdfSxnZXRDZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2VudGVyfHx0aGlzLmdldERlZmF1bHRDZW50ZXIoKX0sZ2V0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tfHwxfSxnZXRSb2FtVHJhbnNmb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlLmdldExvY2FsVHJhbnNmb3JtKCl9LF91cGRhdGVDZW50ZXJBbmRab29tOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZS5nZXRMb2NhbFRyYW5zZm9ybSgpLGU9dGhpcy5fcm9hbVRyYW5zZm9ybWFibGUsaT10aGlzLmdldERlZmF1bHRDZW50ZXIoKSxuPXRoaXMuZ2V0Q2VudGVyKCksbz10aGlzLmdldFpvb20oKTtuPVEoW10sbix0KSxpPVEoW10saSx0KSxlLm9yaWdpbj1uLGUucG9zaXRpb249W2lbMF0tblswXSxpWzFdLW5bMV1dLGUuc2NhbGU9W28sb10sdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LF91cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yb2FtVHJhbnNmb3JtYWJsZSxlPXRoaXMuX3Jhd1RyYW5zZm9ybWFibGU7ZS5wYXJlbnQ9dCx0LnVwZGF0ZVRyYW5zZm9ybSgpLGUudXBkYXRlVHJhbnNmb3JtKCksdXQodGhpcy50cmFuc2Zvcm18fCh0aGlzLnRyYW5zZm9ybT1bXSksZS50cmFuc2Zvcm18fHN0KCkpLHRoaXMuX3Jhd1RyYW5zZm9ybT1lLmdldExvY2FsVHJhbnNmb3JtKCksdGhpcy5pbnZUcmFuc2Zvcm09dGhpcy5pbnZUcmFuc2Zvcm18fFtdLHB0KHRoaXMuaW52VHJhbnNmb3JtLHRoaXMudHJhbnNmb3JtKSx0aGlzLmRlY29tcG9zZVRyYW5zZm9ybSgpfSxnZXRWaWV3UmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3UmVjdH0sZ2V0Vmlld1JlY3RBZnRlclJvYW06ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cmV0dXJuIHQuYXBwbHlUcmFuc2Zvcm0odGhpcy50cmFuc2Zvcm0pLHR9LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lP3RoaXMuX3Jhd1RyYW5zZm9ybTp0aGlzLnRyYW5zZm9ybTtyZXR1cm4gaT1pfHxbXSxuP0xUKGksdCxuKTpHKGksdCl9LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW52VHJhbnNmb3JtO3JldHVybiBlP0xUKFtdLHQsZSk6W3RbMF0sdFsxXV19LGNvbnZlcnRUb1BpeGVsOnYoJHUsImRhdGFUb1BvaW50IiksY29udmVydEZyb21QaXhlbDp2KCR1LCJwb2ludFRvRGF0YSIpLGNvbnRhaW5Qb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRWaWV3UmVjdEFmdGVyUm9hbSgpLmNvbnRhaW4odFswXSx0WzFdKX19LGgocXUsb18pO2Zvcih2YXIga1Q9WzEyNiwyNV0sUFQ9W1tbMCwzLjVdLFs3LDExLjJdLFsxNSwxMS45XSxbMzAsN10sWzQyLC43XSxbNTIsLjddLFs1Niw3LjddLFs1OSwuN10sWzY0LC43XSxbNjQsMF0sWzUsMF0sWzAsMy41XV0sW1sxMywxNi4xXSxbMTksMTQuN10sWzE2LDIxLjddLFsxMSwyMy4xXSxbMTMsMTYuMV1dLFtbMTIsMzIuMl0sWzE0LDM4LjVdLFsxNSwzOC41XSxbMTMsMzIuMl0sWzEyLDMyLjJdXSxbWzE2LDQ3LjZdLFsxMiw1My4yXSxbMTMsNTMuMl0sWzE4LDQ3LjZdLFsxNiw0Ny42XV0sW1s2LDY0LjRdLFs4LDcwXSxbOSw3MF0sWzgsNjQuNF0sWzYsNjQuNF1dLFtbMjMsODIuNl0sWzI5LDc5LjhdLFszMCw3OS44XSxbMjUsODIuNl0sWzIzLDgyLjZdXSxbWzM3LDcwLjddLFs0Myw2Mi4zXSxbNDQsNjIuM10sWzM5LDcwLjddLFszNyw3MC43XV0sW1s0OCw1MS4xXSxbNTEsNDUuNV0sWzUzLDQ1LjVdLFs1MCw1MS4xXSxbNDgsNTEuMV1dLFtbNTEsMzVdLFs1MSwyOC43XSxbNTMsMjguN10sWzUzLDM1XSxbNTEsMzVdXSxbWzUyLDIyLjRdLFs1NSwxNy41XSxbNTYsMTcuNV0sWzUzLDIyLjRdLFs1MiwyMi40XV0sW1s1OCwxMi42XSxbNjIsN10sWzYzLDddLFs2MCwxMi42XSxbNTgsMTIuNl1dLFtbMCwzLjVdLFswLDkzLjFdLFs2NCw5My4xXSxbNjQsMF0sWzYzLDBdLFs2Myw5Mi40XSxbMSw5Mi40XSxbMSwzLjVdLFswLDMuNV1dXSxOVD0wO05UPFBULmxlbmd0aDtOVCsrKWZvcih2YXIgT1Q9MDtPVDxQVFtOVF0ubGVuZ3RoO09UKyspUFRbTlRdW09UXVswXS89MTAuNSxQVFtOVF1bT1RdWzFdLz0tMTQsUFRbTlRdW09UXVswXSs9a1RbMF0sUFRbTlRdW09UXVsxXSs9a1RbMV07dmFyIEVUPXsi5Y2X5rW36K+45bKbIjpbMzIsODBdLCLlub/kuJwiOlswLC0xMF0sIummmea4ryI6WzEwLDVdLCLmvrPpl6giOlstMTAsMTBdLCLlpKnmtKUiOls1LDVdfSx6VD17UnVzc2lhOlsxMDAsNjBdLCJVbml0ZWQgU3RhdGVzIjpbLTk5LDM4XSwiVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhIjpbLTk5LDM4XX0sUlQ9W1tbMTIzLjQ1MTY1MjUyNjg1NTQ3LDI1LjczNTI3MTY0NDAyMjYxXSxbMTIzLjQ5NzMxNDQ1MzEyNDk5LDI1LjczNTI3MTY0NDAyMjYxXSxbMTIzLjQ5NzMxNDQ1MzEyNDk5LDI1Ljc1MDczNDA2NDYwMDg4NF0sWzEyMy40NTE2NTI1MjY4NTU0NywyNS43NTA3MzQwNjQ2MDA4ODRdLFsxMjMuNDUxNjUyNTI2ODU1NDcsMjUuNzM1MjcxNjQ0MDIyNjFdXV0sQlQ9W2Z1bmN0aW9uKHQpeyJjaGluYSI9PT10Lm1hcCYmdC5yZWdpb25zLnB1c2gobmV3IHhsKCLljZfmtbfor7jlspsiLGYoUFQsZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6InBvbHlnb24iLGV4dGVyaW9yOnR9fSksa1QpKX0sZnVuY3Rpb24odCl7ZCh0LnJlZ2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9RVRbdC5uYW1lXTtpZihlKXt2YXIgaT10LmNlbnRlcjtpWzBdKz1lWzBdLzEwLjUsaVsxXSs9LWVbMV0vMTR9fSl9LGZ1bmN0aW9uKHQpe2QodC5yZWdpb25zLGZ1bmN0aW9uKHQpe3ZhciBlPXpUW3QubmFtZV07aWYoZSl7dmFyIGk9dC5jZW50ZXI7aVswXT1lWzBdLGlbMV09ZVsxXX19KX0sZnVuY3Rpb24odCl7aWYoImNoaW5hIj09PXQubWFwKWZvcih2YXIgZT0wLGk9dC5yZWdpb25zLmxlbmd0aDtlPGk7KytlKSLlj7Dmub4iPT09dC5yZWdpb25zW2VdLm5hbWUmJnQucmVnaW9uc1tlXS5nZW9tZXRyaWVzLnB1c2goe3R5cGU6InBvbHlnb24iLGV4dGVyaW9yOlJUWzBdfSl9XTtLdS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkt1LHR5cGU6ImdlbyIsZGltZW5zaW9uczpbImxuZyIsImxhdCJdLGNvbnRhaW5Db29yZDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5yZWdpb25zLGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldLmNvbnRhaW4odCkpcmV0dXJuITA7cmV0dXJuITF9LGxvYWRHZW9Kc29uOmZ1bmN0aW9uKHQsZSxpKXt0cnl7dGhpcy5yZWdpb25zPXQ/dUQodCk6W119Y2F0Y2godCl7dGhyb3ciSW52YWxpZCBnZW9Kc29uIGZvcm1hdFxuIit0Lm1lc3NhZ2V9ZT1lfHx7fSxpPWl8fHt9O2Zvcih2YXIgbj10aGlzLnJlZ2lvbnMsbz16KCksYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgcj1uW2FdLm5hbWU7cj1pLmhhc093blByb3BlcnR5KHIpP2lbcl06cixuW2FdLm5hbWU9cixvLnNldChyLG5bYV0pLHRoaXMuYWRkR2VvQ29vcmQocixuW2FdLmNlbnRlcik7dmFyIHM9ZVtyXTtzJiZuW2FdLnRyYW5zZm9ybVRvKHMubGVmdCxzLnRvcCxzLndpZHRoLHMuaGVpZ2h0KX10aGlzLl9yZWdpb25zTWFwPW8sdGhpcy5fcmVjdD1udWxsLGQoQlQsZnVuY3Rpb24odCl7dCh0aGlzKX0sdGhpcyl9LHRyYW5zZm9ybVRvOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7KG89by5jbG9uZSgpKS55PS1vLnktby5oZWlnaHQ7dmFyIGE9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZTthLnRyYW5zZm9ybT1vLmNhbGN1bGF0ZVRyYW5zZm9ybShuZXcgS3QodCxlLGksbikpLGEuZGVjb21wb3NlVHJhbnNmb3JtKCk7dmFyIHI9YS5zY2FsZTtyWzFdPS1yWzFdLGEudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGdldFJlZ2lvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVnaW9uc01hcC5nZXQodCl9LGdldFJlZ2lvbkJ5Q29vcmQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVnaW9ucyxpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5jb250YWluKHQpKXJldHVybiBlW2ldfSxhZGRHZW9Db29yZDpmdW5jdGlvbih0LGUpe3RoaXMuX25hbWVDb29yZE1hcC5zZXQodCxlKX0sZ2V0R2VvQ29vcmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25hbWVDb29yZE1hcC5nZXQodCl9LGdldEJvdW5kaW5nUmVjdDpmdW5jdGlvbigpe2lmKHRoaXMuX3JlY3QpcmV0dXJuIHRoaXMuX3JlY3Q7Zm9yKHZhciB0LGU9dGhpcy5yZWdpb25zLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXS5nZXRCb3VuZGluZ1JlY3QoKTsodD10fHxuLmNsb25lKCkpLnVuaW9uKG4pfXJldHVybiB0aGlzLl9yZWN0PXR8fG5ldyBLdCgwLDAsMCwwKX0sZGF0YVRvUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dGhpcy5nZXRHZW9Db29yZCh0KSksdClyZXR1cm4gcXUucHJvdG90eXBlLmRhdGFUb1BvaW50LmNhbGwodGhpcyx0LGUsaSl9LGNvbnZlcnRUb1BpeGVsOnYoSnUsImRhdGFUb1BvaW50IiksY29udmVydEZyb21QaXhlbDp2KEp1LCJwb2ludFRvRGF0YSIpfSxoKEt1LHF1KTt2YXIgVlQ9e2RpbWVuc2lvbnM6S3UucHJvdG90eXBlLmRpbWVuc2lvbnMsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107dC5lYWNoQ29tcG9uZW50KCJnZW8iLGZ1bmN0aW9uKHQsbil7dmFyIG89dC5nZXQoIm1hcCIpLGE9X3Mobykscj1uZXcgS3UobytuLG8sYSYmYS5nZW9Kc29uLGEmJmEuc3BlY2lhbEFyZWFzLHQuZ2V0KCJuYW1lTWFwIikpO3Iuem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0IiksaS5wdXNoKHIpLHRoKHIsdCksdC5jb29yZGluYXRlU3lzdGVtPXIsci5tb2RlbD10LHIucmVzaXplPVF1LHIucmVzaXplKHQsZSl9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7aWYoImdlbyI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldCgiZ2VvSW5kZXgiKXx8MDt0LmNvb3JkaW5hdGVTeXN0ZW09aVtlXX19KTt2YXIgbj17fTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLGZ1bmN0aW9uKHQpe2lmKCF0LmdldEhvc3RHZW9Nb2RlbCgpKXt2YXIgZT10LmdldE1hcFR5cGUoKTtuW2VdPW5bZV18fFtdLG5bZV0ucHVzaCh0KX19KSxkKG4sZnVuY3Rpb24odCxuKXt2YXIgYT1fcyhuKSxyPWYodCxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoIm5hbWVNYXAiKX0pLHM9bmV3IEt1KG4sbixhJiZhLmdlb0pzb24sYSYmYS5zcGVjaWFsQXJlYXMsbyhyKSk7cy56b29tTGltaXQ9RC5hcHBseShudWxsLGYodCxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoInNjYWxlTGltaXQiKX0pKSxpLnB1c2gocykscy5yZXNpemU9UXUscy5yZXNpemUodFswXSxlKSxkKHQsZnVuY3Rpb24odCl7dC5jb29yZGluYXRlU3lzdGVtPXMsdGgocyx0KX0pfSksaX0sZ2V0RmlsbGVkUmVnaW9uczpmdW5jdGlvbih0LGUsaSl7dmFyIG49KHR8fFtdKS5zbGljZSgpO2k9aXx8e307dmFyIG89X3MoZSksYT1vJiZvLmdlb0pzb247aWYoIWEpcmV0dXJuIHQ7Zm9yKHZhciByPXooKSxzPWEuZmVhdHVyZXMsbD0wO2w8bi5sZW5ndGg7bCsrKXIuc2V0KG5bbF0ubmFtZSxuW2xdKTtmb3IobD0wO2w8cy5sZW5ndGg7bCsrKXt2YXIgdT1zW2xdLnByb3BlcnRpZXMubmFtZTtyLmdldCh1KXx8KGkuaGFzT3duUHJvcGVydHkodSkmJih1PWlbdV0pLG4ucHVzaCh7bmFtZTp1fSkpfXJldHVybiBufX07Y3MoImdlbyIsVlQpO3ZhciBHVD1tTS5leHRlbmQoe3R5cGU6InNlcmllcy5tYXAiLGRlcGVuZGVuY2llczpbImdlbyJdLGxheW91dE1vZGU6ImJveCIsbmVlZHNEcmF3TWFwOiExLHNlcmllc0dyb3VwOltdLGluaXQ6ZnVuY3Rpb24odCl7R1Quc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMudXBkYXRlU2VsZWN0ZWRNYXAodGhpcy5fY3JlYXRlU2VsZWN0YWJsZUxpc3QoKSl9LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQpe3JldHVybiBnVCh0aGlzLFsidmFsdWUiXSl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQpe0dULnN1cGVyQXBwbHkodGhpcywibWVyZ2VPcHRpb24iLGFyZ3VtZW50cyksdGhpcy51cGRhdGVTZWxlY3RlZE1hcCh0aGlzLl9jcmVhdGVTZWxlY3RhYmxlTGlzdCgpKX0sX2NyZWF0ZVNlbGVjdGFibGVMaXN0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0UmF3RGF0YSgpLGU9dC5tYXBEaW1lbnNpb24oInZhbHVlIiksaT1bXSxuPTAsbz10LmNvdW50KCk7bjxvO24rKylpLnB1c2goe25hbWU6dC5nZXROYW1lKG4pLHZhbHVlOnQuZ2V0KGUsbiksc2VsZWN0ZWQ6aXIodCxuLCJzZWxlY3RlZCIpfSk7cmV0dXJuIGk9VlQuZ2V0RmlsbGVkUmVnaW9ucyhpLHRoaXMuZ2V0TWFwVHlwZSgpLHRoaXMub3B0aW9uLm5hbWVNYXApfSxnZXRIb3N0R2VvTW9kZWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5nZW9JbmRleDtyZXR1cm4gbnVsbCE9dD90aGlzLmRlcGVuZGVudE1vZGVscy5nZW9bdF06bnVsbH0sZ2V0TWFwVHlwZTpmdW5jdGlvbigpe3JldHVybih0aGlzLmdldEhvc3RHZW9Nb2RlbCgpfHx0aGlzKS5vcHRpb24ubWFwfSxfZmlsbE9wdGlvbjpmdW5jdGlvbih0LGUpe30sZ2V0UmF3VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCk7cmV0dXJuIGUuZ2V0KGUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHQpfSxnZXRSZWdpb25Nb2RlbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKTtyZXR1cm4gZS5nZXRJdGVtTW9kZWwoZS5pbmRleE9mTmFtZSh0KSl9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0RGF0YSgpLGk9V28odGhpcy5nZXRSYXdWYWx1ZSh0KSksbj1lLmdldE5hbWUodCksbz10aGlzLnNlcmllc0dyb3VwLGE9W10scj0wO3I8by5sZW5ndGg7cisrKXt2YXIgcz1vW3JdLm9yaWdpbmFsRGF0YS5pbmRleE9mTmFtZShuKSxsPWUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpO2lzTmFOKG9bcl0ub3JpZ2luYWxEYXRhLmdldChsLHMpKXx8YS5wdXNoKFpvKG9bcl0ubmFtZSkpfXJldHVybiBhLmpvaW4oIiwgIikrIjxiciAvPiIrWm8obisiIDogIitpKX0sZ2V0VG9vbHRpcFBvc2l0aW9uOmZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLmdldE5hbWUodCksaT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0sbj1pLmdldFJlZ2lvbihlKTtyZXR1cm4gbiYmaS5kYXRhVG9Qb2ludChuLmNlbnRlcil9fSxzZXRab29tOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sc2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiZ2VvIixtYXA6IiIsbGVmdDoiY2VudGVyIix0b3A6ImNlbnRlciIsYXNwZWN0U2NhbGU6Ljc1LHNob3dMZWdlbmRTeW1ib2w6ITAsZGF0YVJhbmdlSG92ZXJMaW5rOiEwLGJvdW5kaW5nQ29vcmRzOm51bGwsY2VudGVyOm51bGwsem9vbToxLHNjYWxlTGltaXQ6bnVsbCxsYWJlbDp7c2hvdzohMSxjb2xvcjoiIzAwMCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6LjUsYm9yZGVyQ29sb3I6IiM0NDQiLGFyZWFDb2xvcjoiI2VlZSJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOnthcmVhQ29sb3I6InJnYmEoMjU1LDIxNSwwLDAuOCkifX19fSk7aChHVCxtVCk7dmFyIEZUPSJcMF9lY19pbnRlcmFjdGlvbl9tdXRleCI7aHMoe3R5cGU6InRha2VHbG9iYWxDdXJzb3IiLGV2ZW50OiJnbG9iYWxDdXJzb3JUYWtlbiIsdXBkYXRlOiJ1cGRhdGUifSxmdW5jdGlvbigpe30pLGgoYWgsJHgpO3ZhciBXVD17YXhpc1BvaW50ZXI6MSx0b29sdGlwOjEsYnJ1c2g6MX07eGgucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp4aCxkcmF3OmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9ImdlbyI9PT10Lm1haW5UeXBlLHI9dC5nZXREYXRhJiZ0LmdldERhdGEoKTthJiZlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6Im1hcCJ9LGZ1bmN0aW9uKGUpe3J8fGUuZ2V0SG9zdEdlb01vZGVsKCkhPT10fHwocj1lLmdldERhdGEoKSl9KTt2YXIgcz10LmNvb3JkaW5hdGVTeXN0ZW0sbD10aGlzLmdyb3VwLHU9cy5zY2FsZSxoPXtwb3NpdGlvbjpzLnBvc2l0aW9uLHNjYWxlOnV9OyFsLmNoaWxkQXQoMCl8fG8/bC5hdHRyKGgpOmZvKGwsaCx0KSxsLnJlbW92ZUFsbCgpO3ZhciBjPVsiaXRlbVN0eWxlIl0sZj1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0scD1bImxhYmVsIl0sZz1bImVtcGhhc2lzIiwibGFiZWwiXSxtPXooKTtkKHMucmVnaW9ucyxmdW5jdGlvbihlKXt2YXIgaT1tLmdldChlLm5hbWUpfHxtLnNldChlLm5hbWUsbmV3IExfKSxuPW5ldyBLYih7c2hhcGU6e3BhdGhzOltdfX0pO2kuYWRkKG4pO3ZhciBvLHM9KEM9dC5nZXRSZWdpb25Nb2RlbChlLm5hbWUpfHx0KS5nZXRNb2RlbChjKSxoPUMuZ2V0TW9kZWwoZiksdj1taChzKSx5PW1oKGgpLHg9Qy5nZXRNb2RlbChwKSxfPUMuZ2V0TW9kZWwoZyk7aWYocil7bz1yLmluZGV4T2ZOYW1lKGUubmFtZSk7dmFyIHc9ci5nZXRJdGVtVmlzdWFsKG8sImNvbG9yIiwhMCk7dyYmKHYuZmlsbD13KX1kKGUuZ2VvbWV0cmllcyxmdW5jdGlvbih0KXtpZigicG9seWdvbiI9PT10LnR5cGUpe24uc2hhcGUucGF0aHMucHVzaChuZXcgWmIoe3NoYXBlOntwb2ludHM6dC5leHRlcmlvcn19KSk7Zm9yKHZhciBlPTA7ZTwodC5pbnRlcmlvcnM/dC5pbnRlcmlvcnMubGVuZ3RoOjApO2UrKyluLnNoYXBlLnBhdGhzLnB1c2gobmV3IFpiKHtzaGFwZTp7cG9pbnRzOnQuaW50ZXJpb3JzW2VdfX0pKX19KSxuLnNldFN0eWxlKHYpLG4uc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCxuLmN1bGxpbmc9ITA7dmFyIGI9eC5nZXQoInNob3ciKSxTPV8uZ2V0KCJzaG93IiksTT1yJiZpc05hTihyLmdldChyLm1hcERpbWVuc2lvbigidmFsdWUiKSxvKSksST1yJiZyLmdldEl0ZW1MYXlvdXQobyk7aWYoYXx8TSYmKGJ8fFMpfHxJJiZJLnNob3dMYWJlbCl7dmFyIEQsVD1hP2UubmFtZTpvOyghcnx8bz49MCkmJihEPXQpO3ZhciBBPW5ldyB6Yih7cG9zaXRpb246ZS5jZW50ZXIuc2xpY2UoKSxzY2FsZTpbMS91WzBdLDEvdVsxXV0sejI6MTAsc2lsZW50OiEwfSk7aW8oQS5zdHlsZSxBLmhvdmVyU3R5bGU9e30seCxfLHtsYWJlbEZldGNoZXI6RCxsYWJlbERhdGFJbmRleDpULGRlZmF1bHRUZXh0OmUubmFtZSx1c2VJbnNpZGVTdHlsZTohMX0se3RleHRBbGlnbjoiY2VudGVyIix0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIn0pLGkuYWRkKEEpfWlmKHIpci5zZXRJdGVtR3JhcGhpY0VsKG8saSk7ZWxzZXt2YXIgQz10LmdldFJlZ2lvbk1vZGVsKGUubmFtZSk7bi5ldmVudERhdGE9e2NvbXBvbmVudFR5cGU6ImdlbyIsZ2VvSW5kZXg6dC5jb21wb25lbnRJbmRleCxuYW1lOmUubmFtZSxyZWdpb246QyYmQy5vcHRpb258fHt9fX0oaS5fX3JlZ2lvbnN8fChpLl9fcmVnaW9ucz1bXSkpLnB1c2goZSksZW8oaSx5LHtob3ZlclNpbGVudE9uVG91Y2g6ISF0LmdldCgic2VsZWN0ZWRNb2RlIil9KSxsLmFkZChpKX0pLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLGkpLHZoKHRoaXMsdCxsLGksbikseWgodCxsKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9jb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9jb250cm9sbGVySG9zdD17fX0sX3VwZGF0ZUNvbnRyb2xsZXI6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4oKXt2YXIgZT17dHlwZToiZ2VvUm9hbSIsY29tcG9uZW50VHlwZTpsfTtyZXR1cm4gZVtsKyJJZCJdPXQuaWQsZX12YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW0scj10aGlzLl9jb250cm9sbGVyLHM9dGhpcy5fY29udHJvbGxlckhvc3Q7cy56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxzLnpvb209by5nZXRab29tKCksci5lbmFibGUodC5nZXQoInJvYW0iKXx8ITEpO3ZhciBsPXQubWFpblR5cGU7ci5vZmYoInBhbiIpLm9uKCJwYW4iLGZ1bmN0aW9uKHQsZSl7dGhpcy5fbW91c2VEb3duRmxhZz0hMSxmaChzLHQsZSksaS5kaXNwYXRjaEFjdGlvbihhKG4oKSx7ZHg6dCxkeTplfSkpfSx0aGlzKSxyLm9mZigiem9vbSIpLm9uKCJ6b29tIixmdW5jdGlvbih0LGUsbyl7aWYodGhpcy5fbW91c2VEb3duRmxhZz0hMSxwaChzLHQsZSxvKSxpLmRpc3BhdGNoQWN0aW9uKGEobigpLHt6b29tOnQsb3JpZ2luWDplLG9yaWdpblk6b30pKSx0aGlzLl91cGRhdGVHcm91cCl7dmFyIHI9dGhpcy5ncm91cCxsPXIuc2NhbGU7ci50cmF2ZXJzZShmdW5jdGlvbih0KXsidGV4dCI9PT10LnR5cGUmJnQuYXR0cigic2NhbGUiLFsxL2xbMF0sMS9sWzFdXSl9KX19LHRoaXMpLHIuc2V0UG9pbnRlckNoZWNrZXIoZnVuY3Rpb24oZSxuLGEpe3JldHVybiBvLmdldFZpZXdSZWN0QWZ0ZXJSb2FtKCkuY29udGFpbihuLGEpJiYhZ2goZSxpLHQpfSl9fSx4cyh7dHlwZToibWFwIixyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7aWYoIW58fCJtYXBUb2dnbGVTZWxlY3QiIT09bi50eXBlfHxuLmZyb20hPT10aGlzLnVpZCl7dmFyIG89dGhpcy5ncm91cDtpZihvLnJlbW92ZUFsbCgpLCF0LmdldEhvc3RHZW9Nb2RlbCgpKXtpZihuJiYiZ2VvUm9hbSI9PT1uLnR5cGUmJiJzZXJpZXMiPT09bi5jb21wb25lbnRUeXBlJiZuLnNlcmllc0lkPT09dC5pZCkoYT10aGlzLl9tYXBEcmF3KSYmby5hZGQoYS5ncm91cCk7ZWxzZSBpZih0Lm5lZWRzRHJhd01hcCl7dmFyIGE9dGhpcy5fbWFwRHJhd3x8bmV3IHhoKGksITApO28uYWRkKGEuZ3JvdXApLGEuZHJhdyh0LGUsaSx0aGlzLG4pLHRoaXMuX21hcERyYXc9YX1lbHNlIHRoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdGhpcy5fbWFwRHJhdz1udWxsO3QuZ2V0KCJzaG93TGVnZW5kU3ltYm9sIikmJmUuZ2V0Q29tcG9uZW50KCJsZWdlbmQiKSYmdGhpcy5fcmVuZGVyU3ltYm9scyh0LGUsaSl9fX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX21hcERyYXcmJnRoaXMuX21hcERyYXcucmVtb3ZlKCksdGhpcy5fbWFwRHJhdz1udWxsfSxfcmVuZGVyU3ltYm9sczpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5vcmlnaW5hbERhdGEsbz10aGlzLmdyb3VwO24uZWFjaChuLm1hcERpbWVuc2lvbigidmFsdWUiKSxmdW5jdGlvbihlLGkpe2lmKCFpc05hTihlKSl7dmFyIGE9bi5nZXRJdGVtTGF5b3V0KGkpO2lmKGEmJmEucG9pbnQpe3ZhciByPWEucG9pbnQscz1hLm9mZnNldCxsPW5ldyBSYih7c3R5bGU6e2ZpbGw6dC5nZXREYXRhKCkuZ2V0VmlzdWFsKCJjb2xvciIpfSxzaGFwZTp7Y3g6clswXSs5KnMsY3k6clsxXSxyOjN9LHNpbGVudDohMCx6MjpzPzg6MTB9KTtpZighcyl7dmFyIHU9dC5tYWluU2VyaWVzLmdldERhdGEoKSxoPW4uZ2V0TmFtZShpKSxjPXUuaW5kZXhPZk5hbWUoaCksZD1uLmdldEl0ZW1Nb2RlbChpKSxmPWQuZ2V0TW9kZWwoImxhYmVsIikscD1kLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLGc9dS5nZXRJdGVtR3JhcGhpY0VsKGMpLG09VCh0LmdldEZvcm1hdHRlZExhYmVsKGksIm5vcm1hbCIpLGgpLHY9VCh0LmdldEZvcm1hdHRlZExhYmVsKGksImVtcGhhc2lzIiksbSkseT1mdW5jdGlvbigpe3ZhciB0PW5vKHt9LHAse3RleHQ6cC5nZXQoInNob3ciKT92Om51bGx9LHtpc1JlY3RUZXh0OiEwLHVzZUluc2lkZVN0eWxlOiExfSwhMCk7bC5zdHlsZS5leHRlbmRGcm9tKHQpLGwuX19tYXBPcmlnaW5hbFoyPWwuejIsbC56Mis9MX0seD1mdW5jdGlvbigpe25vKGwuc3R5bGUsZix7dGV4dDpmLmdldCgic2hvdyIpP206bnVsbCx0ZXh0UG9zaXRpb246Zi5nZXRTaGFsbG93KCJwb3NpdGlvbiIpfHwiYm90dG9tIn0se2lzUmVjdFRleHQ6ITAsdXNlSW5zaWRlU3R5bGU6ITF9KSxudWxsIT1sLl9fbWFwT3JpZ2luYWxaMiYmKGwuejI9bC5fX21hcE9yaWdpbmFsWjIsbC5fX21hcE9yaWdpbmFsWjI9bnVsbCl9O2cub24oIm1vdXNlb3ZlciIseSkub24oIm1vdXNlb3V0Iix4KS5vbigiZW1waGFzaXMiLHkpLm9uKCJub3JtYWwiLHgpLHgoKX1vLmFkZChsKX19fSl9fSksaHMoe3R5cGU6Imdlb1JvYW0iLGV2ZW50OiJnZW9Sb2FtIix1cGRhdGU6InVwZGF0ZVRyYW5zZm9ybSJ9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jb21wb25lbnRUeXBlfHwic2VyaWVzIjtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOmkscXVlcnk6dH0sZnVuY3Rpb24oZSl7dmFyIG49ZS5jb29yZGluYXRlU3lzdGVtO2lmKCJnZW8iPT09bi50eXBlKXt2YXIgbz1faChuLHQsZS5nZXQoInNjYWxlTGltaXQiKSk7ZS5zZXRDZW50ZXImJmUuc2V0Q2VudGVyKG8uY2VudGVyKSxlLnNldFpvb20mJmUuc2V0Wm9vbShvLnpvb20pLCJzZXJpZXMiPT09aSYmZChlLnNlcmllc0dyb3VwLGZ1bmN0aW9uKHQpe3Quc2V0Q2VudGVyKG8uY2VudGVyKSx0LnNldFpvb20oby56b29tKX0pfX0pfSk7ZHMoZnVuY3Rpb24odCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLGZ1bmN0aW9uKGkpe3ZhciBuPWkuZ2V0TWFwVHlwZSgpO2lmKCFpLmdldEhvc3RHZW9Nb2RlbCgpJiYhZVtuXSl7dmFyIG89e307ZChpLnNlcmllc0dyb3VwLGZ1bmN0aW9uKGUpe3ZhciBpPWUuY29vcmRpbmF0ZVN5c3RlbSxuPWUub3JpZ2luYWxEYXRhO2UuZ2V0KCJzaG93TGVnZW5kU3ltYm9sIikmJnQuZ2V0Q29tcG9uZW50KCJsZWdlbmQiKSYmbi5lYWNoKG4ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGZ1bmN0aW9uKHQsZSl7dmFyIGE9bi5nZXROYW1lKGUpLHI9aS5nZXRSZWdpb24oYSk7aWYociYmIWlzTmFOKHQpKXt2YXIgcz1vW2FdfHwwLGw9aS5kYXRhVG9Qb2ludChyLmNlbnRlcik7b1thXT1zKzEsbi5zZXRJdGVtTGF5b3V0KGUse3BvaW50Omwsb2Zmc2V0OnN9KX19KX0pO3ZhciBhPWkuZ2V0RGF0YSgpO2EuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1hLmdldE5hbWUodCksaT1hLmdldEl0ZW1MYXlvdXQodCl8fHt9O2kuc2hvd0xhYmVsPSFvW2VdLGEuc2V0SXRlbUxheW91dCh0LGkpfSksZVtuXT0hMH19KX0pLGZzKGZ1bmN0aW9uKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgibWFwIixmdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY29sb3IiKSxpPXQuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLG49aS5nZXQoImFyZWFDb2xvciIpLG89aS5nZXQoImNvbG9yIil8fGVbdC5zZXJpZXNJbmRleCVlLmxlbmd0aF07dC5nZXREYXRhKCkuc2V0VmlzdWFsKHthcmVhQ29sb3I6bixjb2xvcjpvfSl9KX0pLHVzKHFNLlBST0NFU1NPUi5TVEFUSVNUSUMsZnVuY3Rpb24odCl7dmFyIGU9e307dC5lYWNoU2VyaWVzQnlUeXBlKCJtYXAiLGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0SG9zdEdlb01vZGVsKCksbj1pPyJvIitpLmlkOiJpIit0LmdldE1hcFR5cGUoKTsoZVtuXT1lW25dfHxbXSkucHVzaCh0KX0pLGQoZSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT13aChmKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0RGF0YSgpfSksdFswXS5nZXQoIm1hcFZhbHVlQ2FsY3VsYXRpb24iKSksbj0wO248dC5sZW5ndGg7bisrKXRbbl0ub3JpZ2luYWxEYXRhPXRbbl0uZ2V0RGF0YSgpO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXS5zZXJpZXNHcm91cD10LHRbbl0ubmVlZHNEcmF3TWFwPTA9PT1uJiYhdFtuXS5nZXRIb3N0R2VvTW9kZWwoKSx0W25dLnNldERhdGEoaS5jbG9uZVNoYWxsb3coKSksdFtuXS5tYWluU2VyaWVzPXRbMF19KX0pLGxzKGZ1bmN0aW9uKHQpe3ZhciBlPVtdO2QodC5zZXJpZXMsZnVuY3Rpb24odCl7dCYmIm1hcCI9PT10LnR5cGUmJihlLnB1c2godCksdC5tYXA9dC5tYXB8fHQubWFwVHlwZSxyKHQsdC5tYXBMb2NhdGlvbikpfSl9KSx4VCgibWFwIixbe3R5cGU6Im1hcFRvZ2dsZVNlbGVjdCIsZXZlbnQ6Im1hcHNlbGVjdGNoYW5nZWQiLG1ldGhvZDoidG9nZ2xlU2VsZWN0ZWQifSx7dHlwZToibWFwU2VsZWN0IixldmVudDoibWFwc2VsZWN0ZWQiLG1ldGhvZDoic2VsZWN0In0se3R5cGU6Im1hcFVuU2VsZWN0IixldmVudDoibWFwdW5zZWxlY3RlZCIsbWV0aG9kOiJ1blNlbGVjdCJ9XSk7dmFyIEhUPWQsWlQ9IlwwX19saW5rX2RhdGFzIixVVD0iXDBfX2xpbmtfbWFpbkRhdGEiLGpUPWZ1bmN0aW9uKHQsZSl7dGhpcy5uYW1lPXR8fCIiLHRoaXMuZGVwdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMucGFyZW50Tm9kZT1udWxsLHRoaXMuZGF0YUluZGV4PS0xLHRoaXMuY2hpbGRyZW49W10sdGhpcy52aWV3Q2hpbGRyZW49W10sdGhpcy5ob3N0VHJlZT1lfTtqVC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmpULGlzUmVtb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFJbmRleDwwfSxlYWNoTm9kZTpmdW5jdGlvbih0LGUsaSl7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihpPWUsZT10LHQ9bnVsbCksXyh0PXR8fHt9KSYmKHQ9e29yZGVyOnR9KTt2YXIgbixvPXQub3JkZXJ8fCJwcmVvcmRlciIsYT10aGlzW3QuYXR0cnx8ImNoaWxkcmVuIl07InByZW9yZGVyIj09PW8mJihuPWUuY2FsbChpLHRoaXMpKTtmb3IodmFyIHI9MDshbiYmcjxhLmxlbmd0aDtyKyspYVtyXS5lYWNoTm9kZSh0LGUsaSk7InBvc3RvcmRlciI9PT1vJiZlLmNhbGwoaSx0aGlzKX0sdXBkYXRlRGVwdGhBbmRIZWlnaHQ6ZnVuY3Rpb24odCl7dmFyIGU9MDt0aGlzLmRlcHRoPXQ7Zm9yKHZhciBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuY2hpbGRyZW5baV07bi51cGRhdGVEZXB0aEFuZEhlaWdodCh0KzEpLG4uaGVpZ2h0PmUmJihlPW4uaGVpZ2h0KX10aGlzLmhlaWdodD1lKzF9LGdldE5vZGVCeUlkOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2V0SWQoKT09PXQpcmV0dXJuIHRoaXM7Zm9yKHZhciBlPTAsaT10aGlzLmNoaWxkcmVuLG49aS5sZW5ndGg7ZTxuO2UrKyl7dmFyIG89aVtlXS5nZXROb2RlQnlJZCh0KTtpZihvKXJldHVybiBvfX0sY29udGFpbnM6ZnVuY3Rpb24odCl7aWYodD09PXRoaXMpcmV0dXJuITA7Zm9yKHZhciBlPTAsaT10aGlzLmNoaWxkcmVuLG49aS5sZW5ndGg7ZTxuO2UrKyl7dmFyIG89aVtlXS5jb250YWlucyh0KTtpZihvKXJldHVybiBvfX0sZ2V0QW5jZXN0b3JzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPXQ/dGhpczp0aGlzLnBhcmVudE5vZGU7aTspZS5wdXNoKGkpLGk9aS5wYXJlbnROb2RlO3JldHVybiBlLnJldmVyc2UoKSxlfSxnZXRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmhvc3RUcmVlLmRhdGE7cmV0dXJuIGUuZ2V0KGUuZ2V0RGltZW5zaW9uKHR8fCJ2YWx1ZSIpLHRoaXMuZGF0YUluZGV4KX0sc2V0TGF5b3V0OmZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4LHQsZSl9LGdldExheW91dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCl9LGdldE1vZGVsOmZ1bmN0aW9uKHQpe2lmKCEodGhpcy5kYXRhSW5kZXg8MCkpe3ZhciBlLGk9dGhpcy5ob3N0VHJlZSxuPWkuZGF0YS5nZXRJdGVtTW9kZWwodGhpcy5kYXRhSW5kZXgpLG89dGhpcy5nZXRMZXZlbE1vZGVsKCk7cmV0dXJuIG98fDAhPT10aGlzLmNoaWxkcmVuLmxlbmd0aCYmKDA9PT10aGlzLmNoaWxkcmVuLmxlbmd0aHx8ITEhPT10aGlzLmlzRXhwYW5kKXx8KGU9dGhpcy5nZXRMZWF2ZXNNb2RlbCgpKSxuLmdldE1vZGVsKHQsKG98fGV8fGkuaG9zdE1vZGVsKS5nZXRNb2RlbCh0KSl9fSxnZXRMZXZlbE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuaG9zdFRyZWUubGV2ZWxNb2RlbHN8fFtdKVt0aGlzLmRlcHRoXX0sZ2V0TGVhdmVzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5sZWF2ZXNNb2RlbH0sc2V0VmlzdWFsOmZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXMuaG9zdFRyZWUuZGF0YS5zZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LHQsZSl9LGdldFZpc3VhbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCx0LGUpfSxnZXRSYXdJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0UmF3SW5kZXgodGhpcy5kYXRhSW5kZXgpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SWQodGhpcy5kYXRhSW5kZXgpfSxpc0FuY2VzdG9yT2Y6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucGFyZW50Tm9kZTtlOyl7aWYoZT09PXRoaXMpcmV0dXJuITA7ZT1lLnBhcmVudE5vZGV9cmV0dXJuITF9LGlzRGVzY2VuZGFudE9mOmZ1bmN0aW9uKHQpe3JldHVybiB0IT09dGhpcyYmdC5pc0FuY2VzdG9yT2YodGhpcyl9fSxMaC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxoLHR5cGU6InRyZWUiLGVhY2hOb2RlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLnJvb3QuZWFjaE5vZGUodCxlLGkpfSxnZXROb2RlQnlEYXRhSW5kZXg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLmdldFJhd0luZGV4KHQpO3JldHVybiB0aGlzLl9ub2Rlc1tlXX0sZ2V0Tm9kZUJ5TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb290LmdldE5vZGVCeU5hbWUodCl9LHVwZGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEsZT10aGlzLl9ub2RlcyxpPTAsbj1lLmxlbmd0aDtpPG47aSsrKWVbaV0uZGF0YUluZGV4PS0xO2Zvcih2YXIgaT0wLG49dC5jb3VudCgpO2k8bjtpKyspZVt0LmdldFJhd0luZGV4KGkpXS5kYXRhSW5kZXg9aX0sY2xlYXJMYXlvdXRzOmZ1bmN0aW9uKCl7dGhpcy5kYXRhLmNsZWFySXRlbUxheW91dHMoKX19LExoLmNyZWF0ZVRyZWU9ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCxlKXt2YXIgaT10LnZhbHVlO3I9TWF0aC5tYXgocix5KGkpP2kubGVuZ3RoOjEpLGEucHVzaCh0KTt2YXIgcz1uZXcgalQodC5uYW1lLG8pO2U/a2gocyxlKTpvLnJvb3Q9cyxvLl9ub2Rlcy5wdXNoKHMpO3ZhciBsPXQuY2hpbGRyZW47aWYobClmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKyluKGxbdV0scyl9dmFyIG89bmV3IExoKGUsaS5sZXZlbHMsaS5sZWF2ZXMpLGE9W10scj0xO24odCksby5yb290LnVwZGF0ZURlcHRoQW5kSGVpZ2h0KDApO3ZhciBzPUNJKGEse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZGltZW5zaW9uc0NvdW50OnJ9KSxsPW5ldyBESShzLGUpO3JldHVybiBsLmluaXREYXRhKGEpLGJoKHttYWluRGF0YTpsLHN0cnVjdDpvLHN0cnVjdEF0dHI6InRyZWUifSksby51cGRhdGUoKSxvfSxtTS5leHRlbmQoe3R5cGU6InNlcmllcy50cmVlIixsYXlvdXRJbmZvOm51bGwsbGF5b3V0TW9kZToiYm94IixnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0KXt2YXIgZT17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfSxpPXQubGVhdmVzfHx7fSxuPXt9O24ubGVhdmVzPWk7dmFyIG89TGguY3JlYXRlVHJlZShlLHRoaXMsbiksYT0wO28uZWFjaE5vZGUoInByZW9yZGVyIixmdW5jdGlvbih0KXt0LmRlcHRoPmEmJihhPXQuZGVwdGgpfSk7dmFyIHI9dC5leHBhbmRBbmRDb2xsYXBzZSYmdC5pbml0aWFsVHJlZURlcHRoPj0wP3QuaW5pdGlhbFRyZWVEZXB0aDphO3JldHVybiBvLnJvb3QuZWFjaE5vZGUoInByZW9yZGVyIixmdW5jdGlvbih0KXt2YXIgZT10Lmhvc3RUcmVlLmRhdGEuZ2V0UmF3RGF0YUl0ZW0odC5kYXRhSW5kZXgpO3QuaXNFeHBhbmQ9ZSYmbnVsbCE9ZS5jb2xsYXBzZWQ/IWUuY29sbGFwc2VkOnQuZGVwdGg8PXJ9KSxvLmRhdGF9LGZvcm1hdFRvb2x0aXA6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0RGF0YSgpLnRyZWUsaT1lLnJvb3QuY2hpbGRyZW5bMF0sbj1lLmdldE5vZGVCeURhdGFJbmRleCh0KSxvPW4uZ2V0VmFsdWUoKSxhPW4ubmFtZTtuJiZuIT09aTspYT1uLnBhcmVudE5vZGUubmFtZSsiLiIrYSxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gWm8oYSsoaXNOYU4obyl8fG51bGw9PW8/IiI6IiA6ICIrbykpfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsbGVmdDoiMTIlIix0b3A6IjEyJSIscmlnaHQ6IjEyJSIsYm90dG9tOiIxMiUiLGxheW91dDoib3J0aG9nb25hbCIsb3JpZW50OiJob3Jpem9udGFsIixzeW1ib2w6ImVtcHR5Q2lyY2xlIixzeW1ib2xTaXplOjcsZXhwYW5kQW5kQ29sbGFwc2U6ITAsaW5pdGlhbFRyZWVEZXB0aDoyLGxpbmVTdHlsZTp7Y29sb3I6IiNjY2MiLHdpZHRoOjEuNSxjdXJ2ZW5lc3M6LjV9LGl0ZW1TdHlsZTp7Y29sb3I6ImxpZ2h0c3RlZWxibHVlIixib3JkZXJDb2xvcjoiI2MyMzUzMSIsYm9yZGVyV2lkdGg6MS41fSxsYWJlbDp7c2hvdzohMCxjb2xvcjoiIzU1NSJ9LGxlYXZlczp7bGFiZWw6e3Nob3c6ITB9fSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciIsYW5pbWF0aW9uRHVyYXRpb246NzAwLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjFlM319KSx4cyh7dHlwZToidHJlZSIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX29sZFRyZWUsdGhpcy5fbWFpbkdyb3VwPW5ldyBMXyx0aGlzLmdyb3VwLmFkZCh0aGlzLl9tYWluR3JvdXApfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXREYXRhKCksYT10LmxheW91dEluZm8scj10aGlzLl9tYWluR3JvdXAscz10LmdldCgibGF5b3V0Iik7InJhZGlhbCI9PT1zP3IuYXR0cigicG9zaXRpb24iLFthLngrYS53aWR0aC8yLGEueSthLmhlaWdodC8yXSk6ci5hdHRyKCJwb3NpdGlvbiIsW2EueCxhLnldKTt2YXIgbD10aGlzLl9kYXRhLHU9e2V4cGFuZEFuZENvbGxhcHNlOnQuZ2V0KCJleHBhbmRBbmRDb2xsYXBzZSIpLGxheW91dDpzLG9yaWVudDp0LmdldCgib3JpZW50IiksY3VydmF0dXJlOnQuZ2V0KCJsaW5lU3R5bGUuY3VydmVuZXNzIiksc3ltYm9sUm90YXRlOnQuZ2V0KCJzeW1ib2xSb3RhdGUiKSxzeW1ib2xPZmZzZXQ6dC5nZXQoInN5bWJvbE9mZnNldCIpLGhvdmVyQW5pbWF0aW9uOnQuZ2V0KCJob3ZlckFuaW1hdGlvbiIpLHVzZU5hbWVMYWJlbDohMCxmYWRlSW46ITB9O28uZGlmZihsKS5hZGQoZnVuY3Rpb24oZSl7VWgobyxlKSYmWGgobyxlLG51bGwscix0LHUpfSkudXBkYXRlKGZ1bmN0aW9uKGUsaSl7dmFyIG49bC5nZXRJdGVtR3JhcGhpY0VsKGkpO1VoKG8sZSk/WGgobyxlLG4scix0LHUpOm4mJlloKG8sZSxuLHIsdCx1KX0pLnJlbW92ZShmdW5jdGlvbihlKXt2YXIgaT1sLmdldEl0ZW1HcmFwaGljRWwoZSk7WWgobyxlLGkscix0LHUpfSkuZXhlY3V0ZSgpLCEwPT09dS5leHBhbmRBbmRDb2xsYXBzZSYmby5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbihlLG4pe2Uub2ZmKCJjbGljayIpLm9uKCJjbGljayIsZnVuY3Rpb24oKXtpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0cmVlRXhwYW5kQW5kQ29sbGFwc2UiLHNlcmllc0lkOnQuaWQsZGF0YUluZGV4Om59KX0pfSksdGhpcy5fZGF0YT1vfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9tYWluR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfX0pLGhzKHt0eXBlOiJ0cmVlRXhwYW5kQW5kQ29sbGFwc2UiLGV2ZW50OiJ0cmVlRXhwYW5kQW5kQ29sbGFwc2UiLHVwZGF0ZToidXBkYXRlIn0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InRyZWUiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUpe3ZhciBpPXQuZGF0YUluZGV4LG49ZS5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgoaSk7bi5pc0V4cGFuZD0hbi5pc0V4cGFuZH0pfSk7dmFyIFhUPWZ1bmN0aW9uKHQsZSl7dmFyIGk9UmgodCxlKTt0LmxheW91dEluZm89aTt2YXIgbj10LmdldCgibGF5b3V0Iiksbz0wLGE9MCxyPW51bGw7InJhZGlhbCI9PT1uPyhvPTIqTWF0aC5QSSxhPU1hdGgubWluKGkuaGVpZ2h0LGkud2lkdGgpLzIscj1FaChmdW5jdGlvbih0LGUpe3JldHVybih0LnBhcmVudE5vZGU9PT1lLnBhcmVudE5vZGU/MToyKS90LmRlcHRofSkpOihvPWkud2lkdGgsYT1pLmhlaWdodCxyPUVoKCkpO3ZhciBzPXQuZ2V0RGF0YSgpLnRyZWUucm9vdCxsPXMuY2hpbGRyZW5bMF07UGgocyksJGgobCxOaCxyKSxzLmhpZXJOb2RlLm1vZGlmaWVyPS1sLmhpZXJOb2RlLnByZWxpbSxLaChsLE9oKTt2YXIgdT1sLGg9bCxjPWw7S2gobCxmdW5jdGlvbih0KXt2YXIgZT10LmdldExheW91dCgpLng7ZTx1LmdldExheW91dCgpLngmJih1PXQpLGU+aC5nZXRMYXlvdXQoKS54JiYoaD10KSx0LmRlcHRoPmMuZGVwdGgmJihjPXQpfSk7dmFyIGQ9dT09PWg/MTpyKHUsaCkvMixmPWQtdS5nZXRMYXlvdXQoKS54LHA9MCxnPTAsbT0wLHY9MDsicmFkaWFsIj09PW4/KHA9by8oaC5nZXRMYXlvdXQoKS54K2QrZiksZz1hLyhjLmRlcHRoLTF8fDEpLEtoKGwsZnVuY3Rpb24odCl7bT0odC5nZXRMYXlvdXQoKS54K2YpKnAsdj0odC5kZXB0aC0xKSpnO3ZhciBlPXpoKG0sdik7dC5zZXRMYXlvdXQoe3g6ZS54LHk6ZS55LHJhd1g6bSxyYXdZOnZ9LCEwKX0pKToiaG9yaXpvbnRhbCI9PT10LmdldCgib3JpZW50Iik/KGc9YS8oaC5nZXRMYXlvdXQoKS54K2QrZikscD1vLyhjLmRlcHRoLTF8fDEpLEtoKGwsZnVuY3Rpb24odCl7dj0odC5nZXRMYXlvdXQoKS54K2YpKmcsbT0odC5kZXB0aC0xKSpwLHQuc2V0TGF5b3V0KHt4Om0seTp2fSwhMCl9KSk6KHA9by8oaC5nZXRMYXlvdXQoKS54K2QrZiksZz1hLyhjLmRlcHRoLTF8fDEpLEtoKGwsZnVuY3Rpb24odCl7bT0odC5nZXRMYXlvdXQoKS54K2YpKnAsdj0odC5kZXB0aC0xKSpnLHQuc2V0TGF5b3V0KHt4Om0seTp2fSwhMCl9KSl9O2ZzKGtEKCJ0cmVlIiwiY2lyY2xlIikpLGRzKGZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJ0cmVlIixmdW5jdGlvbih0KXtYVCh0LGUpfSl9KSxkcyhmdW5jdGlvbih0LGUpe3QuZWFjaFNlcmllc0J5VHlwZSgidHJlZSIsZnVuY3Rpb24odCl7WFQodCxlKX0pfSksbU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMudHJlZW1hcCIsbGF5b3V0TW9kZToiYm94IixkZXBlbmRlbmNpZXM6WyJncmlkIiwicG9sYXIiXSxfdmlld1Jvb3Q6bnVsbCxkZWZhdWx0T3B0aW9uOntwcm9ncmVzc2l2ZTowLGhvdmVyTGF5ZXJUaHJlc2hvbGQ6MS8wLGxlZnQ6ImNlbnRlciIsdG9wOiJtaWRkbGUiLHJpZ2h0Om51bGwsYm90dG9tOm51bGwsd2lkdGg6IjgwJSIsaGVpZ2h0OiI4MCUiLHNvcnQ6ITAsY2xpcFdpbmRvdzoib3JpZ2luIixzcXVhcmVSYXRpbzouNSooMStNYXRoLnNxcnQoNSkpLGxlYWZEZXB0aDpudWxsLGRyaWxsRG93bkljb246IuKWtiIsem9vbVRvTm9kZVJhdGlvOi4xMDI0LHJvYW06ITAsbm9kZUNsaWNrOiJ6b29tVG9Ob2RlIixhbmltYXRpb246ITAsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6OTAwLGFuaW1hdGlvbkVhc2luZzoicXVpbnRpY0luT3V0IixicmVhZGNydW1iOntzaG93OiEwLGhlaWdodDoyMixsZWZ0OiJjZW50ZXIiLHRvcDoiYm90dG9tIixlbXB0eUl0ZW1XaWR0aDoyNSxpdGVtU3R5bGU6e2NvbG9yOiJyZ2JhKDAsMCwwLDAuNykiLGJvcmRlckNvbG9yOiJyZ2JhKDI1NSwyNTUsMjU1LDAuNykiLGJvcmRlcldpZHRoOjEsc2hhZG93Q29sb3I6InJnYmEoMTUwLDE1MCwxNTAsMSkiLHNoYWRvd0JsdXI6MyxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLHRleHRTdHlsZTp7Y29sb3I6IiNmZmYifX0sZW1waGFzaXM6e3RleHRTdHlsZTp7fX19LGxhYmVsOntzaG93OiEwLGRpc3RhbmNlOjAscGFkZGluZzo1LHBvc2l0aW9uOiJpbnNpZGUiLGNvbG9yOiIjZmZmIixlbGxpcHNpczohMH0sdXBwZXJMYWJlbDp7c2hvdzohMSxwb3NpdGlvbjpbMCwiNTAlIl0saGVpZ2h0OjIwLGNvbG9yOiIjZmZmIixlbGxpcHNpczohMCx2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSxpdGVtU3R5bGU6e2NvbG9yOm51bGwsY29sb3JBbHBoYTpudWxsLGNvbG9yU2F0dXJhdGlvbjpudWxsLGJvcmRlcldpZHRoOjAsZ2FwV2lkdGg6MCxib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyQ29sb3JTYXR1cmF0aW9uOm51bGx9LGVtcGhhc2lzOnt1cHBlckxhYmVsOntzaG93OiEwLHBvc2l0aW9uOlswLCI1MCUiXSxjb2xvcjoiI2ZmZiIsZWxsaXBzaXM6ITAsdmVydGljYWxBbGlnbjoibWlkZGxlIn19LHZpc3VhbERpbWVuc2lvbjowLHZpc3VhbE1pbjpudWxsLHZpc3VhbE1heDpudWxsLGNvbG9yOltdLGNvbG9yQWxwaGE6bnVsbCxjb2xvclNhdHVyYXRpb246bnVsbCxjb2xvck1hcHBpbmdCeToiaW5kZXgiLHZpc2libGVNaW46MTAsY2hpbGRyZW5WaXNpYmxlTWluOm51bGwsbGV2ZWxzOltdfSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXtuYW1lOnQubmFtZSxjaGlsZHJlbjp0LmRhdGF9O2ljKGkpO3ZhciBuPXQubGV2ZWxzfHxbXTtuPXQubGV2ZWxzPW5jKG4sZSk7dmFyIG89e307cmV0dXJuIG8ubGV2ZWxzPW4sTGguY3JlYXRlVHJlZShpLHRoaXMsbykuZGF0YX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbigpe3RoaXMucmVzZXRWaWV3Um9vdCgpfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLGk9dGhpcy5nZXRSYXdWYWx1ZSh0KSxuPVdvKHkoaSk/aVswXTppKTtyZXR1cm4gWm8oZS5nZXROYW1lKHQpKyI6ICIrbil9LGdldERhdGFQYXJhbXM6ZnVuY3Rpb24odCl7dmFyIGU9bU0ucHJvdG90eXBlLmdldERhdGFQYXJhbXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9dGhpcy5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgodCk7cmV0dXJuIGUudHJlZVBhdGhJbmZvPWVjKGksdGhpcyksZX0sc2V0TGF5b3V0SW5mbzpmdW5jdGlvbih0KXt0aGlzLmxheW91dEluZm89dGhpcy5sYXlvdXRJbmZvfHx7fSxhKHRoaXMubGF5b3V0SW5mbyx0KX0sbWFwSWRUb0luZGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2lkSW5kZXhNYXA7ZXx8KGU9dGhpcy5faWRJbmRleE1hcD16KCksdGhpcy5faWRJbmRleE1hcENvdW50PTApO3ZhciBpPWUuZ2V0KHQpO3JldHVybiBudWxsPT1pJiZlLnNldCh0LGk9dGhpcy5faWRJbmRleE1hcENvdW50KyspLGl9LGdldFZpZXdSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdSb290fSxyZXNldFZpZXdSb290OmZ1bmN0aW9uKHQpe3Q/dGhpcy5fdmlld1Jvb3Q9dDp0PXRoaXMuX3ZpZXdSb290O3ZhciBlPXRoaXMuZ2V0UmF3RGF0YSgpLnRyZWUucm9vdDt0JiYodD09PWV8fGUuY29udGFpbnModCkpfHwodGhpcy5fdmlld1Jvb3Q9ZSl9fSk7dmFyIFlUPTU7b2MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpvYyxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXRNb2RlbCgiYnJlYWRjcnVtYiIpLGE9dGhpcy5ncm91cDtpZihhLnJlbW92ZUFsbCgpLG8uZ2V0KCJzaG93IikmJmkpe3ZhciByPW8uZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHM9ci5nZXRNb2RlbCgidGV4dFN0eWxlIiksbD17cG9zOntsZWZ0Om8uZ2V0KCJsZWZ0IikscmlnaHQ6by5nZXQoInJpZ2h0IiksdG9wOm8uZ2V0KCJ0b3AiKSxib3R0b206by5nZXQoImJvdHRvbSIpfSxib3g6e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sZW1wdHlJdGVtV2lkdGg6by5nZXQoImVtcHR5SXRlbVdpZHRoIiksdG90YWxXaWR0aDowLHJlbmRlckxpc3Q6W119O3RoaXMuX3ByZXBhcmUoaSxsLHMpLHRoaXMuX3JlbmRlckNvbnRlbnQodCxsLHIscyxuKSx0YShhLGwucG9zLGwuYm94KX19LF9wcmVwYXJlOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dDtuO249bi5wYXJlbnROb2RlKXt2YXIgbz1uLmdldE1vZGVsKCkuZ2V0KCJuYW1lIiksYT1pLmdldFRleHRSZWN0KG8pLHI9TWF0aC5tYXgoYS53aWR0aCsxNixlLmVtcHR5SXRlbVdpZHRoKTtlLnRvdGFsV2lkdGgrPXIrOCxlLnJlbmRlckxpc3QucHVzaCh7bm9kZTpuLHRleHQ6byx3aWR0aDpyfSl9fSxfcmVuZGVyQ29udGVudDpmdW5jdGlvbih0LGUsaSxuLG8pe2Zvcih2YXIgYT0wLHM9ZS5lbXB0eUl0ZW1XaWR0aCxsPXQuZ2V0KCJicmVhZGNydW1iLmhlaWdodCIpLHU9Sm8oZS5wb3MsZS5ib3gpLGg9ZS50b3RhbFdpZHRoLGM9ZS5yZW5kZXJMaXN0LGQ9Yy5sZW5ndGgtMTtkPj0wO2QtLSl7dmFyIGY9Y1tkXSxwPWYubm9kZSxnPWYud2lkdGgsbT1mLnRleHQ7aD51LndpZHRoJiYoaC09Zy1zLGc9cyxtPW51bGwpO3ZhciB5PW5ldyBaYih7c2hhcGU6e3BvaW50czphYyhhLDAsZyxsLGQ9PT1jLmxlbmd0aC0xLDA9PT1kKX0sc3R5bGU6cihpLmdldEl0ZW1TdHlsZSgpLHtsaW5lSm9pbjoiYmV2ZWwiLHRleHQ6bSx0ZXh0RmlsbDpuLmdldFRleHRDb2xvcigpLHRleHRGb250Om4uZ2V0Rm9udCgpfSksejoxMCxvbmNsaWNrOnYobyxwKX0pO3RoaXMuZ3JvdXAuYWRkKHkpLHJjKHksdCxwKSxhKz1nKzh9fSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfX07dmFyIHFUPW0sJFQ9TF8sS1Q9amIsSlQ9ZCxRVD1bImxhYmVsIl0sdEE9WyJlbXBoYXNpcyIsImxhYmVsIl0sZUE9WyJ1cHBlckxhYmVsIl0saUE9WyJlbXBoYXNpcyIsInVwcGVyTGFiZWwiXSxuQT0xMCxvQT0xLGFBPTIsckE9THcoW1siZmlsbCIsImNvbG9yIl0sWyJzdHJva2UiLCJzdHJva2VDb2xvciJdLFsibGluZVdpZHRoIiwic3Ryb2tlV2lkdGgiXSxbInNoYWRvd0JsdXIiXSxbInNoYWRvd09mZnNldFgiXSxbInNoYWRvd09mZnNldFkiXSxbInNoYWRvd0NvbG9yIl1dKSxzQT1mdW5jdGlvbih0KXt2YXIgZT1yQSh0KTtyZXR1cm4gZS5zdHJva2U9ZS5maWxsPWUubGluZVdpZHRoPW51bGwsZX07eHMoe3R5cGU6InRyZWVtYXAiLGluaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLl9jb250YWluZXJHcm91cCx0aGlzLl9zdG9yYWdlPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSx0aGlzLl9vbGRUcmVlLHRoaXMuX2JyZWFkY3J1bWIsdGhpcy5fY29udHJvbGxlcix0aGlzLl9zdGF0ZT0icmVhZHkifSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7aWYoIShsKGUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InRyZWVtYXAiLHF1ZXJ5Om59KSx0KTwwKSl7dGhpcy5zZXJpZXNNb2RlbD10LHRoaXMuYXBpPWksdGhpcy5lY01vZGVsPWU7dmFyIG89SmgobixbInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJvb3RUb05vZGUiXSx0KSxhPW4mJm4udHlwZSxyPXQubGF5b3V0SW5mbyxzPSF0aGlzLl9vbGRUcmVlLHU9dGhpcy5fc3RvcmFnZSxoPSJ0cmVlbWFwUm9vdFRvTm9kZSI9PT1hJiZvJiZ1P3tyb290Tm9kZUdyb3VwOnUubm9kZUdyb3VwW28ubm9kZS5nZXRSYXdJbmRleCgpXSxkaXJlY3Rpb246bi5kaXJlY3Rpb259Om51bGwsYz10aGlzLl9naXZlQ29udGFpbmVyR3JvdXAociksZD10aGlzLl9kb1JlbmRlcihjLHQsaCk7c3x8YSYmInRyZWVtYXBab29tVG9Ob2RlIiE9PWEmJiJ0cmVlbWFwUm9vdFRvTm9kZSIhPT1hP2QucmVuZGVyRmluYWxseSgpOnRoaXMuX2RvQW5pbWF0aW9uKGMsZCx0LGgpLHRoaXMuX3Jlc2V0Q29udHJvbGxlcihpKSx0aGlzLl9yZW5kZXJCcmVhZGNydW1iKHQsaSxvKX19LF9naXZlQ29udGFpbmVyR3JvdXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udGFpbmVyR3JvdXA7cmV0dXJuIGV8fChlPXRoaXMuX2NvbnRhaW5lckdyb3VwPW5ldyAkVCx0aGlzLl9pbml0RXZlbnRzKGUpLHRoaXMuZ3JvdXAuYWRkKGUpKSxlLmF0dHIoInBvc2l0aW9uIixbdC54LHQueV0pLGV9LF9kb1JlbmRlcjpmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0LGUsaSxvLGEpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQuZ2V0SWQoKX1mdW5jdGlvbiBzKHIscyl7dmFyIGw9bnVsbCE9cj90W3JdOm51bGwsdT1udWxsIT1zP2Vbc106bnVsbCxjPWgobCx1LGksYSk7YyYmbihsJiZsLnZpZXdDaGlsZHJlbnx8W10sdSYmdS52aWV3Q2hpbGRyZW58fFtdLGMsbyxhKzEpfW8/KGU9dCxKVCh0LGZ1bmN0aW9uKHQsZSl7IXQuaXNSZW1vdmVkKCkmJnMoZSxlKX0pKTpuZXcgYnMoZSx0LHIscikuYWRkKHMpLnVwZGF0ZShzKS5yZW1vdmUodihzLG51bGwpKS5leGVjdXRlKCl9dmFyIG89ZS5nZXREYXRhKCkudHJlZSxhPXRoaXMuX29sZFRyZWUscj17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX0scz17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX0sbD10aGlzLl9zdG9yYWdlLHU9W10saD12KGxjLGUscyxsLGkscix1KTtuKG8ucm9vdD9bby5yb290XTpbXSxhJiZhLnJvb3Q/W2Eucm9vdF06W10sdCxvPT09YXx8IWEsMCk7dmFyIGM9ZnVuY3Rpb24odCl7dmFyIGU9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119O3JldHVybiB0JiZKVCh0LGZ1bmN0aW9uKHQsaSl7dmFyIG49ZVtpXTtKVCh0LGZ1bmN0aW9uKHQpe3QmJihuLnB1c2godCksdC5fX3RtV2lsbERlbGV0ZT0xKX0pfSksZX0obCk7cmV0dXJuIHRoaXMuX29sZFRyZWU9byx0aGlzLl9zdG9yYWdlPXMse2xhc3RzRm9yQW5pbWF0aW9uOnIsd2lsbERlbGV0ZUVsczpjLHJlbmRlckZpbmFsbHk6ZnVuY3Rpb24oKXtKVChjLGZ1bmN0aW9uKHQpe0pUKHQsZnVuY3Rpb24odCl7dC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZSh0KX0pfSksSlQodSxmdW5jdGlvbih0KXt0LmludmlzaWJsZT0hMCx0LmRpcnR5KCl9KX19fSxfZG9BbmltYXRpb246ZnVuY3Rpb24odCxlLGksbil7aWYoaS5nZXQoImFuaW1hdGlvbiIpKXt2YXIgbz1pLmdldCgiYW5pbWF0aW9uRHVyYXRpb25VcGRhdGUiKSxyPWkuZ2V0KCJhbmltYXRpb25FYXNpbmciKSxzPXNjKCk7SlQoZS53aWxsRGVsZXRlRWxzLGZ1bmN0aW9uKHQsZSl7SlQodCxmdW5jdGlvbih0LGkpe2lmKCF0LmludmlzaWJsZSl7dmFyIGEsbD10LnBhcmVudDtpZihuJiYiZHJpbGxEb3duIj09PW4uZGlyZWN0aW9uKWE9bD09PW4ucm9vdE5vZGVHcm91cD97c2hhcGU6e3g6MCx5OjAsd2lkdGg6bC5fX3RtTm9kZVdpZHRoLGhlaWdodDpsLl9fdG1Ob2RlSGVpZ2h0fSxzdHlsZTp7b3BhY2l0eTowfX06e3N0eWxlOntvcGFjaXR5OjB9fTtlbHNle3ZhciB1PTAsaD0wO2wuX190bVdpbGxEZWxldGV8fCh1PWwuX190bU5vZGVXaWR0aC8yLGg9bC5fX3RtTm9kZUhlaWdodC8yKSxhPSJub2RlR3JvdXAiPT09ZT97cG9zaXRpb246W3UsaF0sc3R5bGU6e29wYWNpdHk6MH19OntzaGFwZTp7eDp1LHk6aCx3aWR0aDowLGhlaWdodDowfSxzdHlsZTp7b3BhY2l0eTowfX19YSYmcy5hZGQodCxhLG8scil9fSl9KSxKVCh0aGlzLl9zdG9yYWdlLGZ1bmN0aW9uKHQsaSl7SlQodCxmdW5jdGlvbih0LG4pe3ZhciBsPWUubGFzdHNGb3JBbmltYXRpb25baV1bbl0sdT17fTtsJiYoIm5vZGVHcm91cCI9PT1pP2wub2xkJiYodS5wb3NpdGlvbj10LnBvc2l0aW9uLnNsaWNlKCksdC5hdHRyKCJwb3NpdGlvbiIsbC5vbGQpKToobC5vbGQmJih1LnNoYXBlPWEoe30sdC5zaGFwZSksdC5zZXRTaGFwZShsLm9sZCkpLGwuZmFkZWluPyh0LnNldFN0eWxlKCJvcGFjaXR5IiwwKSx1LnN0eWxlPXtvcGFjaXR5OjF9KToxIT09dC5zdHlsZS5vcGFjaXR5JiYodS5zdHlsZT17b3BhY2l0eToxfSkpLHMuYWRkKHQsdSxvLHIpKX0pfSx0aGlzKSx0aGlzLl9zdGF0ZT0iYW5pbWF0aW5nIixzLmRvbmUocVQoZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZT0icmVhZHkiLGUucmVuZGVyRmluYWxseSgpfSx0aGlzKSkuc3RhcnQoKX19LF9yZXNldENvbnRyb2xsZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udHJvbGxlcjtlfHwoKGU9dGhpcy5fY29udHJvbGxlcj1uZXcgYWgodC5nZXRacigpKSkuZW5hYmxlKHRoaXMuc2VyaWVzTW9kZWwuZ2V0KCJyb2FtIikpLGUub24oInBhbiIscVQodGhpcy5fb25QYW4sdGhpcykpLGUub24oInpvb20iLHFUKHRoaXMuX29uWm9vbSx0aGlzKSkpO3ZhciBpPW5ldyBLdCgwLDAsdC5nZXRXaWR0aCgpLHQuZ2V0SGVpZ2h0KCkpO2Uuc2V0UG9pbnRlckNoZWNrZXIoZnVuY3Rpb24odCxlLG4pe3JldHVybiBpLmNvbnRhaW4oZSxuKX0pfSxfY2xlYXJDb250cm9sbGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udHJvbGxlcjt0JiYodC5kaXNwb3NlKCksdD1udWxsKX0sX29uUGFuOmZ1bmN0aW9uKHQsZSl7aWYoImFuaW1hdGluZyIhPT10aGlzLl9zdGF0ZSYmKE1hdGguYWJzKHQpPjN8fE1hdGguYWJzKGUpPjMpKXt2YXIgaT10aGlzLnNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7aWYoIWkpcmV0dXJuO3ZhciBuPWkuZ2V0TGF5b3V0KCk7aWYoIW4pcmV0dXJuO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0cmVlbWFwTW92ZSIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHJvb3RSZWN0Ont4Om4ueCt0LHk6bi55K2Usd2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHR9fSl9fSxfb25ab29tOmZ1bmN0aW9uKHQsZSxpKXtpZigiYW5pbWF0aW5nIiE9PXRoaXMuX3N0YXRlKXt2YXIgbj10aGlzLnNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7aWYoIW4pcmV0dXJuO3ZhciBvPW4uZ2V0TGF5b3V0KCk7aWYoIW8pcmV0dXJuO3ZhciBhPW5ldyBLdChvLngsby55LG8ud2lkdGgsby5oZWlnaHQpLHI9dGhpcy5zZXJpZXNNb2RlbC5sYXlvdXRJbmZvO2UtPXIueCxpLT1yLnk7dmFyIHM9c3QoKTtjdChzLHMsWy1lLC1pXSksZnQocyxzLFt0LHRdKSxjdChzLHMsW2UsaV0pLGEuYXBwbHlUcmFuc2Zvcm0ocyksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRyZWVtYXBSZW5kZXIiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCxyb290UmVjdDp7eDphLngseTphLnksd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9fSl9fSxfaW5pdEV2ZW50czpmdW5jdGlvbih0KXt0Lm9uKCJjbGljayIsZnVuY3Rpb24odCl7aWYoInJlYWR5Ij09PXRoaXMuX3N0YXRlKXt2YXIgZT10aGlzLnNlcmllc01vZGVsLmdldCgibm9kZUNsaWNrIiwhMCk7aWYoZSl7dmFyIGk9dGhpcy5maW5kVGFyZ2V0KHQub2Zmc2V0WCx0Lm9mZnNldFkpO2lmKGkpe3ZhciBuPWkubm9kZTtpZihuLmdldExheW91dCgpLmlzTGVhZlJvb3QpdGhpcy5fcm9vdFRvTm9kZShpKTtlbHNlIGlmKCJ6b29tVG9Ob2RlIj09PWUpdGhpcy5fem9vbVRvTm9kZShpKTtlbHNlIGlmKCJsaW5rIj09PWUpe3ZhciBvPW4uaG9zdFRyZWUuZGF0YS5nZXRJdGVtTW9kZWwobi5kYXRhSW5kZXgpLGE9by5nZXQoImxpbmsiLCEwKSxyPW8uZ2V0KCJ0YXJnZXQiLCEwKXx8ImJsYW5rIjthJiZ3aW5kb3cub3BlbihhLHIpfX19fX0sdGhpcyl9LF9yZW5kZXJCcmVhZGNydW1iOmZ1bmN0aW9uKHQsZSxpKXtpfHwoaT1udWxsIT10LmdldCgibGVhZkRlcHRoIiwhMCk/e25vZGU6dC5nZXRWaWV3Um9vdCgpfTp0aGlzLmZpbmRUYXJnZXQoZS5nZXRXaWR0aCgpLzIsZS5nZXRIZWlnaHQoKS8yKSl8fChpPXtub2RlOnQuZ2V0RGF0YSgpLnRyZWUucm9vdH0pLCh0aGlzLl9icmVhZGNydW1ifHwodGhpcy5fYnJlYWRjcnVtYj1uZXcgb2ModGhpcy5ncm91cCkpKS5yZW5kZXIodCxlLGkubm9kZSxxVChmdW5jdGlvbihlKXsiYW5pbWF0aW5nIiE9PXRoaXMuX3N0YXRlJiYodGModC5nZXRWaWV3Um9vdCgpLGUpP3RoaXMuX3Jvb3RUb05vZGUoe25vZGU6ZX0pOnRoaXMuX3pvb21Ub05vZGUoe25vZGU6ZX0pKX0sdGhpcykpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckNvbnRyb2xsZXIoKSx0aGlzLl9jb250YWluZXJHcm91cCYmdGhpcy5fY29udGFpbmVyR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fc3RvcmFnZT17bm9kZUdyb3VwOltdLGJhY2tncm91bmQ6W10sY29udGVudDpbXX0sdGhpcy5fc3RhdGU9InJlYWR5Iix0aGlzLl9icmVhZGNydW1iJiZ0aGlzLl9icmVhZGNydW1iLnJlbW92ZSgpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJDb250cm9sbGVyKCl9LF96b29tVG9Ob2RlOmZ1bmN0aW9uKHQpe3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0cmVlbWFwWm9vbVRvTm9kZSIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHRhcmdldE5vZGU6dC5ub2RlfSl9LF9yb290VG9Ob2RlOmZ1bmN0aW9uKHQpe3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0cmVlbWFwUm9vdFRvTm9kZSIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHRhcmdldE5vZGU6dC5ub2RlfSl9LGZpbmRUYXJnZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gdGhpcy5zZXJpZXNNb2RlbC5nZXRWaWV3Um9vdCgpLmVhY2hOb2RlKHthdHRyOiJ2aWV3Q2hpbGRyZW4iLG9yZGVyOiJwcmVvcmRlciJ9LGZ1bmN0aW9uKG4pe3ZhciBvPXRoaXMuX3N0b3JhZ2UuYmFja2dyb3VuZFtuLmdldFJhd0luZGV4KCldO2lmKG8pe3ZhciBhPW8udHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSkscj1vLnNoYXBlO2lmKCEoci54PD1hWzBdJiZhWzBdPD1yLngrci53aWR0aCYmci55PD1hWzFdJiZhWzFdPD1yLnkrci5oZWlnaHQpKXJldHVybiExO2k9e25vZGU6bixvZmZzZXRYOmFbMF0sb2Zmc2V0WTphWzFdfX19LHRoaXMpLGl9fSk7Zm9yKHZhciBsQT1bInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJlbmRlciIsInRyZWVtYXBNb3ZlIl0sdUE9MDt1QTxsQS5sZW5ndGg7dUErKylocyh7dHlwZTpsQVt1QV0sdXBkYXRlOiJ1cGRhdGVWaWV3In0sZnVuY3Rpb24oKXt9KTtocyh7dHlwZToidHJlZW1hcFJvb3RUb05vZGUiLHVwZGF0ZToidXBkYXRlVmlldyJ9LGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlbWFwIixxdWVyeTp0fSxmdW5jdGlvbihlLGkpe3ZhciBuPUpoKHQsWyJ0cmVlbWFwWm9vbVRvTm9kZSIsInRyZWVtYXBSb290VG9Ob2RlIl0sZSk7aWYobil7dmFyIG89ZS5nZXRWaWV3Um9vdCgpO28mJih0LmRpcmVjdGlvbj10YyhvLG4ubm9kZSk/InJvbGxVcCI6ImRyaWxsRG93biIpLGUucmVzZXRWaWV3Um9vdChuLm5vZGUpfX0pfSk7dmFyIGhBPWQsY0E9dyxkQT0tMSxmQT1mdW5jdGlvbih0KXt2YXIgZT10Lm1hcHBpbmdNZXRob2Qsbj10LnR5cGUsbz10aGlzLm9wdGlvbj1pKHQpO3RoaXMudHlwZT1uLHRoaXMubWFwcGluZ01ldGhvZD1lLHRoaXMuX25vcm1hbGl6ZURhdGE9Z0FbZV07dmFyIGE9cEFbbl07dGhpcy5hcHBseVZpc3VhbD1hLmFwcGx5VmlzdWFsLHRoaXMuZ2V0Q29sb3JNYXBwZXI9YS5nZXRDb2xvck1hcHBlcix0aGlzLl9kb01hcD1hLl9kb01hcFtlXSwicGllY2V3aXNlIj09PWU/KGRjKG8pLGhjKG8pKToiY2F0ZWdvcnkiPT09ZT9vLmNhdGVnb3JpZXM/Y2Mobyk6ZGMobywhMCk6KGsoImxpbmVhciIhPT1lfHxvLmRhdGFFeHRlbnQpLGRjKG8pKX07ZkEucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpmQSxtYXBWYWx1ZVRvVmlzdWFsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX25vcm1hbGl6ZURhdGEodCk7cmV0dXJuIHRoaXMuX2RvTWFwKGUsdCl9LGdldE5vcm1hbGl6ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbSh0aGlzLl9ub3JtYWxpemVEYXRhLHRoaXMpfX07dmFyIHBBPWZBLnZpc3VhbEhhbmRsZXJzPXtjb2xvcjp7YXBwbHlWaXN1YWw6Z2MoImNvbG9yIiksZ2V0Q29sb3JNYXBwZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtyZXR1cm4gbSgiY2F0ZWdvcnkiPT09dC5tYXBwaW5nTWV0aG9kP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIWUmJih0PXRoaXMuX25vcm1hbGl6ZURhdGEodCkpLG1jLmNhbGwodGhpcyx0KX06ZnVuY3Rpb24oZSxpLG4pe3ZhciBvPSEhbjtyZXR1cm4haSYmKGU9dGhpcy5fbm9ybWFsaXplRGF0YShlKSksbj1OdChlLHQucGFyc2VkVmlzdWFsLG4pLG8/bjpSdChuLCJyZ2JhIil9LHRoaXMpfSxfZG9NYXA6e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gUnQoTnQodCx0aGlzLm9wdGlvbi5wYXJzZWRWaXN1YWwpLCJyZ2JhIil9LGNhdGVnb3J5Om1jLHBpZWNld2lzZTpmdW5jdGlvbih0LGUpe3ZhciBpPXhjLmNhbGwodGhpcyxlKTtyZXR1cm4gbnVsbD09aSYmKGk9UnQoTnQodCx0aGlzLm9wdGlvbi5wYXJzZWRWaXN1YWwpLCJyZ2JhIikpLGl9LGZpeGVkOnZjfX0sY29sb3JIdWU6ZmMoZnVuY3Rpb24odCxlKXtyZXR1cm4gRXQodCxlKX0pLGNvbG9yU2F0dXJhdGlvbjpmYyhmdW5jdGlvbih0LGUpe3JldHVybiBFdCh0LG51bGwsZSl9KSxjb2xvckxpZ2h0bmVzczpmYyhmdW5jdGlvbih0LGUpe3JldHVybiBFdCh0LG51bGwsbnVsbCxlKX0pLGNvbG9yQWxwaGE6ZmMoZnVuY3Rpb24odCxlKXtyZXR1cm4genQodCxlKX0pLG9wYWNpdHk6e2FwcGx5VmlzdWFsOmdjKCJvcGFjaXR5IiksX2RvTWFwOnljKFswLDFdKX0sc3ltYm9sOnthcHBseVZpc3VhbDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5tYXBWYWx1ZVRvVmlzdWFsKHQpO2lmKF8obikpaSgic3ltYm9sIixuKTtlbHNlIGlmKGNBKG4pKWZvcih2YXIgbyBpbiBuKW4uaGFzT3duUHJvcGVydHkobykmJmkobyxuW29dKX0sX2RvTWFwOntsaW5lYXI6cGMsY2F0ZWdvcnk6bWMscGllY2V3aXNlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9eGMuY2FsbCh0aGlzLGUpO3JldHVybiBudWxsPT1pJiYoaT1wYy5jYWxsKHRoaXMsdCkpLGl9LGZpeGVkOnZjfX0sc3ltYm9sU2l6ZTp7YXBwbHlWaXN1YWw6Z2MoInN5bWJvbFNpemUiKSxfZG9NYXA6eWMoWzAsMV0pfX0sZ0E9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gRG8odCx0aGlzLm9wdGlvbi5kYXRhRXh0ZW50LFswLDFdLCEwKX0scGllY2V3aXNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnBpZWNlTGlzdCxpPWZBLmZpbmRQaWVjZUluZGV4KHQsZSwhMCk7aWYobnVsbCE9aSlyZXR1cm4gRG8oaSxbMCxlLmxlbmd0aC0xXSxbMCwxXSwhMCl9LGNhdGVnb3J5OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmNhdGVnb3JpZXM/dGhpcy5vcHRpb24uY2F0ZWdvcnlNYXBbdF06dDtyZXR1cm4gbnVsbD09ZT9kQTplfSxmaXhlZDpCfTtmQS5saXN0VmlzdWFsVHlwZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gZChwQSxmdW5jdGlvbihlLGkpe3QucHVzaChpKX0pLHR9LGZBLmFkZFZpc3VhbEhhbmRsZXI9ZnVuY3Rpb24odCxlKXtwQVt0XT1lfSxmQS5pc1ZhbGlkVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gcEEuaGFzT3duUHJvcGVydHkodCl9LGZBLmVhY2hWaXN1YWw9ZnVuY3Rpb24odCxlLGkpe3codCk/ZCh0LGUsaSk6ZS5jYWxsKGksdCl9LGZBLm1hcFZpc3VhbD1mdW5jdGlvbih0LGUsaSl7dmFyIG4sbz15KHQpP1tdOncodCk/e306KG49ITAsbnVsbCk7cmV0dXJuIGZBLmVhY2hWaXN1YWwodCxmdW5jdGlvbih0LGEpe3ZhciByPWUuY2FsbChpLHQsYSk7bj9vPXI6b1thXT1yfSksb30sZkEucmV0cmlldmVWaXN1YWxzPWZ1bmN0aW9uKHQpe3ZhciBlLGk9e307cmV0dXJuIHQmJmhBKHBBLGZ1bmN0aW9uKG4sbyl7dC5oYXNPd25Qcm9wZXJ0eShvKSYmKGlbb109dFtvXSxlPSEwKX0pLGU/aTpudWxsfSxmQS5wcmVwYXJlVmlzdWFsVHlwZXM9ZnVuY3Rpb24odCl7aWYoY0EodCkpe3ZhciBlPVtdO2hBKHQsZnVuY3Rpb24odCxpKXtlLnB1c2goaSl9KSx0PWV9ZWxzZXtpZigheSh0KSlyZXR1cm5bXTt0PXQuc2xpY2UoKX1yZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuImNvbG9yIj09PWUmJiJjb2xvciIhPT10JiYwPT09dC5pbmRleE9mKCJjb2xvciIpPzE6LTF9KSx0fSxmQS5kZXBlbmRzT249ZnVuY3Rpb24odCxlKXtyZXR1cm4iY29sb3IiPT09ZT8hKCF0fHwwIT09dC5pbmRleE9mKGUpKTp0PT09ZX0sZkEuZmluZFBpZWNlSW5kZXg9ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4oZSxpKXt2YXIgbj1NYXRoLmFicyhlLXQpO248YSYmKGE9bixvPWkpfWZvcih2YXIgbyxhPTEvMCxyPTAscz1lLmxlbmd0aDtyPHM7cisrKXt2YXIgbD1lW3JdLnZhbHVlO2lmKG51bGwhPWwpe2lmKGw9PT10fHwic3RyaW5nIj09dHlwZW9mIGwmJmw9PT10KyIiKXJldHVybiByO2kmJm4obCxyKX19Zm9yKHZhciByPTAscz1lLmxlbmd0aDtyPHM7cisrKXt2YXIgdT1lW3JdLGg9dS5pbnRlcnZhbCxjPXUuY2xvc2U7aWYoaCl7aWYoaFswXT09PS0xLzApe2lmKHdjKGNbMV0sdCxoWzFdKSlyZXR1cm4gcn1lbHNlIGlmKGhbMV09PT0xLzApe2lmKHdjKGNbMF0saFswXSx0KSlyZXR1cm4gcn1lbHNlIGlmKHdjKGNbMF0saFswXSx0KSYmd2MoY1sxXSx0LGhbMV0pKXJldHVybiByO2kmJm4oaFswXSxyKSxpJiZuKGhbMV0scil9fWlmKGkpcmV0dXJuIHQ9PT0xLzA/ZS5sZW5ndGgtMTp0PT09LTEvMD8wOm99O3ZhciBtQT15LHZBPSJpdGVtU3R5bGUiLHlBPXtzZXJpZXNUeXBlOiJ0cmVlbWFwIixyZXNldDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldERhdGEoKS50cmVlLGE9by5yb290LHI9dC5nZXRNb2RlbCh2QSk7YS5pc1JlbW92ZWQoKXx8YmMoYSx7fSxmKG8ubGV2ZWxNb2RlbHMsZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC5nZXQodkEpOm51bGx9KSxyLHQuZ2V0Vmlld1Jvb3QoKS5nZXRBbmNlc3RvcnMoKSx0KX19LHhBPU1hdGgubWF4LF9BPU1hdGgubWluLHdBPUQsYkE9ZCxTQT1bIml0ZW1TdHlsZSIsImJvcmRlcldpZHRoIl0sTUE9WyJpdGVtU3R5bGUiLCJnYXBXaWR0aCJdLElBPVsidXBwZXJMYWJlbCIsInNob3ciXSxEQT1bInVwcGVyTGFiZWwiLCJoZWlnaHQiXSxUQT17c2VyaWVzVHlwZToidHJlZW1hcCIscmVzZXQ6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89aS5nZXRXaWR0aCgpLHI9aS5nZXRIZWlnaHQoKSxzPXQub3B0aW9uLGw9UW8odC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6aS5nZXRXaWR0aCgpLGhlaWdodDppLmdldEhlaWdodCgpfSksdT1zLnNpemV8fFtdLGg9VG8od0EobC53aWR0aCx1WzBdKSxvKSxjPVRvKHdBKGwuaGVpZ2h0LHVbMV0pLHIpLGQ9biYmbi50eXBlLGY9SmgobixbInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJvb3RUb05vZGUiXSx0KSxwPSJ0cmVlbWFwUmVuZGVyIj09PWR8fCJ0cmVlbWFwTW92ZSI9PT1kP24ucm9vdFJlY3Q6bnVsbCxnPXQuZ2V0Vmlld1Jvb3QoKSxtPVFoKGcpO2lmKCJ0cmVlbWFwTW92ZSIhPT1kKXt2YXIgdj0idHJlZW1hcFpvb21Ub05vZGUiPT09ZD9SYyh0LGYsZyxoLGMpOnA/W3Aud2lkdGgscC5oZWlnaHRdOltoLGNdLHk9cy5zb3J0O3kmJiJhc2MiIT09eSYmImRlc2MiIT09eSYmKHk9ImRlc2MiKTt2YXIgeD17c3F1YXJlUmF0aW86cy5zcXVhcmVSYXRpbyxzb3J0OnksbGVhZkRlcHRoOnMubGVhZkRlcHRofTtnLmhvc3RUcmVlLmNsZWFyTGF5b3V0cygpO189e3g6MCx5OjAsd2lkdGg6dlswXSxoZWlnaHQ6dlsxXSxhcmVhOnZbMF0qdlsxXX07Zy5zZXRMYXlvdXQoXyksTGMoZyx4LCExLDApO3ZhciBfPWcuZ2V0TGF5b3V0KCk7YkEobSxmdW5jdGlvbih0LGUpe3ZhciBpPShtW2UrMV18fGcpLmdldFZhbHVlKCk7dC5zZXRMYXlvdXQoYSh7ZGF0YUV4dGVudDpbaSxpXSxib3JkZXJXaWR0aDowLHVwcGVySGVpZ2h0OjB9LF8pKX0pfXZhciB3PXQuZ2V0RGF0YSgpLnRyZWUucm9vdDt3LnNldExheW91dChCYyhsLHAsZiksITApLHQuc2V0TGF5b3V0SW5mbyhsKSxWYyh3LG5ldyBLdCgtbC54LC1sLnksbyxyKSxtLGcsMCl9fTtmcyh5QSksZHMoVEEpO3ZhciBBQT1mdW5jdGlvbih0KXt0aGlzLl9kaXJlY3RlZD10fHwhMSx0aGlzLm5vZGVzPVtdLHRoaXMuZWRnZXM9W10sdGhpcy5fbm9kZXNNYXA9e30sdGhpcy5fZWRnZXNNYXA9e30sdGhpcy5kYXRhLHRoaXMuZWRnZURhdGF9LENBPUFBLnByb3RvdHlwZTtDQS50eXBlPSJncmFwaCIsQ0EuaXNEaXJlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXJlY3RlZH0sQ0EuYWRkTm9kZT1mdW5jdGlvbih0LGUpe3Q9dHx8IiIrZTt2YXIgaT10aGlzLl9ub2Rlc01hcDtpZighaVtGYyh0KV0pe3ZhciBuPW5ldyBXYyh0LGUpO3JldHVybiBuLmhvc3RHcmFwaD10aGlzLHRoaXMubm9kZXMucHVzaChuKSxpW0ZjKHQpXT1uLG59fSxDQS5nZXROb2RlQnlJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMubm9kZXNbZV19LENBLmdldE5vZGVCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub2Rlc01hcFtGYyh0KV19LENBLmFkZEVkZ2U9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX25vZGVzTWFwLG89dGhpcy5fZWRnZXNNYXA7aWYoIm51bWJlciI9PXR5cGVvZiB0JiYodD10aGlzLm5vZGVzW3RdKSwibnVtYmVyIj09dHlwZW9mIGUmJihlPXRoaXMubm9kZXNbZV0pLFdjLmlzSW5zdGFuY2UodCl8fCh0PW5bRmModCldKSxXYy5pc0luc3RhbmNlKGUpfHwoZT1uW0ZjKGUpXSksdCYmZSl7dmFyIGE9dC5pZCsiLSIrZS5pZDtpZighb1thXSl7dmFyIHI9bmV3IEhjKHQsZSxpKTtyZXR1cm4gci5ob3N0R3JhcGg9dGhpcyx0aGlzLl9kaXJlY3RlZCYmKHQub3V0RWRnZXMucHVzaChyKSxlLmluRWRnZXMucHVzaChyKSksdC5lZGdlcy5wdXNoKHIpLHQhPT1lJiZlLmVkZ2VzLnB1c2gociksdGhpcy5lZGdlcy5wdXNoKHIpLG9bYV09cixyfX19LENBLmdldEVkZ2VCeUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWRnZURhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMuZWRnZXNbZV19LENBLmdldEVkZ2U9ZnVuY3Rpb24odCxlKXtXYy5pc0luc3RhbmNlKHQpJiYodD10LmlkKSxXYy5pc0luc3RhbmNlKGUpJiYoZT1lLmlkKTt2YXIgaT10aGlzLl9lZGdlc01hcDtyZXR1cm4gdGhpcy5fZGlyZWN0ZWQ/aVt0KyItIitlXTppW3QrIi0iK2VdfHxpW2UrIi0iK3RdfSxDQS5lYWNoTm9kZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLm5vZGVzLG49aS5sZW5ndGgsbz0wO288bjtvKyspaVtvXS5kYXRhSW5kZXg+PTAmJnQuY2FsbChlLGlbb10sbyl9LENBLmVhY2hFZGdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuZWRnZXMsbj1pLmxlbmd0aCxvPTA7bzxuO28rKylpW29dLmRhdGFJbmRleD49MCYmaVtvXS5ub2RlMS5kYXRhSW5kZXg+PTAmJmlbb10ubm9kZTIuZGF0YUluZGV4Pj0wJiZ0LmNhbGwoZSxpW29dLG8pfSxDQS5icmVhZHRoRmlyc3RUcmF2ZXJzZT1mdW5jdGlvbih0LGUsaSxuKXtpZihXYy5pc0luc3RhbmNlKGUpfHwoZT10aGlzLl9ub2Rlc01hcFtGYyhlKV0pLGUpe2Zvcih2YXIgbz0ib3V0Ij09PWk/Im91dEVkZ2VzIjoiaW4iPT09aT8iaW5FZGdlcyI6ImVkZ2VzIixhPTA7YTx0aGlzLm5vZGVzLmxlbmd0aDthKyspdGhpcy5ub2Rlc1thXS5fX3Zpc2l0ZWQ9ITE7aWYoIXQuY2FsbChuLGUsbnVsbCkpZm9yKHZhciByPVtlXTtyLmxlbmd0aDspZm9yKHZhciBzPXIuc2hpZnQoKSxsPXNbb10sYT0wO2E8bC5sZW5ndGg7YSsrKXt2YXIgdT1sW2FdLGg9dS5ub2RlMT09PXM/dS5ub2RlMjp1Lm5vZGUxO2lmKCFoLl9fdmlzaXRlZCl7aWYodC5jYWxsKG4saCxzKSlyZXR1cm47ci5wdXNoKGgpLGguX192aXNpdGVkPSEwfX19fSxDQS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kYXRhLGU9dGhpcy5lZGdlRGF0YSxpPXRoaXMubm9kZXMsbj10aGlzLmVkZ2VzLG89MCxhPWkubGVuZ3RoO288YTtvKyspaVtvXS5kYXRhSW5kZXg9LTE7Zm9yKHZhciBvPTAsYT10LmNvdW50KCk7bzxhO28rKylpW3QuZ2V0UmF3SW5kZXgobyldLmRhdGFJbmRleD1vO2UuZmlsdGVyU2VsZihmdW5jdGlvbih0KXt2YXIgaT1uW2UuZ2V0UmF3SW5kZXgodCldO3JldHVybiBpLm5vZGUxLmRhdGFJbmRleD49MCYmaS5ub2RlMi5kYXRhSW5kZXg+PTB9KTtmb3IodmFyIG89MCxhPW4ubGVuZ3RoO288YTtvKyspbltvXS5kYXRhSW5kZXg9LTE7Zm9yKHZhciBvPTAsYT1lLmNvdW50KCk7bzxhO28rKyluW2UuZ2V0UmF3SW5kZXgobyldLmRhdGFJbmRleD1vfSxDQS5jbG9uZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQUEodGhpcy5fZGlyZWN0ZWQpLGU9dGhpcy5ub2RlcyxpPXRoaXMuZWRnZXMsbj0wO248ZS5sZW5ndGg7bisrKXQuYWRkTm9kZShlW25dLmlkLGVbbl0uZGF0YUluZGV4KTtmb3Iobj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO3QuYWRkRWRnZShvLm5vZGUxLmlkLG8ubm9kZTIuaWQsby5kYXRhSW5kZXgpfXJldHVybiB0fSxXYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOldjLGRlZ3JlZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZ2VzLmxlbmd0aH0saW5EZWdyZWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbkVkZ2VzLmxlbmd0aH0sb3V0RGVncmVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0RWRnZXMubGVuZ3RofSxnZXRNb2RlbDpmdW5jdGlvbih0KXtpZighKHRoaXMuZGF0YUluZGV4PDApKXJldHVybiB0aGlzLmhvc3RHcmFwaC5kYXRhLmdldEl0ZW1Nb2RlbCh0aGlzLmRhdGFJbmRleCkuZ2V0TW9kZWwodCl9fSxIYy5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0R3JhcGguZWRnZURhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KS5nZXRNb2RlbCh0KX07dmFyIExBPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2dldFZhbHVlOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXNbdF1bZV07cmV0dXJuIG4uZ2V0KG4uZ2V0RGltZW5zaW9uKGl8fCJ2YWx1ZSIpLHRoaXMuZGF0YUluZGV4KX0sc2V0VmlzdWFsOmZ1bmN0aW9uKGksbil7dGhpcy5kYXRhSW5kZXg+PTAmJnRoaXNbdF1bZV0uc2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCxpLG4pfSxnZXRWaXN1YWw6ZnVuY3Rpb24oaSxuKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LGksbil9LHNldExheW91dDpmdW5jdGlvbihpLG4pe3RoaXMuZGF0YUluZGV4Pj0wJiZ0aGlzW3RdW2VdLnNldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgsaSxuKX0sZ2V0TGF5b3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF1bZV0uZ2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCl9LGdldEdyYXBoaWNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2VdLmdldEl0ZW1HcmFwaGljRWwodGhpcy5kYXRhSW5kZXgpfSxnZXRSYXdJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2VdLmdldFJhd0luZGV4KHRoaXMuZGF0YUluZGV4KX19fTtoKFdjLExBKCJob3N0R3JhcGgiLCJkYXRhIikpLGgoSGMsTEEoImhvc3RHcmFwaCIsImVkZ2VEYXRhIikpLEFBLk5vZGU9V2MsQUEuRWRnZT1IYyxGaShXYyksRmkoSGMpO3ZhciBrQT1mdW5jdGlvbih0LGUsaSxuLG8pe2Zvcih2YXIgYT1uZXcgQUEobikscj0wO3I8dC5sZW5ndGg7cisrKWEuYWRkTm9kZShEKHRbcl0uaWQsdFtyXS5uYW1lLHIpLHIpO2Zvcih2YXIgcz1bXSxsPVtdLHU9MCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBoPWVbcl0sYz1oLnNvdXJjZSxkPWgudGFyZ2V0O2EuYWRkRWRnZShjLGQsdSkmJihsLnB1c2goaCkscy5wdXNoKEQoaC5pZCxjKyIgPiAiK2QpKSx1KyspfXZhciBmLHA9aS5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKTtpZigiY2FydGVzaWFuMmQiPT09cHx8InBvbGFyIj09PXApZj1Icyh0LGkpO2Vsc2V7dmFyIGc9Q2EuZ2V0KHApLG09Q0kodCx7Y29vcmREaW1lbnNpb25zOihnJiYidmlldyIhPT1nLnR5cGU/Zy5kaW1lbnNpb25zfHxbXTpbXSkuY29uY2F0KFsidmFsdWUiXSl9KTsoZj1uZXcgREkobSxpKSkuaW5pdERhdGEodCl9dmFyIHY9bmV3IERJKFsidmFsdWUiXSxpKTtyZXR1cm4gdi5pbml0RGF0YShsLHMpLG8mJm8oZix2KSxiaCh7bWFpbkRhdGE6ZixzdHJ1Y3Q6YSxzdHJ1Y3RBdHRyOiJncmFwaCIsZGF0YXM6e25vZGU6ZixlZGdlOnZ9LGRhdGFzQXR0cjp7bm9kZToiZGF0YSIsZWRnZToiZWRnZURhdGEifX0pLGEudXBkYXRlKCksYX0sUEE9eXMoe3R5cGU6InNlcmllcy5ncmFwaCIsaW5pdDpmdW5jdGlvbih0KXtQQS5zdXBlckFwcGx5KHRoaXMsImluaXQiLGFyZ3VtZW50cyksdGhpcy5sZWdlbmREYXRhUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2F0ZWdvcmllc0RhdGF9LHRoaXMuZmlsbERhdGFUZXh0U3R5bGUodC5lZGdlc3x8dC5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7UEEuc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZWRnZXN8fHQubGlua3MpLHRoaXMuX3VwZGF0ZUNhdGVnb3JpZXNEYXRhKCl9LG1lcmdlRGVmYXVsdEFuZFRoZW1lOmZ1bmN0aW9uKHQpe1BBLnN1cGVyQXBwbHkodGhpcywibWVyZ2VEZWZhdWx0QW5kVGhlbWUiLGFyZ3VtZW50cyksTWkodCxbImVkZ2VMYWJlbCJdLFsic2hvdyJdKX0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmVkZ2VzfHx0LmxpbmtzfHxbXSxuPXQuZGF0YXx8dC5ub2Rlc3x8W10sbz10aGlzO2lmKG4mJmkpcmV0dXJuIGtBKG4saSx0aGlzLCEwLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4odD10aGlzLnBhcnNlUGF0aCh0KSkmJiJsYWJlbCI9PT10WzBdP3I6dGhpcy5wYXJlbnRNb2RlbH10LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsZnVuY3Rpb24odCl7dmFyIGU9by5fY2F0ZWdvcmllc01vZGVsc1t0LmdldFNoYWxsb3coImNhdGVnb3J5IildO3JldHVybiBlJiYoZS5wYXJlbnRNb2RlbD10LnBhcmVudE1vZGVsLHQucGFyZW50TW9kZWw9ZSksdH0pO3ZhciBhPW8uZ2V0TW9kZWwoImVkZ2VMYWJlbCIpLHI9bmV3IHdvKHtsYWJlbDphLm9wdGlvbn0sYS5wYXJlbnRNb2RlbCxlKTtpLndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsZnVuY3Rpb24odCl7cmV0dXJuIHQuY3VzdG9taXplR2V0UGFyZW50KG4pLHR9KX0pLmRhdGF9LGdldEdyYXBoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGF0YSgpLmdyYXBofSxnZXRFZGdlRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdyYXBoKCkuZWRnZURhdGF9LGdldENhdGVnb3JpZXNEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhdGVnb3JpZXNEYXRhfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQsZSxpKXtpZigiZWRnZSI9PT1pKXt2YXIgbj10aGlzLmdldERhdGEoKSxvPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LGkpLGE9bi5ncmFwaC5nZXRFZGdlQnlJbmRleCh0KSxyPW4uZ2V0TmFtZShhLm5vZGUxLmRhdGFJbmRleCkscz1uLmdldE5hbWUoYS5ub2RlMi5kYXRhSW5kZXgpLGw9W107cmV0dXJuIG51bGwhPXImJmwucHVzaChyKSxudWxsIT1zJiZsLnB1c2gocyksbD1abyhsLmpvaW4oIiA+ICIpKSxvLnZhbHVlJiYobCs9IiA6ICIrWm8oby52YWx1ZSkpLGx9cmV0dXJuIFBBLnN1cGVyQXBwbHkodGhpcywiZm9ybWF0VG9vbHRpcCIsYXJndW1lbnRzKX0sX3VwZGF0ZUNhdGVnb3JpZXNEYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9Zih0aGlzLm9wdGlvbi5jYXRlZ29yaWVzfHxbXSxmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dC52YWx1ZT90OmEoe3ZhbHVlOjB9LHQpfSksZT1uZXcgREkoWyJ2YWx1ZSJdLHRoaXMpO2UuaW5pdERhdGEodCksdGhpcy5fY2F0ZWdvcmllc0RhdGE9ZSx0aGlzLl9jYXRlZ29yaWVzTW9kZWxzPWUubWFwQXJyYXkoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0SXRlbU1vZGVsKHQsITApfSl9LHNldFpvb206ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxzZXRDZW50ZXI6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGlzQW5pbWF0aW9uRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBQQS5zdXBlckNhbGwodGhpcywiaXNBbmltYXRpb25FbmFibGVkIikmJiEoImZvcmNlIj09PXRoaXMuZ2V0KCJsYXlvdXQiKSYmdGhpcy5nZXQoImZvcmNlLmxheW91dEFuaW1hdGlvbiIpKX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InZpZXciLGxlZ2VuZEhvdmVyTGluazohMCxob3ZlckFuaW1hdGlvbjohMCxsYXlvdXQ6bnVsbCxmb2N1c05vZGVBZGphY2VuY3k6ITEsY2lyY3VsYXI6e3JvdGF0ZUxhYmVsOiExfSxmb3JjZTp7aW5pdExheW91dDpudWxsLHJlcHVsc2lvbjpbMCw1MF0sZ3Jhdml0eTouMSxlZGdlTGVuZ3RoOjMwLGxheW91dEFuaW1hdGlvbjohMH0sbGVmdDoiY2VudGVyIix0b3A6ImNlbnRlciIsc3ltYm9sOiJjaXJjbGUiLHN5bWJvbFNpemU6MTAsZWRnZVN5bWJvbDpbIm5vbmUiLCJub25lIl0sZWRnZVN5bWJvbFNpemU6MTAsZWRnZUxhYmVsOntwb3NpdGlvbjoibWlkZGxlIn0sZHJhZ2dhYmxlOiExLHJvYW06ITEsY2VudGVyOm51bGwsem9vbToxLG5vZGVTY2FsZVJhdGlvOi42LGxhYmVsOntzaG93OiExLGZvcm1hdHRlcjoie2J9In0saXRlbVN0eWxlOnt9LGxpbmVTdHlsZTp7Y29sb3I6IiNhYWEiLHdpZHRoOjEsY3VydmVuZXNzOjAsb3BhY2l0eTouNX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfX19fSksTkE9WGIucHJvdG90eXBlLE9BPXFiLnByb3RvdHlwZSxFQT1Fbih7dHlwZToiZWMtbGluZSIsc3R5bGU6e3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfSxzaGFwZTp7eDE6MCx5MTowLHgyOjAseTI6MCxwZXJjZW50OjEsY3B4MTpudWxsLGNweTE6bnVsbH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7KFpjKGUpP05BOk9BKS5idWlsZFBhdGgodCxlKX0scG9pbnRBdDpmdW5jdGlvbih0KXtyZXR1cm4gWmModGhpcy5zaGFwZSk/TkEucG9pbnRBdC5jYWxsKHRoaXMsdCk6T0EucG9pbnRBdC5jYWxsKHRoaXMsdCl9LHRhbmdlbnRBdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlLGk9WmMoZSk/W2UueDItZS54MSxlLnkyLWUueTFdOk9BLnRhbmdlbnRBdC5jYWxsKHRoaXMsdCk7cmV0dXJuIHEoaSxpKX19KSx6QT1bImZyb21TeW1ib2wiLCJ0b1N5bWJvbCJdLFJBPXFjLnByb3RvdHlwZTtSQS5iZWZvcmVVcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5jaGlsZE9mTmFtZSgiZnJvbVN5bWJvbCIpLGk9dC5jaGlsZE9mTmFtZSgidG9TeW1ib2wiKSxuPXQuY2hpbGRPZk5hbWUoImxhYmVsIik7aWYoZXx8aXx8IW4uaWdub3JlKXtmb3IodmFyIG89MSxhPXRoaXMucGFyZW50O2E7KWEuc2NhbGUmJihvLz1hLnNjYWxlWzBdKSxhPWEucGFyZW50O3ZhciByPXQuY2hpbGRPZk5hbWUoImxpbmUiKTtpZih0aGlzLl9fZGlydHl8fHIuX19kaXJ0eSl7dmFyIHM9ci5zaGFwZS5wZXJjZW50LGw9ci5wb2ludEF0KDApLHU9ci5wb2ludEF0KHMpLGg9VShbXSx1LGwpO2lmKHEoaCxoKSxlJiYoZS5hdHRyKCJwb3NpdGlvbiIsbCksYz1yLnRhbmdlbnRBdCgwKSxlLmF0dHIoInJvdGF0aW9uIixNYXRoLlBJLzItTWF0aC5hdGFuMihjWzFdLGNbMF0pKSxlLmF0dHIoInNjYWxlIixbbypzLG8qc10pKSxpKXtpLmF0dHIoInBvc2l0aW9uIix1KTt2YXIgYz1yLnRhbmdlbnRBdCgxKTtpLmF0dHIoInJvdGF0aW9uIiwtTWF0aC5QSS8yLU1hdGguYXRhbjIoY1sxXSxjWzBdKSksaS5hdHRyKCJzY2FsZSIsW28qcyxvKnNdKX1pZighbi5pZ25vcmUpe24uYXR0cigicG9zaXRpb24iLHUpO3ZhciBkLGYscCxnPTUqbztpZigiZW5kIj09PW4uX19wb3NpdGlvbilkPVtoWzBdKmcrdVswXSxoWzFdKmcrdVsxXV0sZj1oWzBdPi44PyJsZWZ0IjpoWzBdPC0uOD8icmlnaHQiOiJjZW50ZXIiLHA9aFsxXT4uOD8idG9wIjpoWzFdPC0uOD8iYm90dG9tIjoibWlkZGxlIjtlbHNlIGlmKCJtaWRkbGUiPT09bi5fX3Bvc2l0aW9uKXt2YXIgbT1zLzIsdj1bKGM9ci50YW5nZW50QXQobSkpWzFdLC1jWzBdXSx5PXIucG9pbnRBdChtKTt2WzFdPjAmJih2WzBdPS12WzBdLHZbMV09LXZbMV0pLGQ9W3lbMF0rdlswXSpnLHlbMV0rdlsxXSpnXSxmPSJjZW50ZXIiLHA9ImJvdHRvbSI7dmFyIHg9LU1hdGguYXRhbjIoY1sxXSxjWzBdKTt1WzBdPGxbMF0mJih4PU1hdGguUEkreCksbi5hdHRyKCJyb3RhdGlvbiIseCl9ZWxzZSBkPVstaFswXSpnK2xbMF0sLWhbMV0qZytsWzFdXSxmPWhbMF0+Ljg/InJpZ2h0IjpoWzBdPC0uOD8ibGVmdCI6ImNlbnRlciIscD1oWzFdPi44PyJib3R0b20iOmhbMV08LS44PyJ0b3AiOiJtaWRkbGUiO24uYXR0cih7c3R5bGU6e3RleHRWZXJ0aWNhbEFsaWduOm4uX192ZXJ0aWNhbEFsaWdufHxwLHRleHRBbGlnbjpuLl9fdGV4dEFsaWdufHxmfSxwb3NpdGlvbjpkLHNjYWxlOltvLG9dfSl9fX19LFJBLl9jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10Lmhvc3RNb2RlbCxvPVhjKHQuZ2V0SXRlbUxheW91dChlKSk7by5zaGFwZS5wZXJjZW50PTAscG8obyx7c2hhcGU6e3BlcmNlbnQ6MX19LG4sZSksdGhpcy5hZGQobyk7dmFyIGE9bmV3IHpiKHtuYW1lOiJsYWJlbCJ9KTt0aGlzLmFkZChhKSxkKHpBLGZ1bmN0aW9uKGkpe3ZhciBuPWpjKGksdCxlKTt0aGlzLmFkZChuKSx0aGlzW1VjKGkpXT10LmdldEl0ZW1WaXN1YWwoZSxpKX0sdGhpcyksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxpKX0sUkEudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dC5ob3N0TW9kZWwsbz10aGlzLmNoaWxkT2ZOYW1lKCJsaW5lIiksYT10LmdldEl0ZW1MYXlvdXQoZSkscj17c2hhcGU6e319O1ljKHIuc2hhcGUsYSksZm8obyxyLG4sZSksZCh6QSxmdW5jdGlvbihpKXt2YXIgbj10LmdldEl0ZW1WaXN1YWwoZSxpKSxvPVVjKGkpO2lmKHRoaXNbb10hPT1uKXt0aGlzLnJlbW92ZSh0aGlzLmNoaWxkT2ZOYW1lKGkpKTt2YXIgYT1qYyhpLHQsZSk7dGhpcy5hZGQoYSl9dGhpc1tvXT1ufSx0aGlzKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLGkpfSxSQS5fdXBkYXRlQ29tbW9uU3RsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10Lmhvc3RNb2RlbCxvPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKSxhPWkmJmkubGluZVN0eWxlLHM9aSYmaS5ob3ZlckxpbmVTdHlsZSxsPWkmJmkubGFiZWxNb2RlbCx1PWkmJmkuaG92ZXJMYWJlbE1vZGVsO2lmKCFpfHx0Lmhhc0l0ZW1PcHRpb24pe3ZhciBoPXQuZ2V0SXRlbU1vZGVsKGUpO2E9aC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkscz1oLmdldE1vZGVsKCJlbXBoYXNpcy5saW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxsPWguZ2V0TW9kZWwoImxhYmVsIiksdT1oLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpfXZhciBjPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpLGY9QSh0LmdldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIpLGEub3BhY2l0eSwxKTtvLnVzZVN0eWxlKHIoe3N0cm9rZU5vU2NhbGU6ITAsZmlsbDoibm9uZSIsc3Ryb2tlOmMsb3BhY2l0eTpmfSxhKSksby5ob3ZlclN0eWxlPXMsZCh6QSxmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkT2ZOYW1lKHQpO2UmJihlLnNldENvbG9yKGMpLGUuc2V0U3R5bGUoe29wYWNpdHk6Zn0pKX0sdGhpcyk7dmFyIHAsZyxtLHY9bC5nZXRTaGFsbG93KCJzaG93IikseT11LmdldFNoYWxsb3coInNob3ciKSx4PXRoaXMuY2hpbGRPZk5hbWUoImxhYmVsIik7aWYodnx8eSl7aWYocD1jfHwiIzAwMCIsbnVsbD09KGc9bi5nZXRGb3JtYXR0ZWRMYWJlbChlLCJub3JtYWwiLHQuZGF0YVR5cGUpKSl7dmFyIF89bi5nZXRSYXdWYWx1ZShlKTtnPW51bGw9PV8/dC5nZXROYW1lKGUpOmlzRmluaXRlKF8pP0FvKF8pOl99bT1UKG4uZ2V0Rm9ybWF0dGVkTGFiZWwoZSwiZW1waGFzaXMiLHQuZGF0YVR5cGUpLGcpfWlmKHYpe3ZhciB3PW5vKHguc3R5bGUsbCx7dGV4dDpnfSx7YXV0b0NvbG9yOnB9KTt4Ll9fdGV4dEFsaWduPXcudGV4dEFsaWduLHguX192ZXJ0aWNhbEFsaWduPXcudGV4dFZlcnRpY2FsQWxpZ24seC5fX3Bvc2l0aW9uPWwuZ2V0KCJwb3NpdGlvbiIpfHwibWlkZGxlIn1lbHNlIHguc2V0U3R5bGUoInRleHQiLG51bGwpO3guaG92ZXJTdHlsZT15P3t0ZXh0Om0sdGV4dEZpbGw6dS5nZXRUZXh0Q29sb3IoITApLGZvbnRTdHlsZTp1LmdldFNoYWxsb3coImZvbnRTdHlsZSIpLGZvbnRXZWlnaHQ6dS5nZXRTaGFsbG93KCJmb250V2VpZ2h0IiksZm9udFNpemU6dS5nZXRTaGFsbG93KCJmb250U2l6ZSIpLGZvbnRGYW1pbHk6dS5nZXRTaGFsbG93KCJmb250RmFtaWx5Iil9Ont0ZXh0Om51bGx9LHguaWdub3JlPSF2JiYheSxlbyh0aGlzKX0sUkEuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJlbXBoYXNpcyIpfSxSQS5kb3ducGxheT1mdW5jdGlvbigpe3RoaXMudHJpZ2dlcigibm9ybWFsIil9LFJBLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0TGluZVBvaW50cyh0LmdldEl0ZW1MYXlvdXQoZSkpfSxSQS5zZXRMaW5lUG9pbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2hpbGRPZk5hbWUoImxpbmUiKTtZYyhlLnNoYXBlLHQpLGUuZGlydHkoKX0sdShxYyxMXyk7dmFyIEJBPSRjLnByb3RvdHlwZTtCQS5pc1BlcnNpc3RlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sQkEudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9ZS5ncm91cCxuPWUuX2xpbmVEYXRhO2UuX2xpbmVEYXRhPXQsbnx8aS5yZW1vdmVBbGwoKTt2YXIgbz1RYyh0KTt0LmRpZmYobikuYWRkKGZ1bmN0aW9uKGkpe0tjKGUsdCxpLG8pfSkudXBkYXRlKGZ1bmN0aW9uKGksYSl7SmMoZSxuLHQsYSxpLG8pfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe2kucmVtb3ZlKG4uZ2V0SXRlbUdyYXBoaWNFbCh0KSl9KS5leGVjdXRlKCl9LEJBLnVwZGF0ZUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xpbmVEYXRhO3QuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24oZSxpKXtlLnVwZGF0ZUxheW91dCh0LGkpfSx0aGlzKX0sQkEuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3Nlcmllc1Njb3BlPVFjKHQpLHRoaXMuX2xpbmVEYXRhPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sQkEuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dC5zdGFydDtpPHQuZW5kO2krKylpZihlZChlLmdldEl0ZW1MYXlvdXQoaSkpKXt2YXIgbj1uZXcgdGhpcy5fY3RvcihlLGksdGhpcy5fc2VyaWVzU2NvcGUpO24udHJhdmVyc2UoZnVuY3Rpb24odCl7dC5pc0dyb3VwfHwodC5pbmNyZW1lbnRhbD10LnVzZUhvdmVyTGF5ZXI9ITApfSksdGhpcy5ncm91cC5hZGQobil9fSxCQS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdGhpcy5faW5jcmVtZW50YWw9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxCQS5fY2xlYXJJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2luY3JlbWVudGFsO3QmJnQuY2xlYXJEaXNwbGF5YmxlcygpfTt2YXIgVkE9W10sR0E9W10sRkE9W10sV0E9UWksSEE9WHgsWkE9TWF0aC5hYnMsVUE9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBlPXQuZ2V0VmlzdWFsKCJzeW1ib2xTaXplIik7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheSYmKGU9KGVbMF0rZVsxXSkvMiksZX12YXIgbj1bXSxvPW9uLGE9W1tdLFtdLFtdXSxyPVtbXSxbXV0scz1bXTtlLz0yLHQuZWFjaEVkZ2UoZnVuY3Rpb24odCxsKXt2YXIgdT10LmdldExheW91dCgpLGg9dC5nZXRWaXN1YWwoImZyb21TeW1ib2wiKSxjPXQuZ2V0VmlzdWFsKCJ0b1N5bWJvbCIpO3UuX19vcmlnaW5hbHx8KHUuX19vcmlnaW5hbD1bRih1WzBdKSxGKHVbMV0pXSx1WzJdJiZ1Ll9fb3JpZ2luYWwucHVzaChGKHVbMl0pKSk7dmFyIGQ9dS5fX29yaWdpbmFsO2lmKG51bGwhPXVbMl0pe2lmKEcoYVswXSxkWzBdKSxHKGFbMV0sZFsyXSksRyhhWzJdLGRbMV0pLGgmJiJub25lIiE9aCl7dmFyIGY9aSh0Lm5vZGUxKSxwPWlkKGEsZFswXSxmKmUpO28oYVswXVswXSxhWzFdWzBdLGFbMl1bMF0scCxuKSxhWzBdWzBdPW5bM10sYVsxXVswXT1uWzRdLG8oYVswXVsxXSxhWzFdWzFdLGFbMl1bMV0scCxuKSxhWzBdWzFdPW5bM10sYVsxXVsxXT1uWzRdfWlmKGMmJiJub25lIiE9Yyl7dmFyIGY9aSh0Lm5vZGUyKSxwPWlkKGEsZFsxXSxmKmUpO28oYVswXVswXSxhWzFdWzBdLGFbMl1bMF0scCxuKSxhWzFdWzBdPW5bMV0sYVsyXVswXT1uWzJdLG8oYVswXVsxXSxhWzFdWzFdLGFbMl1bMV0scCxuKSxhWzFdWzFdPW5bMV0sYVsyXVsxXT1uWzJdfUcodVswXSxhWzBdKSxHKHVbMV0sYVsyXSksRyh1WzJdLGFbMV0pfWVsc2V7aWYoRyhyWzBdLGRbMF0pLEcoclsxXSxkWzFdKSxVKHMsclsxXSxyWzBdKSxxKHMscyksaCYmIm5vbmUiIT1oKXtmPWkodC5ub2RlMSk7WihyWzBdLHJbMF0scyxmKmUpfWlmKGMmJiJub25lIiE9Yyl7Zj1pKHQubm9kZTIpO1ooclsxXSxyWzFdLHMsLWYqZSl9Ryh1WzBdLHJbMF0pLEcodVsxXSxyWzFdKX19KX0sakE9WyJpdGVtU3R5bGUiLCJvcGFjaXR5Il0sWEE9WyJsaW5lU3R5bGUiLCJvcGFjaXR5Il07eHMoe3R5cGU6ImdyYXBoIixpbml0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IEFsLG49bmV3ICRjLG89dGhpcy5ncm91cDt0aGlzLl9jb250cm9sbGVyPW5ldyBhaChlLmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6b30sby5hZGQoaS5ncm91cCksby5hZGQobi5ncm91cCksdGhpcy5fc3ltYm9sRHJhdz1pLHRoaXMuX2xpbmVEcmF3PW4sdGhpcy5fZmlyc3RSZW5kZXI9ITB9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtO3RoaXMuX21vZGVsPXQsdGhpcy5fbm9kZVNjYWxlUmF0aW89dC5nZXQoIm5vZGVTY2FsZVJhdGlvIik7dmFyIG89dGhpcy5fc3ltYm9sRHJhdyxhPXRoaXMuX2xpbmVEcmF3LHI9dGhpcy5ncm91cDtpZigidmlldyI9PT1uLnR5cGUpe3ZhciBzPXtwb3NpdGlvbjpuLnBvc2l0aW9uLHNjYWxlOm4uc2NhbGV9O3RoaXMuX2ZpcnN0UmVuZGVyP3IuYXR0cihzKTpmbyhyLHMsdCl9VUEodC5nZXRHcmFwaCgpLHRoaXMuX2dldE5vZGVHbG9iYWxTY2FsZSh0KSk7dmFyIGw9dC5nZXREYXRhKCk7by51cGRhdGVEYXRhKGwpO3ZhciB1PXQuZ2V0RWRnZURhdGEoKTthLnVwZGF0ZURhdGEodSksdGhpcy5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSgpLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLGkpLGNsZWFyVGltZW91dCh0aGlzLl9sYXlvdXRUaW1lb3V0KTt2YXIgaD10LmZvcmNlTGF5b3V0LGM9dC5nZXQoImZvcmNlLmxheW91dEFuaW1hdGlvbiIpO2gmJnRoaXMuX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb24oaCxjKSxsLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKGUsbil7dmFyIG89bC5nZXRJdGVtTW9kZWwobik7ZS5vZmYoImRyYWciKS5vZmYoImRyYWdlbmQiKTt2YXIgYT1sLmdldEl0ZW1Nb2RlbChuKS5nZXQoImRyYWdnYWJsZSIpO2EmJmUub24oImRyYWciLGZ1bmN0aW9uKCl7aCYmKGgud2FybVVwKCksIXRoaXMuX2xheW91dGluZyYmdGhpcy5fc3RhcnRGb3JjZUxheW91dEl0ZXJhdGlvbihoLGMpLGguc2V0Rml4ZWQobiksbC5zZXRJdGVtTGF5b3V0KG4sZS5wb3NpdGlvbikpfSx0aGlzKS5vbigiZHJhZ2VuZCIsZnVuY3Rpb24oKXtoJiZoLnNldFVuZml4ZWQobil9LHRoaXMpLGUuc2V0RHJhZ2dhYmxlKGEmJmgpLGUub2ZmKCJtb3VzZW92ZXIiLGUuX19mb2N1c05vZGVBZGphY2VuY3kpLGUub2ZmKCJtb3VzZW91dCIsZS5fX3VuZm9jdXNOb2RlQWRqYWNlbmN5KSxvLmdldCgiZm9jdXNOb2RlQWRqYWNlbmN5IikmJihlLm9uKCJtb3VzZW92ZXIiLGUuX19mb2N1c05vZGVBZGphY2VuY3k9ZnVuY3Rpb24oKXtpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJmb2N1c05vZGVBZGphY2VuY3kiLHNlcmllc0lkOnQuaWQsZGF0YUluZGV4OmUuZGF0YUluZGV4fSl9KSxlLm9uKCJtb3VzZW91dCIsZS5fX3VuZm9jdXNOb2RlQWRqYWNlbmN5PWZ1bmN0aW9uKCl7aS5kaXNwYXRjaEFjdGlvbih7dHlwZToidW5mb2N1c05vZGVBZGphY2VuY3kiLHNlcmllc0lkOnQuaWR9KX0pKX0sdGhpcyksbC5ncmFwaC5lYWNoRWRnZShmdW5jdGlvbihlKXt2YXIgbj1lLmdldEdyYXBoaWNFbCgpO24ub2ZmKCJtb3VzZW92ZXIiLG4uX19mb2N1c05vZGVBZGphY2VuY3kpLG4ub2ZmKCJtb3VzZW91dCIsbi5fX3VuZm9jdXNOb2RlQWRqYWNlbmN5KSxlLmdldE1vZGVsKCkuZ2V0KCJmb2N1c05vZGVBZGphY2VuY3kiKSYmKG4ub24oIm1vdXNlb3ZlciIsbi5fX2ZvY3VzTm9kZUFkamFjZW5jeT1mdW5jdGlvbigpe2kuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImZvY3VzTm9kZUFkamFjZW5jeSIsc2VyaWVzSWQ6dC5pZCxlZGdlRGF0YUluZGV4OmUuZGF0YUluZGV4fSl9KSxuLm9uKCJtb3VzZW91dCIsbi5fX3VuZm9jdXNOb2RlQWRqYWNlbmN5PWZ1bmN0aW9uKCl7aS5kaXNwYXRjaEFjdGlvbih7dHlwZToidW5mb2N1c05vZGVBZGphY2VuY3kiLHNlcmllc0lkOnQuaWR9KX0pKX0pO3ZhciBkPSJjaXJjdWxhciI9PT10LmdldCgibGF5b3V0IikmJnQuZ2V0KCJjaXJjdWxhci5yb3RhdGVMYWJlbCIpLGY9bC5nZXRMYXlvdXQoImN4IikscD1sLmdldExheW91dCgiY3kiKTtsLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRTeW1ib2xQYXRoKCk7aWYoZCl7dmFyIG49bC5nZXRJdGVtTGF5b3V0KGUpLG89TWF0aC5hdGFuMihuWzFdLXAsblswXS1mKTtvPDAmJihvPTIqTWF0aC5QSStvKTt2YXIgYT1uWzBdPGY7YSYmKG8tPU1hdGguUEkpO3ZhciByPWE/ImxlZnQiOiJyaWdodCI7aS5zZXRTdHlsZSh7dGV4dFJvdGF0aW9uOi1vLHRleHRQb3NpdGlvbjpyLHRleHRPcmlnaW46ImNlbnRlciJ9KSxpLmhvdmVyU3R5bGUmJihpLmhvdmVyU3R5bGUudGV4dFBvc2l0aW9uPXIpfWVsc2UgaS5zZXRTdHlsZSh7dGV4dFJvdGF0aW9uOjB9KX0pLHRoaXMuX2ZpcnN0UmVuZGVyPSExfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5kaXNwb3NlKCksdGhpcy5fY29udHJvbGxlckhvc3Q9e319LGZvY3VzTm9kZUFkamFjZW5jeTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLl9tb2RlbC5nZXREYXRhKCkuZ3JhcGgsYT1uLmRhdGFJbmRleCxyPW4uZWRnZURhdGFJbmRleCxzPW8uZ2V0Tm9kZUJ5SW5kZXgoYSksbD1vLmdldEVkZ2VCeUluZGV4KHIpOyhzfHxsKSYmKG8uZWFjaE5vZGUoZnVuY3Rpb24odCl7b2QodCxqQSwuMSl9KSxvLmVhY2hFZGdlKGZ1bmN0aW9uKHQpe29kKHQsWEEsLjEpfSkscyYmKGFkKHMsakEpLGQocy5lZGdlcyxmdW5jdGlvbih0KXt0LmRhdGFJbmRleDwwfHwoYWQodCxYQSksYWQodC5ub2RlMSxqQSksYWQodC5ub2RlMixqQSkpfSkpLGwmJihhZChsLFhBKSxhZChsLm5vZGUxLGpBKSxhZChsLm5vZGUyLGpBKSkpfSx1bmZvY3VzTm9kZUFkamFjZW5jeTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLl9tb2RlbC5nZXREYXRhKCkuZ3JhcGg7by5lYWNoTm9kZShmdW5jdGlvbih0KXtvZCh0LGpBKX0pLG8uZWFjaEVkZ2UoZnVuY3Rpb24odCl7b2QodCxYQSl9KX0sX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzOyFmdW5jdGlvbiBuKCl7dC5zdGVwKGZ1bmN0aW9uKHQpe2kudXBkYXRlTGF5b3V0KGkuX21vZGVsKSwoaS5fbGF5b3V0aW5nPSF0KSYmKGU/aS5fbGF5b3V0VGltZW91dD1zZXRUaW1lb3V0KG4sMTYpOm4oKSl9KX0oKX0sX3VwZGF0ZUNvbnRyb2xsZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2NvbnRyb2xsZXIsbz10aGlzLl9jb250cm9sbGVySG9zdCxhPXRoaXMuZ3JvdXA7bi5zZXRQb2ludGVyQ2hlY2tlcihmdW5jdGlvbihlLG4sbyl7dmFyIHI9YS5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gci5hcHBseVRyYW5zZm9ybShhLnRyYW5zZm9ybSksci5jb250YWluKG4sbykmJiFnaChlLGksdCl9KSwidmlldyI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZT8obi5lbmFibGUodC5nZXQoInJvYW0iKSksby56b29tTGltaXQ9dC5nZXQoInNjYWxlTGltaXQiKSxvLnpvb209dC5jb29yZGluYXRlU3lzdGVtLmdldFpvb20oKSxuLm9mZigicGFuIikub2ZmKCJ6b29tIikub24oInBhbiIsZnVuY3Rpb24oZSxuKXtmaChvLGUsbiksaS5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOiJncmFwaFJvYW0iLGR4OmUsZHk6bn0pfSkub24oInpvb20iLGZ1bmN0aW9uKGUsbixhKXtwaChvLGUsbixhKSxpLmRpc3BhdGNoQWN0aW9uKHtzZXJpZXNJZDp0LmlkLHR5cGU6ImdyYXBoUm9hbSIsem9vbTplLG9yaWdpblg6bixvcmlnaW5ZOmF9KSx0aGlzLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCksVUEodC5nZXRHcmFwaCgpLHRoaXMuX2dldE5vZGVHbG9iYWxTY2FsZSh0KSksdGhpcy5fbGluZURyYXcudXBkYXRlTGF5b3V0KCl9LHRoaXMpKTpuLmRpc2FibGUoKX0sX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tb2RlbCxlPXQuZ2V0RGF0YSgpLGk9dGhpcy5fZ2V0Tm9kZUdsb2JhbFNjYWxlKHQpLG49W2ksaV07ZS5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0LGUpe3QuYXR0cigic2NhbGUiLG4pfSl9LF9nZXROb2RlR2xvYmFsU2NhbGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCJ2aWV3IiE9PWUudHlwZSlyZXR1cm4gMTt2YXIgaT10aGlzLl9ub2RlU2NhbGVSYXRpbyxuPWUuc2NhbGUsbz1uJiZuWzBdfHwxO3JldHVybigoZS5nZXRab29tKCktMSkqaSsxKS9vfSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24odCl7VUEodC5nZXRHcmFwaCgpLHRoaXMuX2dldE5vZGVHbG9iYWxTY2FsZSh0KSksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQoKSx0aGlzLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKCl9fSksaHMoe3R5cGU6ImdyYXBoUm9hbSIsZXZlbnQ6ImdyYXBoUm9hbSIsdXBkYXRlOiJub25lIn0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUpe3ZhciBpPV9oKGUuY29vcmRpbmF0ZVN5c3RlbSx0KTtlLnNldENlbnRlciYmZS5zZXRDZW50ZXIoaS5jZW50ZXIpLGUuc2V0Wm9vbSYmZS5zZXRab29tKGkuem9vbSl9KX0pLGhzKHt0eXBlOiJmb2N1c05vZGVBZGphY2VuY3kiLGV2ZW50OiJmb2N1c05vZGVBZGphY2VuY3kiLHVwZGF0ZToic2VyaWVzLmdyYXBoOmZvY3VzTm9kZUFkamFjZW5jeSJ9LGZ1bmN0aW9uKCl7fSksaHMoe3R5cGU6InVuZm9jdXNOb2RlQWRqYWNlbmN5IixldmVudDoidW5mb2N1c05vZGVBZGphY2VuY3kiLHVwZGF0ZToic2VyaWVzLmdyYXBoOnVuZm9jdXNOb2RlQWRqYWNlbmN5In0sZnVuY3Rpb24oKXt9KTt2YXIgWUE9Wjt1cyhmdW5jdGlvbih0KXt2YXIgZT10LmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2UmJmUubGVuZ3RoJiZ0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXt2YXIgaT10LmdldENhdGVnb3JpZXNEYXRhKCksbj10LmdldEdyYXBoKCkuZGF0YSxvPWkubWFwQXJyYXkoaS5nZXROYW1lKTtuLmZpbHRlclNlbGYoZnVuY3Rpb24odCl7dmFyIGk9bi5nZXRJdGVtTW9kZWwodCkuZ2V0U2hhbGxvdygiY2F0ZWdvcnkiKTtpZihudWxsIT1pKXsibnVtYmVyIj09dHlwZW9mIGkmJihpPW9baV0pO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKWlmKCFlW2FdLmlzU2VsZWN0ZWQoaSkpcmV0dXJuITF9cmV0dXJuITB9KX0sdGhpcyl9KSxmcyhrRCgiZ3JhcGgiLCJjaXJjbGUiLG51bGwpKSxmcyhmdW5jdGlvbih0KXt2YXIgZT17fTt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXt2YXIgaT10LmdldENhdGVnb3JpZXNEYXRhKCksbj10LmdldERhdGEoKSxvPXt9O2kuZWFjaChmdW5jdGlvbihuKXt2YXIgYT1pLmdldE5hbWUobik7b1siZWMtIithXT1uO3ZhciByPWkuZ2V0SXRlbU1vZGVsKG4pLmdldCgiaXRlbVN0eWxlLmNvbG9yIil8fHQuZ2V0Q29sb3JGcm9tUGFsZXR0ZShhLGUpO2kuc2V0SXRlbVZpc3VhbChuLCJjb2xvciIscil9KSxpLmNvdW50KCkmJm4uZWFjaChmdW5jdGlvbih0KXt2YXIgZT1uLmdldEl0ZW1Nb2RlbCh0KS5nZXRTaGFsbG93KCJjYXRlZ29yeSIpO251bGwhPWUmJigic3RyaW5nIj09dHlwZW9mIGUmJihlPW9bImVjLSIrZV0pLG4uZ2V0SXRlbVZpc3VhbCh0LCJjb2xvciIsITApfHxuLnNldEl0ZW1WaXN1YWwodCwiY29sb3IiLGkuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpKSl9KX0pfSksZnMoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRHcmFwaCgpLGk9dC5nZXRFZGdlRGF0YSgpLG49cmQodC5nZXQoImVkZ2VTeW1ib2wiKSksbz1yZCh0LmdldCgiZWRnZVN5bWJvbFNpemUiKSksYT0ibGluZVN0eWxlLmNvbG9yIi5zcGxpdCgiLiIpLHI9ImxpbmVTdHlsZS5vcGFjaXR5Ii5zcGxpdCgiLiIpO2kuc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixuJiZuWzBdKSxpLnNldFZpc3VhbCgidG9TeW1ib2wiLG4mJm5bMV0pLGkuc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsbyYmb1swXSksaS5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsbyYmb1sxXSksaS5zZXRWaXN1YWwoImNvbG9yIix0LmdldChhKSksaS5zZXRWaXN1YWwoIm9wYWNpdHkiLHQuZ2V0KHIpKSxpLmVhY2goZnVuY3Rpb24odCl7dmFyIG49aS5nZXRJdGVtTW9kZWwodCksbz1lLmdldEVkZ2VCeUluZGV4KHQpLHM9cmQobi5nZXRTaGFsbG93KCJzeW1ib2wiLCEwKSksbD1yZChuLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSksdT1uLmdldChhKSxoPW4uZ2V0KHIpO3N3aXRjaCh1KXtjYXNlInNvdXJjZSI6dT1vLm5vZGUxLmdldFZpc3VhbCgiY29sb3IiKTticmVhaztjYXNlInRhcmdldCI6dT1vLm5vZGUyLmdldFZpc3VhbCgiY29sb3IiKX1zWzBdJiZvLnNldFZpc3VhbCgiZnJvbVN5bWJvbCIsc1swXSksc1sxXSYmby5zZXRWaXN1YWwoInRvU3ltYm9sIixzWzFdKSxsWzBdJiZvLnNldFZpc3VhbCgiZnJvbVN5bWJvbFNpemUiLGxbMF0pLGxbMV0mJm8uc2V0VmlzdWFsKCJ0b1N5bWJvbFNpemUiLGxbMV0pLG8uc2V0VmlzdWFsKCJjb2xvciIsdSksby5zZXRWaXN1YWwoIm9wYWNpdHkiLGgpfSl9KX0pLGRzKGZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoImxheW91dCIpLGk9dC5jb29yZGluYXRlU3lzdGVtO2lmKGkmJiJ2aWV3IiE9PWkudHlwZSl7dmFyIG49dC5nZXREYXRhKCksbz1bXTtkKGkuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtvPW8uY29uY2F0KG4ubWFwRGltZW5zaW9uKHQsITApKX0pO2Zvcih2YXIgYT0wO2E8bi5jb3VudCgpO2ErKyl7Zm9yKHZhciByPVtdLHM9ITEsbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1uLmdldChvW2xdLGEpO2lzTmFOKHUpfHwocz0hMCksci5wdXNoKHUpfXM/bi5zZXRJdGVtTGF5b3V0KGEsaS5kYXRhVG9Qb2ludChyKSk6bi5zZXRJdGVtTGF5b3V0KGEsW05hTixOYU5dKX1sZChuLmdyYXBoKX1lbHNlIGUmJiJub25lIiE9PWV8fHNkKHQpfSl9KSxkcyhmdW5jdGlvbih0KXt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXsiY2lyY3VsYXIiPT09dC5nZXQoImxheW91dCIpJiZ1ZCh0KX0pfSksZHMoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFlfHwidmlldyI9PT1lLnR5cGUpaWYoImZvcmNlIj09PXQuZ2V0KCJsYXlvdXQiKSl7dmFyIGk9dC5wcmVzZXJ2ZWRQb2ludHN8fHt9LG49dC5nZXRHcmFwaCgpLG89bi5kYXRhLGE9bi5lZGdlRGF0YSxyPXQuZ2V0TW9kZWwoImZvcmNlIikscz1yLmdldCgiaW5pdExheW91dCIpO3QucHJlc2VydmVkUG9pbnRzP28uZWFjaChmdW5jdGlvbih0KXt2YXIgZT1vLmdldElkKHQpO28uc2V0SXRlbUxheW91dCh0LGlbZV18fFtOYU4sTmFOXSl9KTpzJiYibm9uZSIhPT1zPyJjaXJjdWxhciI9PT1zJiZ1ZCh0KTpzZCh0KTt2YXIgbD1vLmdldERhdGFFeHRlbnQoInZhbHVlIiksdT1hLmdldERhdGFFeHRlbnQoInZhbHVlIiksaD1yLmdldCgicmVwdWxzaW9uIiksYz1yLmdldCgiZWRnZUxlbmd0aCIpO3koaCl8fChoPVtoLGhdKSx5KGMpfHwoYz1bYyxjXSksYz1bY1sxXSxjWzBdXTt2YXIgZD1vLm1hcEFycmF5KCJ2YWx1ZSIsZnVuY3Rpb24odCxlKXt2YXIgaT1vLmdldEl0ZW1MYXlvdXQoZSksbj1Ebyh0LGwsaCk7cmV0dXJuIGlzTmFOKG4pJiYobj0oaFswXStoWzFdKS8yKSx7dzpuLHJlcDpuLGZpeGVkOm8uZ2V0SXRlbU1vZGVsKGUpLmdldCgiZml4ZWQiKSxwOiFpfHxpc05hTihpWzBdKXx8aXNOYU4oaVsxXSk/bnVsbDppfX0pLGY9YS5tYXBBcnJheSgidmFsdWUiLGZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5nZXRFZGdlQnlJbmRleChlKSxvPURvKHQsdSxjKTtyZXR1cm4gaXNOYU4obykmJihvPShjWzBdK2NbMV0pLzIpLHtuMTpkW2kubm9kZTEuZGF0YUluZGV4XSxuMjpkW2kubm9kZTIuZGF0YUluZGV4XSxkOm8sY3VydmVuZXNzOmkuZ2V0TW9kZWwoKS5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKXx8MH19KSxwPShlPXQuY29vcmRpbmF0ZVN5c3RlbSkuZ2V0Qm91bmRpbmdSZWN0KCksZz1oZChkLGYse3JlY3Q6cCxncmF2aXR5OnIuZ2V0KCJncmF2aXR5Iil9KSxtPWcuc3RlcDtnLnN0ZXA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsYT1kLmxlbmd0aDtlPGE7ZSsrKWRbZV0uZml4ZWQmJkcoZFtlXS5wLG4uZ2V0Tm9kZUJ5SW5kZXgoZSkuZ2V0TGF5b3V0KCkpO20oZnVuY3Rpb24oZSxhLHIpe2Zvcih2YXIgcz0wLGw9ZS5sZW5ndGg7czxsO3MrKyllW3NdLmZpeGVkfHxuLmdldE5vZGVCeUluZGV4KHMpLnNldExheW91dChlW3NdLnApLGlbby5nZXRJZChzKV09ZVtzXS5wO2Zvcih2YXIgcz0wLGw9YS5sZW5ndGg7czxsO3MrKyl7dmFyIHU9YVtzXSxoPW4uZ2V0RWRnZUJ5SW5kZXgocyksYz11Lm4xLnAsZD11Lm4yLnAsZj1oLmdldExheW91dCgpOyhmPWY/Zi5zbGljZSgpOltdKVswXT1mWzBdfHxbXSxmWzFdPWZbMV18fFtdLEcoZlswXSxjKSxHKGZbMV0sZCksK3UuY3VydmVuZXNzJiYoZlsyXT1bKGNbMF0rZFswXSkvMi0oY1sxXS1kWzFdKSp1LmN1cnZlbmVzcywoY1sxXStkWzFdKS8yLShkWzBdLWNbMF0pKnUuY3VydmVuZXNzXSksaC5zZXRMYXlvdXQoZil9dCYmdChyKX0pfSx0LmZvcmNlTGF5b3V0PWcsdC5wcmVzZXJ2ZWRQb2ludHM9aSxnLnN0ZXAoKX1lbHNlIHQuZm9yY2VMYXlvdXQ9bnVsbH0pfSksY3MoImdyYXBoVmlldyIse2NyZWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiB0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIixmdW5jdGlvbih0KXt2YXIgbj10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO2lmKCFufHwidmlldyI9PT1uKXt2YXIgbz10LmdldERhdGEoKSxhPVtdLHI9W107cm4oby5tYXBBcnJheShmdW5jdGlvbih0KXt2YXIgZT1vLmdldEl0ZW1Nb2RlbCh0KTtyZXR1cm5bK2UuZ2V0KCJ4IiksK2UuZ2V0KCJ5IildfSksYSxyKSxyWzBdLWFbMF09PTAmJihyWzBdKz0xLGFbMF0tPTEpLHJbMV0tYVsxXT09MCYmKHJbMV0rPTEsYVsxXS09MSk7dmFyIHM9KHJbMF0tYVswXSkvKHJbMV0tYVsxXSksbD1jZCh0LGUscyk7aXNOYU4ocykmJihhPVtsLngsbC55XSxyPVtsLngrbC53aWR0aCxsLnkrbC5oZWlnaHRdKTt2YXIgdT1yWzBdLWFbMF0saD1yWzFdLWFbMV0sYz1sLndpZHRoLGQ9bC5oZWlnaHQsZj10LmNvb3JkaW5hdGVTeXN0ZW09bmV3IHF1O2Yuem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0IiksZi5zZXRCb3VuZGluZ1JlY3QoYVswXSxhWzFdLHUsaCksZi5zZXRWaWV3UmVjdChsLngsbC55LGMsZCksZi5zZXRDZW50ZXIodC5nZXQoImNlbnRlciIpKSxmLnNldFpvb20odC5nZXQoInpvb20iKSksaS5wdXNoKGYpfX0pLGl9fSk7bU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMuZ2F1Z2UiLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5kYXRhfHxbXTtyZXR1cm4geShpKXx8KGk9W2ldKSx0LmRhdGE9aSxnVCh0aGlzLFsidmFsdWUiXSl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MixjZW50ZXI6WyI1MCUiLCI1MCUiXSxsZWdlbmRIb3Zlckxpbms6ITAscmFkaXVzOiI3NSUiLHN0YXJ0QW5nbGU6MjI1LGVuZEFuZ2xlOi00NSxjbG9ja3dpc2U6ITAsbWluOjAsbWF4OjEwMCxzcGxpdE51bWJlcjoxMCxheGlzTGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e2NvbG9yOltbLjIsIiM5MWM3YWUiXSxbLjgsIiM2Mzg2OWUiXSxbMSwiI2MyMzUzMSJdXSx3aWR0aDozMH19LHNwbGl0TGluZTp7c2hvdzohMCxsZW5ndGg6MzAsbGluZVN0eWxlOntjb2xvcjoiI2VlZSIsd2lkdGg6Mix0eXBlOiJzb2xpZCJ9fSxheGlzVGljazp7c2hvdzohMCxzcGxpdE51bWJlcjo1LGxlbmd0aDo4LGxpbmVTdHlsZTp7Y29sb3I6IiNlZWUiLHdpZHRoOjEsdHlwZToic29saWQifX0sYXhpc0xhYmVsOntzaG93OiEwLGRpc3RhbmNlOjUsY29sb3I6ImF1dG8ifSxwb2ludGVyOntzaG93OiEwLGxlbmd0aDoiODAlIix3aWR0aDo4fSxpdGVtU3R5bGU6e2NvbG9yOiJhdXRvIn0sdGl0bGU6e3Nob3c6ITAsb2Zmc2V0Q2VudGVyOlswLCItNDAlIl0sY29sb3I6IiMzMzMiLGZvbnRTaXplOjE1fSxkZXRhaWw6e3Nob3c6ITAsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJXaWR0aDowLGJvcmRlckNvbG9yOiIjY2NjIix3aWR0aDoxMDAsaGVpZ2h0Om51bGwscGFkZGluZzpbNSwxMF0sb2Zmc2V0Q2VudGVyOlswLCI0MCUiXSxjb2xvcjoiYXV0byIsZm9udFNpemU6MzB9fX0pO3ZhciBxQT1Jbi5leHRlbmQoe3R5cGU6ImVjaGFydHNHYXVnZVBvaW50ZXIiLHNoYXBlOnthbmdsZTowLHdpZHRoOjEwLHI6MTAseDowLHk6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9TWF0aC5jb3Msbj1NYXRoLnNpbixvPWUucixhPWUud2lkdGgscj1lLmFuZ2xlLHM9ZS54LWkocikqYSooYT49by8zPzE6MiksbD1lLnktbihyKSphKihhPj1vLzM/MToyKTtyPWUuYW5nbGUtTWF0aC5QSS8yLHQubW92ZVRvKHMsbCksdC5saW5lVG8oZS54K2kocikqYSxlLnkrbihyKSphKSx0LmxpbmVUbyhlLngraShlLmFuZ2xlKSpvLGUueStuKGUuYW5nbGUpKm8pLHQubGluZVRvKGUueC1pKHIpKmEsZS55LW4ocikqYSksdC5saW5lVG8ocyxsKX19KSwkQT0yKk1hdGguUEksS0E9KHByLmV4dGVuZCh7dHlwZToiZ2F1Z2UiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgbj10LmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIiksbz1kZCh0LGkpO3RoaXMuX3JlbmRlck1haW4odCxlLGksbixvKX0sZGlzcG9zZTpmdW5jdGlvbigpe30sX3JlbmRlck1haW46ZnVuY3Rpb24odCxlLGksbixvKXtmb3IodmFyIGE9dGhpcy5ncm91cCxyPXQuZ2V0TW9kZWwoImF4aXNMaW5lIikuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLHM9dC5nZXQoImNsb2Nrd2lzZSIpLGw9LXQuZ2V0KCJzdGFydEFuZ2xlIikvMTgwKk1hdGguUEksdT0tdC5nZXQoImVuZEFuZ2xlIikvMTgwKk1hdGguUEksaD0odS1sKSUkQSxjPWwsZD1yLmdldCgid2lkdGgiKSxmPTA7ZjxuLmxlbmd0aDtmKyspe3ZhciBwPU1hdGgubWluKE1hdGgubWF4KG5bZl1bMF0sMCksMSksZz1uZXcgR2Ioe3NoYXBlOntzdGFydEFuZ2xlOmMsZW5kQW5nbGU6dT1sK2gqcCxjeDpvLmN4LGN5Om8uY3ksY2xvY2t3aXNlOnMscjA6by5yLWQscjpvLnJ9LHNpbGVudDohMH0pO2cuc2V0U3R5bGUoe2ZpbGw6bltmXVsxXX0pLGcuc2V0U3R5bGUoci5nZXRMaW5lU3R5bGUoWyJjb2xvciIsImJvcmRlcldpZHRoIiwiYm9yZGVyQ29sb3IiXSkpLGEuYWRkKGcpLGM9dX12YXIgbT1mdW5jdGlvbih0KXtpZih0PD0wKXJldHVybiBuWzBdWzFdO2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7ZSsrKWlmKG5bZV1bMF0+PXQmJigwPT09ZT8wOm5bZS0xXVswXSk8dClyZXR1cm4gbltlXVsxXTtyZXR1cm4gbltlLTFdWzFdfTtpZighcyl7dmFyIHY9bDtsPXUsdT12fXRoaXMuX3JlbmRlclRpY2tzKHQsZSxpLG0sbyxsLHUscyksdGhpcy5fcmVuZGVyUG9pbnRlcih0LGUsaSxtLG8sbCx1LHMpLHRoaXMuX3JlbmRlclRpdGxlKHQsZSxpLG0sbyksdGhpcy5fcmVuZGVyRGV0YWlsKHQsZSxpLG0sbyl9LF9yZW5kZXJUaWNrczpmdW5jdGlvbih0LGUsaSxuLG8sYSxyLHMpe2Zvcih2YXIgbD10aGlzLmdyb3VwLHU9by5jeCxoPW8uY3ksYz1vLnIsZD0rdC5nZXQoIm1pbiIpLGY9K3QuZ2V0KCJtYXgiKSxwPXQuZ2V0TW9kZWwoInNwbGl0TGluZSIpLGc9dC5nZXRNb2RlbCgiYXhpc1RpY2siKSxtPXQuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLHY9dC5nZXQoInNwbGl0TnVtYmVyIikseT1nLmdldCgic3BsaXROdW1iZXIiKSx4PVRvKHAuZ2V0KCJsZW5ndGgiKSxjKSxfPVRvKGcuZ2V0KCJsZW5ndGgiKSxjKSx3PWEsYj0oci1hKS92LFM9Yi95LE09cC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksST1nLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxEPTA7RDw9djtEKyspe3ZhciBUPU1hdGguY29zKHcpLEE9TWF0aC5zaW4odyk7aWYocC5nZXQoInNob3ciKSl7dmFyIEM9bmV3IFhiKHtzaGFwZTp7eDE6VCpjK3UseTE6QSpjK2gseDI6VCooYy14KSt1LHkyOkEqKGMteCkraH0sc3R5bGU6TSxzaWxlbnQ6ITB9KTsiYXV0byI9PT1NLnN0cm9rZSYmQy5zZXRTdHlsZSh7c3Ryb2tlOm4oRC92KX0pLGwuYWRkKEMpfWlmKG0uZ2V0KCJzaG93Iikpe3ZhciBMPWZkKEFvKEQvdiooZi1kKStkKSxtLmdldCgiZm9ybWF0dGVyIikpLGs9bS5nZXQoImRpc3RhbmNlIiksUD1uKEQvdik7bC5hZGQobmV3IHpiKHtzdHlsZTpubyh7fSxtLHt0ZXh0OkwseDpUKihjLXgtaykrdSx5OkEqKGMteC1rKStoLHRleHRWZXJ0aWNhbEFsaWduOkE8LS40PyJ0b3AiOkE+LjQ/ImJvdHRvbSI6Im1pZGRsZSIsdGV4dEFsaWduOlQ8LS40PyJsZWZ0IjpUPi40PyJyaWdodCI6ImNlbnRlciJ9LHthdXRvQ29sb3I6UH0pLHNpbGVudDohMH0pKX1pZihnLmdldCgic2hvdyIpJiZEIT09dil7Zm9yKHZhciBOPTA7Tjw9eTtOKyspe3ZhciBUPU1hdGguY29zKHcpLEE9TWF0aC5zaW4odyksTz1uZXcgWGIoe3NoYXBlOnt4MTpUKmMrdSx5MTpBKmMraCx4MjpUKihjLV8pK3UseTI6QSooYy1fKStofSxzaWxlbnQ6ITAsc3R5bGU6SX0pOyJhdXRvIj09PUkuc3Ryb2tlJiZPLnNldFN0eWxlKHtzdHJva2U6bigoRCtOL3kpL3YpfSksbC5hZGQoTyksdys9U313LT1TfWVsc2Ugdys9Yn19LF9yZW5kZXJQb2ludGVyOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyl7dmFyIGw9dGhpcy5ncm91cCx1PXRoaXMuX2RhdGE7aWYodC5nZXQoInBvaW50ZXIuc2hvdyIpKXt2YXIgaD1bK3QuZ2V0KCJtaW4iKSwrdC5nZXQoIm1heCIpXSxjPVthLHJdLGQ9dC5nZXREYXRhKCksZj1kLm1hcERpbWVuc2lvbigidmFsdWUiKTtkLmRpZmYodSkuYWRkKGZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBxQSh7c2hhcGU6e2FuZ2xlOmF9fSk7cG8oaSx7c2hhcGU6e2FuZ2xlOkRvKGQuZ2V0KGYsZSksaCxjLCEwKX19LHQpLGwuYWRkKGkpLGQuc2V0SXRlbUdyYXBoaWNFbChlLGkpfSkudXBkYXRlKGZ1bmN0aW9uKGUsaSl7dmFyIG49dS5nZXRJdGVtR3JhcGhpY0VsKGkpO2ZvKG4se3NoYXBlOnthbmdsZTpEbyhkLmdldChmLGUpLGgsYywhMCl9fSx0KSxsLmFkZChuKSxkLnNldEl0ZW1HcmFwaGljRWwoZSxuKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT11LmdldEl0ZW1HcmFwaGljRWwodCk7bC5yZW1vdmUoZSl9KS5leGVjdXRlKCksZC5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbih0LGUpe3ZhciBpPWQuZ2V0SXRlbU1vZGVsKGUpLGE9aS5nZXRNb2RlbCgicG9pbnRlciIpO3Quc2V0U2hhcGUoe3g6by5jeCx5Om8uY3ksd2lkdGg6VG8oYS5nZXQoIndpZHRoIiksby5yKSxyOlRvKGEuZ2V0KCJsZW5ndGgiKSxvLnIpfSksdC51c2VTdHlsZShpLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSksImF1dG8iPT09dC5zdHlsZS5maWxsJiZ0LnNldFN0eWxlKCJmaWxsIixuKERvKGQuZ2V0KGYsZSksaCxbMCwxXSwhMCkpKSxlbyh0LGkuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpKX0pLHRoaXMuX2RhdGE9ZH1lbHNlIHUmJnUuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7bC5yZW1vdmUodCl9KX0sX3JlbmRlclRpdGxlOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9dC5nZXREYXRhKCkscj1hLm1hcERpbWVuc2lvbigidmFsdWUiKSxzPXQuZ2V0TW9kZWwoInRpdGxlIik7aWYocy5nZXQoInNob3ciKSl7dmFyIGw9cy5nZXQoIm9mZnNldENlbnRlciIpLHU9by5jeCtUbyhsWzBdLG8uciksaD1vLmN5K1RvKGxbMV0sby5yKSxjPSt0LmdldCgibWluIiksZD0rdC5nZXQoIm1heCIpLGY9bihEbyh0LmdldERhdGEoKS5nZXQociwwKSxbYyxkXSxbMCwxXSwhMCkpO3RoaXMuZ3JvdXAuYWRkKG5ldyB6Yih7c2lsZW50OiEwLHN0eWxlOm5vKHt9LHMse3g6dSx5OmgsdGV4dDphLmdldE5hbWUoMCksdGV4dEFsaWduOiJjZW50ZXIiLHRleHRWZXJ0aWNhbEFsaWduOiJtaWRkbGUifSx7YXV0b0NvbG9yOmYsZm9yY2VSaWNoOiEwfSl9KSl9fSxfcmVuZGVyRGV0YWlsOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9dC5nZXRNb2RlbCgiZGV0YWlsIikscj0rdC5nZXQoIm1pbiIpLHM9K3QuZ2V0KCJtYXgiKTtpZihhLmdldCgic2hvdyIpKXt2YXIgbD1hLmdldCgib2Zmc2V0Q2VudGVyIiksdT1vLmN4K1RvKGxbMF0sby5yKSxoPW8uY3krVG8obFsxXSxvLnIpLGM9VG8oYS5nZXQoIndpZHRoIiksby5yKSxkPVRvKGEuZ2V0KCJoZWlnaHQiKSxvLnIpLGY9dC5nZXREYXRhKCkscD1mLmdldChmLm1hcERpbWVuc2lvbigidmFsdWUiKSwwKSxnPW4oRG8ocCxbcixzXSxbMCwxXSwhMCkpO3RoaXMuZ3JvdXAuYWRkKG5ldyB6Yih7c2lsZW50OiEwLHN0eWxlOm5vKHt9LGEse3g6dSx5OmgsdGV4dDpmZChwLGEuZ2V0KCJmb3JtYXR0ZXIiKSksdGV4dFdpZHRoOmlzTmFOKGMpP251bGw6Yyx0ZXh0SGVpZ2h0OmlzTmFOKGQpP251bGw6ZCx0ZXh0QWxpZ246ImNlbnRlciIsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LHthdXRvQ29sb3I6Zyxmb3JjZVJpY2g6ITB9KX0pKX19fSkseXMoe3R5cGU6InNlcmllcy5mdW5uZWwiLGluaXQ6ZnVuY3Rpb24odCl7S0Euc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMubGVnZW5kRGF0YVByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmF3RGF0YSgpfSx0aGlzLl9kZWZhdWx0TGFiZWxMaW5lKHQpfSxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiBnVCh0aGlzLFsidmFsdWUiXSl9LF9kZWZhdWx0TGFiZWxMaW5lOmZ1bmN0aW9uKHQpe01pKHQsImxhYmVsTGluZSIsWyJzaG93Il0pO3ZhciBlPXQubGFiZWxMaW5lLGk9dC5lbXBoYXNpcy5sYWJlbExpbmU7ZS5zaG93PWUuc2hvdyYmdC5sYWJlbC5zaG93LGkuc2hvdz1pLnNob3cmJnQuZW1waGFzaXMubGFiZWwuc2hvd30sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKSxpPUtBLnN1cGVyQ2FsbCh0aGlzLCJnZXREYXRhUGFyYW1zIix0KSxuPWUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLG89ZS5nZXRTdW0obik7cmV0dXJuIGkucGVyY2VudD1vPysoZS5nZXQobix0KS9vKjEwMCkudG9GaXhlZCgyKTowLGkuJHZhcnMucHVzaCgicGVyY2VudCIpLGl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLG1pblNpemU6IjAlIixtYXhTaXplOiIxMDAlIixzb3J0OiJkZXNjZW5kaW5nIixnYXA6MCxmdW5uZWxBbGlnbjoiY2VudGVyIixsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoib3V0ZXIifSxsYWJlbExpbmU6e3Nob3c6ITAsbGVuZ3RoOjIwLGxpbmVTdHlsZTp7d2lkdGg6MSx0eXBlOiJzb2xpZCJ9fSxpdGVtU3R5bGU6e2JvcmRlckNvbG9yOiIjZmZmIixib3JkZXJXaWR0aDoxfSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9fX19KSksSkE9cGQucHJvdG90eXBlLFFBPVsiaXRlbVN0eWxlIiwib3BhY2l0eSJdO0pBLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuY2hpbGRBdCgwKSxvPXQuaG9zdE1vZGVsLGE9dC5nZXRJdGVtTW9kZWwoZSkscz10LmdldEl0ZW1MYXlvdXQoZSksbD10LmdldEl0ZW1Nb2RlbChlKS5nZXQoUUEpO2w9bnVsbD09bD8xOmwsbi51c2VTdHlsZSh7fSksaT8obi5zZXRTaGFwZSh7cG9pbnRzOnMucG9pbnRzfSksbi5zZXRTdHlsZSh7b3BhY2l0eTowfSkscG8obix7c3R5bGU6e29wYWNpdHk6bH19LG8sZSkpOmZvKG4se3N0eWxlOntvcGFjaXR5Omx9LHNoYXBlOntwb2ludHM6cy5wb2ludHN9fSxvLGUpO3ZhciB1PWEuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLGg9dC5nZXRJdGVtVmlzdWFsKGUsImNvbG9yIik7bi5zZXRTdHlsZShyKHtsaW5lSm9pbjoicm91bmQiLGZpbGw6aH0sdS5nZXRJdGVtU3R5bGUoWyJvcGFjaXR5Il0pKSksbi5ob3ZlclN0eWxlPXUuZ2V0TW9kZWwoImVtcGhhc2lzIikuZ2V0SXRlbVN0eWxlKCksdGhpcy5fdXBkYXRlTGFiZWwodCxlKSxlbyh0aGlzKX0sSkEuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGlsZEF0KDEpLG49dGhpcy5jaGlsZEF0KDIpLG89dC5ob3N0TW9kZWwsYT10LmdldEl0ZW1Nb2RlbChlKSxyPXQuZ2V0SXRlbUxheW91dChlKS5sYWJlbCxzPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO2ZvKGkse3NoYXBlOntwb2ludHM6ci5saW5lUG9pbnRzfHxyLmxpbmVQb2ludHN9fSxvLGUpLGZvKG4se3N0eWxlOnt4OnIueCx5OnIueX19LG8sZSksbi5hdHRyKHtyb3RhdGlvbjpyLnJvdGF0aW9uLG9yaWdpbjpbci54LHIueV0sejI6MTB9KTt2YXIgbD1hLmdldE1vZGVsKCJsYWJlbCIpLHU9YS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSxoPWEuZ2V0TW9kZWwoImxhYmVsTGluZSIpLGM9YS5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWxMaW5lIikscz10LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKTtpbyhuLnN0eWxlLG4uaG92ZXJTdHlsZT17fSxsLHUse2xhYmVsRmV0Y2hlcjp0Lmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGRlZmF1bHRUZXh0OnQuZ2V0TmFtZShlKSxhdXRvQ29sb3I6cyx1c2VJbnNpZGVTdHlsZTohIXIuaW5zaWRlfSx7dGV4dEFsaWduOnIudGV4dEFsaWduLHRleHRWZXJ0aWNhbEFsaWduOnIudmVydGljYWxBbGlnbn0pLG4uaWdub3JlPW4ubm9ybWFsSWdub3JlPSFsLmdldCgic2hvdyIpLG4uaG92ZXJJZ25vcmU9IXUuZ2V0KCJzaG93IiksaS5pZ25vcmU9aS5ub3JtYWxJZ25vcmU9IWguZ2V0KCJzaG93IiksaS5ob3Zlcklnbm9yZT0hYy5nZXQoInNob3ciKSxpLnNldFN0eWxlKHtzdHJva2U6c30pLGkuc2V0U3R5bGUoaC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLGkuaG92ZXJTdHlsZT1jLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKX0sdShwZCxMXyk7cHIuZXh0ZW5kKHt0eXBlOiJmdW5uZWwiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz10aGlzLl9kYXRhLGE9dGhpcy5ncm91cDtuLmRpZmYobykuYWRkKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBwZChuLHQpO24uc2V0SXRlbUdyYXBoaWNFbCh0LGUpLGEuYWRkKGUpfSkudXBkYXRlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9by5nZXRJdGVtR3JhcGhpY0VsKGUpO2kudXBkYXRlRGF0YShuLHQpLGEuYWRkKGkpLG4uc2V0SXRlbUdyYXBoaWNFbCh0LGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0SXRlbUdyYXBoaWNFbCh0KTthLnJlbW92ZShlKX0pLmV4ZWN1dGUoKSx0aGlzLl9kYXRhPW59LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fX0pO2ZzKF9UKCJmdW5uZWwiKSksZHMoZnVuY3Rpb24odCxlLGkpe3QuZWFjaFNlcmllc0J5VHlwZSgiZnVubmVsIixmdW5jdGlvbih0KXt2YXIgaT10LmdldERhdGEoKSxuPWkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLG89dC5nZXQoInNvcnQiKSxhPWdkKHQsZSkscj1tZChpLG8pLHM9W1RvKHQuZ2V0KCJtaW5TaXplIiksYS53aWR0aCksVG8odC5nZXQoIm1heFNpemUiKSxhLndpZHRoKV0sbD1pLmdldERhdGFFeHRlbnQobiksdT10LmdldCgibWluIiksaD10LmdldCgibWF4Iik7bnVsbD09dSYmKHU9TWF0aC5taW4obFswXSwwKSksbnVsbD09aCYmKGg9bFsxXSk7dmFyIGM9dC5nZXQoImZ1bm5lbEFsaWduIiksZD10LmdldCgiZ2FwIiksZj0oYS5oZWlnaHQtZCooaS5jb3VudCgpLTEpKS9pLmNvdW50KCkscD1hLnksZz1mdW5jdGlvbih0LGUpe3ZhciBvLHI9RG8oaS5nZXQobix0KXx8MCxbdSxoXSxzLCEwKTtzd2l0Y2goYyl7Y2FzZSJsZWZ0IjpvPWEueDticmVhaztjYXNlImNlbnRlciI6bz1hLngrKGEud2lkdGgtcikvMjticmVhaztjYXNlInJpZ2h0IjpvPWEueCthLndpZHRoLXJ9cmV0dXJuW1tvLGVdLFtvK3IsZV1dfTsiYXNjZW5kaW5nIj09PW8mJihmPS1mLGQ9LWQscCs9YS5oZWlnaHQscj1yLnJldmVyc2UoKSk7Zm9yKHZhciBtPTA7bTxyLmxlbmd0aDttKyspe3ZhciB2PXJbbV0seT1yW20rMV0seD1pLmdldEl0ZW1Nb2RlbCh2KS5nZXQoIml0ZW1TdHlsZS5oZWlnaHQiKTtudWxsPT14P3g9ZjooeD1Ubyh4LGEuaGVpZ2h0KSwiYXNjZW5kaW5nIj09PW8mJih4PS14KSk7dmFyIF89Zyh2LHApLHc9Zyh5LHAreCk7cCs9eCtkLGkuc2V0SXRlbUxheW91dCh2LHtwb2ludHM6Xy5jb25jYXQody5zbGljZSgpLnJldmVyc2UoKSl9KX12ZChpKX0pfSksdXMoTVQoImZ1bm5lbCIpKTt2YXIgdEM9ZnVuY3Rpb24odCxlLGksbixvKXtkRC5jYWxsKHRoaXMsdCxlLGkpLHRoaXMudHlwZT1ufHwidmFsdWUiLHRoaXMuYXhpc0luZGV4PW99O3RDLnByb3RvdHlwZT17Y29uc3RydWN0b3I6dEMsbW9kZWw6bnVsbCxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXtyZXR1cm4iaG9yaXpvbnRhbCIhPT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0TW9kZWwoKS5nZXQoImxheW91dCIpfX0sdSh0QyxkRCk7dmFyIGVDPWZ1bmN0aW9uKHQsZSxpLG4sbyxhKXtlWzBdPXdkKGVbMF0saSksZVsxXT13ZChlWzFdLGkpLHQ9dHx8MDt2YXIgcj1pWzFdLWlbMF07bnVsbCE9byYmKG89d2QobyxbMCxyXSkpLG51bGwhPWEmJihhPU1hdGgubWF4KGEsbnVsbCE9bz9vOjApKSwiYWxsIj09PW4mJihvPWE9TWF0aC5hYnMoZVsxXS1lWzBdKSxuPTApO3ZhciBzPV9kKGUsbik7ZVtuXSs9dDt2YXIgbD1vfHwwLHU9aS5zbGljZSgpO3Muc2lnbjwwP3VbMF0rPWw6dVsxXS09bCxlW25dPXdkKGVbbl0sdSk7aD1fZChlLG4pO251bGwhPW8mJihoLnNpZ24hPT1zLnNpZ258fGguc3BhbjxvKSYmKGVbMS1uXT1lW25dK3Muc2lnbipvKTt2YXIgaD1fZChlLG4pO3JldHVybiBudWxsIT1hJiZoLnNwYW4+YSYmKGVbMS1uXT1lW25dK2guc2lnbiphKSxlfSxpQz1kLG5DPU1hdGgubWluLG9DPU1hdGgubWF4LGFDPU1hdGguZmxvb3IsckM9TWF0aC5jZWlsLHNDPUFvLGxDPU1hdGguUEk7YmQucHJvdG90eXBlPXt0eXBlOiJwYXJhbGxlbCIsY29uc3RydWN0b3I6YmQsX2luaXQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZGltZW5zaW9ucyxvPXQucGFyYWxsZWxBeGlzSW5kZXg7aUMobixmdW5jdGlvbih0LGkpe3ZhciBuPW9baV0sYT1lLmdldENvbXBvbmVudCgicGFyYWxsZWxBeGlzIixuKSxyPXRoaXMuX2F4ZXNNYXAuc2V0KHQsbmV3IHRDKHQsY2woYSksWzAsMF0sYS5nZXQoInR5cGUiKSxuKSkscz0iY2F0ZWdvcnkiPT09ci50eXBlO3Iub25CYW5kPXMmJmEuZ2V0KCJib3VuZGFyeUdhcCIpLHIuaW52ZXJzZT1hLmdldCgiaW52ZXJzZSIpLGEuYXhpcz1yLHIubW9kZWw9YSxyLmNvb3JkaW5hdGVTeXN0ZW09YS5jb29yZGluYXRlU3lzdGVtPXRoaXN9LHRoaXMpfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXt0aGlzLl91cGRhdGVBeGVzRnJvbVNlcmllcyh0aGlzLl9tb2RlbCx0KX0sY29udGFpblBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21ha2VMYXlvdXRJbmZvKCksaT1lLmF4aXNCYXNlLG49ZS5sYXlvdXRCYXNlLG89ZS5waXhlbERpbUluZGV4LGE9dFsxLW9dLHI9dFtvXTtyZXR1cm4gYT49aSYmYTw9aStlLmF4aXNMZW5ndGgmJnI+PW4mJnI8PW4rZS5sYXlvdXRMZW5ndGh9LGdldE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsfSxfdXBkYXRlQXhlc0Zyb21TZXJpZXM6ZnVuY3Rpb24odCxlKXtlLmVhY2hTZXJpZXMoZnVuY3Rpb24oaSl7aWYodC5jb250YWlucyhpLGUpKXt2YXIgbj1pLmdldERhdGEoKTtpQyh0aGlzLmRpbWVuc2lvbnMsZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYXhlc01hcC5nZXQodCk7ZS5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKG4sbi5tYXBEaW1lbnNpb24odCkpLGhsKGUuc2NhbGUsZS5tb2RlbCl9LHRoaXMpfX0sdGhpcyl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9UW8odC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSksdGhpcy5fbGF5b3V0QXhlcygpfSxnZXRSZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LF9tYWtlTGF5b3V0SW5mbzpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fbW9kZWwsaT10aGlzLl9yZWN0LG49WyJ4IiwieSJdLG89WyJ3aWR0aCIsImhlaWdodCJdLGE9ZS5nZXQoImxheW91dCIpLHI9Imhvcml6b250YWwiPT09YT8wOjEscz1pW29bcl1dLGw9WzAsc10sdT10aGlzLmRpbWVuc2lvbnMubGVuZ3RoLGg9U2QoZS5nZXQoImF4aXNFeHBhbmRXaWR0aCIpLGwpLGM9U2QoZS5nZXQoImF4aXNFeHBhbmRDb3VudCIpfHwwLFswLHVdKSxkPWUuZ2V0KCJheGlzRXhwYW5kYWJsZSIpJiZ1PjMmJnU+YyYmYz4xJiZoPjAmJnM+MCxmPWUuZ2V0KCJheGlzRXhwYW5kV2luZG93Iik7Zj8odD1TZChmWzFdLWZbMF0sbCksZlsxXT1mWzBdK3QpOih0PVNkKGgqKGMtMSksbCksKGY9W2gqKGUuZ2V0KCJheGlzRXhwYW5kQ2VudGVyIil8fGFDKHUvMikpLXQvMl0pWzFdPWZbMF0rdCk7dmFyIHA9KHMtdCkvKHUtYyk7cDwzJiYocD0wKTt2YXIgZz1bYUMoc0MoZlswXS9oLDEpKSsxLHJDKHNDKGZbMV0vaCwxKSktMV0sbT1wL2gqZlswXTtyZXR1cm57bGF5b3V0OmEscGl4ZWxEaW1JbmRleDpyLGxheW91dEJhc2U6aVtuW3JdXSxsYXlvdXRMZW5ndGg6cyxheGlzQmFzZTppW25bMS1yXV0sYXhpc0xlbmd0aDppW29bMS1yXV0sYXhpc0V4cGFuZGFibGU6ZCxheGlzRXhwYW5kV2lkdGg6aCxheGlzQ29sbGFwc2VXaWR0aDpwLGF4aXNFeHBhbmRXaW5kb3c6ZixheGlzQ291bnQ6dSx3aW5Jbm5lckluZGljZXM6ZyxheGlzRXhwYW5kV2luZG93MFBvczptfX0sX2xheW91dEF4ZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5fYXhlc01hcCxpPXRoaXMuZGltZW5zaW9ucyxuPXRoaXMuX21ha2VMYXlvdXRJbmZvKCksbz1uLmxheW91dDtlLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9WzAsbi5heGlzTGVuZ3RoXSxpPXQuaW52ZXJzZT8xOjA7dC5zZXRFeHRlbnQoZVtpXSxlWzEtaV0pfSksaUMoaSxmdW5jdGlvbihpLGEpe3ZhciByPShuLmF4aXNFeHBhbmRhYmxlP0lkOk1kKShhLG4pLHM9e2hvcml6b250YWw6e3g6ci5wb3NpdGlvbix5Om4uYXhpc0xlbmd0aH0sdmVydGljYWw6e3g6MCx5OnIucG9zaXRpb259fSxsPXtob3Jpem9udGFsOmxDLzIsdmVydGljYWw6MH0sdT1bc1tvXS54K3QueCxzW29dLnkrdC55XSxoPWxbb10sYz1zdCgpO2R0KGMsYyxoKSxjdChjLGMsdSksdGhpcy5fYXhlc0xheW91dFtpXT17cG9zaXRpb246dSxyb3RhdGlvbjpoLHRyYW5zZm9ybTpjLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6ci5heGlzTmFtZUF2YWlsYWJsZVdpZHRoLGF4aXNMYWJlbFNob3c6ci5heGlzTGFiZWxTaG93LG5hbWVUcnVuY2F0ZU1heFdpZHRoOnIubmFtZVRydW5jYXRlTWF4V2lkdGgsdGlja0RpcmVjdGlvbjoxLGxhYmVsRGlyZWN0aW9uOjEsbGFiZWxJbnRlcnZhbDplLmdldChpKS5nZXRMYWJlbEludGVydmFsKCl9fSx0aGlzKX0sZ2V0QXhpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc01hcC5nZXQodCl9LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXhpc0Nvb3JkVG9Qb2ludCh0aGlzLl9heGVzTWFwLmdldChlKS5kYXRhVG9Db29yZCh0KSxlKX0sZWFjaEFjdGl2ZVN0YXRlOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy5kaW1lbnNpb25zLG89ZihuLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hcERpbWVuc2lvbihlKX0pLGE9dGhpcy5fYXhlc01hcCxyPXRoaXMuaGFzQXhpc0JydXNoZWQoKSxzPTAsbD10LmNvdW50KCk7czxsO3MrKyl7dmFyIHUsaD10LmdldFZhbHVlcyhvLHMpO2lmKHIpe3U9ImFjdGl2ZSI7Zm9yKHZhciBjPTAsZD1uLmxlbmd0aDtjPGQ7YysrKXt2YXIgcD1uW2NdO2lmKCJpbmFjdGl2ZSI9PT1hLmdldChwKS5tb2RlbC5nZXRBY3RpdmVTdGF0ZShoW2NdLGMpKXt1PSJpbmFjdGl2ZSI7YnJlYWt9fX1lbHNlIHU9Im5vcm1hbCI7ZS5jYWxsKGksdSxzKX19LGhhc0F4aXNCcnVzaGVkOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZGltZW5zaW9ucyxlPXRoaXMuX2F4ZXNNYXAsaT0hMSxuPTAsbz10Lmxlbmd0aDtuPG87bisrKSJub3JtYWwiIT09ZS5nZXQodFtuXSkubW9kZWwuZ2V0QWN0aXZlU3RhdGUoKSYmKGk9ITApO3JldHVybiBpfSxheGlzQ29vcmRUb1BvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG1vKFt0LDBdLHRoaXMuX2F4ZXNMYXlvdXRbZV0udHJhbnNmb3JtKX0sZ2V0QXhpc0xheW91dDpmdW5jdGlvbih0KXtyZXR1cm4gaSh0aGlzLl9heGVzTGF5b3V0W3RdKX0sZ2V0U2xpZGVkQXhpc0V4cGFuZFdpbmRvdzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYWtlTGF5b3V0SW5mbygpLGk9ZS5waXhlbERpbUluZGV4LG49ZS5heGlzRXhwYW5kV2luZG93LnNsaWNlKCksbz1uWzFdLW5bMF0sYT1bMCxlLmF4aXNFeHBhbmRXaWR0aCooZS5heGlzQ291bnQtMSldO2lmKCF0aGlzLmNvbnRhaW5Qb2ludCh0KSlyZXR1cm57YmVoYXZpb3I6Im5vbmUiLGF4aXNFeHBhbmRXaW5kb3c6bn07dmFyIHIscz10W2ldLWUubGF5b3V0QmFzZS1lLmF4aXNFeHBhbmRXaW5kb3cwUG9zLGw9InNsaWRlIix1PWUuYXhpc0NvbGxhcHNlV2lkdGgsaD10aGlzLl9tb2RlbC5nZXQoImF4aXNFeHBhbmRTbGlkZVRyaWdnZXJBcmVhIiksYz1udWxsIT1oWzBdO2lmKHUpYyYmdSYmczxvKmhbMF0/KGw9Imp1bXAiLHI9cy1vKmhbMl0pOmMmJnUmJnM+byooMS1oWzBdKT8obD0ianVtcCIscj1zLW8qKDEtaFsyXSkpOihyPXMtbypoWzFdKT49MCYmKHI9cy1vKigxLWhbMV0pKTw9MCYmKHI9MCksKHIqPWUuYXhpc0V4cGFuZFdpZHRoL3UpP2VDKHIsbixhLCJhbGwiKTpsPSJub25lIjtlbHNle289blsxXS1uWzBdOyhuPVtvQygwLGFbMV0qcy9vLW8vMildKVsxXT1uQyhhWzFdLG5bMF0rbyksblswXT1uWzFdLW99cmV0dXJue2F4aXNFeHBhbmRXaW5kb3c6bixiZWhhdmlvcjpsfX19LENhLnJlZ2lzdGVyKCJwYXJhbGxlbCIse2NyZWF0ZTpmdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoInBhcmFsbGVsIixmdW5jdGlvbihuLG8pe3ZhciBhPW5ldyBiZChuLHQsZSk7YS5uYW1lPSJwYXJhbGxlbF8iK28sYS5yZXNpemUobixlKSxuLmNvb3JkaW5hdGVTeXN0ZW09YSxhLm1vZGVsPW4saS5wdXNoKGEpfSksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKGUpe2lmKCJwYXJhbGxlbCI9PT1lLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgaT10LnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6InBhcmFsbGVsIixpbmRleDplLmdldCgicGFyYWxsZWxJbmRleCIpLGlkOmUuZ2V0KCJwYXJhbGxlbElkIil9KVswXTtlLmNvb3JkaW5hdGVTeXN0ZW09aS5jb29yZGluYXRlU3lzdGVtfX0pLGl9fSk7dmFyIHVDPWtTLmV4dGVuZCh7dHlwZToiYmFzZVBhcmFsbGVsQXhpcyIsYXhpczpudWxsLGFjdGl2ZUludGVydmFsczpbXSxnZXRBcmVhU2VsZWN0U3R5bGU6ZnVuY3Rpb24oKXtyZXR1cm4gTHcoW1siZmlsbCIsImNvbG9yIl0sWyJsaW5lV2lkdGgiLCJib3JkZXJXaWR0aCJdLFsic3Ryb2tlIiwiYm9yZGVyQ29sb3IiXSxbIndpZHRoIiwid2lkdGgiXSxbIm9wYWNpdHkiLCJvcGFjaXR5Il1dKSh0aGlzLmdldE1vZGVsKCJhcmVhU2VsZWN0U3R5bGUiKSl9LHNldEFjdGl2ZUludGVydmFsczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUludGVydmFscz1pKHQpO2lmKGUpZm9yKHZhciBuPWUubGVuZ3RoLTE7bj49MDtuLS0pQ28oZVtuXSl9LGdldEFjdGl2ZVN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlSW50ZXJ2YWxzO2lmKCFlLmxlbmd0aClyZXR1cm4ibm9ybWFsIjtpZihudWxsPT10KXJldHVybiJpbmFjdGl2ZSI7Zm9yKHZhciBpPTAsbj1lLmxlbmd0aDtpPG47aSsrKWlmKGVbaV1bMF08PXQmJnQ8PWVbaV1bMV0pcmV0dXJuImFjdGl2ZSI7cmV0dXJuImluYWN0aXZlIn19KSxoQz17dHlwZToidmFsdWUiLGRpbTpudWxsLGFyZWFTZWxlY3RTdHlsZTp7d2lkdGg6MjAsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoicmdiYSgxNjAsMTk3LDIzMikiLGNvbG9yOiJyZ2JhKDE2MCwxOTcsMjMyKSIsb3BhY2l0eTouM30scmVhbHRpbWU6ITAsejoxMH07bih1Qy5wcm90b3R5cGUsSkkpLEdEKCJwYXJhbGxlbCIsdUMsZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50eXBlfHwoZS5kYXRhPyJjYXRlZ29yeSI6InZhbHVlIil9LGhDKSxrUy5leHRlbmQoe3R5cGU6InBhcmFsbGVsIixkZXBlbmRlbmNpZXM6WyJwYXJhbGxlbEF4aXMiXSxjb29yZGluYXRlU3lzdGVtOm51bGwsZGltZW5zaW9uczpudWxsLHBhcmFsbGVsQXhpc0luZGV4Om51bGwsbGF5b3V0TW9kZToiYm94IixkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjAsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLGxheW91dDoiaG9yaXpvbnRhbCIsYXhpc0V4cGFuZGFibGU6ITEsYXhpc0V4cGFuZENlbnRlcjpudWxsLGF4aXNFeHBhbmRDb3VudDowLGF4aXNFeHBhbmRXaWR0aDo1MCxheGlzRXhwYW5kUmF0ZToxNyxheGlzRXhwYW5kRGVib3VuY2U6NTAsYXhpc0V4cGFuZFNsaWRlVHJpZ2dlckFyZWE6Wy0uMTUsLjA1LC40XSxheGlzRXhwYW5kVHJpZ2dlck9uOiJjbGljayIscGFyYWxsZWxBeGlzRGVmYXVsdDpudWxsfSxpbml0OmZ1bmN0aW9uKCl7a1MucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubWVyZ2VPcHRpb24oe30pfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjt0JiZuKGUsdCwhMCksdGhpcy5faW5pdERpbWVuc2lvbnMoKX0sY29udGFpbnM6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldCgicGFyYWxsZWxJbmRleCIpO3JldHVybiBudWxsIT1pJiZlLmdldENvbXBvbmVudCgicGFyYWxsZWwiLGkpPT09dGhpc30sc2V0QXhpc0V4cGFuZDpmdW5jdGlvbih0KXtkKFsiYXhpc0V4cGFuZGFibGUiLCJheGlzRXhwYW5kQ2VudGVyIiwiYXhpc0V4cGFuZENvdW50IiwiYXhpc0V4cGFuZFdpZHRoIiwiYXhpc0V4cGFuZFdpbmRvdyJdLGZ1bmN0aW9uKGUpe3QuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLm9wdGlvbltlXT10W2VdKX0sdGhpcyl9LF9pbml0RGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGltZW5zaW9ucz1bXSxlPXRoaXMucGFyYWxsZWxBeGlzSW5kZXg9W107ZChnKHRoaXMuZGVwZW5kZW50TW9kZWxzLnBhcmFsbGVsQXhpcyxmdW5jdGlvbih0KXtyZXR1cm4odC5nZXQoInBhcmFsbGVsSW5kZXgiKXx8MCk9PT10aGlzLmNvbXBvbmVudEluZGV4fSx0aGlzKSxmdW5jdGlvbihpKXt0LnB1c2goImRpbSIraS5nZXQoImRpbSIpKSxlLnB1c2goaS5jb21wb25lbnRJbmRleCl9KX19KSxocyh7dHlwZToiYXhpc0FyZWFTZWxlY3QiLGV2ZW50OiJheGlzQXJlYVNlbGVjdGVkIn0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJwYXJhbGxlbEF4aXMiLHF1ZXJ5OnR9LGZ1bmN0aW9uKGUpe2UuYXhpcy5tb2RlbC5zZXRBY3RpdmVJbnRlcnZhbHModC5pbnRlcnZhbHMpfSl9KSxocygicGFyYWxsZWxBeGlzRXhwYW5kIixmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InBhcmFsbGVsIixxdWVyeTp0fSxmdW5jdGlvbihlKXtlLnNldEF4aXNFeHBhbmQodCl9KX0pO3ZhciBjQz12LGRDPWQsZkM9ZixwQz1NYXRoLm1pbixnQz1NYXRoLm1heCxtQz1NYXRoLnBvdyx2Qz0xZTQseUM9Nix4Qz02LF9DPSJnbG9iYWxQYW4iLHdDPXt3OlswLDBdLGU6WzAsMV0sbjpbMSwwXSxzOlsxLDFdfSxiQz17dzoiZXciLGU6ImV3IixuOiJucyIsczoibnMiLG5lOiJuZXN3IixzdzoibmVzdyIsbnc6Im53c2UiLHNlOiJud3NlIn0sU0M9e2JydXNoU3R5bGU6e2xpbmVXaWR0aDoyLHN0cm9rZToicmdiYSgwLDAsMCwwLjMpIixmaWxsOiJyZ2JhKDAsMCwwLDAuMSkifSx0cmFuc2Zvcm1hYmxlOiEwLGJydXNoTW9kZToic2luZ2xlIixyZW1vdmVPbkNsaWNrOiExfSxNQz0wO0RkLnByb3RvdHlwZT17Y29uc3RydWN0b3I6RGQsZW5hYmxlQnJ1c2g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2JydXNoVHlwZSYmQWQodGhpcyksdC5icnVzaFR5cGUmJlRkKHRoaXMsdCksdGhpc30sc2V0UGFuZWxzOmZ1bmN0aW9uKHQpe2lmKHQmJnQubGVuZ3RoKXt2YXIgZT10aGlzLl9wYW5lbHM9e307ZCh0LGZ1bmN0aW9uKHQpe2VbdC5wYW5lbElkXT1pKHQpfSl9ZWxzZSB0aGlzLl9wYW5lbHM9bnVsbDtyZXR1cm4gdGhpc30sbW91bnQ6ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLl9lbmFibGVHbG9iYWxQYW49dC5lbmFibGVHbG9iYWxQYW47dmFyIGU9dGhpcy5ncm91cDtyZXR1cm4gdGhpcy5fenIuYWRkKGUpLGUuYXR0cih7cG9zaXRpb246dC5wb3NpdGlvbnx8WzAsMF0scm90YXRpb246dC5yb3RhdGlvbnx8MCxzY2FsZTp0LnNjYWxlfHxbMSwxXX0pLHRoaXMuX3RyYW5zZm9ybT1lLmdldExvY2FsVHJhbnNmb3JtKCksdGhpc30sZWFjaENvdmVyOmZ1bmN0aW9uKHQsZSl7ZEModGhpcy5fY292ZXJzLHQsZSl9LHVwZGF0ZUNvdmVyczpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuKG51bGwhPXQuaWQ/dC5pZDphK2UpKyItIit0LmJydXNoVHlwZX1mdW5jdGlvbiBvKGUsaSl7dmFyIG49dFtlXTtpZihudWxsIT1pJiZyW2ldPT09dSlzW2VdPXJbaV07ZWxzZXt2YXIgbz1zW2VdPW51bGwhPWk/KHJbaV0uX19icnVzaE9wdGlvbj1uLHJbaV0pOkxkKGwsQ2QobCxuKSk7TmQobCxvKX19dD1mKHQsZnVuY3Rpb24odCl7cmV0dXJuIG4oaShTQyksdCwhMCl9KTt2YXIgYT0iXDAtYnJ1c2gtaW5kZXgtIixyPXRoaXMuX2NvdmVycyxzPXRoaXMuX2NvdmVycz1bXSxsPXRoaXMsdT10aGlzLl9jcmVhdGluZ0NvdmVyO3JldHVybiBuZXcgYnMocix0LGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUodC5fX2JydXNoT3B0aW9uLGkpfSxlKS5hZGQobykudXBkYXRlKG8pLnJlbW92ZShmdW5jdGlvbih0KXtyW3RdIT09dSYmbC5ncm91cC5yZW1vdmUoclt0XSl9KS5leGVjdXRlKCksdGhpc30sdW5tb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZUJydXNoKCExKSxSZCh0aGlzKSx0aGlzLl96ci5yZW1vdmUodGhpcy5ncm91cCksdGhpc30sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMudW5tb3VudCgpLHRoaXMub2ZmKCl9fSxoKERkLCR4KTt2YXIgSUM9e21vdXNlZG93bjpmdW5jdGlvbih0KXtpZih0aGlzLl9kcmFnZ2luZylyZi5jYWxsKHRoaXMsdCk7ZWxzZSBpZighdC50YXJnZXR8fCF0LnRhcmdldC5kcmFnZ2FibGUpe2VmKHQpO3ZhciBlPXRoaXMuZ3JvdXAudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQub2Zmc2V0WCx0Lm9mZnNldFkpO3RoaXMuX2NyZWF0aW5nQ292ZXI9bnVsbCwodGhpcy5fY3JlYXRpbmdQYW5lbD1FZCh0aGlzLHQsZSkpJiYodGhpcy5fZHJhZ2dpbmc9ITAsdGhpcy5fdHJhY2s9W2Uuc2xpY2UoKV0pfX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQub2Zmc2V0WCx0Lm9mZnNldFkpO2lmKHRmKHRoaXMsdCxlKSx0aGlzLl9kcmFnZ2luZyl7ZWYodCk7dmFyIGk9b2YodGhpcyx0LGUsITEpO2kmJkJkKHRoaXMsaSl9fSxtb3VzZXVwOnJmfSxEQz17bGluZVg6c2YoMCksbGluZVk6c2YoMSkscmVjdDp7Y3JlYXRlQ292ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gRmQoY0MocWQsZnVuY3Rpb24odCl7cmV0dXJuIHR9LGZ1bmN0aW9uKHQpe3JldHVybiB0fSksdCxlLFsidyIsImUiLCJuIiwicyIsInNlIiwic3ciLCJuZSIsIm53Il0pfSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPUdkKHQpO3JldHVybiBqZChlWzFdWzBdLGVbMV1bMV0sZVswXVswXSxlWzBdWzFdKX0sdXBkYXRlQ292ZXJTaGFwZTpmdW5jdGlvbih0LGUsaSxuKXtXZCh0LGUsaSxuKX0sdXBkYXRlQ29tbW9uOkhkLGNvbnRhaW46bmZ9LHBvbHlnb246e2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IExfO3JldHVybiBpLmFkZChuZXcgVWIoe25hbWU6Im1haW4iLHN0eWxlOlVkKGUpLHNpbGVudDohMH0pKSxpfSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxlbmRDcmVhdGluZzpmdW5jdGlvbih0LGUpe2UucmVtb3ZlKGUuY2hpbGRBdCgwKSksZS5hZGQobmV3IFpiKHtuYW1lOiJtYWluIixkcmFnZ2FibGU6ITAsZHJpZnQ6Y0MoJGQsdCxlKSxvbmRyYWdlbmQ6Y0MoQmQsdCx7aXNFbmQ6ITB9KX0pKX0sdXBkYXRlQ292ZXJTaGFwZTpmdW5jdGlvbih0LGUsaSxuKXtlLmNoaWxkQXQoMCkuc2V0U2hhcGUoe3BvaW50czpKZCh0LGUsaSl9KX0sdXBkYXRlQ29tbW9uOkhkLGNvbnRhaW46bmZ9fSxUQz1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sQUM9dnMoe3R5cGU6InBhcmFsbGVsQXhpcyIsaW5pdDpmdW5jdGlvbih0LGUpe0FDLnN1cGVyQXBwbHkodGhpcywiaW5pdCIsYXJndW1lbnRzKSwodGhpcy5fYnJ1c2hDb250cm9sbGVyPW5ldyBEZChlLmdldFpyKCkpKS5vbigiYnJ1c2giLG0odGhpcy5fb25CcnVzaCx0aGlzKSl9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtpZighZGYodCxlLG4pKXt0aGlzLmF4aXNNb2RlbD10LHRoaXMuYXBpPWksdGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgbz10aGlzLl9heGlzR3JvdXA7aWYodGhpcy5fYXhpc0dyb3VwPW5ldyBMXyx0aGlzLmdyb3VwLmFkZCh0aGlzLl9heGlzR3JvdXApLHQuZ2V0KCJzaG93Iikpe3ZhciByPXBmKHQsZSkscz1yLmNvb3JkaW5hdGVTeXN0ZW0sbD10LmdldEFyZWFTZWxlY3RTdHlsZSgpLHU9bC53aWR0aCxoPXQuYXhpcy5kaW0sYz1hKHtzdHJva2VDb250YWluVGhyZXNob2xkOnV9LHMuZ2V0QXhpc0xheW91dChoKSksZj1uZXcgcUQodCxjKTtkKFRDLGYuYWRkLGYpLHRoaXMuX2F4aXNHcm91cC5hZGQoZi5nZXRHcm91cCgpKSx0aGlzLl9yZWZyZXNoQnJ1c2hDb250cm9sbGVyKGMsbCx0LHIsdSxpKTt2YXIgcD1uJiYhMT09PW4uYW5pbWF0aW9uP251bGw6dDt5byhvLHRoaXMuX2F4aXNHcm91cCxwKX19fSxfcmVmcmVzaEJydXNoQ29udHJvbGxlcjpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dmFyIHI9aS5heGlzLmdldEV4dGVudCgpLHM9clsxXS1yWzBdLGw9TWF0aC5taW4oMzAsLjEqTWF0aC5hYnMocykpLHU9S3QuY3JlYXRlKHt4OnJbMF0seTotby8yLHdpZHRoOnMsaGVpZ2h0Om99KTt1LngtPWwsdS53aWR0aCs9MipsLHRoaXMuX2JydXNoQ29udHJvbGxlci5tb3VudCh7ZW5hYmxlR2xvYmFsUGFuOiEwLHJvdGF0aW9uOnQucm90YXRpb24scG9zaXRpb246dC5wb3NpdGlvbn0pLnNldFBhbmVscyhbe3BhbmVsSWQ6InBsIixjbGlwUGF0aDpsZih1KSxpc1RhcmdldEJ5Q3Vyc29yOmhmKHUsYSxuKSxnZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50OnVmKHUsMCl9XSkuZW5hYmxlQnJ1c2goe2JydXNoVHlwZToibGluZVgiLGJydXNoU3R5bGU6ZSxyZW1vdmVPbkNsaWNrOiEwfSkudXBkYXRlQ292ZXJzKGZmKGkpKX0sX29uQnJ1c2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmF4aXNNb2RlbCxuPWkuYXhpcyxvPWYodCxmdW5jdGlvbih0KXtyZXR1cm5bbi5jb29yZFRvRGF0YSh0LnJhbmdlWzBdLCEwKSxuLmNvb3JkVG9EYXRhKHQucmFuZ2VbMV0sITApXX0pOyghaS5vcHRpb24ucmVhbHRpbWU9PT1lLmlzRW5kfHxlLnJlbW92ZU9uQ2xpY2spJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiYXhpc0FyZWFTZWxlY3QiLHBhcmFsbGVsQXhpc0lkOmkuaWQsaW50ZXJ2YWxzOm99KX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2JydXNoQ29udHJvbGxlci5kaXNwb3NlKCl9fSk7dnMoe3R5cGU6InBhcmFsbGVsIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX21vZGVsPXQsdGhpcy5fYXBpPWksdGhpcy5faGFuZGxlcnN8fCh0aGlzLl9oYW5kbGVycz17fSxkKENDLGZ1bmN0aW9uKHQsZSl7aS5nZXRacigpLm9uKGUsdGhpcy5faGFuZGxlcnNbZV09bSh0LHRoaXMpKX0sdGhpcykpLF9yKHRoaXMsIl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZCIsdC5nZXQoImF4aXNFeHBhbmRSYXRlIiksImZpeFJhdGUiKX0sZGlzcG9zZTpmdW5jdGlvbih0LGUpe2QodGhpcy5faGFuZGxlcnMsZnVuY3Rpb24odCxpKXtlLmdldFpyKCkub2ZmKGksdCl9KSx0aGlzLl9oYW5kbGVycz1udWxsfSxfdGhyb3R0bGVkRGlzcGF0Y2hFeHBhbmQ6ZnVuY3Rpb24odCl7dGhpcy5fZGlzcGF0Y2hFeHBhbmQodCl9LF9kaXNwYXRjaEV4cGFuZDpmdW5jdGlvbih0KXt0JiZ0aGlzLl9hcGkuZGlzcGF0Y2hBY3Rpb24oYSh7dHlwZToicGFyYWxsZWxBeGlzRXhwYW5kIn0sdCkpfX0pO3ZhciBDQz17bW91c2Vkb3duOmZ1bmN0aW9uKHQpe2dmKHRoaXMsImNsaWNrIikmJih0aGlzLl9tb3VzZURvd25Qb2ludD1bdC5vZmZzZXRYLHQub2Zmc2V0WV0pfSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vdXNlRG93blBvaW50O2lmKGdmKHRoaXMsImNsaWNrIikmJmUpe3ZhciBpPVt0Lm9mZnNldFgsdC5vZmZzZXRZXTtpZihNYXRoLnBvdyhlWzBdLWlbMF0sMikrTWF0aC5wb3coZVsxXS1pWzFdLDIpPjUpcmV0dXJuO3ZhciBuPXRoaXMuX21vZGVsLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0U2xpZGVkQXhpc0V4cGFuZFdpbmRvdyhbdC5vZmZzZXRYLHQub2Zmc2V0WV0pOyJub25lIiE9PW4uYmVoYXZpb3ImJnRoaXMuX2Rpc3BhdGNoRXhwYW5kKHtheGlzRXhwYW5kV2luZG93Om4uYXhpc0V4cGFuZFdpbmRvd30pfXRoaXMuX21vdXNlRG93blBvaW50PW51bGx9LG1vdXNlbW92ZTpmdW5jdGlvbih0KXtpZighdGhpcy5fbW91c2VEb3duUG9pbnQmJmdmKHRoaXMsIm1vdXNlbW92ZSIpKXt2YXIgZT10aGlzLl9tb2RlbCxpPWUuY29vcmRpbmF0ZVN5c3RlbS5nZXRTbGlkZWRBeGlzRXhwYW5kV2luZG93KFt0Lm9mZnNldFgsdC5vZmZzZXRZXSksbj1pLmJlaGF2aW9yOyJqdW1wIj09PW4mJnRoaXMuX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kLmRlYm91bmNlTmV4dENhbGwoZS5nZXQoImF4aXNFeHBhbmREZWJvdW5jZSIpKSx0aGlzLl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZCgibm9uZSI9PT1uP251bGw6e2F4aXNFeHBhbmRXaW5kb3c6aS5heGlzRXhwYW5kV2luZG93LGFuaW1hdGlvbjoianVtcCI9PT1uJiZudWxsfSl9fX07bHMoZnVuY3Rpb24odCl7eWQodCkseGQodCl9KSxtTS5leHRlbmQoe3R5cGU6InNlcmllcy5wYXJhbGxlbCIsZGVwZW5kZW5jaWVzOlsicGFyYWxsZWwiXSx2aXN1YWxDb2xvckFjY2Vzc1BhdGg6ImxpbmVTdHlsZS5jb2xvciIsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZSYmKHRoaXMub3B0aW9uLmFuaW1hdGlvbj0hMSk7dmFyIGk9dGhpcy5nZXRTb3VyY2UoKTtyZXR1cm4gbWYoaSx0aGlzKSxIcyhpLHRoaXMpfSxnZXRSYXdJbmRpY2VzQnlBY3RpdmVTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvb3JkaW5hdGVTeXN0ZW0saT10aGlzLmdldERhdGEoKSxuPVtdO3JldHVybiBlLmVhY2hBY3RpdmVTdGF0ZShpLGZ1bmN0aW9uKGUsbyl7dD09PWUmJm4ucHVzaChpLmdldFJhd0luZGV4KG8pKX0pLG59LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJwYXJhbGxlbCIscGFyYWxsZWxJbmRleDowLGxhYmVsOntzaG93OiExfSxpbmFjdGl2ZU9wYWNpdHk6LjA1LGFjdGl2ZU9wYWNpdHk6MSxsaW5lU3R5bGU6e3dpZHRoOjEsb3BhY2l0eTouNDUsdHlwZToic29saWQifSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITF9fSxwcm9ncmVzc2l2ZTohMSxzbW9vdGg6ITEsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIifX0pO3ByLmV4dGVuZCh7dHlwZToicGFyYWxsZWwiLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhR3JvdXA9bmV3IExfLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2RhdGFHcm91cCksdGhpcy5fZGF0YX0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuX3JlbmRlckZvck5vcm1hbCh0LG4pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7fSxfcmVuZGVyRm9yTm9ybWFsOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZGF0YUdyb3VwLG49dC5nZXREYXRhKCksbz10aGlzLl9kYXRhLGE9dC5jb29yZGluYXRlU3lzdGVtLHI9YS5kaW1lbnNpb25zLHM9dC5vcHRpb24uc21vb3RoPy4zOm51bGw7aWYobi5kaWZmKG8pLmFkZChmdW5jdGlvbih0KXtfZihuLGksdCxyLGEpfSkudXBkYXRlKGZ1bmN0aW9uKGkscyl7dmFyIGw9by5nZXRJdGVtR3JhcGhpY0VsKHMpLHU9eGYobixpLHIsYSk7bi5zZXRJdGVtR3JhcGhpY0VsKGksbCksZm8obCx7c2hhcGU6e3BvaW50czp1fX0sZSYmITE9PT1lLmFuaW1hdGlvbj9udWxsOnQsaSl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtR3JhcGhpY0VsKHQpO2kucmVtb3ZlKGUpfSkuZXhlY3V0ZSgpLHdmKG4scyksIXRoaXMuX2RhdGEpe3ZhciBsPXlmKGEsdCxmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnJlbW92ZUNsaXBQYXRoKCl9KX0pO2kuc2V0Q2xpcFBhdGgobCl9dGhpcy5fZGF0YT1ufSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhR3JvdXAmJnRoaXMuX2RhdGFHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9fSk7dmFyIExDPVsibGluZVN0eWxlIiwibm9ybWFsIiwib3BhY2l0eSJdO2ZzKGZ1bmN0aW9uKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgicGFyYWxsZWwiLGZ1bmN0aW9uKGUpe3ZhciBpPWUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLG49ZS5nZXRNb2RlbCgibGluZVN0eWxlIiksbz10LmdldCgiY29sb3IiKSxhPW4uZ2V0KCJjb2xvciIpfHxpLmdldCgiY29sb3IiKXx8b1tlLnNlcmllc0luZGV4JW8ubGVuZ3RoXSxyPWUuZ2V0KCJpbmFjdGl2ZU9wYWNpdHkiKSxzPWUuZ2V0KCJhY3RpdmVPcGFjaXR5IiksbD1lLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSx1PWUuY29vcmRpbmF0ZVN5c3RlbSxoPWUuZ2V0RGF0YSgpLGM9e25vcm1hbDpsLm9wYWNpdHksYWN0aXZlOnMsaW5hY3RpdmU6cn07dS5lYWNoQWN0aXZlU3RhdGUoaCxmdW5jdGlvbih0LGUpe3ZhciBpPWguZ2V0SXRlbU1vZGVsKGUpLG49Y1t0XTtpZigibm9ybWFsIj09PXQpe3ZhciBvPWkuZ2V0KExDLCEwKTtudWxsIT1vJiYobj1vKX1oLnNldEl0ZW1WaXN1YWwoZSwib3BhY2l0eSIsbil9KSxoLnNldFZpc3VhbCgiY29sb3IiLGEpfSl9KTt2YXIga0M9bU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMuc2Fua2V5IixsYXlvdXRJbmZvOm51bGwsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dC5lZGdlc3x8dC5saW5rcyxpPXQuZGF0YXx8dC5ub2RlcztpZihpJiZlKXJldHVybiBrQShpLGUsdGhpcywhMCkuZGF0YX0sZ2V0R3JhcGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREYXRhKCkuZ3JhcGh9LGdldEVkZ2VEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0R3JhcGgoKS5lZGdlRGF0YX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0LGUsaSl7aWYoImVkZ2UiPT09aSl7dmFyIG49dGhpcy5nZXREYXRhUGFyYW1zKHQsaSksbz1uLmRhdGEsYT1vLnNvdXJjZSsiIC0tICIrby50YXJnZXQ7cmV0dXJuIG4udmFsdWUmJihhKz0iIDogIituLnZhbHVlKSxabyhhKX1yZXR1cm4ga0Muc3VwZXJDYWxsKHRoaXMsImZvcm1hdFRvb2x0aXAiLHQsZSl9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJ2aWV3IixsYXlvdXQ6bnVsbCxsZWZ0OiI1JSIsdG9wOiI1JSIscmlnaHQ6IjIwJSIsYm90dG9tOiI1JSIsbm9kZVdpZHRoOjIwLG5vZGVHYXA6OCxsYXlvdXRJdGVyYXRpb25zOjMyLGxhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJyaWdodCIsY29sb3I6IiMwMDAiLGZvbnRTaXplOjEyfSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6IiMzMzMifSxsaW5lU3R5bGU6e2NvbG9yOiIjMzE0NjU2IixvcGFjaXR5Oi4yLGN1cnZlbmVzczouNX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfSxsaW5lU3R5bGU6e29wYWNpdHk6LjZ9fSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciIsYW5pbWF0aW9uRHVyYXRpb246MWUzfX0pLFBDPUVuKHtzaGFwZTp7eDE6MCx5MTowLHgyOjAseTI6MCxjcHgxOjAsY3B5MTowLGNweDI6MCxjcHkyOjAsZXh0ZW50OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuZXh0ZW50LzI7dC5tb3ZlVG8oZS54MSxlLnkxLWkpLHQuYmV6aWVyQ3VydmVUbyhlLmNweDEsZS5jcHkxLWksZS5jcHgyLGUuY3B5Mi1pLGUueDIsZS55Mi1pKSx0LmxpbmVUbyhlLngyLGUueTIraSksdC5iZXppZXJDdXJ2ZVRvKGUuY3B4MixlLmNweTIraSxlLmNweDEsZS5jcHkxK2ksZS54MSxlLnkxK2kpLHQuY2xvc2VQYXRoKCl9fSk7eHMoe3R5cGU6InNhbmtleSIsX21vZGVsOm51bGwscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldEdyYXBoKCksbz10aGlzLmdyb3VwLGE9dC5sYXlvdXRJbmZvLHI9dC5nZXREYXRhKCkscz10LmdldERhdGEoImVkZ2UiKTt0aGlzLl9tb2RlbD10LG8ucmVtb3ZlQWxsKCksby5hdHRyKCJwb3NpdGlvbiIsW2EueCxhLnldKSxuLmVhY2hFZGdlKGZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBQQztpLmRhdGFJbmRleD1lLmRhdGFJbmRleCxpLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgsaS5kYXRhVHlwZT0iZWRnZSI7dmFyIG49ZS5nZXRNb2RlbCgibGluZVN0eWxlIiksYT1uLmdldCgiY3VydmVuZXNzIikscj1lLm5vZGUxLmdldExheW91dCgpLGw9ZS5ub2RlMi5nZXRMYXlvdXQoKSx1PWUuZ2V0TGF5b3V0KCk7aS5zaGFwZS5leHRlbnQ9TWF0aC5tYXgoMSx1LmR5KTt2YXIgaD1yLngrci5keCxjPXIueSt1LnN5K3UuZHkvMixkPWwueCxmPWwueSt1LnR5K3UuZHkvMixwPWgqKDEtYSkrZCphLGc9YyxtPWgqYStkKigxLWEpLHY9Zjtzd2l0Y2goaS5zZXRTaGFwZSh7eDE6aCx5MTpjLHgyOmQseTI6ZixjcHgxOnAsY3B5MTpnLGNweDI6bSxjcHkyOnZ9KSxpLnNldFN0eWxlKG4uZ2V0SXRlbVN0eWxlKCkpLGkuc3R5bGUuZmlsbCl7Y2FzZSJzb3VyY2UiOmkuc3R5bGUuZmlsbD1lLm5vZGUxLmdldFZpc3VhbCgiY29sb3IiKTticmVhaztjYXNlInRhcmdldCI6aS5zdHlsZS5maWxsPWUubm9kZTIuZ2V0VmlzdWFsKCJjb2xvciIpfWVvKGksZS5nZXRNb2RlbCgiZW1waGFzaXMubGluZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLG8uYWRkKGkpLHMuc2V0SXRlbUdyYXBoaWNFbChlLmRhdGFJbmRleCxpKX0pLG4uZWFjaE5vZGUoZnVuY3Rpb24oZSl7dmFyIGk9ZS5nZXRMYXlvdXQoKSxuPWUuZ2V0TW9kZWwoKSxhPW4uZ2V0TW9kZWwoImxhYmVsIikscz1uLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLGw9bmV3IGpiKHtzaGFwZTp7eDppLngseTppLnksd2lkdGg6ZS5nZXRMYXlvdXQoKS5keCxoZWlnaHQ6ZS5nZXRMYXlvdXQoKS5keX0sc3R5bGU6bi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCl9KSx1PWUuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO2lvKGwuc3R5bGUsdSxhLHMse2xhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OmUuZGF0YUluZGV4LGRlZmF1bHRUZXh0OmUuaWQsaXNSZWN0VGV4dDohMH0pLGwuc2V0U3R5bGUoImZpbGwiLGUuZ2V0VmlzdWFsKCJjb2xvciIpKSxlbyhsLHUpLG8uYWRkKGwpLHIuc2V0SXRlbUdyYXBoaWNFbChlLmRhdGFJbmRleCxsKSxsLmRhdGFUeXBlPSJub2RlIn0pLCF0aGlzLl9kYXRhJiZ0LmdldCgiYW5pbWF0aW9uIikmJm8uc2V0Q2xpcFBhdGgoU2Yoby5nZXRCb3VuZGluZ1JlY3QoKSx0LGZ1bmN0aW9uKCl7by5yZW1vdmVDbGlwUGF0aCgpfSkpLHRoaXMuX2RhdGE9dC5nZXREYXRhKCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fSk7ZHMoZnVuY3Rpb24odCxlLGkpe3QuZWFjaFNlcmllc0J5VHlwZSgic2Fua2V5IixmdW5jdGlvbih0KXt2YXIgaT10LmdldCgibm9kZVdpZHRoIiksbj10LmdldCgibm9kZUdhcCIpLG89SWYodCxlKTt0LmxheW91dEluZm89bzt2YXIgYT1vLndpZHRoLHI9by5oZWlnaHQscz10LmdldEdyYXBoKCksbD1zLm5vZGVzLHU9cy5lZGdlcztUZihsKSxEZihsLHUsaSxuLGEsciwwIT09ZyhsLGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5nZXRMYXlvdXQoKS52YWx1ZX0pLmxlbmd0aD8wOnQuZ2V0KCJsYXlvdXRJdGVyYXRpb25zIikpfSl9KSxmcyhmdW5jdGlvbih0LGUpe3QuZWFjaFNlcmllc0J5VHlwZSgic2Fua2V5IixmdW5jdGlvbih0KXt2YXIgZT10LmdldEdyYXBoKCkubm9kZXM7ZS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0TGF5b3V0KCkudmFsdWUtZS5nZXRMYXlvdXQoKS52YWx1ZX0pO3ZhciBpPWVbMF0uZ2V0TGF5b3V0KCkudmFsdWUsbj1lW2UubGVuZ3RoLTFdLmdldExheW91dCgpLnZhbHVlO2QoZSxmdW5jdGlvbihlKXt2YXIgbz1uZXcgZkEoe3R5cGU6ImNvbG9yIixtYXBwaW5nTWV0aG9kOiJsaW5lYXIiLGRhdGFFeHRlbnQ6W2ksbl0sdmlzdWFsOnQuZ2V0KCJjb2xvciIpfSkubWFwVmFsdWVUb1Zpc3VhbChlLmdldExheW91dCgpLnZhbHVlKTtlLnNldFZpc3VhbCgiY29sb3IiLG8pO3ZhciBhPWUuZ2V0TW9kZWwoKS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpO251bGwhPWEmJmUuc2V0VmlzdWFsKCJjb2xvciIsYSl9KX0pfSk7dmFyIE5DPUluLmV4dGVuZCh7dHlwZToid2hpc2tlckluQm94IixzaGFwZTp7fSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpJiYwPT09aS5pbmRleE9mKCJlbmRzIikpe3ZhciBuPWVbaV07dC5tb3ZlVG8oblswXVswXSxuWzBdWzFdKSx0LmxpbmVUbyhuWzFdWzBdLG5bMV1bMV0pfX19KSxPQz1qZi5wcm90b3R5cGU7T0MuX2NyZWF0ZUNvbnRlbnQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuZ2V0SXRlbUxheW91dChlKSxvPSJob3Jpem9udGFsIj09PW4uY2hhcnRMYXlvdXQ/MTowLGE9MDt0aGlzLmFkZChuZXcgWmIoe3NoYXBlOntwb2ludHM6aT9YZihuLmJvZHlFbmRzLG8sbik6bi5ib2R5RW5kc30sc3R5bGU6e3N0cm9rZU5vU2NhbGU6ITB9LHoyOjEwMH0pKSx0aGlzLmJvZHlJbmRleD1hKys7dmFyIHI9ZihuLndoaXNrZXJFbmRzLGZ1bmN0aW9uKHQpe3JldHVybiBpP1hmKHQsbyxuKTp0fSk7dGhpcy5hZGQobmV3IE5DKHtzaGFwZTpZZihyKSxzdHlsZTp7c3Ryb2tlTm9TY2FsZTohMH0sejI6MTAwfSkpLHRoaXMud2hpc2tlckluZGV4PWErK30sT0MudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fc2VyaWVzTW9kZWw9dC5ob3N0TW9kZWwsbz10LmdldEl0ZW1MYXlvdXQoZSksYT1zU1tpPyJpbml0UHJvcHMiOiJ1cGRhdGVQcm9wcyJdO2EodGhpcy5jaGlsZEF0KHRoaXMuYm9keUluZGV4KSx7c2hhcGU6e3BvaW50czpvLmJvZHlFbmRzfX0sbixlKSxhKHRoaXMuY2hpbGRBdCh0aGlzLndoaXNrZXJJbmRleCkse3NoYXBlOllmKG8ud2hpc2tlckVuZHMpfSxuLGUpLHRoaXMuc3R5bGVVcGRhdGVyLmNhbGwobnVsbCx0aGlzLHQsZSl9LHUoamYsTF8pO3ZhciBFQz1xZi5wcm90b3R5cGU7RUMudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdyb3VwLGk9dGhpcy5fZGF0YSxuPXRoaXMuc3R5bGVVcGRhdGVyO3RoaXMuX2RhdGF8fGUucmVtb3ZlQWxsKCksdC5kaWZmKGkpLmFkZChmdW5jdGlvbihpKXtpZih0Lmhhc1ZhbHVlKGkpKXt2YXIgbz1uZXcgamYodCxpLG4sITApO3Quc2V0SXRlbUdyYXBoaWNFbChpLG8pLGUuYWRkKG8pfX0pLnVwZGF0ZShmdW5jdGlvbihvLGEpe3ZhciByPWkuZ2V0SXRlbUdyYXBoaWNFbChhKTt0Lmhhc1ZhbHVlKG8pPyhyP3IudXBkYXRlRGF0YSh0LG8pOnI9bmV3IGpmKHQsbyxuKSxlLmFkZChyKSx0LnNldEl0ZW1HcmFwaGljRWwobyxyKSk6ZS5yZW1vdmUocil9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIG49aS5nZXRJdGVtR3JhcGhpY0VsKHQpO24mJmUucmVtb3ZlKG4pfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9dH0sRUMuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sRUMuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlLGksbil7Zm9yKHZhciBvPWUuZ2V0RGF0YSgpLGE9dC5zdGFydDthPHQuZW5kO2ErKyl7dmFyIHI9bmV3IGpmKG8sYSx0aGlzLnN0eWxlVXBkYXRlciwhMCk7ci5pbmNyZW1lbnRhbD0hMCx0aGlzLmdyb3VwLmFkZChyKX19LEVDLnJlbW92ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9kYXRhO3RoaXMuX2RhdGE9bnVsbCxlJiZlLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKGUpe2UmJnQucmVtb3ZlKGUpfSl9O3ZhciB6Qz17X2Jhc2VBeGlzRGltOm51bGwsZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG89ZS5nZXRDb21wb25lbnQoInhBeGlzIix0aGlzLmdldCgieEF4aXNJbmRleCIpKSxhPWUuZ2V0Q29tcG9uZW50KCJ5QXhpcyIsdGhpcy5nZXQoInlBeGlzSW5kZXgiKSkscj1vLmdldCgidHlwZSIpLHM9YS5nZXQoInR5cGUiKTsiY2F0ZWdvcnkiPT09cj8odC5sYXlvdXQ9Imhvcml6b250YWwiLGk9by5nZXRPcmRpbmFsTWV0YSgpLG49ITApOiJjYXRlZ29yeSI9PT1zPyh0LmxheW91dD0idmVydGljYWwiLGk9YS5nZXRPcmRpbmFsTWV0YSgpLG49ITApOnQubGF5b3V0PXQubGF5b3V0fHwiaG9yaXpvbnRhbCI7dmFyIGw9WyJ4IiwieSJdLHU9Imhvcml6b250YWwiPT09dC5sYXlvdXQ/MDoxLGg9dGhpcy5fYmFzZUF4aXNEaW09bFt1XSxjPWxbMS11XSxmPVtvLGFdLHA9Zlt1XS5nZXQoInR5cGUiKSxnPWZbMS11XS5nZXQoInR5cGUiKSxtPXQuZGF0YTtpZihtJiZuKXt2YXIgdj1bXTtkKG0sZnVuY3Rpb24odCxlKXt2YXIgaTt0LnZhbHVlJiZ5KHQudmFsdWUpPyhpPXQudmFsdWUuc2xpY2UoKSx0LnZhbHVlLnVuc2hpZnQoZSkpOnkodCk/KGk9dC5zbGljZSgpLHQudW5zaGlmdChlKSk6aT10LHYucHVzaChpKX0pLHQuZGF0YT12fXZhciB4PXRoaXMuZGVmYXVsdFZhbHVlRGltZW5zaW9ucztyZXR1cm4gZ1QodGhpcyx7Y29vcmREaW1lbnNpb25zOlt7bmFtZTpoLHR5cGU6SXMocCksb3JkaW5hbE1ldGE6aSxvdGhlckRpbXM6e3Rvb2x0aXA6ITEsaXRlbU5hbWU6MH0sZGltc0RlZjpbImJhc2UiXX0se25hbWU6Yyx0eXBlOklzKGcpLGRpbXNEZWY6eC5zbGljZSgpfV0sZGltZW5zaW9uc0NvdW50OngubGVuZ3RoKzF9KX0sZ2V0QmFzZUF4aXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9iYXNlQXhpc0RpbTtyZXR1cm4gdGhpcy5lY01vZGVsLmdldENvbXBvbmVudCh0KyJBeGlzIix0aGlzLmdldCh0KyJBeGlzSW5kZXgiKSkuYXhpc319LFJDPXtpbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fd2hpc2tlckJveERyYXc9bmV3IHFmKHRoaXMuZ2V0U3R5bGVVcGRhdGVyKCkpO3RoaXMuZ3JvdXAuYWRkKHQuZ3JvdXApfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX3doaXNrZXJCb3hEcmF3LnVwZGF0ZURhdGEodC5nZXREYXRhKCkpfSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX3doaXNrZXJCb3hEcmF3LmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZSh0LGUsaSl9LGluY3JlbWVudGFsUmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuX3doaXNrZXJCb3hEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZSxpLG4pfSxyZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy5fd2hpc2tlckJveERyYXcucmVtb3ZlKCl9fTtoKG1NLmV4dGVuZCh7dHlwZToic2VyaWVzLmJveHBsb3QiLGRlcGVuZGVuY2llczpbInhBeGlzIiwieUF4aXMiLCJncmlkIl0sZGVmYXVsdFZhbHVlRGltZW5zaW9uczpbIm1pbiIsIlExIiwibWVkaWFuIiwiUTMiLCJtYXgiXSxkaW1lbnNpb25zOm51bGwsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsaG92ZXJBbmltYXRpb246ITAsbGF5b3V0Om51bGwsYm94V2lkdGg6WzcsNTBdLGl0ZW1TdHlsZTp7Y29sb3I6IiNmZmYiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjIsc2hhZG93Qmx1cjo1LHNoYWRvd09mZnNldFg6MixzaGFkb3dPZmZzZXRZOjIsc2hhZG93Q29sb3I6InJnYmEoMCwwLDAsMC40KSJ9fSxhbmltYXRpb25FYXNpbmc6ImVsYXN0aWNPdXQiLGFuaW1hdGlvbkR1cmF0aW9uOjgwMH19KSx6QywhMCksaChwci5leHRlbmQoe3R5cGU6ImJveHBsb3QiLGdldFN0eWxlVXBkYXRlcjpmdW5jdGlvbigpe3JldHVybiAkZn0sZGlzcG9zZTpCfSksUkMsITApO3ZhciBCQz1bIml0ZW1TdHlsZSJdLFZDPVsiZW1waGFzaXMiLCJpdGVtU3R5bGUiXSxHQz1bIml0ZW1TdHlsZSIsImJvcmRlckNvbG9yIl0sRkM9ZDtmcyhmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJjb2xvciIpO3QuZWFjaFJhd1Nlcmllc0J5VHlwZSgiYm94cGxvdCIsZnVuY3Rpb24oZSl7dmFyIG49aVtlLnNlcmllc0luZGV4JWkubGVuZ3RoXSxvPWUuZ2V0RGF0YSgpO28uc2V0VmlzdWFsKHtsZWdlbmRTeW1ib2w6InJvdW5kUmVjdCIsY29sb3I6ZS5nZXQoR0MpfHxufSksdC5pc1Nlcmllc0ZpbHRlcmVkKGUpfHxvLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9by5nZXRJdGVtTW9kZWwodCk7by5zZXRJdGVtVmlzdWFsKHQse2NvbG9yOmUuZ2V0KEdDLCEwKX0pfSl9KX0pLGRzKGZ1bmN0aW9uKHQpe3ZhciBlPUtmKHQpO0ZDKGUsZnVuY3Rpb24odCl7dmFyIGU9dC5zZXJpZXNNb2RlbHM7ZS5sZW5ndGgmJihKZih0KSxGQyhlLGZ1bmN0aW9uKGUsaSl7UWYoZSx0LmJveE9mZnNldExpc3RbaV0sdC5ib3hXaWR0aExpc3RbaV0pfSkpfSl9KSxoKG1NLmV4dGVuZCh7dHlwZToic2VyaWVzLmNhbmRsZXN0aWNrIixkZXBlbmRlbmNpZXM6WyJ4QXhpcyIsInlBeGlzIiwiZ3JpZCJdLGRlZmF1bHRWYWx1ZURpbWVuc2lvbnM6WyJvcGVuIiwiY2xvc2UiLCJsb3dlc3QiLCJoaWdoZXN0Il0sZGltZW5zaW9uczpudWxsLGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLGxheW91dDpudWxsLGl0ZW1TdHlsZTp7Y29sb3I6IiNjMjM1MzEiLGNvbG9yMDoiIzMxNDY1NiIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiI2MyMzUzMSIsYm9yZGVyQ29sb3IwOiIjMzE0NjU2In0sZW1waGFzaXM6e2l0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6Mn19LGJhck1heFdpZHRoOm51bGwsYmFyTWluV2lkdGg6bnVsbCxiYXJXaWR0aDpudWxsLGFuaW1hdGlvblVwZGF0ZTohMSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciIsYW5pbWF0aW9uRHVyYXRpb246MzAwfSxnZXRTaGFkb3dEaW06ZnVuY3Rpb24oKXtyZXR1cm4ib3BlbiJ9LGJydXNoU2VsZWN0b3I6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUuZ2V0SXRlbUxheW91dCh0KTtyZXR1cm4gaS5yZWN0KG4uYnJ1c2hSZWN0KX19KSx6QywhMCksaChwci5leHRlbmQoe3R5cGU6ImNhbmRsZXN0aWNrIixnZXRTdHlsZVVwZGF0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdHB9LGRpc3Bvc2U6Qn0pLFJDLCEwKTt2YXIgV0M9WyJpdGVtU3R5bGUiXSxIQz1bImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0sWkM9WyJpdGVtU3R5bGUiLCJib3JkZXJDb2xvciJdLFVDPVsiaXRlbVN0eWxlIiwiYm9yZGVyQ29sb3IwIl0sakM9WyJpdGVtU3R5bGUiLCJjb2xvciJdLFhDPVsiaXRlbVN0eWxlIiwiY29sb3IwIl0sWUM9VDtscyhmdW5jdGlvbih0KXt0JiZ5KHQuc2VyaWVzKSYmZCh0LnNlcmllcyxmdW5jdGlvbih0KXt3KHQpJiYiayI9PT10LnR5cGUmJih0LnR5cGU9ImNhbmRsZXN0aWNrIil9KX0pLGZzKGZ1bmN0aW9uKHQsZSl7dC5lYWNoUmF3U2VyaWVzQnlUeXBlKCJjYW5kbGVzdGljayIsZnVuY3Rpb24oZSl7dmFyIGk9ZS5nZXREYXRhKCk7aS5zZXRWaXN1YWwoe2xlZ2VuZFN5bWJvbDoicm91bmRSZWN0In0pLHQuaXNTZXJpZXNGaWx0ZXJlZChlKXx8aS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0SXRlbU1vZGVsKHQpLG49aS5nZXRJdGVtTGF5b3V0KHQpLnNpZ247aS5zZXRJdGVtVmlzdWFsKHQse2NvbG9yOmUuZ2V0KG4+MD9qQzpYQyksYm9yZGVyQ29sb3I6ZS5nZXQobj4wP1pDOlVDKX0pfSl9KX0pLGRzKGZ1bmN0aW9uKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgiY2FuZGxlc3RpY2siLGZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5jb29yZGluYXRlU3lzdGVtLG49dC5nZXREYXRhKCksbz1lcCh0LG4pLGE9dC5nZXQoImxheW91dCIpLHI9Imhvcml6b250YWwiPT09YT8wOjEscz0xLXIsbD1bIngiLCJ5Il0sdT1bXTtpZihkKG4uZGltZW5zaW9ucyxmdW5jdGlvbih0KXt2YXIgaT1uLmdldERpbWVuc2lvbkluZm8odCkuY29vcmREaW07aT09PWxbc10/dS5wdXNoKHQpOmk9PT1sW3JdJiYoZT10KX0pLCEobnVsbD09ZXx8dS5sZW5ndGg8NCkpe3ZhciBoPTA7bi5lYWNoKFtlXS5jb25jYXQodSksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPVtdO3JldHVybiBlW3JdPWQsZVtzXT10LGlzTmFOKGQpfHxpc05hTih0KT9bTmFOLE5hTl06aS5kYXRhVG9Qb2ludChlKX1mdW5jdGlvbiBlKHQsZSl7dmFyIGk9dC5zbGljZSgpLG49dC5zbGljZSgpO2lbcl09V24oaVtyXStvLzIsMSwhMSksbltyXT1XbihuW3JdLW8vMiwxLCEwKSxlP00ucHVzaChpLG4pOk0ucHVzaChuLGkpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIHRbcl09V24odFtyXSwxKSx0fXZhciBjPWFyZ3VtZW50cyxkPWNbMF0sZj1jW3UubGVuZ3RoKzFdLHA9Y1sxXSxnPWNbMl0sbT1jWzNdLHY9Y1s0XSx5PU1hdGgubWluKHAsZykseD1NYXRoLm1heChwLGcpLF89dCh5KSx3PXQoeCksYj10KG0pLFM9W1tsKHQodikpLGwodyldLFtsKGIpLGwoXyldXSxNPVtdO2UodywwKSxlKF8sMSk7dmFyIEk7ST1wPmc/LTE6cDxnPzE6aD4wP24uZ2V0SXRlbU1vZGVsKGgtMSkuZ2V0KClbMl08PWc/MTotMToxLG4uc2V0SXRlbUxheW91dChmLHtjaGFydExheW91dDphLHNpZ246SSxpbml0QmFzZWxpbmU6cD5nP3dbc106X1tzXSxib2R5RW5kczpNLHdoaXNrZXJFbmRzOlMsYnJ1c2hSZWN0OmZ1bmN0aW9uKCl7dmFyIGU9dChNYXRoLm1pbihwLGcsbSx2KSksaT10KE1hdGgubWF4KHAsZyxtLHYpKTtyZXR1cm4gZVtyXS09by8yLGlbcl0tPW8vMix7eDplWzBdLHk6ZVsxXSx3aWR0aDpzP286aVswXS1lWzBdLGhlaWdodDpzP2lbMV0tZVsxXTpvfX0oKX0pLCsraH0pfX0pfSksbU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMuZWZmZWN0U2NhdHRlciIsZGVwZW5kZW5jaWVzOlsiZ3JpZCIsInBvbGFyIl0sZ2V0SW5pdGlhbERhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gSHModGhpcy5nZXRTb3VyY2UoKSx0aGlzKX0sYnJ1c2hTZWxlY3RvcjoicG9pbnQiLGRlZmF1bHRPcHRpb246e2Nvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIix6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGVmZmVjdFR5cGU6InJpcHBsZSIscHJvZ3Jlc3NpdmU6MCxzaG93RWZmZWN0T246InJlbmRlciIscmlwcGxlRWZmZWN0OntwZXJpb2Q6NCxzY2FsZToyLjUsYnJ1c2hUeXBlOiJmaWxsIn0sc3ltYm9sU2l6ZToxMH19KTt2YXIgcUM9b3AucHJvdG90eXBlO3FDLnN0b3BFZmZlY3RBbmltYXRpb249ZnVuY3Rpb24oKXt0aGlzLmNoaWxkQXQoMSkucmVtb3ZlQWxsKCl9LHFDLnN0YXJ0RWZmZWN0QW5pbWF0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnN5bWJvbFR5cGUsaT10LmNvbG9yLG49dGhpcy5jaGlsZEF0KDEpLG89MDtvPDM7bysrKXt2YXIgYT1tbChlLC0xLC0xLDIsMixpKTthLmF0dHIoe3N0eWxlOntzdHJva2VOb1NjYWxlOiEwfSx6Mjo5OSxzaWxlbnQ6ITAsc2NhbGU6Wy41LC41XX0pO3ZhciByPS1vLzMqdC5wZXJpb2QrdC5lZmZlY3RPZmZzZXQ7YS5hbmltYXRlKCIiLCEwKS53aGVuKHQucGVyaW9kLHtzY2FsZTpbdC5yaXBwbGVTY2FsZS8yLHQucmlwcGxlU2NhbGUvMl19KS5kZWxheShyKS5zdGFydCgpLGEuYW5pbWF0ZVN0eWxlKCEwKS53aGVuKHQucGVyaW9kLHtvcGFjaXR5OjB9KS5kZWxheShyKS5zdGFydCgpLG4uYWRkKGEpfW5wKG4sdCl9LHFDLnVwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZWZmZWN0Q2ZnLGk9dGhpcy5jaGlsZEF0KDEpLG49WyJzeW1ib2xUeXBlIiwicGVyaW9kIiwicmlwcGxlU2NhbGUiXSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107aWYoZVthXSE9PXRbYV0pcmV0dXJuIHRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpLHZvaWQgdGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbih0KX1ucChpLHQpfSxxQy5oaWdobGlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoImVtcGhhc2lzIil9LHFDLmRvd25wbGF5PWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJub3JtYWwiKX0scUMudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuaG9zdE1vZGVsO3RoaXMuY2hpbGRBdCgwKS51cGRhdGVEYXRhKHQsZSk7dmFyIG49dGhpcy5jaGlsZEF0KDEpLG89dC5nZXRJdGVtTW9kZWwoZSksYT10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sIikscj1pcCh0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sU2l6ZSIpKSxzPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpO24uYXR0cigic2NhbGUiLHIpLG4udHJhdmVyc2UoZnVuY3Rpb24odCl7dC5hdHRyKHtmaWxsOnN9KX0pO3ZhciBsPW8uZ2V0U2hhbGxvdygic3ltYm9sT2Zmc2V0Iik7aWYobCl7dmFyIHU9bi5wb3NpdGlvbjt1WzBdPVRvKGxbMF0sclswXSksdVsxXT1UbyhsWzFdLHJbMV0pfW4ucm90YXRpb249KG8uZ2V0U2hhbGxvdygic3ltYm9sUm90YXRlIil8fDApKk1hdGguUEkvMTgwfHwwO3ZhciBoPXt9O2lmKGguc2hvd0VmZmVjdE9uPWkuZ2V0KCJzaG93RWZmZWN0T24iKSxoLnJpcHBsZVNjYWxlPW8uZ2V0KCJyaXBwbGVFZmZlY3Quc2NhbGUiKSxoLmJydXNoVHlwZT1vLmdldCgicmlwcGxlRWZmZWN0LmJydXNoVHlwZSIpLGgucGVyaW9kPTFlMypvLmdldCgicmlwcGxlRWZmZWN0LnBlcmlvZCIpLGguZWZmZWN0T2Zmc2V0PWUvdC5jb3VudCgpLGguej1vLmdldFNoYWxsb3coInoiKXx8MCxoLnpsZXZlbD1vLmdldFNoYWxsb3coInpsZXZlbCIpfHwwLGguc3ltYm9sVHlwZT1hLGguY29sb3I9cyx0aGlzLm9mZigibW91c2VvdmVyIikub2ZmKCJtb3VzZW91dCIpLm9mZigiZW1waGFzaXMiKS5vZmYoIm5vcm1hbCIpLCJyZW5kZXIiPT09aC5zaG93RWZmZWN0T24pdGhpcy5fZWZmZWN0Q2ZnP3RoaXMudXBkYXRlRWZmZWN0QW5pbWF0aW9uKGgpOnRoaXMuc3RhcnRFZmZlY3RBbmltYXRpb24oaCksdGhpcy5fZWZmZWN0Q2ZnPWg7ZWxzZXt0aGlzLl9lZmZlY3RDZmc9bnVsbCx0aGlzLnN0b3BFZmZlY3RBbmltYXRpb24oKTt2YXIgYz10aGlzLmNoaWxkQXQoMCksZD1mdW5jdGlvbigpe2MuaGlnaGxpZ2h0KCksInJlbmRlciIhPT1oLnNob3dFZmZlY3RPbiYmdGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbihoKX0sZj1mdW5jdGlvbigpe2MuZG93bnBsYXkoKSwicmVuZGVyIiE9PWguc2hvd0VmZmVjdE9uJiZ0aGlzLnN0b3BFZmZlY3RBbmltYXRpb24oKX07dGhpcy5vbigibW91c2VvdmVyIixkLHRoaXMpLm9uKCJtb3VzZW91dCIsZix0aGlzKS5vbigiZW1waGFzaXMiLGQsdGhpcykub24oIm5vcm1hbCIsZix0aGlzKX10aGlzLl9lZmZlY3RDZmc9aH0scUMuZmFkZU91dD1mdW5jdGlvbih0KXt0aGlzLm9mZigibW91c2VvdmVyIikub2ZmKCJtb3VzZW91dCIpLm9mZigiZW1waGFzaXMiKS5vZmYoIm5vcm1hbCIpLHQmJnQoKX0sdShvcCxMXykseHMoe3R5cGU6ImVmZmVjdFNjYXR0ZXIiLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLl9zeW1ib2xEcmF3PW5ldyBBbChvcCl9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz10aGlzLl9zeW1ib2xEcmF3O28udXBkYXRlRGF0YShuKSx0aGlzLmdyb3VwLmFkZChvLmdyb3VwKX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKTt0aGlzLmdyb3VwLmRpcnR5KCk7dmFyIG89UEQoKS5yZXNldCh0KTtvLnByb2dyZXNzJiZvLnByb2dyZXNzKHtzdGFydDowLGVuZDpuLmNvdW50KCl9LG4pLHRoaXMuX3N5bWJvbERyYXcudXBkYXRlTGF5b3V0KG4pfSxfdXBkYXRlR3JvdXBUcmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2UmJmUuZ2V0Um9hbVRyYW5zZm9ybSYmKHRoaXMuZ3JvdXAudHJhbnNmb3JtPWd0KGUuZ2V0Um9hbVRyYW5zZm9ybSgpKSx0aGlzLmdyb3VwLmRlY29tcG9zZVRyYW5zZm9ybSgpKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3ltYm9sRHJhdyYmdGhpcy5fc3ltYm9sRHJhdy5yZW1vdmUoZSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fSksZnMoa0QoImVmZmVjdFNjYXR0ZXIiLCJjaXJjbGUiKSksZHMoUEQoImVmZmVjdFNjYXR0ZXIiKSk7dmFyICRDPSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P2dsb2JhbDp3aW5kb3csS0M9JEMuVWludDMyQXJyYXl8fEFycmF5LEpDPSRDLkZsb2F0NjRBcnJheXx8QXJyYXksUUM9bU0uZXh0ZW5kKHt0eXBlOiJzZXJpZXMubGluZXMiLGRlcGVuZGVuY2llczpbImdyaWQiLCJwb2xhciJdLHZpc3VhbENvbG9yQWNjZXNzUGF0aDoibGluZVN0eWxlLmNvbG9yIixpbml0OmZ1bmN0aW9uKHQpe2FwKHQpO3ZhciBlPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkodC5kYXRhKTt0aGlzLl9mbGF0Q29vcmRzPWUuZmxhdENvb3Jkcyx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PWUuZmxhdENvb3Jkc09mZnNldCxlLmZsYXRDb29yZHMmJih0LmRhdGE9bmV3IEZsb2F0MzJBcnJheShlLmNvdW50KSksUUMuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXtpZihhcCh0KSx0LmRhdGEpe3ZhciBlPXRoaXMuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXkodC5kYXRhKTt0aGlzLl9mbGF0Q29vcmRzPWUuZmxhdENvb3Jkcyx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PWUuZmxhdENvb3Jkc09mZnNldCxlLmZsYXRDb29yZHMmJih0LmRhdGE9bmV3IEZsb2F0MzJBcnJheShlLmNvdW50KSl9UUMuc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKX0sYXBwZW5kRGF0YTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm9jZXNzRmxhdENvb3Jkc0FycmF5KHQuZGF0YSk7ZS5mbGF0Q29vcmRzJiYodGhpcy5fZmxhdENvb3Jkcz8odGhpcy5fZmxhdENvb3Jkcz1SKHRoaXMuX2ZsYXRDb29yZHMsZS5mbGF0Q29vcmRzKSx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PVIodGhpcy5fZmxhdENvb3Jkc09mZnNldCxlLmZsYXRDb29yZHNPZmZzZXQpKToodGhpcy5fZmxhdENvb3Jkcz1lLmZsYXRDb29yZHMsdGhpcy5fZmxhdENvb3Jkc09mZnNldD1lLmZsYXRDb29yZHNPZmZzZXQpLHQuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGUuY291bnQpKSx0aGlzLmdldFJhd0RhdGEoKS5hcHBlbmREYXRhKHQuZGF0YSl9LF9nZXRDb29yZHNGcm9tSXRlbU1vZGVsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLmdldEl0ZW1Nb2RlbCh0KTtyZXR1cm4gZS5vcHRpb24gaW5zdGFuY2VvZiBBcnJheT9lLm9wdGlvbjplLmdldFNoYWxsb3coImNvb3JkcyIpfSxnZXRMaW5lQ29vcmRzQ291bnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ/dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnQrMV06dGhpcy5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbCh0KS5sZW5ndGh9LGdldExpbmVDb29yZHM6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0KXtmb3IodmFyIGk9dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnRdLG49dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnQrMV0sbz0wO288bjtvKyspZVtvXT1lW29dfHxbXSxlW29dWzBdPXRoaXMuX2ZsYXRDb29yZHNbaSsyKm9dLGVbb11bMV09dGhpcy5fZmxhdENvb3Jkc1tpKzIqbysxXTtyZXR1cm4gbn1mb3IodmFyIGE9dGhpcy5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbCh0KSxvPTA7bzxhLmxlbmd0aDtvKyspZVtvXT1lW29dfHxbXSxlW29dWzBdPWFbb11bMF0sZVtvXVsxXT1hW29dWzFdO3JldHVybiBhLmxlbmd0aH0sX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXk6ZnVuY3Rpb24odCl7dmFyIGU9MDtpZih0aGlzLl9mbGF0Q29vcmRzJiYoZT10aGlzLl9mbGF0Q29vcmRzLmxlbmd0aCksIm51bWJlciI9PXR5cGVvZiB0WzBdKXtmb3IodmFyIGk9dC5sZW5ndGgsbj1uZXcgS0MoaSksbz1uZXcgSkMoaSksYT0wLHI9MCxzPTAsbD0wO2w8aTspe3MrKzt2YXIgdT10W2wrK107bltyKytdPWErZSxuW3IrK109dTtmb3IodmFyIGg9MDtoPHU7aCsrKXt2YXIgYz10W2wrK10sZD10W2wrK107b1thKytdPWMsb1thKytdPWR9fXJldHVybntmbGF0Q29vcmRzT2Zmc2V0Om5ldyBVaW50MzJBcnJheShuLmJ1ZmZlciwwLHIpLGZsYXRDb29yZHM6byxjb3VudDpzfX1yZXR1cm57ZmxhdENvb3Jkc09mZnNldDpudWxsLGZsYXRDb29yZHM6bnVsbCxjb3VudDp0Lmxlbmd0aH19LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IERJKFsidmFsdWUiXSx0aGlzKTtyZXR1cm4gaS5oYXNJdGVtT3B0aW9uPSExLGkuaW5pdERhdGEodC5kYXRhLFtdLGZ1bmN0aW9uKHQsZSxuLG8pe2lmKHQgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gTmFOO2kuaGFzSXRlbU9wdGlvbj0hMDt2YXIgYT10LnZhbHVlO3JldHVybiBudWxsIT1hP2EgaW5zdGFuY2VvZiBBcnJheT9hW29dOmE6dm9pZCAwfSksaX0sZm9ybWF0VG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwodCksaT1lLmdldCgibmFtZSIpO2lmKGkpcmV0dXJuIGk7dmFyIG49ZS5nZXQoImZyb21OYW1lIiksbz1lLmdldCgidG9OYW1lIiksYT1bXTtyZXR1cm4gbnVsbCE9biYmYS5wdXNoKG4pLG51bGwhPW8mJmEucHVzaChvKSxabyhhLmpvaW4oIiA+ICIpKX0scHJldmVudEluY3JlbWVudGFsOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdldCgiZWZmZWN0LnNob3ciKX0sZ2V0UHJvZ3Jlc3NpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZTtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8xZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlIik6dH0sZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbi5wcm9ncmVzc2l2ZVRocmVzaG9sZDtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbi5sYXJnZT8yZTQ6dGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIik6dH0sZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbToiZ2VvIix6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLGhvdmVyQW5pbWF0aW9uOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsc3ltYm9sOlsibm9uZSIsIm5vbmUiXSxzeW1ib2xTaXplOlsxMCwxMF0sZ2VvSW5kZXg6MCxlZmZlY3Q6e3Nob3c6ITEscGVyaW9kOjQsY29uc3RhbnRTcGVlZDowLHN5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjMsbG9vcDohMCx0cmFpbExlbmd0aDouMn0sbGFyZ2U6ITEsbGFyZ2VUaHJlc2hvbGQ6MmUzLHBvbHlsaW5lOiExLGxhYmVsOntzaG93OiExLHBvc2l0aW9uOiJlbmQifSxsaW5lU3R5bGU6e29wYWNpdHk6LjV9fX0pLHRMPXJwLnByb3RvdHlwZTt0TC5jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IHFjKHQsZSxpKX0sdEwuX3VwZGF0ZUVmZmVjdFN5bWJvbD1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKCJlZmZlY3QiKSxuPWkuZ2V0KCJzeW1ib2xTaXplIiksbz1pLmdldCgic3ltYm9sIik7eShuKXx8KG49W24sbl0pO3ZhciBhPWkuZ2V0KCJjb2xvciIpfHx0LmdldEl0ZW1WaXN1YWwoZSwiY29sb3IiKSxyPXRoaXMuY2hpbGRBdCgxKTt0aGlzLl9zeW1ib2xUeXBlIT09byYmKHRoaXMucmVtb3ZlKHIpLChyPW1sKG8sLS41LC0uNSwxLDEsYSkpLnoyPTEwMCxyLmN1bGxpbmc9ITAsdGhpcy5hZGQocikpLHImJihyLnNldFN0eWxlKCJzaGFkb3dDb2xvciIsYSksci5zZXRTdHlsZShpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pKSxyLmF0dHIoInNjYWxlIixuKSxyLnNldENvbG9yKGEpLHIuYXR0cigic2NhbGUiLG4pLHRoaXMuX3N5bWJvbFR5cGU9byx0aGlzLl91cGRhdGVFZmZlY3RBbmltYXRpb24odCxpLGUpKX0sdEwuX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5jaGlsZEF0KDEpO2lmKG4pe3ZhciBvPXRoaXMsYT10LmdldEl0ZW1MYXlvdXQoaSkscj0xZTMqZS5nZXQoInBlcmlvZCIpLHM9ZS5nZXQoImxvb3AiKSxsPWUuZ2V0KCJjb25zdGFudFNwZWVkIiksdT1EKGUuZ2V0KCJkZWxheSIpLGZ1bmN0aW9uKGUpe3JldHVybiBlL3QuY291bnQoKSpyLzN9KSxoPSJmdW5jdGlvbiI9PXR5cGVvZiB1O2lmKG4uaWdub3JlPSEwLHRoaXMudXBkYXRlQW5pbWF0aW9uUG9pbnRzKG4sYSksbD4wJiYocj10aGlzLmdldExpbmVMZW5ndGgobikvbCoxZTMpLHIhPT10aGlzLl9wZXJpb2R8fHMhPT10aGlzLl9sb29wKXtuLnN0b3BBbmltYXRpb24oKTt2YXIgYz11O2gmJihjPXUoaSkpLG4uX190PjAmJihjPS1yKm4uX190KSxuLl9fdD0wO3ZhciBkPW4uYW5pbWF0ZSgiIixzKS53aGVuKHIse19fdDoxfSkuZGVsYXkoYykuZHVyaW5nKGZ1bmN0aW9uKCl7by51cGRhdGVTeW1ib2xQb3NpdGlvbihuKX0pO3N8fGQuZG9uZShmdW5jdGlvbigpe28ucmVtb3ZlKG4pfSksZC5zdGFydCgpfXRoaXMuX3BlcmlvZD1yLHRoaXMuX2xvb3A9c319LHRMLmdldExpbmVMZW5ndGg9ZnVuY3Rpb24odCl7cmV0dXJuIGp4KHQuX19wMSx0Ll9fY3AxKStqeCh0Ll9fY3AxLHQuX19wMil9LHRMLnVwZGF0ZUFuaW1hdGlvblBvaW50cz1mdW5jdGlvbih0LGUpe3QuX19wMT1lWzBdLHQuX19wMj1lWzFdLHQuX19jcDE9ZVsyXXx8WyhlWzBdWzBdK2VbMV1bMF0pLzIsKGVbMF1bMV0rZVsxXVsxXSkvMl19LHRMLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGkpe3RoaXMuY2hpbGRBdCgwKS51cGRhdGVEYXRhKHQsZSxpKSx0aGlzLl91cGRhdGVFZmZlY3RTeW1ib2wodCxlKX0sdEwudXBkYXRlU3ltYm9sUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dC5fX3AxLGk9dC5fX3AyLG49dC5fX2NwMSxvPXQuX190LGE9dC5wb3NpdGlvbixyPVFpLHM9dG47YVswXT1yKGVbMF0sblswXSxpWzBdLG8pLGFbMV09cihlWzFdLG5bMV0saVsxXSxvKTt2YXIgbD1zKGVbMF0sblswXSxpWzBdLG8pLHU9cyhlWzFdLG5bMV0saVsxXSxvKTt0LnJvdGF0aW9uPS1NYXRoLmF0YW4yKHUsbCktTWF0aC5QSS8yLHQuaWdub3JlPSExfSx0TC51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNoaWxkQXQoMCkudXBkYXRlTGF5b3V0KHQsZSk7dmFyIGk9dC5nZXRJdGVtTW9kZWwoZSkuZ2V0TW9kZWwoImVmZmVjdCIpO3RoaXMuX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbih0LGksZSl9LHUocnAsTF8pO3ZhciBlTD1zcC5wcm90b3R5cGU7ZUwuX2NyZWF0ZVBvbHlsaW5lPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldEl0ZW1MYXlvdXQoZSksbz1uZXcgVWIoe3NoYXBlOntwb2ludHM6bn19KTt0aGlzLmFkZChvKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLGkpfSxlTC51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10Lmhvc3RNb2RlbDtmbyh0aGlzLmNoaWxkQXQoMCkse3NoYXBlOntwb2ludHM6dC5nZXRJdGVtTGF5b3V0KGUpfX0sbixlKSx0aGlzLl91cGRhdGVDb21tb25TdGwodCxlLGkpfSxlTC5fdXBkYXRlQ29tbW9uU3RsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmNoaWxkQXQoMCksbz10LmdldEl0ZW1Nb2RlbChlKSxhPXQuZ2V0SXRlbVZpc3VhbChlLCJjb2xvciIpLHM9aSYmaS5saW5lU3R5bGUsbD1pJiZpLmhvdmVyTGluZVN0eWxlO2kmJiF0Lmhhc0l0ZW1PcHRpb258fChzPW8uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGw9by5nZXRNb2RlbCgiZW1waGFzaXMubGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLG4udXNlU3R5bGUocih7c3Ryb2tlTm9TY2FsZTohMCxmaWxsOiJub25lIixzdHJva2U6YX0scykpLG4uaG92ZXJTdHlsZT1sLGVvKHRoaXMpfSxlTC51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNoaWxkQXQoMCkuc2V0U2hhcGUoInBvaW50cyIsdC5nZXRJdGVtTGF5b3V0KGUpKX0sdShzcCxMXyk7dmFyIGlMPWxwLnByb3RvdHlwZTtpTC5jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IHNwKHQsZSxpKX0saUwudXBkYXRlQW5pbWF0aW9uUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcG9pbnRzPWU7Zm9yKHZhciBpPVswXSxuPTAsbz0xO288ZS5sZW5ndGg7bysrKXt2YXIgYT1lW28tMV0scj1lW29dO24rPWp4KGEsciksaS5wdXNoKG4pfWlmKDAhPT1uKXtmb3Iobz0wO288aS5sZW5ndGg7bysrKWlbb10vPW47dGhpcy5fb2Zmc2V0cz1pLHRoaXMuX2xlbmd0aD1ufX0saUwuZ2V0TGluZUxlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGVuZ3RofSxpTC51cGRhdGVTeW1ib2xQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10Ll9fdCxpPXRoaXMuX3BvaW50cyxuPXRoaXMuX29mZnNldHMsbz1pLmxlbmd0aDtpZihuKXt2YXIgYT10aGlzLl9sYXN0RnJhbWU7aWYoZTx0aGlzLl9sYXN0RnJhbWVQZXJjZW50KXtmb3Iocj1NYXRoLm1pbihhKzEsby0xKTtyPj0wJiYhKG5bcl08PWUpO3ItLSk7cj1NYXRoLm1pbihyLG8tMil9ZWxzZXtmb3IodmFyIHI9YTtyPG8mJiEobltyXT5lKTtyKyspO3I9TWF0aC5taW4oci0xLG8tMil9Sih0LnBvc2l0aW9uLGlbcl0saVtyKzFdLChlLW5bcl0pLyhuW3IrMV0tbltyXSkpO3ZhciBzPWlbcisxXVswXS1pW3JdWzBdLGw9aVtyKzFdWzFdLWlbcl1bMV07dC5yb3RhdGlvbj0tTWF0aC5hdGFuMihsLHMpLU1hdGguUEkvMix0aGlzLl9sYXN0RnJhbWU9cix0aGlzLl9sYXN0RnJhbWVQZXJjZW50PWUsdC5pZ25vcmU9ITF9fSx1KGxwLHJwKTt2YXIgbkw9RW4oe3NoYXBlOntwb2x5bGluZTohMSxjdXJ2ZW5lc3M6MCxzZWdzOltdfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnNlZ3Msbj1lLmN1cnZlbmVzcztpZihlLnBvbHlsaW5lKWZvcihyPTA7cjxpLmxlbmd0aDspe3ZhciBvPWlbcisrXTtpZihvPjApe3QubW92ZVRvKGlbcisrXSxpW3IrK10pO2Zvcih2YXIgYT0xO2E8bzthKyspdC5saW5lVG8oaVtyKytdLGlbcisrXSl9fWVsc2UgZm9yKHZhciByPTA7cjxpLmxlbmd0aDspe3ZhciBzPWlbcisrXSxsPWlbcisrXSx1PWlbcisrXSxoPWlbcisrXTtpZih0Lm1vdmVUbyhzLGwpLG4+MCl7dmFyIGM9KHMrdSkvMi0obC1oKSpuLGQ9KGwraCkvMi0odS1zKSpuO3QucXVhZHJhdGljQ3VydmVUbyhjLGQsdSxoKX1lbHNlIHQubGluZVRvKHUsaCl9fSxmaW5kRGF0YUluZGV4OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zaGFwZSxuPWkuc2VncyxvPWkuY3VydmVuZXNzO2lmKGkucG9seWxpbmUpZm9yKHZhciBhPTAscj0wO3I8bi5sZW5ndGg7KXt2YXIgcz1uW3IrK107aWYocz4wKWZvcih2YXIgbD1uW3IrK10sdT1uW3IrK10saD0xO2g8cztoKyspaWYoY24obCx1LGM9bltyKytdLGQ9bltyKytdKSlyZXR1cm4gYTthKyt9ZWxzZSBmb3IodmFyIGE9MCxyPTA7cjxuLmxlbmd0aDspe3ZhciBsPW5bcisrXSx1PW5bcisrXSxjPW5bcisrXSxkPW5bcisrXTtpZihvPjApe2lmKGZuKGwsdSwobCtjKS8yLSh1LWQpKm8sKHUrZCkvMi0oYy1sKSpvLGMsZCkpcmV0dXJuIGF9ZWxzZSBpZihjbihsLHUsYyxkKSlyZXR1cm4gYTthKyt9cmV0dXJuLTF9fSksb0w9dXAucHJvdG90eXBlO29MLmlzUGVyc2lzdGVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbmNyZW1lbnRhbH0sb0wudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBlPW5ldyBuTCh7cmVjdEhvdmVyOiEwLGN1cnNvcjoiZGVmYXVsdCJ9KTtlLnNldFNoYXBlKHtzZWdzOnQuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGUsdCksdGhpcy5ncm91cC5hZGQoZSksdGhpcy5faW5jcmVtZW50YWw9bnVsbH0sb0wuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHQuY291bnQoKT41ZTU/KHRoaXMuX2luY3JlbWVudGFsfHwodGhpcy5faW5jcmVtZW50YWw9bmV3IE9uKHtzaWxlbnQ6ITB9KSksdGhpcy5ncm91cC5hZGQodGhpcy5faW5jcmVtZW50YWwpKTp0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSxvTC5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBuTDtpLnNldFNoYXBlKHtzZWdzOmUuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGksZSwhIXRoaXMuX2luY3JlbWVudGFsKSx0aGlzLl9pbmNyZW1lbnRhbD90aGlzLl9pbmNyZW1lbnRhbC5hZGREaXNwbGF5YWJsZShpLCEwKTooaS5yZWN0SG92ZXI9ITAsaS5jdXJzb3I9ImRlZmF1bHQiLGkuX19zdGFydEluZGV4PXQuc3RhcnQsdGhpcy5ncm91cC5hZGQoaSkpfSxvTC5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdGhpcy5faW5jcmVtZW50YWw9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxvTC5fc2V0Q29tbW9uPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLmhvc3RNb2RlbDt0LnNldFNoYXBlKHtwb2x5bGluZTpuLmdldCgicG9seWxpbmUiKSxjdXJ2ZW5lc3M6bi5nZXQoImxpbmVTdHlsZS5jdXJ2ZW5lc3MiKX0pLHQudXNlU3R5bGUobi5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLHQuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMDt2YXIgbz1lLmdldFZpc3VhbCgiY29sb3IiKTtvJiZ0LnNldFN0eWxlKCJzdHJva2UiLG8pLHQuc2V0U3R5bGUoImZpbGwiKSxpfHwodC5zZXJpZXNJbmRleD1uLnNlcmllc0luZGV4LHQub24oIm1vdXNlbW92ZSIsZnVuY3Rpb24oZSl7dC5kYXRhSW5kZXg9bnVsbDt2YXIgaT10LmZpbmREYXRhSW5kZXgoZS5vZmZzZXRYLGUub2Zmc2V0WSk7aT4wJiYodC5kYXRhSW5kZXg9aSt0Ll9fc3RhcnRJbmRleCl9KSl9LG9MLl9jbGVhckluY3JlbWVudGFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW5jcmVtZW50YWw7dCYmdC5jbGVhckRpc3BsYXlibGVzKCl9O3ZhciBhTD17c2VyaWVzVHlwZToibGluZXMiLHBsYW46eE0oKSxyZXNldDpmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0saT10LmdldCgicG9seWxpbmUiKSxuPXQucGlwZWxpbmVDb250ZXh0LmxhcmdlO3JldHVybntwcm9ncmVzczpmdW5jdGlvbihvLGEpe3ZhciByPVtdO2lmKG4pe3ZhciBzLGw9by5lbmQtby5zdGFydDtpZihpKXtmb3IodmFyIHU9MCxoPW8uc3RhcnQ7aDxvLmVuZDtoKyspdSs9dC5nZXRMaW5lQ29vcmRzQ291bnQoaCk7cz1uZXcgRmxvYXQzMkFycmF5KGwrMip1KX1lbHNlIHM9bmV3IEZsb2F0MzJBcnJheSgyKmwpO2Zvcih2YXIgYz0wLGQ9W10saD1vLnN0YXJ0O2g8by5lbmQ7aCsrKXtnPXQuZ2V0TGluZUNvb3JkcyhoLHIpLGkmJihzW2MrK109Zyk7Zm9yKHZhciBmPTA7ZjxnO2YrKylkPWUuZGF0YVRvUG9pbnQocltmXSwhMSxkKSxzW2MrK109ZFswXSxzW2MrK109ZFsxXX1hLnNldExheW91dCgibGluZXNQb2ludHMiLHMpfWVsc2UgZm9yKGg9by5zdGFydDtoPG8uZW5kO2grKyl7dmFyIHA9YS5nZXRJdGVtTW9kZWwoaCksZz10LmdldExpbmVDb29yZHMoaCxyKSxtPVtdO2lmKGkpZm9yKHZhciB2PTA7djxnO3YrKyltLnB1c2goZS5kYXRhVG9Qb2ludChyW3ZdKSk7ZWxzZXttWzBdPWUuZGF0YVRvUG9pbnQoclswXSksbVsxXT1lLmRhdGFUb1BvaW50KHJbMV0pO3ZhciB5PXAuZ2V0KCJsaW5lU3R5bGUuY3VydmVuZXNzIik7K3kmJihtWzJdPVsobVswXVswXSttWzFdWzBdKS8yLShtWzBdWzFdLW1bMV1bMV0pKnksKG1bMF1bMV0rbVsxXVsxXSkvMi0obVsxXVswXS1tWzBdWzBdKSp5XSl9YS5zZXRJdGVtTGF5b3V0KGgsbSl9fX19fTt4cyh7dHlwZToibGluZXMiLGluaXQ6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCksbz10aGlzLl91cGRhdGVMaW5lRHJhdyhuLHQpLGE9dC5nZXQoInpsZXZlbCIpLHI9dC5nZXQoImVmZmVjdC50cmFpbExlbmd0aCIpLHM9aS5nZXRacigpLGw9InN2ZyI9PT1zLnBhaW50ZXIuZ2V0VHlwZSgpO2x8fHMucGFpbnRlci5nZXRMYXllcihhKS5jbGVhcighMCksbnVsbD09dGhpcy5fbGFzdFpsZXZlbHx8bHx8cy5jb25maWdMYXllcih0aGlzLl9sYXN0WmxldmVsLHttb3Rpb25CbHVyOiExfSksdGhpcy5fc2hvd0VmZmVjdCh0KSYmciYmKGx8fHMuY29uZmlnTGF5ZXIoYSx7bW90aW9uQmx1cjohMCxsYXN0RnJhbWVBbHBoYTpNYXRoLm1heChNYXRoLm1pbihyLzEwKy45LDEpLDApfSkpLG8udXBkYXRlRGF0YShuKSx0aGlzLl9sYXN0WmxldmVsPWEsdGhpcy5fZmluaXNoZWQ9ITB9LGluY3JlbWVudGFsUHJlcGFyZVJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXREYXRhKCk7dGhpcy5fdXBkYXRlTGluZURyYXcobix0KS5pbmNyZW1lbnRhbFByZXBhcmVVcGRhdGUobiksdGhpcy5fY2xlYXJMYXllcihpKSx0aGlzLl9maW5pc2hlZD0hMX0saW5jcmVtZW50YWxSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2xpbmVEcmF3LmluY3JlbWVudGFsVXBkYXRlKHQsZS5nZXREYXRhKCkpLHRoaXMuX2ZpbmlzaGVkPXQuZW5kPT09ZS5nZXREYXRhKCkuY291bnQoKX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdldERhdGEoKTtpZighdGhpcy5fZmluaXNoZWR8fHQucGlwZWxpbmVDb250ZXh0LmxhcmdlKXJldHVybnt1cGRhdGU6ITB9O3ZhciBvPWFMLnJlc2V0KHQpO28ucHJvZ3Jlc3MmJm8ucHJvZ3Jlc3Moe3N0YXJ0OjAsZW5kOm4uY291bnQoKX0sbiksdGhpcy5fbGluZURyYXcudXBkYXRlTGF5b3V0KCksdGhpcy5fY2xlYXJMYXllcihpKX0sX3VwZGF0ZUxpbmVEcmF3OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbGluZURyYXcsbj10aGlzLl9zaG93RWZmZWN0KGUpLG89ISFlLmdldCgicG9seWxpbmUiKSxhPWUucGlwZWxpbmVDb250ZXh0LmxhcmdlO3JldHVybiBpJiZuPT09dGhpcy5faGFzRWZmZXQmJm89PT10aGlzLl9pc1BvbHlsaW5lJiZhPT09dGhpcy5faXNMYXJnZURyYXd8fChpJiZpLnJlbW92ZSgpLGk9dGhpcy5fbGluZURyYXc9YT9uZXcgdXA6bmV3ICRjKG8/bj9scDpzcDpuP3JwOnFjKSx0aGlzLl9oYXNFZmZldD1uLHRoaXMuX2lzUG9seWxpbmU9byx0aGlzLl9pc0xhcmdlRHJhdz1hLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCkpLHRoaXMuZ3JvdXAuYWRkKGkuZ3JvdXApLGl9LF9zaG93RWZmZWN0OmZ1bmN0aW9uKHQpe3JldHVybiEhdC5nZXQoImVmZmVjdC5zaG93Iil9LF9jbGVhckxheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0WnIoKTsic3ZnIj09PWUucGFpbnRlci5nZXRUeXBlKCl8fG51bGw9PXRoaXMuX2xhc3RabGV2ZWx8fGUucGFpbnRlci5nZXRMYXllcih0aGlzLl9sYXN0WmxldmVsKS5jbGVhcighMCl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2xpbmVEcmF3JiZ0aGlzLl9saW5lRHJhdy5yZW1vdmUoKSx0aGlzLl9saW5lRHJhdz1udWxsLHRoaXMuX2NsZWFyTGF5ZXIoZSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fSk7dmFyIHJMPSJsaW5lU3R5bGUub3BhY2l0eSIuc3BsaXQoIi4iKSxzTD17c2VyaWVzVHlwZToibGluZXMiLHJlc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1ocCh0LmdldCgic3ltYm9sIikpLG89aHAodC5nZXQoInN5bWJvbFNpemUiKSksYT10LmdldERhdGEoKTtyZXR1cm4gYS5zZXRWaXN1YWwoImZyb21TeW1ib2wiLG4mJm5bMF0pLGEuc2V0VmlzdWFsKCJ0b1N5bWJvbCIsbiYmblsxXSksYS5zZXRWaXN1YWwoImZyb21TeW1ib2xTaXplIixvJiZvWzBdKSxhLnNldFZpc3VhbCgidG9TeW1ib2xTaXplIixvJiZvWzFdKSxhLnNldFZpc3VhbCgib3BhY2l0eSIsdC5nZXQockwpKSx7ZGF0YUVhY2g6YS5oYXNJdGVtT3B0aW9uP2Z1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRJdGVtTW9kZWwoZSksbj1ocChpLmdldFNoYWxsb3coInN5bWJvbCIsITApKSxvPWhwKGkuZ2V0U2hhbGxvdygic3ltYm9sU2l6ZSIsITApKSxhPWkuZ2V0KHJMKTtuWzBdJiZ0LnNldEl0ZW1WaXN1YWwoZSwiZnJvbVN5bWJvbCIsblswXSksblsxXSYmdC5zZXRJdGVtVmlzdWFsKGUsInRvU3ltYm9sIixuWzFdKSxvWzBdJiZ0LnNldEl0ZW1WaXN1YWwoZSwiZnJvbVN5bWJvbFNpemUiLG9bMF0pLG9bMV0mJnQuc2V0SXRlbVZpc3VhbChlLCJ0b1N5bWJvbFNpemUiLG9bMV0pLHQuc2V0SXRlbVZpc3VhbChlLCJvcGFjaXR5IixhKX06bnVsbH19fTtkcyhhTCksZnMoc0wpLG1NLmV4dGVuZCh7dHlwZToic2VyaWVzLmhlYXRtYXAiLGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhzKHRoaXMuZ2V0U291cmNlKCksdGhpcyx7Z2VuZXJhdGVDb29yZDoidmFsdWUifSl9LHByZXZlbnRJbmNyZW1lbnRhbDpmdW5jdGlvbigpe3ZhciB0PUNhLmdldCh0aGlzLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKTtpZih0JiZ0LmRpbWVuc2lvbnMpcmV0dXJuImxuZyI9PT10LmRpbWVuc2lvbnNbMF0mJiJsYXQiPT09dC5kaW1lbnNpb25zWzFdfSxkZWZhdWx0T3B0aW9uOntjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsemxldmVsOjAsejoyLGdlb0luZGV4OjAsYmx1clNpemU6MzAscG9pbnRTaXplOjIwLG1heE9wYWNpdHk6MSxtaW5PcGFjaXR5OjB9fSk7Y3AucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24odCxlLGksbixvLGEpe3ZhciByPXRoaXMuX2dldEJydXNoKCkscz10aGlzLl9nZXRHcmFkaWVudCh0LG8sImluUmFuZ2UiKSxsPXRoaXMuX2dldEdyYWRpZW50KHQsbywib3V0T2ZSYW5nZSIpLHU9dGhpcy5wb2ludFNpemUrdGhpcy5ibHVyU2l6ZSxoPXRoaXMuY2FudmFzLGM9aC5nZXRDb250ZXh0KCIyZCIpLGQ9dC5sZW5ndGg7aC53aWR0aD1lLGguaGVpZ2h0PWk7Zm9yKHZhciBmPTA7ZjxkOysrZil7dmFyIHA9dFtmXSxnPXBbMF0sbT1wWzFdLHY9bihwWzJdKTtjLmdsb2JhbEFscGhhPXYsYy5kcmF3SW1hZ2UocixnLXUsbS11KX1pZighaC53aWR0aHx8IWguaGVpZ2h0KXJldHVybiBoO2Zvcih2YXIgeT1jLmdldEltYWdlRGF0YSgwLDAsaC53aWR0aCxoLmhlaWdodCkseD15LmRhdGEsXz0wLHc9eC5sZW5ndGgsYj10aGlzLm1pbk9wYWNpdHksUz10aGlzLm1heE9wYWNpdHktYjtfPHc7KXt2YXIgdj14W18rM10vMjU2LE09NCpNYXRoLmZsb29yKDI1NSp2KTtpZih2PjApe3ZhciBJPWEodik/czpsO3Y+MCYmKHY9dipTK2IpLHhbXysrXT1JW01dLHhbXysrXT1JW00rMV0seFtfKytdPUlbTSsyXSx4W18rK109SVtNKzNdKnYqMjU2fWVsc2UgXys9NH1yZXR1cm4gYy5wdXRJbWFnZURhdGEoeSwwLDApLGh9LF9nZXRCcnVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2JydXNoQ2FudmFzfHwodGhpcy5fYnJ1c2hDYW52YXM9VngoKSksZT10aGlzLnBvaW50U2l6ZSt0aGlzLmJsdXJTaXplLGk9MiplO3Qud2lkdGg9aSx0LmhlaWdodD1pO3ZhciBuPXQuZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gbi5jbGVhclJlY3QoMCwwLGksaSksbi5zaGFkb3dPZmZzZXRYPWksbi5zaGFkb3dCbHVyPXRoaXMuYmx1clNpemUsbi5zaGFkb3dDb2xvcj0iIzAwMCIsbi5iZWdpblBhdGgoKSxuLmFyYygtZSxlLHRoaXMucG9pbnRTaXplLDAsMipNYXRoLlBJLCEwKSxuLmNsb3NlUGF0aCgpLG4uZmlsbCgpLHR9LF9nZXRHcmFkaWVudDpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXRoaXMuX2dyYWRpZW50UGl4ZWxzLG89bltpXXx8KG5baV09bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDEwMjQpKSxhPVswLDAsMCwwXSxyPTAscz0wO3M8MjU2O3MrKyllW2ldKHMvMjU1LCEwLGEpLG9bcisrXT1hWzBdLG9bcisrXT1hWzFdLG9bcisrXT1hWzJdLG9bcisrXT1hWzNdO3JldHVybiBvfX0seHMoe3R5cGU6ImhlYXRtYXAiLHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG47ZS5lYWNoQ29tcG9uZW50KCJ2aXN1YWxNYXAiLGZ1bmN0aW9uKGUpe2UuZWFjaFRhcmdldFNlcmllcyhmdW5jdGlvbihpKXtpPT09dCYmKG49ZSl9KX0pLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5faW5jcmVtZW50YWxEaXNwbGF5YWJsZT1udWxsO3ZhciBvPXQuY29vcmRpbmF0ZVN5c3RlbTsiY2FydGVzaWFuMmQiPT09by50eXBlfHwiY2FsZW5kYXIiPT09by50eXBlP3RoaXMuX3JlbmRlck9uQ2FydGVzaWFuQW5kQ2FsZW5kYXIodCxpLDAsdC5nZXREYXRhKCkuY291bnQoKSk6cHAobykmJnRoaXMuX3JlbmRlck9uR2VvKG8sdCxuLGkpfSxpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGluY3JlbWVudGFsUmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe2UuY29vcmRpbmF0ZVN5c3RlbSYmdGhpcy5fcmVuZGVyT25DYXJ0ZXNpYW5BbmRDYWxlbmRhcihlLG4sdC5zdGFydCx0LmVuZCwhMCl9LF9yZW5kZXJPbkNhcnRlc2lhbkFuZENhbGVuZGFyOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIHIscyxsPXQuY29vcmRpbmF0ZVN5c3RlbTtpZigiY2FydGVzaWFuMmQiPT09bC50eXBlKXt2YXIgdT1sLmdldEF4aXMoIngiKSxoPWwuZ2V0QXhpcygieSIpO3I9dS5nZXRCYW5kV2lkdGgoKSxzPWguZ2V0QmFuZFdpZHRoKCl9Zm9yKHZhciBjPXRoaXMuZ3JvdXAsZD10LmdldERhdGEoKSxmPXQuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZShbImNvbG9yIl0pLHA9dC5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksZz10LmdldE1vZGVsKCJsYWJlbCIpLG09dC5nZXRNb2RlbCgiZW1waGFzaXMubGFiZWwiKSx2PWwudHlwZSx5PSJjYXJ0ZXNpYW4yZCI9PT12P1tkLm1hcERpbWVuc2lvbigieCIpLGQubWFwRGltZW5zaW9uKCJ5IiksZC5tYXBEaW1lbnNpb24oInZhbHVlIildOltkLm1hcERpbWVuc2lvbigidGltZSIpLGQubWFwRGltZW5zaW9uKCJ2YWx1ZSIpXSx4PWk7eDxuO3grKyl7dmFyIF87aWYoImNhcnRlc2lhbjJkIj09PXYpe2lmKGlzTmFOKGQuZ2V0KHlbMl0seCkpKWNvbnRpbnVlO3ZhciB3PWwuZGF0YVRvUG9pbnQoW2QuZ2V0KHlbMF0seCksZC5nZXQoeVsxXSx4KV0pO189bmV3IGpiKHtzaGFwZTp7eDp3WzBdLXIvMix5OndbMV0tcy8yLHdpZHRoOnIsaGVpZ2h0OnN9LHN0eWxlOntmaWxsOmQuZ2V0SXRlbVZpc3VhbCh4LCJjb2xvciIpLG9wYWNpdHk6ZC5nZXRJdGVtVmlzdWFsKHgsIm9wYWNpdHkiKX19KX1lbHNle2lmKGlzTmFOKGQuZ2V0KHlbMV0seCkpKWNvbnRpbnVlO189bmV3IGpiKHt6MjoxLHNoYXBlOmwuZGF0YVRvUmVjdChbZC5nZXQoeVswXSx4KV0pLmNvbnRlbnRTaGFwZSxzdHlsZTp7ZmlsbDpkLmdldEl0ZW1WaXN1YWwoeCwiY29sb3IiKSxvcGFjaXR5OmQuZ2V0SXRlbVZpc3VhbCh4LCJvcGFjaXR5Iil9fSl9dmFyIGI9ZC5nZXRJdGVtTW9kZWwoeCk7ZC5oYXNJdGVtT3B0aW9uJiYoZj1iLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKSxwPWIuZ2V0TW9kZWwoImVtcGhhc2lzLml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLGc9Yi5nZXRNb2RlbCgibGFiZWwiKSxtPWIuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIikpO3ZhciBTPXQuZ2V0UmF3VmFsdWUoeCksTT0iLSI7UyYmbnVsbCE9U1syXSYmKE09U1syXSksaW8oZixwLGcsbSx7bGFiZWxGZXRjaGVyOnQsbGFiZWxEYXRhSW5kZXg6eCxkZWZhdWx0VGV4dDpNLGlzUmVjdFRleHQ6ITB9KSxfLnNldFN0eWxlKGYpLGVvKF8sZC5oYXNJdGVtT3B0aW9uP3A6YSh7fSxwKSksXy5pbmNyZW1lbnRhbD1vLG8mJihfLnVzZUhvdmVyTGF5ZXI9ITApLGMuYWRkKF8pLGQuc2V0SXRlbUdyYXBoaWNFbCh4LF8pfX0sX3JlbmRlck9uR2VvOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkudGFyZ2V0VmlzdWFscy5pblJhbmdlLGE9aS50YXJnZXRWaXN1YWxzLm91dE9mUmFuZ2Uscj1lLmdldERhdGEoKSxzPXRoaXMuX2htTGF5ZXJ8fHRoaXMuX2htTGF5ZXJ8fG5ldyBjcDtzLmJsdXJTaXplPWUuZ2V0KCJibHVyU2l6ZSIpLHMucG9pbnRTaXplPWUuZ2V0KCJwb2ludFNpemUiKSxzLm1pbk9wYWNpdHk9ZS5nZXQoIm1pbk9wYWNpdHkiKSxzLm1heE9wYWNpdHk9ZS5nZXQoIm1heE9wYWNpdHkiKTt2YXIgbD10LmdldFZpZXdSZWN0KCkuY2xvbmUoKSx1PXQuZ2V0Um9hbVRyYW5zZm9ybSgpO2wuYXBwbHlUcmFuc2Zvcm0odSk7dmFyIGg9TWF0aC5tYXgobC54LDApLGM9TWF0aC5tYXgobC55LDApLGQ9TWF0aC5taW4obC53aWR0aCtsLngsbi5nZXRXaWR0aCgpKSxmPU1hdGgubWluKGwuaGVpZ2h0K2wueSxuLmdldEhlaWdodCgpKSxwPWQtaCxnPWYtYyxtPVtyLm1hcERpbWVuc2lvbigibG5nIiksci5tYXBEaW1lbnNpb24oImxhdCIpLHIubWFwRGltZW5zaW9uKCJ2YWx1ZSIpXSx2PXIubWFwQXJyYXkobSxmdW5jdGlvbihlLGksbil7dmFyIG89dC5kYXRhVG9Qb2ludChbZSxpXSk7cmV0dXJuIG9bMF0tPWgsb1sxXS09YyxvLnB1c2gobiksb30pLHk9aS5nZXRFeHRlbnQoKSx4PSJ2aXN1YWxNYXAuY29udGludW91cyI9PT1pLnR5cGU/ZnAoeSxpLm9wdGlvbi5yYW5nZSk6ZHAoeSxpLmdldFBpZWNlTGlzdCgpLGkub3B0aW9uLnNlbGVjdGVkKTtzLnVwZGF0ZSh2LHAsZyxvLmNvbG9yLmdldE5vcm1hbGl6ZXIoKSx7aW5SYW5nZTpvLmNvbG9yLmdldENvbG9yTWFwcGVyKCksb3V0T2ZSYW5nZTphLmNvbG9yLmdldENvbG9yTWFwcGVyKCl9LHgpO3ZhciBfPW5ldyBKZSh7c3R5bGU6e3dpZHRoOnAsaGVpZ2h0OmcseDpoLHk6YyxpbWFnZTpzLmNhbnZhc30sc2lsZW50OiEwfSk7dGhpcy5ncm91cC5hZGQoXyl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fSk7dmFyIGxMPXVULmV4dGVuZCh7dHlwZToic2VyaWVzLnBpY3RvcmlhbEJhciIsZGVwZW5kZW5jaWVzOlsiZ3JpZCJdLGRlZmF1bHRPcHRpb246e3N5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOm51bGwsc3ltYm9sUm90YXRlOm51bGwsc3ltYm9sUG9zaXRpb246bnVsbCxzeW1ib2xPZmZzZXQ6bnVsbCxzeW1ib2xNYXJnaW46bnVsbCxzeW1ib2xSZXBlYXQ6ITEsc3ltYm9sUmVwZWF0RGlyZWN0aW9uOiJlbmQiLHN5bWJvbENsaXA6ITEsc3ltYm9sQm91bmRpbmdEYXRhOm51bGwsc3ltYm9sUGF0dGVyblNpemU6NDAwLGJhckdhcDoiLTEwMCUiLHByb2dyZXNzaXZlOjAsaG92ZXJBbmltYXRpb246ITF9LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YWNrPW51bGwsbEwuc3VwZXJBcHBseSh0aGlzLCJnZXRJbml0aWFsRGF0YSIsYXJndW1lbnRzKX19KSx1TD1bIml0ZW1TdHlsZSIsImJvcmRlcldpZHRoIl0saEw9W3t4eToieCIsd2g6IndpZHRoIixpbmRleDowLHBvc0Rlc2M6WyJsZWZ0IiwicmlnaHQiXX0se3h5OiJ5Iix3aDoiaGVpZ2h0IixpbmRleDoxLHBvc0Rlc2M6WyJ0b3AiLCJib3R0b20iXX1dLGNMPW5ldyBSYjt4cyh7dHlwZToicGljdG9yaWFsQmFyIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuZ3JvdXAsbz10LmdldERhdGEoKSxhPXRoaXMuX2RhdGEscj10LmNvb3JkaW5hdGVTeXN0ZW0scz0hIXIuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKSxsPXIuZ3JpZC5nZXRSZWN0KCksdT17ZWNTaXplOnt3aWR0aDppLmdldFdpZHRoKCksaGVpZ2h0OmkuZ2V0SGVpZ2h0KCl9LHNlcmllc01vZGVsOnQsY29vcmRTeXM6cixjb29yZFN5c0V4dGVudDpbW2wueCxsLngrbC53aWR0aF0sW2wueSxsLnkrbC5oZWlnaHRdXSxpc0hvcml6b250YWw6cyx2YWx1ZURpbTpoTFsrc10sY2F0ZWdvcnlEaW06aExbMS1zXX07cmV0dXJuIG8uZGlmZihhKS5hZGQoZnVuY3Rpb24odCl7aWYoby5oYXNWYWx1ZSh0KSl7dmFyIGU9RHAobyx0KSxpPWdwKG8sdCxlLHUpLGE9THAobyx1LGkpO28uc2V0SXRlbUdyYXBoaWNFbCh0LGEpLG4uYWRkKGEpLHpwKGEsdSxpKX19KS51cGRhdGUoZnVuY3Rpb24odCxlKXt2YXIgaT1hLmdldEl0ZW1HcmFwaGljRWwoZSk7aWYoby5oYXNWYWx1ZSh0KSl7dmFyIHI9RHAobyx0KSxzPWdwKG8sdCxyLHUpLGw9TnAobyxzKTtpJiZsIT09aS5fX3BpY3RvcmlhbFNoYXBlU3RyJiYobi5yZW1vdmUoaSksby5zZXRJdGVtR3JhcGhpY0VsKHQsbnVsbCksaT1udWxsKSxpP2twKGksdSxzKTppPUxwKG8sdSxzLCEwKSxvLnNldEl0ZW1HcmFwaGljRWwodCxpKSxpLl9fcGljdG9yaWFsU3ltYm9sTWV0YT1zLG4uYWRkKGkpLHpwKGksdSxzKX1lbHNlIG4ucmVtb3ZlKGkpfSkucmVtb3ZlKGZ1bmN0aW9uKHQpe3ZhciBlPWEuZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZQcChhLHQsZS5fX3BpY3RvcmlhbFN5bWJvbE1ldGEuYW5pbWF0aW9uTW9kZWwsZSl9KS5leGVjdXRlKCksdGhpcy5fZGF0YT1vLHRoaXMuZ3JvdXB9LGRpc3Bvc2U6QixyZW1vdmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdyb3VwLG49dGhpcy5fZGF0YTt0LmdldCgiYW5pbWF0aW9uIik/biYmbi5lYWNoSXRlbUdyYXBoaWNFbChmdW5jdGlvbihlKXtQcChuLGUuZGF0YUluZGV4LHQsZSl9KTppLnJlbW92ZUFsbCgpfX0pO2RzKHYocmwsInBpY3RvcmlhbEJhciIpKSxmcyhrRCgicGljdG9yaWFsQmFyIiwicm91bmRSZWN0IikpO3ZhciBkTD1mdW5jdGlvbih0LGUsaSxuLG8pe2RELmNhbGwodGhpcyx0LGUsaSksdGhpcy50eXBlPW58fCJ2YWx1ZSIsdGhpcy5wb3NpdGlvbj1vfHwiYm90dG9tIix0aGlzLm9yaWVudD1udWxsLHRoaXMuX2xhYmVsSW50ZXJ2YWw9bnVsbH07ZEwucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkTCxtb2RlbDpudWxsLGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucG9zaXRpb247cmV0dXJuInRvcCI9PT10fHwiYm90dG9tIj09PXR9LHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZVN5c3RlbS5wb2ludFRvRGF0YSh0LGUpWzBdfSx0b0dsb2JhbENvb3JkOm51bGwsdG9Mb2NhbENvb3JkOm51bGx9LHUoZEwsZEQpLEJwLnByb3RvdHlwZT17dHlwZToic2luZ2xlQXhpcyIsYXhpc1BvaW50ZXJFbmFibGVkOiEwLGNvbnN0cnVjdG9yOkJwLF9pbml0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmRpbWVuc2lvbixvPW5ldyBkTChuLGNsKHQpLFswLDBdLHQuZ2V0KCJ0eXBlIiksdC5nZXQoInBvc2l0aW9uIikpLGE9ImNhdGVnb3J5Ij09PW8udHlwZTtvLm9uQmFuZD1hJiZ0LmdldCgiYm91bmRhcnlHYXAiKSxvLmludmVyc2U9dC5nZXQoImludmVyc2UiKSxvLm9yaWVudD10LmdldCgib3JpZW50IiksdC5heGlzPW8sby5tb2RlbD10LG8uY29vcmRpbmF0ZVN5c3RlbT10aGlzLHRoaXMuX2F4aXM9b30sdXBkYXRlOmZ1bmN0aW9uKHQsZSl7dC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe2lmKHQuY29vcmRpbmF0ZVN5c3RlbT09PXRoaXMpe3ZhciBlPXQuZ2V0RGF0YSgpO2QoZS5tYXBEaW1lbnNpb24odGhpcy5kaW1lbnNpb24sITApLGZ1bmN0aW9uKHQpe3RoaXMuX2F4aXMuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShlLHQpfSx0aGlzKSxobCh0aGlzLl9heGlzLnNjYWxlLHRoaXMuX2F4aXMubW9kZWwpfX0sdGhpcyl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9UW8oe2xlZnQ6dC5nZXQoImxlZnQiKSx0b3A6dC5nZXQoInRvcCIpLHJpZ2h0OnQuZ2V0KCJyaWdodCIpLGJvdHRvbTp0LmdldCgiYm90dG9tIiksd2lkdGg6dC5nZXQoIndpZHRoIiksaGVpZ2h0OnQuZ2V0KCJoZWlnaHQiKX0se3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pLHRoaXMuX2FkanVzdEF4aXMoKX0sZ2V0UmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSxfYWRqdXN0QXhpczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLl9heGlzLGk9ZS5pc0hvcml6b250YWwoKSxuPWk/WzAsdC53aWR0aF06WzAsdC5oZWlnaHRdLG89ZS5yZXZlcnNlPzE6MDtlLnNldEV4dGVudChuW29dLG5bMS1vXSksdGhpcy5fdXBkYXRlQXhpc1RyYW5zZm9ybShlLGk/dC54OnQueSl9LF91cGRhdGVBeGlzVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXRFeHRlbnQoKSxuPWlbMF0raVsxXSxvPXQuaXNIb3Jpem9udGFsKCk7dC50b0dsb2JhbENvb3JkPW8/ZnVuY3Rpb24odCl7cmV0dXJuIHQrZX06ZnVuY3Rpb24odCl7cmV0dXJuIG4tdCtlfSx0LnRvTG9jYWxDb29yZD1vP2Z1bmN0aW9uKHQpe3JldHVybiB0LWV9OmZ1bmN0aW9uKHQpe3JldHVybiBuLXQrZX19LGdldEF4aXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXhpc30sZ2V0QmFzZUF4aXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXhpc30sZ2V0QXhlczpmdW5jdGlvbigpe3JldHVyblt0aGlzLl9heGlzXX0sZ2V0VG9vbHRpcEF4ZXM6ZnVuY3Rpb24oKXtyZXR1cm57YmFzZUF4ZXM6W3RoaXMuZ2V0QXhpcygpXX19LGNvbnRhaW5Qb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFJlY3QoKSxpPXRoaXMuZ2V0QXhpcygpO3JldHVybiJob3Jpem9udGFsIj09PWkub3JpZW50P2kuY29udGFpbihpLnRvTG9jYWxDb29yZCh0WzBdKSkmJnRbMV0+PWUueSYmdFsxXTw9ZS55K2UuaGVpZ2h0OmkuY29udGFpbihpLnRvTG9jYWxDb29yZCh0WzFdKSkmJnRbMF0+PWUueSYmdFswXTw9ZS55K2UuaGVpZ2h0fSxwb2ludFRvRGF0YTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEF4aXMoKTtyZXR1cm5bZS5jb29yZFRvRGF0YShlLnRvTG9jYWxDb29yZCh0WyJob3Jpem9udGFsIj09PWUub3JpZW50PzA6MV0pKV19LGRhdGFUb1BvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXhpcygpLGk9dGhpcy5nZXRSZWN0KCksbj1bXSxvPSJob3Jpem9udGFsIj09PWUub3JpZW50PzA6MTtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5JiYodD10WzBdKSxuW29dPWUudG9HbG9iYWxDb29yZChlLmRhdGFUb0Nvb3JkKCt0KSksblsxLW9dPTA9PT1vP2kueStpLmhlaWdodC8yOmkueCtpLndpZHRoLzIsbn19LENhLnJlZ2lzdGVyKCJzaW5nbGUiLHtjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJzaW5nbGVBeGlzIixmdW5jdGlvbihuLG8pe3ZhciBhPW5ldyBCcChuLHQsZSk7YS5uYW1lPSJzaW5nbGVfIitvLGEucmVzaXplKG4sZSksbi5jb29yZGluYXRlU3lzdGVtPWEsaS5wdXNoKGEpfSksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKGUpe2lmKCJzaW5nbGVBeGlzIj09PWUuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikpe3ZhciBpPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToic2luZ2xlQXhpcyIsaW5kZXg6ZS5nZXQoInNpbmdsZUF4aXNJbmRleCIpLGlkOmUuZ2V0KCJzaW5nbGVBeGlzSWQiKX0pWzBdO2UuY29vcmRpbmF0ZVN5c3RlbT1pJiZpLmNvb3JkaW5hdGVTeXN0ZW19fSksaX0sZGltZW5zaW9uczpCcC5wcm90b3R5cGUuZGltZW5zaW9uc30pO3ZhciBmTD1xRC5nZXRJbnRlcnZhbCxwTD1xRC5pZklnbm9yZU9uVGljayxnTD1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sbUw9aVQuZXh0ZW5kKHt0eXBlOiJzaW5nbGVBeGlzIixheGlzUG9pbnRlckNsYXNzOiJTaW5nbGVBeGlzUG9pbnRlciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuZ3JvdXA7by5yZW1vdmVBbGwoKTt2YXIgYT1WcCh0KSxyPW5ldyBxRCh0LGEpO2QoZ0wsci5hZGQsciksby5hZGQoci5nZXRHcm91cCgpKSx0LmdldCgic3BsaXRMaW5lLnNob3ciKSYmdGhpcy5fc3BsaXRMaW5lKHQsYS5sYWJlbEludGVydmFsKSxtTC5zdXBlckNhbGwodGhpcywicmVuZGVyIix0LGUsaSxuKX0sX3NwbGl0TGluZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuYXhpcztpZighaS5zY2FsZS5pc0JsYW5rKCkpe3ZhciBuPXQuZ2V0TW9kZWwoInNwbGl0TGluZSIpLG89bi5nZXRNb2RlbCgibGluZVN0eWxlIiksYT1vLmdldCgid2lkdGgiKSxyPW8uZ2V0KCJjb2xvciIpLHM9ZkwobixlKTtyPXIgaW5zdGFuY2VvZiBBcnJheT9yOltyXTtmb3IodmFyIGw9dC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSx1PWkuaXNIb3Jpem9udGFsKCksaD1bXSxjPTAsZD1pLmdldFRpY2tzQ29vcmRzKCksZj1bXSxwPVtdLGc9dC5nZXQoImF4aXNMYWJlbC5zaG93TWluTGFiZWwiKSxtPXQuZ2V0KCJheGlzTGFiZWwuc2hvd01heExhYmVsIiksdj0wO3Y8ZC5sZW5ndGg7Kyt2KWlmKCFwTChpLHYscyxkLmxlbmd0aCxnLG0pKXt2YXIgeT1pLnRvR2xvYmFsQ29vcmQoZFt2XSk7dT8oZlswXT15LGZbMV09bC55LHBbMF09eSxwWzFdPWwueStsLmhlaWdodCk6KGZbMF09bC54LGZbMV09eSxwWzBdPWwueCtsLndpZHRoLHBbMV09eSk7dmFyIHg9YysrJXIubGVuZ3RoO2hbeF09aFt4XXx8W10saFt4XS5wdXNoKG5ldyBYYihHbih7c2hhcGU6e3gxOmZbMF0seTE6ZlsxXSx4MjpwWzBdLHkyOnBbMV19LHN0eWxlOntsaW5lV2lkdGg6YX0sc2lsZW50OiEwfSkpKX1mb3Iodj0wO3Y8aC5sZW5ndGg7Kyt2KXRoaXMuZ3JvdXAuYWRkKHJTKGhbdl0se3N0eWxlOntzdHJva2U6clt2JXIubGVuZ3RoXSxsaW5lRGFzaDpvLmdldExpbmVEYXNoKGEpLGxpbmVXaWR0aDphfSxzaWxlbnQ6ITB9KSl9fX0pLHZMPWtTLmV4dGVuZCh7dHlwZToic2luZ2xlQXhpcyIsbGF5b3V0TW9kZToiYm94IixheGlzOm51bGwsY29vcmRpbmF0ZVN5c3RlbTpudWxsLGdldENvb3JkU3lzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KSx5TD17bGVmdDoiNSUiLHRvcDoiNSUiLHJpZ2h0OiI1JSIsYm90dG9tOiI1JSIsdHlwZToidmFsdWUiLHBvc2l0aW9uOiJib3R0b20iLG9yaWVudDoiaG9yaXpvbnRhbCIsYXhpc0xpbmU6e3Nob3c6ITAsbGluZVN0eWxlOnt3aWR0aDoyLHR5cGU6InNvbGlkIn19LHRvb2x0aXA6e3Nob3c6ITB9LGF4aXNUaWNrOntzaG93OiEwLGxlbmd0aDo2LGxpbmVTdHlsZTp7d2lkdGg6Mn19LGF4aXNMYWJlbDp7c2hvdzohMCxpbnRlcnZhbDoiYXV0byJ9LHNwbGl0TGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e3R5cGU6ImRhc2hlZCIsb3BhY2l0eTouMn19fTtuKHZMLnByb3RvdHlwZSxKSSksR0QoInNpbmdsZSIsdkwsZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50eXBlfHwoZS5kYXRhPyJjYXRlZ29yeSI6InZhbHVlIil9LHlMKTt2YXIgeEw9ZnVuY3Rpb24odCxlKXt2YXIgaSxuPVtdLG89dC5zZXJpZXNJbmRleDtpZihudWxsPT1vfHwhKGk9ZS5nZXRTZXJpZXNCeUluZGV4KG8pKSlyZXR1cm57cG9pbnQ6W119O3ZhciBhPWkuZ2V0RGF0YSgpLHI9UGkoYSx0KTtpZihudWxsPT1yfHxyPDB8fHkocikpcmV0dXJue3BvaW50OltdfTt2YXIgcz1hLmdldEl0ZW1HcmFwaGljRWwociksbD1pLmNvb3JkaW5hdGVTeXN0ZW07aWYoaS5nZXRUb29sdGlwUG9zaXRpb24pbj1pLmdldFRvb2x0aXBQb3NpdGlvbihyKXx8W107ZWxzZSBpZihsJiZsLmRhdGFUb1BvaW50KW49bC5kYXRhVG9Qb2ludChhLmdldFZhbHVlcyhmKGwuZGltZW5zaW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gYS5tYXBEaW1lbnNpb24odCl9KSxyLCEwKSl8fFtdO2Vsc2UgaWYocyl7dmFyIHU9cy5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3UuYXBwbHlUcmFuc2Zvcm0ocy50cmFuc2Zvcm0pLG49W3UueCt1LndpZHRoLzIsdS55K3UuaGVpZ2h0LzJdfXJldHVybntwb2ludDpuLGVsOnN9fSxfTD1kLHdMPXYsYkw9TmkoKSxTTD0obXMoe3R5cGU6ImF4aXNQb2ludGVyIixjb29yZFN5c0F4ZXNJbmZvOm51bGwsZGVmYXVsdE9wdGlvbjp7c2hvdzoiYXV0byIsdHJpZ2dlck9uOm51bGwsemxldmVsOjAsejo1MCx0eXBlOiJsaW5lIixzbmFwOiExLHRyaWdnZXJUb29sdGlwOiEwLHZhbHVlOm51bGwsc3RhdHVzOm51bGwsbGluazpbXSxhbmltYXRpb246bnVsbCxhbmltYXRpb25EdXJhdGlvblVwZGF0ZToyMDAsbGluZVN0eWxlOntjb2xvcjoiI2FhYSIsd2lkdGg6MSx0eXBlOiJzb2xpZCJ9LHNoYWRvd1N0eWxlOntjb2xvcjoicmdiYSgxNTAsMTUwLDE1MCwwLjMpIn0sbGFiZWw6e3Nob3c6ITAsZm9ybWF0dGVyOm51bGwscHJlY2lzaW9uOiJhdXRvIixtYXJnaW46Myxjb2xvcjoiI2ZmZiIscGFkZGluZzpbNSw3LDUsN10sYmFja2dyb3VuZENvbG9yOiJhdXRvIixib3JkZXJDb2xvcjpudWxsLGJvcmRlcldpZHRoOjAsc2hhZG93Qmx1cjozLHNoYWRvd0NvbG9yOiIjYWFhIn0saGFuZGxlOntzaG93OiExLGljb246Ik0xMC43LDExLjl2LTEuM0g5LjN2MS4zYy00LjksMC4zLTguOCw0LjQtOC44LDkuNGMwLDUsMy45LDkuMSw4LjgsOS40aDEuM2M0LjktMC4zLDguOC00LjQsOC44LTkuNEMxOS41LDE2LjMsMTUuNiwxMi4yLDEwLjcsMTEuOXogTTEzLjMsMjQuNEg2Ljd2LTEuMmg2LjZ6IE0xMy4zLDIySDYuN3YtMS4yaDYuNnogTTEzLjMsMTkuNkg2Ljd2LTEuMmg2LjZ6IixzaXplOjQ1LG1hcmdpbjo1MCxjb2xvcjoiIzMzMyIsc2hhZG93Qmx1cjozLHNoYWRvd0NvbG9yOiIjYWFhIixzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WToyLHRocm90dGxlOjQwfX19KSxOaSgpKSxNTD1kLElMPXZzKHt0eXBlOiJheGlzUG9pbnRlciIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1lLmdldENvbXBvbmVudCgidG9vbHRpcCIpLG89dC5nZXQoInRyaWdnZXJPbiIpfHxuJiZuLmdldCgidHJpZ2dlck9uIil8fCJtb3VzZW1vdmV8Y2xpY2siOyRwKCJheGlzUG9pbnRlciIsaSxmdW5jdGlvbih0LGUsaSl7Im5vbmUiIT09byYmKCJsZWF2ZSI9PT10fHxvLmluZGV4T2YodCk+PTApJiZpKHt0eXBlOiJ1cGRhdGVBeGlzUG9pbnRlciIsY3VyclRyaWdnZXI6dCx4OmUmJmUub2Zmc2V0WCx5OmUmJmUub2Zmc2V0WX0pfSl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe2lnKGUuZ2V0WnIoKSwiYXhpc1BvaW50ZXIiKSxJTC5zdXBlckFwcGx5KHRoaXMuX21vZGVsLCJyZW1vdmUiLGFyZ3VtZW50cyl9LGRpc3Bvc2U6ZnVuY3Rpb24odCxlKXtpZygiYXhpc1BvaW50ZXIiLGUpLElMLnN1cGVyQXBwbHkodGhpcy5fbW9kZWwsImRpc3Bvc2UiLGFyZ3VtZW50cyl9fSksREw9TmkoKSxUTD1pLEFMPW07KG5nLnByb3RvdHlwZT17X2dyb3VwOm51bGwsX2xhc3RHcmFwaGljS2V5Om51bGwsX2hhbmRsZTpudWxsLF9kcmFnZ2luZzohMSxfbGFzdFZhbHVlOm51bGwsX2xhc3RTdGF0dXM6bnVsbCxfcGF5bG9hZEluZm86bnVsbCxhbmltYXRpb25UaHJlc2hvbGQ6MTUscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWUuZ2V0KCJ2YWx1ZSIpLGE9ZS5nZXQoInN0YXR1cyIpO2lmKHRoaXMuX2F4aXNNb2RlbD10LHRoaXMuX2F4aXNQb2ludGVyTW9kZWw9ZSx0aGlzLl9hcGk9aSxufHx0aGlzLl9sYXN0VmFsdWUhPT1vfHx0aGlzLl9sYXN0U3RhdHVzIT09YSl7dGhpcy5fbGFzdFZhbHVlPW8sdGhpcy5fbGFzdFN0YXR1cz1hO3ZhciByPXRoaXMuX2dyb3VwLHM9dGhpcy5faGFuZGxlO2lmKCFhfHwiaGlkZSI9PT1hKXJldHVybiByJiZyLmhpZGUoKSx2b2lkKHMmJnMuaGlkZSgpKTtyJiZyLnNob3coKSxzJiZzLnNob3coKTt2YXIgbD17fTt0aGlzLm1ha2VFbE9wdGlvbihsLG8sdCxlLGkpO3ZhciB1PWwuZ3JhcGhpY0tleTt1IT09dGhpcy5fbGFzdEdyYXBoaWNLZXkmJnRoaXMuY2xlYXIoaSksdGhpcy5fbGFzdEdyYXBoaWNLZXk9dTt2YXIgaD10aGlzLl9tb3ZlQW5pbWF0aW9uPXRoaXMuZGV0ZXJtaW5lQW5pbWF0aW9uKHQsZSk7aWYocil7dmFyIGM9dihvZyxlLGgpO3RoaXMudXBkYXRlUG9pbnRlckVsKHIsbCxjLGUpLHRoaXMudXBkYXRlTGFiZWxFbChyLGwsYyxlKX1lbHNlIHI9dGhpcy5fZ3JvdXA9bmV3IExfLHRoaXMuY3JlYXRlUG9pbnRlckVsKHIsbCx0LGUpLHRoaXMuY3JlYXRlTGFiZWxFbChyLGwsdCxlKSxpLmdldFpyKCkuYWRkKHIpO2xnKHIsZSwhMCksdGhpcy5fcmVuZGVySGFuZGxlKG8pfX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuY2xlYXIodCl9LGRpc3Bvc2U6ZnVuY3Rpb24odCl7dGhpcy5jbGVhcih0KX0sZGV0ZXJtaW5lQW5pbWF0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXQoImFuaW1hdGlvbiIpLG49dC5heGlzLG89ImNhdGVnb3J5Ij09PW4udHlwZSxhPWUuZ2V0KCJzbmFwIik7aWYoIWEmJiFvKXJldHVybiExO2lmKCJhdXRvIj09PWl8fG51bGw9PWkpe3ZhciByPXRoaXMuYW5pbWF0aW9uVGhyZXNob2xkO2lmKG8mJm4uZ2V0QmFuZFdpZHRoKCk+cilyZXR1cm4hMDtpZihhKXt2YXIgcz1JdSh0KS5zZXJpZXNEYXRhQ291bnQsbD1uLmdldEV4dGVudCgpO3JldHVybiBNYXRoLmFicyhsWzBdLWxbMV0pL3M+cn1yZXR1cm4hMX1yZXR1cm4hMD09PWl9LG1ha2VFbE9wdGlvbjpmdW5jdGlvbih0LGUsaSxuLG8pe30sY3JlYXRlUG9pbnRlckVsOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWUucG9pbnRlcjtpZihvKXt2YXIgYT1ETCh0KS5wb2ludGVyRWw9bmV3IHNTW28udHlwZV0oVEwoZS5wb2ludGVyKSk7dC5hZGQoYSl9fSxjcmVhdGVMYWJlbEVsOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKGUubGFiZWwpe3ZhciBvPURMKHQpLmxhYmVsRWw9bmV3IGpiKFRMKGUubGFiZWwpKTt0LmFkZChvKSxyZyhvLG4pfX0sdXBkYXRlUG9pbnRlckVsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1ETCh0KS5wb2ludGVyRWw7biYmKG4uc2V0U3R5bGUoZS5wb2ludGVyLnN0eWxlKSxpKG4se3NoYXBlOmUucG9pbnRlci5zaGFwZX0pKX0sdXBkYXRlTGFiZWxFbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1ETCh0KS5sYWJlbEVsO28mJihvLnNldFN0eWxlKGUubGFiZWwuc3R5bGUpLGkobyx7c2hhcGU6ZS5sYWJlbC5zaGFwZSxwb3NpdGlvbjplLmxhYmVsLnBvc2l0aW9ufSkscmcobyxuKSl9LF9yZW5kZXJIYW5kbGU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2RyYWdnaW5nJiZ0aGlzLnVwZGF0ZUhhbmRsZVRyYW5zZm9ybSl7dmFyIGU9dGhpcy5fYXhpc1BvaW50ZXJNb2RlbCxpPXRoaXMuX2FwaS5nZXRacigpLG49dGhpcy5faGFuZGxlLG89ZS5nZXRNb2RlbCgiaGFuZGxlIiksYT1lLmdldCgic3RhdHVzIik7aWYoIW8uZ2V0KCJzaG93Iil8fCFhfHwiaGlkZSI9PT1hKXJldHVybiBuJiZpLnJlbW92ZShuKSx2b2lkKHRoaXMuX2hhbmRsZT1udWxsKTt2YXIgcjt0aGlzLl9oYW5kbGV8fChyPSEwLG49dGhpcy5faGFuZGxlPV9vKG8uZ2V0KCJpY29uIikse2N1cnNvcjoibW92ZSIsZHJhZ2dhYmxlOiEwLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3J3KHQuZXZlbnQpfSxvbm1vdXNlZG93bjpBTCh0aGlzLl9vbkhhbmRsZURyYWdNb3ZlLHRoaXMsMCwwKSxkcmlmdDpBTCh0aGlzLl9vbkhhbmRsZURyYWdNb3ZlLHRoaXMpLG9uZHJhZ2VuZDpBTCh0aGlzLl9vbkhhbmRsZURyYWdFbmQsdGhpcyl9KSxpLmFkZChuKSksbGcobixlLCExKTt2YXIgcz1bImNvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsIm9wYWNpdHkiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSJdO24uc2V0U3R5bGUoby5nZXRJdGVtU3R5bGUobnVsbCxzKSk7dmFyIGw9by5nZXQoInNpemUiKTt5KGwpfHwobD1bbCxsXSksbi5hdHRyKCJzY2FsZSIsW2xbMF0vMixsWzFdLzJdKSxfcih0aGlzLCJfZG9EaXNwYXRjaEF4aXNQb2ludGVyIixvLmdldCgidGhyb3R0bGUiKXx8MCwiZml4UmF0ZSIpLHRoaXMuX21vdmVIYW5kbGVUb1ZhbHVlKHQscil9fSxfbW92ZUhhbmRsZVRvVmFsdWU6ZnVuY3Rpb24odCxlKXtvZyh0aGlzLl9heGlzUG9pbnRlck1vZGVsLCFlJiZ0aGlzLl9tb3ZlQW5pbWF0aW9uLHRoaXMuX2hhbmRsZSxzZyh0aGlzLmdldEhhbmRsZVRyYW5zZm9ybSh0LHRoaXMuX2F4aXNNb2RlbCx0aGlzLl9heGlzUG9pbnRlck1vZGVsKSkpfSxfb25IYW5kbGVEcmFnTW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2hhbmRsZTtpZihpKXt0aGlzLl9kcmFnZ2luZz0hMDt2YXIgbj10aGlzLnVwZGF0ZUhhbmRsZVRyYW5zZm9ybShzZyhpKSxbdCxlXSx0aGlzLl9heGlzTW9kZWwsdGhpcy5fYXhpc1BvaW50ZXJNb2RlbCk7dGhpcy5fcGF5bG9hZEluZm89bixpLnN0b3BBbmltYXRpb24oKSxpLmF0dHIoc2cobikpLERMKGkpLmxhc3RQcm9wPW51bGwsdGhpcy5fZG9EaXNwYXRjaEF4aXNQb2ludGVyKCl9fSxfZG9EaXNwYXRjaEF4aXNQb2ludGVyOmZ1bmN0aW9uKCl7aWYodGhpcy5faGFuZGxlKXt2YXIgdD10aGlzLl9wYXlsb2FkSW5mbyxlPXRoaXMuX2F4aXNNb2RlbDt0aGlzLl9hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InVwZGF0ZUF4aXNQb2ludGVyIix4OnQuY3Vyc29yUG9pbnRbMF0seTp0LmN1cnNvclBvaW50WzFdLHRvb2x0aXBPcHRpb246dC50b29sdGlwT3B0aW9uLGF4ZXNJbmZvOlt7YXhpc0RpbTplLmF4aXMuZGltLGF4aXNJbmRleDplLmNvbXBvbmVudEluZGV4fV19KX19LF9vbkhhbmRsZURyYWdFbmQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fZHJhZ2dpbmc9ITEsdGhpcy5faGFuZGxlKXt2YXIgZT10aGlzLl9heGlzUG9pbnRlck1vZGVsLmdldCgidmFsdWUiKTt0aGlzLl9tb3ZlSGFuZGxlVG9WYWx1ZShlKSx0aGlzLl9hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImhpZGVUaXAifSl9fSxnZXRIYW5kbGVUcmFuc2Zvcm06bnVsbCx1cGRhdGVIYW5kbGVUcmFuc2Zvcm06bnVsbCxjbGVhcjpmdW5jdGlvbih0KXt0aGlzLl9sYXN0VmFsdWU9bnVsbCx0aGlzLl9sYXN0U3RhdHVzPW51bGw7dmFyIGU9dC5nZXRacigpLGk9dGhpcy5fZ3JvdXAsbj10aGlzLl9oYW5kbGU7ZSYmaSYmKHRoaXMuX2xhc3RHcmFwaGljS2V5PW51bGwsaSYmZS5yZW1vdmUoaSksbiYmZS5yZW1vdmUobiksdGhpcy5fZ3JvdXA9bnVsbCx0aGlzLl9oYW5kbGU9bnVsbCx0aGlzLl9wYXlsb2FkSW5mbz1udWxsKX0sZG9DbGVhcjpmdW5jdGlvbigpe30sYnVpbGRMYWJlbDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGk9aXx8MCx7eDp0W2ldLHk6dFsxLWldLHdpZHRoOmVbaV0saGVpZ2h0OmVbMS1pXX19fSkuY29uc3RydWN0b3I9bmcsR2kobmcpO3ZhciBDTD1uZy5leHRlbmQoe21ha2VFbE9wdGlvbjpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuYXhpcyxyPWEuZ3JpZCxzPW4uZ2V0KCJ0eXBlIiksbD15ZyhyLGEpLmdldE90aGVyQXhpcyhhKS5nZXRHbG9iYWxFeHRlbnQoKSx1PWEudG9HbG9iYWxDb29yZChhLmRhdGFUb0Nvb3JkKGUsITApKTtpZihzJiYibm9uZSIhPT1zKXt2YXIgaD11ZyhuKSxjPUxMW3NdKGEsdSxsLGgpO2Muc3R5bGU9aCx0LmdyYXBoaWNLZXk9Yy50eXBlLHQucG9pbnRlcj1jfXBnKGUsdCxrdShyLm1vZGVsLGkpLGksbixvKX0sZ2V0SGFuZGxlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1rdShlLmF4aXMuZ3JpZC5tb2RlbCxlLHtsYWJlbEluc2lkZTohMX0pO3JldHVybiBuLmxhYmVsTWFyZ2luPWkuZ2V0KCJoYW5kbGUubWFyZ2luIikse3Bvc2l0aW9uOmZnKGUuYXhpcyx0LG4pLHJvdGF0aW9uOm4ucm90YXRpb24rKG4ubGFiZWxEaXJlY3Rpb248MD9NYXRoLlBJOjApfX0sdXBkYXRlSGFuZGxlVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkuYXhpcyxhPW8uZ3JpZCxyPW8uZ2V0R2xvYmFsRXh0ZW50KCEwKSxzPXlnKGEsbykuZ2V0T3RoZXJBeGlzKG8pLmdldEdsb2JhbEV4dGVudCgpLGw9IngiPT09by5kaW0/MDoxLHU9dC5wb3NpdGlvbjt1W2xdKz1lW2xdLHVbbF09TWF0aC5taW4oclsxXSx1W2xdKSx1W2xdPU1hdGgubWF4KHJbMF0sdVtsXSk7dmFyIGg9KHNbMV0rc1swXSkvMixjPVtoLGhdO2NbbF09dVtsXTt2YXIgZD1be3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LHthbGlnbjoiY2VudGVyIn1dO3JldHVybntwb3NpdGlvbjp1LHJvdGF0aW9uOnQucm90YXRpb24sY3Vyc29yUG9pbnQ6Yyx0b29sdGlwT3B0aW9uOmRbbF19fX0pLExMPXtsaW5lOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWdnKFtlLGlbMF1dLFtlLGlbMV1dLHhnKHQpKTtyZXR1cm4gR24oe3NoYXBlOm8sc3R5bGU6bn0pLHt0eXBlOiJMaW5lIixzaGFwZTpvfX0sc2hhZG93OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0QmFuZFdpZHRoKCksYT1pWzFdLWlbMF07cmV0dXJue3R5cGU6IlJlY3QiLHNoYXBlOm1nKFtlLW8vMixpWzBdXSxbbyxhXSx4Zyh0KSl9fX07aVQucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzKCJDYXJ0ZXNpYW5BeGlzUG9pbnRlciIsQ0wpLGxzKGZ1bmN0aW9uKHQpe2lmKHQpeyghdC5heGlzUG9pbnRlcnx8MD09PXQuYXhpc1BvaW50ZXIubGVuZ3RoKSYmKHQuYXhpc1BvaW50ZXI9e30pO3ZhciBlPXQuYXhpc1BvaW50ZXIubGluaztlJiYheShlKSYmKHQuYXhpc1BvaW50ZXIubGluaz1bZV0pfX0pLHVzKHFNLlBST0NFU1NPUi5TVEFUSVNUSUMsZnVuY3Rpb24odCxlKXt0LmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKS5jb29yZFN5c0F4ZXNJbmZvPXl1KHQsZSl9KSxocyh7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLGV2ZW50OiJ1cGRhdGVBeGlzUG9pbnRlciIsdXBkYXRlOiI6dXBkYXRlQXhpc1BvaW50ZXIifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5jdXJyVHJpZ2dlcixvPVt0LngsdC55XSxhPXQscj10LmRpc3BhdGNoQWN0aW9ufHxtKGkuZGlzcGF0Y2hBY3Rpb24saSkscz1lLmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKS5jb29yZFN5c0F4ZXNJbmZvO2lmKHMpe3FwKG8pJiYobz14TCh7c2VyaWVzSW5kZXg6YS5zZXJpZXNJbmRleCxkYXRhSW5kZXg6YS5kYXRhSW5kZXh9LGUpLnBvaW50KTt2YXIgbD1xcChvKSx1PWEuYXhlc0luZm8saD1zLmF4ZXNJbmZvLGM9ImxlYXZlIj09PW58fHFwKG8pLGQ9e30sZj17fSxwPXtsaXN0OltdLG1hcDp7fX0sZz17c2hvd1BvaW50ZXI6d0woV3AsZiksc2hvd1Rvb2x0aXA6d0woSHAscCl9O19MKHMuY29vcmRTeXNNYXAsZnVuY3Rpb24odCxlKXt2YXIgaT1sfHx0LmNvbnRhaW5Qb2ludChvKTtfTChzLmNvb3JkU3lzQXhlc0luZm9bZV0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmF4aXMsYT1YcCh1LHQpO2lmKCFjJiZpJiYoIXV8fGEpKXt2YXIgcj1hJiZhLnZhbHVlO251bGwhPXJ8fGx8fChyPW4ucG9pbnRUb0RhdGEobykpLG51bGwhPXImJkdwKHQscixnLCExLGQpfX0pfSk7dmFyIHY9e307cmV0dXJuIF9MKGgsZnVuY3Rpb24odCxlKXt2YXIgaT10LmxpbmtHcm91cDtpJiYhZltlXSYmX0woaS5heGVzSW5mbyxmdW5jdGlvbihlLG4pe3ZhciBvPWZbbl07aWYoZSE9PXQmJm8pe3ZhciBhPW8udmFsdWU7aS5tYXBwZXImJihhPXQuYXhpcy5zY2FsZS5wYXJzZShpLm1hcHBlcihhLFlwKGUpLFlwKHQpKSkpLHZbdC5rZXldPWF9fSl9KSxfTCh2LGZ1bmN0aW9uKHQsZSl7R3AoaFtlXSx0LGcsITAsZCl9KSxacChmLGgsZCksVXAocCxvLHQsciksanAoaCwwLGkpLGR9fSk7dmFyIGtMPVsieCIsInkiXSxQTD1bIndpZHRoIiwiaGVpZ2h0Il0sTkw9bmcuZXh0ZW5kKHttYWtlRWxPcHRpb246ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1pLmF4aXMscj1hLmNvb3JkaW5hdGVTeXN0ZW0scz13ZyhyLDEtX2coYSkpLGw9ci5kYXRhVG9Qb2ludChlKVswXSx1PW4uZ2V0KCJ0eXBlIik7aWYodSYmIm5vbmUiIT09dSl7dmFyIGg9dWcobiksYz1PTFt1XShhLGwscyxoKTtjLnN0eWxlPWgsdC5ncmFwaGljS2V5PWMudHlwZSx0LnBvaW50ZXI9Y31wZyhlLHQsVnAoaSksaSxuLG8pfSxnZXRIYW5kbGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVZwKGUse2xhYmVsSW5zaWRlOiExfSk7cmV0dXJuIG4ubGFiZWxNYXJnaW49aS5nZXQoImhhbmRsZS5tYXJnaW4iKSx7cG9zaXRpb246ZmcoZS5heGlzLHQsbikscm90YXRpb246bi5yb3RhdGlvbisobi5sYWJlbERpcmVjdGlvbjwwP01hdGguUEk6MCl9fSx1cGRhdGVIYW5kbGVUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGksbil7dmFyIG89aS5heGlzLGE9by5jb29yZGluYXRlU3lzdGVtLHI9X2cobykscz13ZyhhLHIpLGw9dC5wb3NpdGlvbjtsW3JdKz1lW3JdLGxbcl09TWF0aC5taW4oc1sxXSxsW3JdKSxsW3JdPU1hdGgubWF4KHNbMF0sbFtyXSk7dmFyIHU9d2coYSwxLXIpLGg9KHVbMV0rdVswXSkvMixjPVtoLGhdO3JldHVybiBjW3JdPWxbcl0se3Bvc2l0aW9uOmwscm90YXRpb246dC5yb3RhdGlvbixjdXJzb3JQb2ludDpjLHRvb2x0aXBPcHRpb246e3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fX19KSxPTD17bGluZTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1nZyhbZSxpWzBdXSxbZSxpWzFdXSxfZyh0KSk7cmV0dXJuIEduKHtzaGFwZTpvLHN0eWxlOm59KSx7dHlwZToiTGluZSIsc2hhcGU6b319LHNoYWRvdzpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldEJhbmRXaWR0aCgpLGE9aVsxXS1pWzBdO3JldHVybnt0eXBlOiJSZWN0IixzaGFwZTptZyhbZS1vLzIsaVswXV0sW28sYV0sX2codCkpfX19O2lULnJlZ2lzdGVyQXhpc1BvaW50ZXJDbGFzcygiU2luZ2xlQXhpc1BvaW50ZXIiLE5MKSx2cyh7dHlwZToic2luZ2xlIn0pO3ZhciBFTD1tTS5leHRlbmQoe3R5cGU6InNlcmllcy50aGVtZVJpdmVyIixkZXBlbmRlbmNpZXM6WyJzaW5nbGVBeGlzIl0sbmFtZU1hcDpudWxsLGluaXQ6ZnVuY3Rpb24odCl7RUwuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLHRoaXMubGVnZW5kRGF0YVByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmF3RGF0YSgpfX0sZml4RGF0YTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT1mKE1mKCkua2V5KGZ1bmN0aW9uKHQpe3JldHVybiB0WzJdfSkuZW50cmllcyh0KSxmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0LmtleSxkYXRhTGlzdDp0LnZhbHVlc319KSxuPWkubGVuZ3RoLG89LTEsYT0tMSxyPTA7cjxuOysrcil7dmFyIHM9aVtyXS5kYXRhTGlzdC5sZW5ndGg7cz5vJiYobz1zLGE9cil9Zm9yKHZhciBsPTA7bDxuOysrbClpZihsIT09YSlmb3IodmFyIHU9aVtsXS5uYW1lLGg9MDtoPG87KytoKXtmb3IodmFyIGM9aVthXS5kYXRhTGlzdFtoXVswXSxkPWlbbF0uZGF0YUxpc3QubGVuZ3RoLHA9LTEsZz0wO2c8ZDsrK2cpaWYoaVtsXS5kYXRhTGlzdFtnXVswXT09PWMpe3A9ZzticmVha30tMT09PXAmJih0W2VdPVtdLHRbZV1bMF09Yyx0W2VdWzFdPTAsdFtlXVsyXT11LGUrKyl9cmV0dXJuIHR9LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPWUucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToic2luZ2xlQXhpcyIsaW5kZXg6dGhpcy5nZXQoInNpbmdsZUF4aXNJbmRleCIpLGlkOnRoaXMuZ2V0KCJzaW5nbGVBeGlzSWQiKX0pWzBdLmdldCgidHlwZSIpLG49Zyh0LmRhdGEsZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXRbMl19KSxvPXRoaXMuZml4RGF0YShufHxbXSksYT1bXSxyPXRoaXMubmFtZU1hcD16KCkscz0wLGw9MDtsPG8ubGVuZ3RoOysrbClhLnB1c2gob1tsXVsyXSksci5nZXQob1tsXVsyXSl8fChyLnNldChvW2xdWzJdLHMpLHMrKyk7dmFyIHU9Q0kobyx7Y29vcmREaW1lbnNpb25zOlsic2luZ2xlIl0sZGltZW5zaW9uc0RlZmluZTpbe25hbWU6InRpbWUiLHR5cGU6SXMoaSl9LHtuYW1lOiJ2YWx1ZSIsdHlwZToiZmxvYXQifSx7bmFtZToibmFtZSIsdHlwZToib3JkaW5hbCJ9XSxlbmNvZGVEZWZpbmU6e3NpbmdsZTowLHZhbHVlOjEsaXRlbU5hbWU6Mn19KSxoPW5ldyBESSh1LHRoaXMpO3JldHVybiBoLmluaXREYXRhKG8pLGh9LGdldExheWVyU2VyaWVzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0RGF0YSgpLGU9dC5jb3VudCgpLGk9W10sbj0wO248ZTsrK24paVtuXT1uO2Zvcih2YXIgbz1mKE1mKCkua2V5KGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldCgibmFtZSIsZSl9KS5lbnRyaWVzKGkpLGZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnQua2V5LGluZGljZXM6dC52YWx1ZXN9fSksYT10Lm1hcERpbWVuc2lvbigic2luZ2xlIikscj0wO3I8by5sZW5ndGg7KytyKW9bcl0uaW5kaWNlcy5zb3J0KGZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuZ2V0KGEsZSktdC5nZXQoYSxpKX0pO3JldHVybiBvfSxnZXRBeGlzVG9vbHRpcERhdGE6ZnVuY3Rpb24odCxlLGkpe3kodCl8fCh0PXQ/W3RdOltdKTtmb3IodmFyIG4sbz10aGlzLmdldERhdGEoKSxhPXRoaXMuZ2V0TGF5ZXJTZXJpZXMoKSxyPVtdLHM9YS5sZW5ndGgsbD0wO2w8czsrK2wpe2Zvcih2YXIgdT1OdW1iZXIuTUFYX1ZBTFVFLGg9LTEsYz1hW2xdLmluZGljZXMubGVuZ3RoLGQ9MDtkPGM7KytkKXt2YXIgZj1vLmdldCh0WzBdLGFbbF0uaW5kaWNlc1tkXSkscD1NYXRoLmFicyhmLWUpO3A8PXUmJihuPWYsdT1wLGg9YVtsXS5pbmRpY2VzW2RdKX1yLnB1c2goaCl9cmV0dXJue2RhdGFJbmRpY2VzOnIsbmVzdGVzdFZhbHVlOm59fSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLGk9ZS5nZXROYW1lKHQpLG49ZS5nZXQoZS5tYXBEaW1lbnNpb24oInZhbHVlIiksdCk7cmV0dXJuKGlzTmFOKG4pfHxudWxsPT1uKSYmKG49Ii0iKSxabyhpKyIgOiAiK24pfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToic2luZ2xlQXhpcyIsYm91bmRhcnlHYXA6WyIxMCUiLCIxMCUiXSxzaW5nbGVBeGlzSW5kZXg6MCxhbmltYXRpb25FYXNpbmc6ImxpbmVhciIsbGFiZWw6e21hcmdpbjo0LHRleHRBbGlnbjoicmlnaHQiLHNob3c6ITAscG9zaXRpb246ImxlZnQiLGNvbG9yOiIjMDAwIixmb250U2l6ZToxMX0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfX19fSk7eHMoe3R5cGU6InRoZW1lUml2ZXIiLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLl9sYXllcnM9W119LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdC5uYW1lfWZ1bmN0aW9uIG8oZSxpLG4pe3ZhciBvPXRoaXMuX2xheWVycztpZigicmVtb3ZlIiE9PWUpe2Zvcih2YXIgdSxoPVtdLGM9W10sZj1sW2ldLmluZGljZXMscD0wO3A8Zi5sZW5ndGg7cCsrKXt2YXIgZz1yLmdldEl0ZW1MYXlvdXQoZltwXSksbT1nLngsdj1nLnkwLHk9Zy55O2gucHVzaChbbSx2XSksYy5wdXNoKFttLHYreV0pLHU9ci5nZXRJdGVtVmlzdWFsKGZbcF0sImNvbG9yIil9dmFyIHgsXyx3PXIuZ2V0SXRlbUxheW91dChmWzBdKSxiPXIuZ2V0SXRlbU1vZGVsKGZbcC0xXSksUz1iLmdldE1vZGVsKCJsYWJlbCIpLE09Uy5nZXQoIm1hcmdpbiIpO2lmKCJhZGQiPT09ZSl7ST1kW2ldPW5ldyBMXzt4PW5ldyBMRCh7c2hhcGU6e3BvaW50czpoLHN0YWNrZWRPblBvaW50czpjLHNtb290aDouNCxzdGFja2VkT25TbW9vdGg6LjQsc21vb3RoQ29uc3RyYWludDohMX0sejI6MH0pLF89bmV3IHpiKHtzdHlsZTp7eDp3LngtTSx5OncueTArdy55LzJ9fSksSS5hZGQoeCksSS5hZGQoXykscy5hZGQoSSkseC5zZXRDbGlwUGF0aChiZyh4LmdldEJvdW5kaW5nUmVjdCgpLHQsZnVuY3Rpb24oKXt4LnJlbW92ZUNsaXBQYXRoKCl9KSl9ZWxzZXt2YXIgST1vW25dO3g9SS5jaGlsZEF0KDApLF89SS5jaGlsZEF0KDEpLHMuYWRkKEkpLGRbaV09SSxmbyh4LHtzaGFwZTp7cG9pbnRzOmgsc3RhY2tlZE9uUG9pbnRzOmN9fSx0KSxmbyhfLHtzdHlsZTp7eDp3LngtTSx5OncueTArdy55LzJ9fSx0KX12YXIgRD1iLmdldE1vZGVsKCJlbXBoYXNpcy5pdGVtU3R5bGUiKSxUPWIuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpO25vKF8uc3R5bGUsUyx7dGV4dDpTLmdldCgic2hvdyIpP3QuZ2V0Rm9ybWF0dGVkTGFiZWwoZltwLTFdLCJub3JtYWwiKXx8ci5nZXROYW1lKGZbcC0xXSk6bnVsbCx0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIn0pLHguc2V0U3R5bGUoYSh7ZmlsbDp1fSxULmdldEl0ZW1TdHlsZShbImNvbG9yIl0pKSksZW8oeCxELmdldEl0ZW1TdHlsZSgpKX1lbHNlIHMucmVtb3ZlKG9baV0pfXZhciByPXQuZ2V0RGF0YSgpLHM9dGhpcy5ncm91cCxsPXQuZ2V0TGF5ZXJTZXJpZXMoKSx1PXIuZ2V0TGF5b3V0KCJsYXlvdXRJbmZvIiksaD11LnJlY3QsYz11LmJvdW5kYXJ5R2FwO3MuYXR0cigicG9zaXRpb24iLFswLGgueStjWzBdXSk7dmFyIGQ9e307bmV3IGJzKHRoaXMuX2xheWVyc1Nlcmllc3x8W10sbCxuLG4pLmFkZChtKG8sdGhpcywiYWRkIikpLnVwZGF0ZShtKG8sdGhpcywidXBkYXRlIikpLnJlbW92ZShtKG8sdGhpcywicmVtb3ZlIikpLmV4ZWN1dGUoKSx0aGlzLl9sYXllcnNTZXJpZXM9bCx0aGlzLl9sYXllcnM9ZH0sZGlzcG9zZTpmdW5jdGlvbigpe319KTtkcyhmdW5jdGlvbih0LGUpe3QuZWFjaFNlcmllc0J5VHlwZSgidGhlbWVSaXZlciIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW0sbj17fSxvPWkuZ2V0UmVjdCgpO24ucmVjdD1vO3ZhciBhPXQuZ2V0KCJib3VuZGFyeUdhcCIpLHI9aS5nZXRBeGlzKCk7bi5ib3VuZGFyeUdhcD1hLCJob3Jpem9udGFsIj09PXIub3JpZW50PyhhWzBdPVRvKGFbMF0sby5oZWlnaHQpLGFbMV09VG8oYVsxXSxvLmhlaWdodCksU2coZSx0LG8uaGVpZ2h0LWFbMF0tYVsxXSkpOihhWzBdPVRvKGFbMF0sby53aWR0aCksYVsxXT1UbyhhWzFdLG8ud2lkdGgpLFNnKGUsdCxvLndpZHRoLWFbMF0tYVsxXSkpLGUuc2V0TGF5b3V0KCJsYXlvdXRJbmZvIixuKX0pfSksZnMoZnVuY3Rpb24odCl7dC5lYWNoU2VyaWVzQnlUeXBlKCJ0aGVtZVJpdmVyIixmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxpPXQuZ2V0UmF3RGF0YSgpLG49dC5nZXQoImNvbG9yIiksbz16KCk7ZS5lYWNoKGZ1bmN0aW9uKHQpe28uc2V0KGUuZ2V0UmF3SW5kZXgodCksdCl9KSxpLmVhY2goZnVuY3Rpb24oYSl7dmFyIHI9aS5nZXROYW1lKGEpLHM9blsodC5uYW1lTWFwLmdldChyKS0xKSVuLmxlbmd0aF07aS5zZXRJdGVtVmlzdWFsKGEsImNvbG9yIixzKTt2YXIgbD1vLmdldChhKTtudWxsIT1sJiZlLnNldEl0ZW1WaXN1YWwobCwiY29sb3IiLHMpfSl9KX0pLHVzKE1UKCJ0aGVtZVJpdmVyIikpLG1NLmV4dGVuZCh7dHlwZToic2VyaWVzLnN1bmJ1cnN0Iixfdmlld1Jvb3Q6bnVsbCxnZXRJbml0aWFsRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXtuYW1lOnQubmFtZSxjaGlsZHJlbjp0LmRhdGF9O0lnKGkpO3ZhciBuPXQubGV2ZWxzfHxbXSxvPXt9O3JldHVybiBvLmxldmVscz1uLExoLmNyZWF0ZVRyZWUoaSx0aGlzLG8pLmRhdGF9LG9wdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Vmlld1Jvb3QoKX0sZ2V0RGF0YVBhcmFtczpmdW5jdGlvbih0KXt2YXIgZT1tTS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT10aGlzLmdldERhdGEoKS50cmVlLmdldE5vZGVCeURhdGFJbmRleCh0KTtyZXR1cm4gZS50cmVlUGF0aEluZm89ZWMoaSx0aGlzKSxlfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjIsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOlswLCI3NSUiXSxjbG9ja3dpc2U6ITAsc3RhcnRBbmdsZTo5MCxtaW5BbmdsZTowLHBlcmNlbnRQcmVjaXNpb246MixzdGlsbFNob3daZXJvU3VtOiEwLGhpZ2hsaWdodFBvbGljeToiZGVzY2VuZGFudCIsbm9kZUNsaWNrOiJyb290VG9Ob2RlIixyZW5kZXJMYWJlbEZvclplcm9EYXRhOiExLGxhYmVsOntyb3RhdGU6InJhZGlhbCIsc2hvdzohMCxvcGFjaXR5OjEsYWxpZ246ImNlbnRlciIscG9zaXRpb246Imluc2lkZSIsZGlzdGFuY2U6NSxzaWxlbnQ6ITAsZW1waGFzaXM6e319LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoid2hpdGUiLG9wYWNpdHk6MSxlbXBoYXNpczp7fSxoaWdobGlnaHQ6e29wYWNpdHk6MX0sZG93bnBsYXk6e29wYWNpdHk6Ljl9fSxhbmltYXRpb25UeXBlOiJleHBhbnNpb24iLGFuaW1hdGlvbkR1cmF0aW9uOjFlMyxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo1MDAsYW5pbWF0aW9uRWFzaW5nOiJjdWJpY091dCIsZGF0YTpbXSxsZXZlbHM6W10sc29ydDoiZGVzYyJ9LGdldFZpZXdSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdSb290fSxyZXNldFZpZXdSb290OmZ1bmN0aW9uKHQpe3Q/dGhpcy5fdmlld1Jvb3Q9dDp0PXRoaXMuX3ZpZXdSb290O3ZhciBlPXRoaXMuZ2V0UmF3RGF0YSgpLnRyZWUucm9vdDt0JiYodD09PWV8fGUuY29udGFpbnModCkpfHwodGhpcy5fdmlld1Jvb3Q9ZSl9fSk7dmFyIHpMPXtOT05FOiJub25lIixERVNDRU5EQU5UOiJkZXNjZW5kYW50IixBTkNFU1RPUjoiYW5jZXN0b3IiLFNFTEY6InNlbGYifSxSTD0yLEJMPTQsVkw9RGcucHJvdG90eXBlO1ZMLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLGksbyxzKXt0aGlzLm5vZGU9ZSxlLnBpZWNlPXRoaXMsbz1vfHx0aGlzLl9zZXJpZXNNb2RlbCxzPXN8fHRoaXMuX2VjTW9kZWw7dmFyIGw9dGhpcy5jaGlsZEF0KDApO2wuZGF0YUluZGV4PWUuZGF0YUluZGV4O3ZhciB1PWUuZ2V0TW9kZWwoKSxoPWUuZ2V0TGF5b3V0KCksYz1hKHt9LGgpO2MubGFiZWw9bnVsbDt2YXIgZCxmPVRnKGUsMCxzKSxwPXUuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO2Q9cih7bGluZUpvaW46ImJldmVsIixmaWxsOihkPSJub3JtYWwiPT09aT9wOm4odS5nZXRNb2RlbChpKyIuaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkscCkpLmZpbGx8fGZ9LGQpLHQ/KGwuc2V0U2hhcGUoYyksbC5zaGFwZS5yPWgucjAsZm8obCx7c2hhcGU6e3I6aC5yfX0sbyxlLmRhdGFJbmRleCksbC51c2VTdHlsZShkKSk6Im9iamVjdCI9PXR5cGVvZiBkLmZpbGwmJmQuZmlsbC50eXBlfHwib2JqZWN0Ij09dHlwZW9mIGwuc3R5bGUuZmlsbCYmbC5zdHlsZS5maWxsLnR5cGU/KGZvKGwse3NoYXBlOmN9LG8pLGwudXNlU3R5bGUoZCkpOmZvKGwse3NoYXBlOmMsc3R5bGU6ZH0sbyksdGhpcy5fdXBkYXRlTGFiZWwobyxmLGkpO3ZhciBnPXUuZ2V0U2hhbGxvdygiY3Vyc29yIik7aWYoZyYmbC5hdHRyKCJjdXJzb3IiLGcpLHQpe3ZhciBtPW8uZ2V0U2hhbGxvdygiaGlnaGxpZ2h0UG9saWN5Iik7dGhpcy5faW5pdEV2ZW50cyhsLGUsbyxtKX10aGlzLl9zZXJpZXNNb2RlbD1vfHx0aGlzLl9zZXJpZXNNb2RlbCx0aGlzLl9lY01vZGVsPXN8fHRoaXMuX2VjTW9kZWx9LFZMLm9uRW1waGFzaXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLm5vZGUuaG9zdFRyZWUucm9vdC5lYWNoTm9kZShmdW5jdGlvbihpKXtpLnBpZWNlJiYoZS5ub2RlPT09aT9pLnBpZWNlLnVwZGF0ZURhdGEoITEsaSwiZW1waGFzaXMiKTpDZyhpLGUubm9kZSx0KT9pLnBpZWNlLmNoaWxkQXQoMCkudHJpZ2dlcigiaGlnaGxpZ2h0Iik6dCE9PXpMLk5PTkUmJmkucGllY2UuY2hpbGRBdCgwKS50cmlnZ2VyKCJkb3ducGxheSIpKX0pfSxWTC5vbk5vcm1hbD1mdW5jdGlvbigpe3RoaXMubm9kZS5ob3N0VHJlZS5yb290LmVhY2hOb2RlKGZ1bmN0aW9uKHQpe3QucGllY2UmJnQucGllY2UudXBkYXRlRGF0YSghMSx0LCJub3JtYWwiKX0pfSxWTC5vbkhpZ2hsaWdodD1mdW5jdGlvbigpe3RoaXMudXBkYXRlRGF0YSghMSx0aGlzLm5vZGUsImhpZ2hsaWdodCIpfSxWTC5vbkRvd25wbGF5PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVEYXRhKCExLHRoaXMubm9kZSwiZG93bnBsYXkiKX0sVkwuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3ZhciBlPXIuZ2V0KHQpO3JldHVybiBudWxsPT1lP2EuZ2V0KHQpOmV9dmFyIG89dGhpcy5ub2RlLmdldE1vZGVsKCksYT1vLmdldE1vZGVsKCJsYWJlbCIpLHI9Im5vcm1hbCI9PT1pfHwiZW1waGFzaXMiPT09aT9hOm8uZ2V0TW9kZWwoaSsiLmxhYmVsIikscz1vLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLGw9RCh0LmdldEZvcm1hdHRlZExhYmVsKHRoaXMubm9kZS5kYXRhSW5kZXgsIm5vcm1hbCIsbnVsbCxudWxsLCJsYWJlbCIpLHRoaXMubm9kZS5uYW1lKTshMT09PW4oInNob3ciKSYmKGw9IiIpO3ZhciB1PXRoaXMubm9kZS5nZXRMYXlvdXQoKSxoPXIuZ2V0KCJtaW5BbmdsZSIpO251bGw9PWgmJihoPWEuZ2V0KCJtaW5BbmdsZSIpKSxoPWgvMTgwKk1hdGguUEk7dmFyIGM9dS5lbmRBbmdsZS11LnN0YXJ0QW5nbGU7bnVsbCE9aCYmTWF0aC5hYnMoYyk8aCYmKGw9IiIpO3ZhciBkPXRoaXMuY2hpbGRBdCgxKTtpbyhkLnN0eWxlLGQuaG92ZXJTdHlsZXx8e30sYSxzLHtkZWZhdWx0VGV4dDpyLmdldFNoYWxsb3coInNob3ciKT9sOm51bGwsYXV0b0NvbG9yOmUsdXNlSW5zaWRlU3R5bGU6ITB9KTt2YXIgZixwPSh1LnN0YXJ0QW5nbGUrdS5lbmRBbmdsZSkvMixnPU1hdGguY29zKHApLG09TWF0aC5zaW4ocCksdj1uKCJwb3NpdGlvbiIpLHk9bigiZGlzdGFuY2UiKXx8MCx4PW4oImFsaWduIik7Im91dHNpZGUiPT09dj8oZj11LnIreSx4PXA+TWF0aC5QSS8yPyJyaWdodCI6ImxlZnQiKTp4JiYiY2VudGVyIiE9PXg/ImxlZnQiPT09eD8oZj11LnIwK3kscD5NYXRoLlBJLzImJih4PSJyaWdodCIpKToicmlnaHQiPT09eCYmKGY9dS5yLXkscD5NYXRoLlBJLzImJih4PSJsZWZ0IikpOihmPSh1LnIrdS5yMCkvMix4PSJjZW50ZXIiKSxkLmF0dHIoInN0eWxlIix7dGV4dDpsLHRleHRBbGlnbjp4LHRleHRWZXJ0aWNhbEFsaWduOm4oInZlcnRpY2FsQWxpZ24iKXx8Im1pZGRsZSIsb3BhY2l0eTpuKCJvcGFjaXR5Iil9KTt2YXIgXz1mKmcrdS5jeCx3PWYqbSt1LmN5O2QuYXR0cigicG9zaXRpb24iLFtfLHddKTt2YXIgYj1uKCJyb3RhdGUiKSxTPTA7InJhZGlhbCI9PT1iPyhTPS1wKTwtTWF0aC5QSS8yJiYoUys9TWF0aC5QSSk6InRhbmdlbnRpYWwiPT09Yj8oUz1NYXRoLlBJLzItcCk+TWF0aC5QSS8yP1MtPU1hdGguUEk6UzwtTWF0aC5QSS8yJiYoUys9TWF0aC5QSSk6Im51bWJlciI9PXR5cGVvZiBiJiYoUz1iKk1hdGguUEkvMTgwKSxkLmF0dHIoInJvdGF0aW9uIixTKX0sVkwuX2luaXRFdmVudHM9ZnVuY3Rpb24odCxlLGksbil7dC5vZmYoIm1vdXNlb3ZlciIpLm9mZigibW91c2VvdXQiKS5vZmYoImVtcGhhc2lzIikub2ZmKCJub3JtYWwiKTt2YXIgbz10aGlzLGE9ZnVuY3Rpb24oKXtvLm9uRW1waGFzaXMobil9LHI9ZnVuY3Rpb24oKXtvLm9uTm9ybWFsKCl9O2kuaXNBbmltYXRpb25FbmFibGVkKCkmJnQub24oIm1vdXNlb3ZlciIsYSkub24oIm1vdXNlb3V0IixyKS5vbigiZW1waGFzaXMiLGEpLm9uKCJub3JtYWwiLHIpLm9uKCJkb3ducGxheSIsZnVuY3Rpb24oKXtvLm9uRG93bnBsYXkoKX0pLm9uKCJoaWdobGlnaHQiLGZ1bmN0aW9uKCl7by5vbkhpZ2hsaWdodCgpfSl9LHUoRGcsTF8pO3ByLmV4dGVuZCh7dHlwZToic3VuYnVyc3QiLGluaXQ6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKGksbil7aWYoY3x8IWl8fGkuZ2V0VmFsdWUoKXx8KGk9bnVsbCksaSE9PWwmJm4hPT1sKWlmKG4mJm4ucGllY2UpaT8obi5waWVjZS51cGRhdGVEYXRhKCExLGksIm5vcm1hbCIsdCxlKSxzLnNldEl0ZW1HcmFwaGljRWwoaS5kYXRhSW5kZXgsbi5waWVjZSkpOmEobik7ZWxzZSBpZihpKXt2YXIgbz1uZXcgRGcoaSx0LGUpO2guYWRkKG8pLHMuc2V0SXRlbUdyYXBoaWNFbChpLmRhdGFJbmRleCxvKX19ZnVuY3Rpb24gYSh0KXt0JiZ0LnBpZWNlJiYoaC5yZW1vdmUodC5waWVjZSksdC5waWVjZT1udWxsKX12YXIgcj10aGlzO3RoaXMuc2VyaWVzTW9kZWw9dCx0aGlzLmFwaT1pLHRoaXMuZWNNb2RlbD1lO3ZhciBzPXQuZ2V0RGF0YSgpLGw9cy50cmVlLnJvb3QsdT10LmdldFZpZXdSb290KCksaD10aGlzLmdyb3VwLGM9dC5nZXQoInJlbmRlckxhYmVsRm9yWmVyb0RhdGEiKSxkPVtdO3UuZWFjaE5vZGUoZnVuY3Rpb24odCl7ZC5wdXNoKHQpfSk7dmFyIGY9dGhpcy5fb2xkQ2hpbGRyZW58fFtdO2lmKGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC5nZXRJZCgpfWZ1bmN0aW9uIG4oaSxuKXtvKG51bGw9PWk/bnVsbDp0W2ldLG51bGw9PW4/bnVsbDplW25dKX0wPT09dC5sZW5ndGgmJjA9PT1lLmxlbmd0aHx8bmV3IGJzKGUsdCxpLGkpLmFkZChuKS51cGRhdGUobikucmVtb3ZlKHYobixudWxsKSkuZXhlY3V0ZSgpfShkLGYpLGZ1bmN0aW9uKGksbil7aWYobi5kZXB0aD4wKXtpLnBpZWNlP2kucGllY2UudXBkYXRlRGF0YSghMSxpLCJub3JtYWwiLHQsZSk6KGkucGllY2U9bmV3IERnKGksdCxlKSxoLmFkZChpLnBpZWNlKSksbi5waWVjZS5fb25jbGlja0V2ZW50JiZuLnBpZWNlLm9mZigiY2xpY2siLG4ucGllY2UuX29uY2xpY2tFdmVudCk7dmFyIG89ZnVuY3Rpb24odCl7ci5fcm9vdFRvTm9kZShuLnBhcmVudE5vZGUpfTtuLnBpZWNlLl9vbmNsaWNrRXZlbnQ9byxpLnBpZWNlLm9uKCJjbGljayIsbyl9ZWxzZSBpLnBpZWNlJiYoaC5yZW1vdmUoaS5waWVjZSksaS5waWVjZT1udWxsKX0obCx1KSxuJiZuLmhpZ2hsaWdodCYmbi5oaWdobGlnaHQucGllY2Upe3ZhciBwPXQuZ2V0U2hhbGxvdygiaGlnaGxpZ2h0UG9saWN5Iik7bi5oaWdobGlnaHQucGllY2Uub25FbXBoYXNpcyhwKX1lbHNlIGlmKG4mJm4udW5oaWdobGlnaHQpe3ZhciBnPWwucGllY2U7IWcmJmwuY2hpbGRyZW4ubGVuZ3RoJiYoZz1sLmNoaWxkcmVuWzBdLnBpZWNlKSxnJiZnLm9uTm9ybWFsKCl9dGhpcy5faW5pdEV2ZW50cygpLHRoaXMuX29sZENoaWxkcmVuPWR9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWZ1bmN0aW9uKGUpe3ZhciBpPSExO3Quc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKS5lYWNoTm9kZShmdW5jdGlvbihuKXtpZighaSYmbi5waWVjZSYmbi5waWVjZS5jaGlsZEF0KDApPT09ZS50YXJnZXQpe3ZhciBvPW4uZ2V0TW9kZWwoKS5nZXQoIm5vZGVDbGljayIpO2lmKCJyb290VG9Ob2RlIj09PW8pdC5fcm9vdFRvTm9kZShuKTtlbHNlIGlmKCJsaW5rIj09PW8pe3ZhciBhPW4uZ2V0TW9kZWwoKSxyPWEuZ2V0KCJsaW5rIik7aWYocil7dmFyIHM9YS5nZXQoInRhcmdldCIsITApfHwiX2JsYW5rIjt3aW5kb3cub3BlbihyLHMpfX1pPSEwfX0pfTt0aGlzLmdyb3VwLl9vbmNsaWNrRXZlbnQmJnRoaXMuZ3JvdXAub2ZmKCJjbGljayIsdGhpcy5ncm91cC5fb25jbGlja0V2ZW50KSx0aGlzLmdyb3VwLm9uKCJjbGljayIsZSksdGhpcy5ncm91cC5fb25jbGlja0V2ZW50PWV9LF9yb290VG9Ob2RlOmZ1bmN0aW9uKHQpe3QhPT10aGlzLnNlcmllc01vZGVsLmdldFZpZXdSb290KCkmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJzdW5idXJzdFJvb3RUb05vZGUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnR9KX0sY29udGFpblBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXREYXRhKCkuZ2V0SXRlbUxheW91dCgwKTtpZihpKXt2YXIgbj10WzBdLWkuY3gsbz10WzFdLWkuY3ksYT1NYXRoLnNxcnQobipuK28qbyk7cmV0dXJuIGE8PWkuciYmYT49aS5yMH19fSk7dmFyIEdMPSJzdW5idXJzdFJvb3RUb05vZGUiO2hzKHt0eXBlOkdMLHVwZGF0ZToidXBkYXRlVmlldyJ9LGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJzdW5idXJzdCIscXVlcnk6dH0sZnVuY3Rpb24oZSxpKXt2YXIgbj1KaCh0LFtHTF0sZSk7aWYobil7dmFyIG89ZS5nZXRWaWV3Um9vdCgpO28mJih0LmRpcmVjdGlvbj10YyhvLG4ubm9kZSk/InJvbGxVcCI6ImRyaWxsRG93biIpLGUucmVzZXRWaWV3Um9vdChuLm5vZGUpfX0pfSk7dmFyIEZMPSJzdW5idXJzdEhpZ2hsaWdodCI7aHMoe3R5cGU6RkwsdXBkYXRlOiJ1cGRhdGVWaWV3In0sZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InN1bmJ1cnN0IixxdWVyeTp0fSxmdW5jdGlvbihlLGkpe3ZhciBuPUpoKHQsW0ZMXSxlKTtuJiYodC5oaWdobGlnaHQ9bi5ub2RlKX0pfSk7aHMoe3R5cGU6InN1bmJ1cnN0VW5oaWdobGlnaHQiLHVwZGF0ZToidXBkYXRlVmlldyJ9LGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJzdW5idXJzdCIscXVlcnk6dH0sZnVuY3Rpb24oZSxpKXt0LnVuaGlnaGxpZ2h0PSEwfSl9KTt2YXIgV0w9TWF0aC5QSS8xODA7ZnModihfVCwic3VuYnVyc3QiKSksZHModihmdW5jdGlvbih0LGUsaSxuKXtlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldCgiY2VudGVyIiksbj10LmdldCgicmFkaXVzIik7eShuKXx8KG49WzAsbl0pLHkoZSl8fChlPVtlLGVdKTt2YXIgbz1pLmdldFdpZHRoKCksYT1pLmdldEhlaWdodCgpLHI9TWF0aC5taW4obyxhKSxzPVRvKGVbMF0sbyksbD1UbyhlWzFdLGEpLHU9VG8oblswXSxyLzIpLGg9VG8oblsxXSxyLzIpLGM9LXQuZ2V0KCJzdGFydEFuZ2xlIikqV0wsZj10LmdldCgibWluQW5nbGUiKSpXTCxwPXQuZ2V0RGF0YSgpLnRyZWUucm9vdCxnPXQuZ2V0Vmlld1Jvb3QoKSxtPWcuZGVwdGgsdj10LmdldCgic29ydCIpO251bGwhPXYmJkxnKGcsdik7dmFyIHg9MDtkKGcuY2hpbGRyZW4sZnVuY3Rpb24odCl7IWlzTmFOKHQuZ2V0VmFsdWUoKSkmJngrK30pO3ZhciBfPWcuZ2V0VmFsdWUoKSx3PU1hdGguUEkvKF98fHgpKjIsYj1nLmRlcHRoPjAsUz1nLmhlaWdodC0oYj8tMToxKSxNPShoLXUpLyhTfHwxKSxJPXQuZ2V0KCJjbG9ja3dpc2UiKSxEPXQuZ2V0KCJzdGlsbFNob3daZXJvU3VtIiksVD1JPzE6LTEsQT1mdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBpPWU7aWYodCE9PXApe3ZhciBuPXQuZ2V0VmFsdWUoKSxvPTA9PT1fJiZEP3c6bip3O288ZiYmKG89ZiksaT1lK1Qqbzt2YXIgYT10LmRlcHRoLW0tKGI/LTE6MSksaD11K00qYSxjPXUrTSooYSsxKSxnPXQuZ2V0TW9kZWwoKTtudWxsIT1nLmdldCgicjAiKSYmKGg9VG8oZy5nZXQoInIwIiksci8yKSksbnVsbCE9Zy5nZXQoInIiKSYmKGM9VG8oZy5nZXQoInIiKSxyLzIpKSx0LnNldExheW91dCh7YW5nbGU6byxzdGFydEFuZ2xlOmUsZW5kQW5nbGU6aSxjbG9ja3dpc2U6SSxjeDpzLGN5OmwscjA6aCxyOmN9KX1pZih0LmNoaWxkcmVuJiZ0LmNoaWxkcmVuLmxlbmd0aCl7dmFyIHY9MDtkKHQuY2hpbGRyZW4sZnVuY3Rpb24odCl7dis9QSh0LGUrdil9KX1yZXR1cm4gaS1lfX07aWYoYil7dmFyIEM9dSxMPXUrTSxrPTIqTWF0aC5QSTtwLnNldExheW91dCh7YW5nbGU6ayxzdGFydEFuZ2xlOmMsZW5kQW5nbGU6YytrLGNsb2Nrd2lzZTpJLGN4OnMsY3k6bCxyMDpDLHI6TH0pfUEoZyxjKX0pfSwic3VuYnVyc3QiKSksdXModihNVCwic3VuYnVyc3QiKSk7dmFyIEhMPVsiaXRlbVN0eWxlIl0sWkw9WyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdLFVMPVsibGFiZWwiXSxqTD1bImVtcGhhc2lzIiwibGFiZWwiXSxYTD0iZVwwXDAiLFlMPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0KXt2YXIgZT10LmdyaWQuZ2V0UmVjdCgpO3JldHVybntjb29yZFN5czp7dHlwZToiY2FydGVzaWFuMmQiLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFUb1BvaW50KGUpfSxzaXplOm0oUGcsdCl9fX0sZ2VvOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJue2Nvb3JkU3lzOnt0eXBlOiJnZW8iLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFUb1BvaW50KGUpfSxzaXplOm0oTmcsdCl9fX0sc2luZ2xlQXhpczpmdW5jdGlvbih0KXt2YXIgZT10LmdldFJlY3QoKTtyZXR1cm57Y29vcmRTeXM6e3R5cGU6InNpbmdsZUF4aXMiLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFUb1BvaW50KGUpfSxzaXplOm0oT2csdCl9fX0scG9sYXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSYWRpdXNBeGlzKCksaT10LmdldEFuZ2xlQXhpcygpLG49ZS5nZXRFeHRlbnQoKTtyZXR1cm4gblswXT5uWzFdJiZuLnJldmVyc2UoKSx7Y29vcmRTeXM6e3R5cGU6InBvbGFyIixjeDp0LmN4LGN5OnQuY3kscjpuWzFdLHIwOm5bMF19LGFwaTp7Y29vcmQ6bShmdW5jdGlvbihuKXt2YXIgbz1lLmRhdGFUb1JhZGl1cyhuWzBdKSxhPWkuZGF0YVRvQW5nbGUoblsxXSkscj10LmNvb3JkVG9Qb2ludChbbyxhXSk7cmV0dXJuIHIucHVzaChvLGEqTWF0aC5QSS8xODApLHJ9KSxzaXplOm0oRWcsdCl9fX0sY2FsZW5kYXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSZWN0KCksaT10LmdldFJhbmdlSW5mbygpO3JldHVybntjb29yZFN5czp7dHlwZToiY2FsZW5kYXIiLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGNlbGxXaWR0aDp0LmdldENlbGxXaWR0aCgpLGNlbGxIZWlnaHQ6dC5nZXRDZWxsSGVpZ2h0KCkscmFuZ2VJbmZvOntzdGFydDppLnN0YXJ0LGVuZDppLmVuZCx3ZWVrczppLndlZWtzLGRheUNvdW50OmkuYWxsRGF5fX0sYXBpOntjb29yZDpmdW5jdGlvbihlLGkpe3JldHVybiB0LmRhdGFUb1BvaW50KGUsaSl9fX19fTt5cyh7dHlwZToic2VyaWVzLmN1c3RvbSIsZGVwZW5kZW5jaWVzOlsiZ3JpZCIsInBvbGFyIiwiZ2VvIiwic2luZ2xlQXhpcyIsImNhbGVuZGFyIl0sZGVmYXVsdE9wdGlvbjp7Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITB9LGdldEluaXRpYWxEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhzKHRoaXMuZ2V0U291cmNlKCksdGhpcyl9fSkseHMoe3R5cGU6ImN1c3RvbSIsX2RhdGE6bnVsbCxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2RhdGEsbz10LmdldERhdGEoKSxhPXRoaXMuZ3JvdXAscj1WZyh0LG8sZSxpKTt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLG8uZGlmZihuKS5hZGQoZnVuY3Rpb24oZSl7RmcobnVsbCxlLHIoZSksdCxhLG8pfSkudXBkYXRlKGZ1bmN0aW9uKGUsaSl7Rmcobi5nZXRJdGVtR3JhcGhpY0VsKGkpLGUscihlKSx0LGEsbyl9KS5yZW1vdmUoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRJdGVtR3JhcGhpY0VsKHQpO2UmJmEucmVtb3ZlKGUpfSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9b30saW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0saW5jcmVtZW50YWxSZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7Zm9yKHZhciBvPWUuZ2V0RGF0YSgpLGE9VmcoZSxvLGksbikscj10LnN0YXJ0O3I8dC5lbmQ7cisrKUZnKG51bGwscixhKHIpLGUsdGhpcy5ncm91cCxvKS50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmlzR3JvdXB8fCh0LmluY3JlbWVudGFsPSEwLHQudXNlSG92ZXJMYXllcj0hMCl9KX0sZGlzcG9zZTpCfSksbHMoZnVuY3Rpb24odCl7dmFyIGU9dC5ncmFwaGljO3koZSk/ZVswXSYmZVswXS5lbGVtZW50cz90LmdyYXBoaWM9W3QuZ3JhcGhpY1swXV06dC5ncmFwaGljPVt7ZWxlbWVudHM6ZX1dOmUmJiFlLmVsZW1lbnRzJiYodC5ncmFwaGljPVt7ZWxlbWVudHM6W2VdfV0pfSk7dmFyIHFMPW1zKHt0eXBlOiJncmFwaGljIixkZWZhdWx0T3B0aW9uOntlbGVtZW50czpbXSxwYXJlbnRJZDpudWxsfSxfZWxPcHRpb25zVG9VcGRhdGU6bnVsbCxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5lbGVtZW50czt0aGlzLm9wdGlvbi5lbGVtZW50cz1udWxsLHFMLnN1cGVyQXBwbHkodGhpcywibWVyZ2VPcHRpb24iLGFyZ3VtZW50cyksdGhpcy5vcHRpb24uZWxlbWVudHM9ZX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49KGU/aTp0KS5lbGVtZW50cyxvPWkuZWxlbWVudHM9ZT9bXTppLmVsZW1lbnRzLGE9W107dGhpcy5fZmxhdHRlbihuLGEpO3ZhciByPVRpKG8sYSk7QWkocik7dmFyIHM9dGhpcy5fZWxPcHRpb25zVG9VcGRhdGU9W107ZChyLGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5vcHRpb247aSYmKHMucHVzaChpKSxLZyh0LGkpLEpnKG8sZSxpKSxRZyhvW2VdLGkpKX0sdGhpcyk7Zm9yKHZhciBsPW8ubGVuZ3RoLTE7bD49MDtsLS0pbnVsbD09b1tsXT9vLnNwbGljZShsLDEpOmRlbGV0ZSBvW2xdLiRhY3Rpb259LF9mbGF0dGVuOmZ1bmN0aW9uKHQsZSxpKXtkKHQsZnVuY3Rpb24odCl7aWYodCl7aSYmKHQucGFyZW50T3B0aW9uPWkpLGUucHVzaCh0KTt2YXIgbj10LmNoaWxkcmVuOyJncm91cCI9PT10LnR5cGUmJm4mJnRoaXMuX2ZsYXR0ZW4obixlLHQpLGRlbGV0ZSB0LmNoaWxkcmVufX0sdGhpcyl9LHVzZUVsT3B0aW9uc1RvVXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZWxPcHRpb25zVG9VcGRhdGU7cmV0dXJuIHRoaXMuX2VsT3B0aW9uc1RvVXBkYXRlPW51bGwsdH19KTt2cyh7dHlwZToiZ3JhcGhpYyIsaW5pdDpmdW5jdGlvbih0LGUpe3RoaXMuX2VsTWFwPXooKSx0aGlzLl9sYXN0R3JhcGhpY01vZGVsfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe3QhPT10aGlzLl9sYXN0R3JhcGhpY01vZGVsJiZ0aGlzLl9jbGVhcigpLHRoaXMuX2xhc3RHcmFwaGljTW9kZWw9dCx0aGlzLl91cGRhdGVFbGVtZW50cyh0LGkpLHRoaXMuX3JlbG9jYXRlKHQsaSl9LF91cGRhdGVFbGVtZW50czpmdW5jdGlvbih0LGUpe3ZhciBpPXQudXNlRWxPcHRpb25zVG9VcGRhdGUoKTtpZihpKXt2YXIgbj10aGlzLl9lbE1hcCxvPXRoaXMuZ3JvdXA7ZChpLGZ1bmN0aW9uKHQpe3ZhciBlPXQuJGFjdGlvbixpPXQuaWQsYT1uLmdldChpKSxyPXQucGFyZW50SWQscz1udWxsIT1yP24uZ2V0KHIpOm87aWYoInRleHQiPT09dC50eXBlKXt2YXIgbD10LnN0eWxlO3QuaHYmJnQuaHZbMV0mJihsLnRleHRWZXJ0aWNhbEFsaWduPWwudGV4dEJhc2VsaW5lPW51bGwpLCFsLmhhc093blByb3BlcnR5KCJ0ZXh0RmlsbCIpJiZsLmZpbGwmJihsLnRleHRGaWxsPWwuZmlsbCksIWwuaGFzT3duUHJvcGVydHkoInRleHRTdHJva2UiKSYmbC5zdHJva2UmJihsLnRleHRTdHJva2U9bC5zdHJva2UpfXZhciB1PXFnKHQpO2UmJiJtZXJnZSIhPT1lPyJyZXBsYWNlIj09PWU/KFlnKGEsbiksWGcoaSxzLHUsbikpOiJyZW1vdmUiPT09ZSYmWWcoYSxuKTphP2EuYXR0cih1KTpYZyhpLHMsdSxuKTt2YXIgaD1uLmdldChpKTtoJiYoaC5fX2VjR3JhcGhpY1dpZHRoPXQud2lkdGgsaC5fX2VjR3JhcGhpY0hlaWdodD10LmhlaWdodCl9KX19LF9yZWxvY2F0ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10Lm9wdGlvbi5lbGVtZW50cyxuPXRoaXMuZ3JvdXAsbz10aGlzLl9lbE1hcCxhPWkubGVuZ3RoLTE7YT49MDthLS0pe3ZhciByPWlbYV0scz1vLmdldChyLmlkKTtpZihzKXt2YXIgbD1zLnBhcmVudDt0YShzLHIsbD09PW4/e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX06e3dpZHRoOmwuX19lY0dyYXBoaWNXaWR0aHx8MCxoZWlnaHQ6bC5fX2VjR3JhcGhpY0hlaWdodHx8MH0sbnVsbCx7aHY6ci5odixib3VuZGluZ01vZGU6ci5ib3VuZGluZ30pfX19LF9jbGVhcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2VsTWFwO3QuZWFjaChmdW5jdGlvbihlKXtZZyhlLHQpfSksdGhpcy5fZWxNYXA9eigpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKX19KTt2YXIgJEw9bXMoe3R5cGU6ImxlZ2VuZC5wbGFpbiIsZGVwZW5kZW5jaWVzOlsic2VyaWVzIl0sbGF5b3V0TW9kZTp7dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxpbml0OmZ1bmN0aW9uKHQsZSxpKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsaSksdC5zZWxlY3RlZD10LnNlbGVjdGVkfHx7fX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7JEwuc3VwZXJDYWxsKHRoaXMsIm1lcmdlT3B0aW9uIix0KX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZURhdGEodGhpcy5lY01vZGVsKTt2YXIgdD10aGlzLl9kYXRhO2lmKHRbMF0mJiJzaW5nbGUiPT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpKXtmb3IodmFyIGU9ITEsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldLmdldCgibmFtZSIpO2lmKHRoaXMuaXNTZWxlY3RlZChuKSl7dGhpcy5zZWxlY3QobiksZT0hMDticmVha319IWUmJnRoaXMuc2VsZWN0KHRbMF0uZ2V0KCJuYW1lIikpfX0sX3VwZGF0ZURhdGE6ZnVuY3Rpb24odCl7dmFyIGU9W10saT1bXTt0LmVhY2hSYXdTZXJpZXMoZnVuY3Rpb24obil7dmFyIG89bi5uYW1lO2kucHVzaChvKTt2YXIgYTtpZihuLmxlZ2VuZERhdGFQcm92aWRlcil7dmFyIHI9bi5sZWdlbmREYXRhUHJvdmlkZXIoKSxzPXIubWFwQXJyYXkoci5nZXROYW1lKTt0LmlzU2VyaWVzRmlsdGVyZWQobil8fChpPWkuY29uY2F0KHMpKSxzLmxlbmd0aD9lPWUuY29uY2F0KHMpOmE9ITB9ZWxzZSBhPSEwO2EmJkNpKG4pJiZlLnB1c2gobi5uYW1lKX0pLHRoaXMuX2F2YWlsYWJsZU5hbWVzPWk7dmFyIG49Zih0aGlzLmdldCgiZGF0YSIpfHxlLGZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmIm51bWJlciIhPXR5cGVvZiB0fHwodD17bmFtZTp0fSksbmV3IHdvKHQsdGhpcyx0aGlzLmVjTW9kZWwpfSx0aGlzKTt0aGlzLl9kYXRhPW59LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sc2VsZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnNlbGVjdGVkOyJzaW5nbGUiPT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpJiZkKHRoaXMuX2RhdGEsZnVuY3Rpb24odCl7ZVt0LmdldCgibmFtZSIpXT0hMX0pLGVbdF09ITB9LHVuU2VsZWN0OmZ1bmN0aW9uKHQpeyJzaW5nbGUiIT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpJiYodGhpcy5vcHRpb24uc2VsZWN0ZWRbdF09ITEpfSx0b2dnbGVTZWxlY3RlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZDtlLmhhc093blByb3BlcnR5KHQpfHwoZVt0XT0hMCksdGhpc1tlW3RdPyJ1blNlbGVjdCI6InNlbGVjdCJdKHQpfSxpc1NlbGVjdGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnNlbGVjdGVkO3JldHVybiEoZS5oYXNPd25Qcm9wZXJ0eSh0KSYmIWVbdF0pJiZsKHRoaXMuX2F2YWlsYWJsZU5hbWVzLHQpPj0wfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjQsc2hvdzohMCxvcmllbnQ6Imhvcml6b250YWwiLGxlZnQ6ImNlbnRlciIsdG9wOjAsYWxpZ246ImF1dG8iLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyQ29sb3I6IiNjY2MiLGJvcmRlclJhZGl1czowLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1HYXA6MTAsaXRlbVdpZHRoOjI1LGl0ZW1IZWlnaHQ6MTQsaW5hY3RpdmVDb2xvcjoiI2NjYyIsdGV4dFN0eWxlOntjb2xvcjoiIzMzMyJ9LHNlbGVjdGVkTW9kZTohMCx0b29sdGlwOntzaG93OiExfX19KTtocygibGVnZW5kVG9nZ2xlU2VsZWN0IiwibGVnZW5kc2VsZWN0Y2hhbmdlZCIsdih0bSwidG9nZ2xlU2VsZWN0ZWQiKSksaHMoImxlZ2VuZFNlbGVjdCIsImxlZ2VuZHNlbGVjdGVkIix2KHRtLCJzZWxlY3QiKSksaHMoImxlZ2VuZFVuU2VsZWN0IiwibGVnZW5kdW5zZWxlY3RlZCIsdih0bSwidW5TZWxlY3QiKSk7dmFyIEtMPXYsSkw9ZCxRTD1MXyx0az12cyh7dHlwZToibGVnZW5kLnBsYWluIixuZXdsaW5lRGlzYWJsZWQ6ITEsaW5pdDpmdW5jdGlvbigpe3RoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRlbnRHcm91cD1uZXcgUUwpLHRoaXMuX2JhY2tncm91bmRFbH0sZ2V0Q29udGVudEdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRlbnRHcm91cH0scmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLnJlc2V0SW5uZXIoKSx0LmdldCgic2hvdyIsITApKXt2YXIgbj10LmdldCgiYWxpZ24iKTtuJiYiYXV0byIhPT1ufHwobj0icmlnaHQiPT09dC5nZXQoImxlZnQiKSYmInZlcnRpY2FsIj09PXQuZ2V0KCJvcmllbnQiKT8icmlnaHQiOiJsZWZ0IiksdGhpcy5yZW5kZXJJbm5lcihuLHQsZSxpKTt2YXIgbz10LmdldEJveExheW91dFBhcmFtcygpLGE9e3dpZHRoOmkuZ2V0V2lkdGgoKSxoZWlnaHQ6aS5nZXRIZWlnaHQoKX0scz10LmdldCgicGFkZGluZyIpLGw9UW8obyxhLHMpLHU9dGhpcy5sYXlvdXRJbm5lcih0LG4sbCksaD1RbyhyKHt3aWR0aDp1LndpZHRoLGhlaWdodDp1LmhlaWdodH0sbyksYSxzKTt0aGlzLmdyb3VwLmF0dHIoInBvc2l0aW9uIixbaC54LXUueCxoLnktdS55XSksdGhpcy5ncm91cC5hZGQodGhpcy5fYmFja2dyb3VuZEVsPWltKHUsdCkpfX0scmVzZXRJbm5lcjpmdW5jdGlvbigpe3RoaXMuZ2V0Q29udGVudEdyb3VwKCkucmVtb3ZlQWxsKCksdGhpcy5fYmFja2dyb3VuZEVsJiZ0aGlzLmdyb3VwLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kRWwpfSxyZW5kZXJJbm5lcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLmdldENvbnRlbnRHcm91cCgpLGE9eigpLHI9ZS5nZXQoInNlbGVjdGVkTW9kZSIpO0pMKGUuZ2V0RGF0YSgpLGZ1bmN0aW9uKHMsbCl7dmFyIHU9cy5nZXQoIm5hbWUiKTtpZih0aGlzLm5ld2xpbmVEaXNhYmxlZHx8IiIhPT11JiYiXG4iIT09dSl7dmFyIGg9aS5nZXRTZXJpZXNCeU5hbWUodSlbMF07aWYoIWEuZ2V0KHUpKWlmKGgpe3ZhciBjPWguZ2V0RGF0YSgpLGQ9Yy5nZXRWaXN1YWwoImNvbG9yIik7ImZ1bmN0aW9uIj09dHlwZW9mIGQmJihkPWQoaC5nZXREYXRhUGFyYW1zKDApKSk7dmFyIGY9Yy5nZXRWaXN1YWwoImxlZ2VuZFN5bWJvbCIpfHwicm91bmRSZWN0IixwPWMuZ2V0VmlzdWFsKCJzeW1ib2wiKTt0aGlzLl9jcmVhdGVJdGVtKHUsbCxzLGUsZixwLHQsZCxyKS5vbigiY2xpY2siLEtMKG5tLHUsbikpLm9uKCJtb3VzZW92ZXIiLEtMKG9tLGgsbnVsbCxuKSkub24oIm1vdXNlb3V0IixLTChhbSxoLG51bGwsbikpLGEuc2V0KHUsITApfWVsc2UgaS5lYWNoUmF3U2VyaWVzKGZ1bmN0aW9uKGkpe2lmKCFhLmdldCh1KSYmaS5sZWdlbmREYXRhUHJvdmlkZXIpe3ZhciBvPWkubGVnZW5kRGF0YVByb3ZpZGVyKCksaD1vLmluZGV4T2ZOYW1lKHUpO2lmKGg8MClyZXR1cm47dmFyIGM9by5nZXRJdGVtVmlzdWFsKGgsImNvbG9yIik7dGhpcy5fY3JlYXRlSXRlbSh1LGwscyxlLCJyb3VuZFJlY3QiLG51bGwsdCxjLHIpLm9uKCJjbGljayIsS0wobm0sdSxuKSkub24oIm1vdXNlb3ZlciIsS0wob20saSx1LG4pKS5vbigibW91c2VvdXQiLEtMKGFtLGksdSxuKSksYS5zZXQodSwhMCl9fSx0aGlzKX1lbHNlIG8uYWRkKG5ldyBRTCh7bmV3bGluZTohMH0pKX0sdGhpcyl9LF9jcmVhdGVJdGVtOmZ1bmN0aW9uKHQsZSxpLG4sbyxyLHMsbCx1KXt2YXIgaD1uLmdldCgiaXRlbVdpZHRoIiksYz1uLmdldCgiaXRlbUhlaWdodCIpLGQ9bi5nZXQoImluYWN0aXZlQ29sb3IiKSxmPW4uaXNTZWxlY3RlZCh0KSxwPW5ldyBRTCxnPWkuZ2V0TW9kZWwoInRleHRTdHlsZSIpLG09aS5nZXQoImljb24iKSx2PWkuZ2V0TW9kZWwoInRvb2x0aXAiKSx5PXYucGFyZW50TW9kZWw7aWYobz1tfHxvLHAuYWRkKG1sKG8sMCwwLGgsYyxmP2w6ZCwhMCkpLCFtJiZyJiYociE9PW98fCJub25lIj09cikpe3ZhciB4PS44KmM7Im5vbmUiPT09ciYmKHI9ImNpcmNsZSIpLHAuYWRkKG1sKHIsKGgteCkvMiwoYy14KS8yLHgseCxmP2w6ZCkpfXZhciBfPSJsZWZ0Ij09PXM/aCs1Oi01LHc9cyxiPW4uZ2V0KCJmb3JtYXR0ZXIiKSxTPXQ7InN0cmluZyI9PXR5cGVvZiBiJiZiP1M9Yi5yZXBsYWNlKCJ7bmFtZX0iLG51bGwhPXQ/dDoiIik6ImZ1bmN0aW9uIj09dHlwZW9mIGImJihTPWIodCkpLHAuYWRkKG5ldyB6Yih7c3R5bGU6bm8oe30sZyx7dGV4dDpTLHg6Xyx5OmMvMix0ZXh0RmlsbDpmP2cuZ2V0VGV4dENvbG9yKCk6ZCx0ZXh0QWxpZ246dyx0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIn0pfSkpO3ZhciBNPW5ldyBqYih7c2hhcGU6cC5nZXRCb3VuZGluZ1JlY3QoKSxpbnZpc2libGU6ITAsdG9vbHRpcDp2LmdldCgic2hvdyIpP2Eoe2NvbnRlbnQ6dCxmb3JtYXR0ZXI6eS5nZXQoImZvcm1hdHRlciIsITApfHxmdW5jdGlvbigpe3JldHVybiB0fSxmb3JtYXR0ZXJQYXJhbXM6e2NvbXBvbmVudFR5cGU6ImxlZ2VuZCIsbGVnZW5kSW5kZXg6bi5jb21wb25lbnRJbmRleCxuYW1lOnQsJHZhcnM6WyJuYW1lIl19fSx2Lm9wdGlvbik6bnVsbH0pO3JldHVybiBwLmFkZChNKSxwLmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LnNpbGVudD0hMH0pLE0uc2lsZW50PSF1LHRoaXMuZ2V0Q29udGVudEdyb3VwKCkuYWRkKHApLGVvKHApLHAuX19sZWdlbmREYXRhSW5kZXg9ZSxwfSxsYXlvdXRJbm5lcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5nZXRDb250ZW50R3JvdXAoKTtBUyh0LmdldCgib3JpZW50Iiksbix0LmdldCgiaXRlbUdhcCIpLGkud2lkdGgsaS5oZWlnaHQpO3ZhciBvPW4uZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIG4uYXR0cigicG9zaXRpb24iLFstby54LC1vLnldKSx0aGlzLmdyb3VwLmdldEJvdW5kaW5nUmVjdCgpfX0pO3VzKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJsZWdlbmQifSk7ZSYmZS5sZW5ndGgmJnQuZmlsdGVyU2VyaWVzKGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKCFlW2ldLmlzU2VsZWN0ZWQodC5uYW1lKSlyZXR1cm4hMTtyZXR1cm4hMH0pfSksa1MucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKCJsZWdlbmQiLGZ1bmN0aW9uKCl7cmV0dXJuInBsYWluIn0pO3ZhciBlaz0kTC5leHRlbmQoe3R5cGU6ImxlZ2VuZC5zY3JvbGwiLHNldFNjcm9sbERhdGFJbmRleDpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5zY3JvbGxEYXRhSW5kZXg9dH0sZGVmYXVsdE9wdGlvbjp7c2Nyb2xsRGF0YUluZGV4OjAscGFnZUJ1dHRvbkl0ZW1HYXA6NSxwYWdlQnV0dG9uR2FwOm51bGwscGFnZUJ1dHRvblBvc2l0aW9uOiJlbmQiLHBhZ2VGb3JtYXR0ZXI6IntjdXJyZW50fS97dG90YWx9IixwYWdlSWNvbnM6e2hvcml6b250YWw6WyJNMCwwTDEyLC0xMEwxMiwxMHoiLCJNMCwwTC0xMiwtMTBMLTEyLDEweiJdLHZlcnRpY2FsOlsiTTAsMEwyMCwwTDEwLC0yMHoiLCJNMCwwTDIwLDBMMTAsMjB6Il19LHBhZ2VJY29uQ29sb3I6IiMyZjQ1NTQiLHBhZ2VJY29uSW5hY3RpdmVDb2xvcjoiI2FhYSIscGFnZUljb25TaXplOjE1LHBhZ2VUZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn0sYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6ODAwfSxpbml0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPW5hKHQpO2VrLnN1cGVyQ2FsbCh0aGlzLCJpbml0Iix0LGUsaSxuKSxybSh0aGlzLHQsbyl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSl7ZWsuc3VwZXJDYWxsKHRoaXMsIm1lcmdlT3B0aW9uIix0LGUpLHJtKHRoaXMsdGhpcy5vcHRpb24sdCl9LGdldE9yaWVudDpmdW5jdGlvbigpe3JldHVybiJ2ZXJ0aWNhbCI9PT10aGlzLmdldCgib3JpZW50Iik/e2luZGV4OjEsbmFtZToidmVydGljYWwifTp7aW5kZXg6MCxuYW1lOiJob3Jpem9udGFsIn19fSksaWs9TF8sbms9WyJ3aWR0aCIsImhlaWdodCJdLG9rPVsieCIsInkiXSxhaz10ay5leHRlbmQoe3R5cGU6ImxlZ2VuZC5zY3JvbGwiLG5ld2xpbmVEaXNhYmxlZDohMCxpbml0OmZ1bmN0aW9uKCl7YWsuc3VwZXJDYWxsKHRoaXMsImluaXQiKSx0aGlzLl9jdXJyZW50SW5kZXg9MCx0aGlzLmdyb3VwLmFkZCh0aGlzLl9jb250YWluZXJHcm91cD1uZXcgaWspLHRoaXMuX2NvbnRhaW5lckdyb3VwLmFkZCh0aGlzLmdldENvbnRlbnRHcm91cCgpKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9jb250cm9sbGVyR3JvdXA9bmV3IGlrKSx0aGlzLl9zaG93Q29udHJvbGxlcn0scmVzZXRJbm5lcjpmdW5jdGlvbigpe2FrLnN1cGVyQ2FsbCh0aGlzLCJyZXNldElubmVyIiksdGhpcy5fY29udHJvbGxlckdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2NvbnRhaW5lckdyb3VwLnJlbW92ZUNsaXBQYXRoKCksdGhpcy5fY29udGFpbmVyR3JvdXAuX19yZWN0U2l6ZT1udWxsfSxyZW5kZXJJbm5lcjpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKHQsaSl7dmFyIG89dCsiRGF0YUluZGV4IixsPV9vKGUuZ2V0KCJwYWdlSWNvbnMiLCEwKVtlLmdldE9yaWVudCgpLm5hbWVdW2ldLHtvbmNsaWNrOm0oYS5fcGFnZUdvLGEsbyxlLG4pfSx7eDotc1swXS8yLHk6LXNbMV0vMix3aWR0aDpzWzBdLGhlaWdodDpzWzFdfSk7bC5uYW1lPXQsci5hZGQobCl9dmFyIGE9dGhpczthay5zdXBlckNhbGwodGhpcywicmVuZGVySW5uZXIiLHQsZSxpLG4pO3ZhciByPXRoaXMuX2NvbnRyb2xsZXJHcm91cCxzPWUuZ2V0KCJwYWdlSWNvblNpemUiLCEwKTt5KHMpfHwocz1bcyxzXSksbygicGFnZVByZXYiLDApO3ZhciBsPWUuZ2V0TW9kZWwoInBhZ2VUZXh0U3R5bGUiKTtyLmFkZChuZXcgemIoe25hbWU6InBhZ2VUZXh0IixzdHlsZTp7dGV4dEZpbGw6bC5nZXRUZXh0Q29sb3IoKSxmb250OmwuZ2V0Rm9udCgpLHRleHRWZXJ0aWNhbEFsaWduOiJtaWRkbGUiLHRleHRBbGlnbjoiY2VudGVyIn0sc2lsZW50OiEwfSkpLG8oInBhZ2VOZXh0IiwxKX0sbGF5b3V0SW5uZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuZ2V0Q29udGVudEdyb3VwKCksbz10aGlzLl9jb250YWluZXJHcm91cCxhPXRoaXMuX2NvbnRyb2xsZXJHcm91cCxyPXQuZ2V0T3JpZW50KCkuaW5kZXgscz1ua1tyXSxsPW5rWzEtcl0sdT1va1sxLXJdO0FTKHQuZ2V0KCJvcmllbnQiKSxuLHQuZ2V0KCJpdGVtR2FwIikscj9pLndpZHRoOm51bGwscj9udWxsOmkuaGVpZ2h0KSxBUygiaG9yaXpvbnRhbCIsYSx0LmdldCgicGFnZUJ1dHRvbkl0ZW1HYXAiLCEwKSk7dmFyIGg9bi5nZXRCb3VuZGluZ1JlY3QoKSxjPWEuZ2V0Qm91bmRpbmdSZWN0KCksZD10aGlzLl9zaG93Q29udHJvbGxlcj1oW3NdPmlbc10sZj1bLWgueCwtaC55XTtmW3JdPW4ucG9zaXRpb25bcl07dmFyIHA9WzAsMF0sZz1bLWMueCwtYy55XSxtPVQodC5nZXQoInBhZ2VCdXR0b25HYXAiLCEwKSx0LmdldCgiaXRlbUdhcCIsITApKTtkJiYoImVuZCI9PT10LmdldCgicGFnZUJ1dHRvblBvc2l0aW9uIiwhMCk/Z1tyXSs9aVtzXS1jW3NdOnBbcl0rPWNbc10rbSksZ1sxLXJdKz1oW2xdLzItY1tsXS8yLG4uYXR0cigicG9zaXRpb24iLGYpLG8uYXR0cigicG9zaXRpb24iLHApLGEuYXR0cigicG9zaXRpb24iLGcpO3ZhciB2PXRoaXMuZ3JvdXAuZ2V0Qm91bmRpbmdSZWN0KCk7aWYoKHY9e3g6MCx5OjB9KVtzXT1kP2lbc106aFtzXSx2W2xdPU1hdGgubWF4KGhbbF0sY1tsXSksdlt1XT1NYXRoLm1pbigwLGNbdV0rZ1sxLXJdKSxvLl9fcmVjdFNpemU9aVtzXSxkKXt2YXIgeT17eDowLHk6MH07eVtzXT1NYXRoLm1heChpW3NdLWNbc10tbSwwKSx5W2xdPXZbbF0sby5zZXRDbGlwUGF0aChuZXcgamIoe3NoYXBlOnl9KSksby5fX3JlY3RTaXplPXlbc119ZWxzZSBhLmVhY2hDaGlsZChmdW5jdGlvbih0KXt0LmF0dHIoe2ludmlzaWJsZTohMCxzaWxlbnQ6ITB9KX0pO3ZhciB4PXRoaXMuX2dldFBhZ2VJbmZvKHQpO3JldHVybiBudWxsIT14LnBhZ2VJbmRleCYmZm8obix7cG9zaXRpb246eC5jb250ZW50UG9zaXRpb259LCEhZCYmdCksdGhpcy5fdXBkYXRlUGFnZUluZm9WaWV3KHQseCksdn0sX3BhZ2VHbzpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZ2V0UGFnZUluZm8oZSlbdF07bnVsbCE9biYmaS5kaXNwYXRjaEFjdGlvbih7dHlwZToibGVnZW5kU2Nyb2xsIixzY3JvbGxEYXRhSW5kZXg6bixsZWdlbmRJZDplLmlkfSl9LF91cGRhdGVQYWdlSW5mb1ZpZXc6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9jb250cm9sbGVyR3JvdXA7ZChbInBhZ2VQcmV2IiwicGFnZU5leHQiXSxmdW5jdGlvbihuKXt2YXIgbz1udWxsIT1lW24rIkRhdGFJbmRleCJdLGE9aS5jaGlsZE9mTmFtZShuKTthJiYoYS5zZXRTdHlsZSgiZmlsbCIsbz90LmdldCgicGFnZUljb25Db2xvciIsITApOnQuZ2V0KCJwYWdlSWNvbkluYWN0aXZlQ29sb3IiLCEwKSksYS5jdXJzb3I9bz8icG9pbnRlciI6ImRlZmF1bHQiKX0pO3ZhciBuPWkuY2hpbGRPZk5hbWUoInBhZ2VUZXh0Iiksbz10LmdldCgicGFnZUZvcm1hdHRlciIpLGE9ZS5wYWdlSW5kZXgscj1udWxsIT1hP2ErMTowLHM9ZS5wYWdlQ291bnQ7biYmbyYmbi5zZXRTdHlsZSgidGV4dCIsXyhvKT9vLnJlcGxhY2UoIntjdXJyZW50fSIscikucmVwbGFjZSgie3RvdGFsfSIscyk6byh7Y3VycmVudDpyLHRvdGFsOnN9KSl9LF9nZXRQYWdlSW5mbzpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtyZXR1cm4gZVtmXSs9dC5wb3NpdGlvbltoXSxlfXZhciBpLG4sbyxhLHI9dC5nZXQoInNjcm9sbERhdGFJbmRleCIsITApLHM9dGhpcy5nZXRDb250ZW50R3JvdXAoKSxsPXMuZ2V0Qm91bmRpbmdSZWN0KCksdT10aGlzLl9jb250YWluZXJHcm91cC5fX3JlY3RTaXplLGg9dC5nZXRPcmllbnQoKS5pbmRleCxjPW5rW2hdLGQ9bmtbMS1oXSxmPW9rW2hdLHA9cy5wb3NpdGlvbi5zbGljZSgpO3RoaXMuX3Nob3dDb250cm9sbGVyP3MuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3QuX19sZWdlbmREYXRhSW5kZXg9PT1yJiYoYT10KX0pOmE9cy5jaGlsZEF0KDApO3ZhciBnPXU/TWF0aC5jZWlsKGxbY10vdSk6MDtpZihhKXt2YXIgbT1hLmdldEJvdW5kaW5nUmVjdCgpLHY9YS5wb3NpdGlvbltoXSttW2ZdO3BbaF09LXYtbFtmXSxpPU1hdGguZmxvb3IoZyoodittW2ZdK3UvMikvbFtjXSksaT1sW2NdJiZnP01hdGgubWF4KDAsTWF0aC5taW4oZy0xLGkpKTotMTt2YXIgeT17eDowLHk6MH07eVtjXT11LHlbZF09bFtkXSx5W2ZdPS1wW2hdLWxbZl07dmFyIHgsXz1zLmNoaWxkcmVuKCk7aWYocy5lYWNoQ2hpbGQoZnVuY3Rpb24odCxpKXt2YXIgbj1lKHQpO24uaW50ZXJzZWN0KHkpJiYobnVsbD09eCYmKHg9aSksbz10Ll9fbGVnZW5kRGF0YUluZGV4KSxpPT09Xy5sZW5ndGgtMSYmbltmXStuW2NdPD15W2ZdK3lbY10mJihvPW51bGwpfSksbnVsbCE9eCl7dmFyIHc9ZShfW3hdKTtpZih5W2ZdPXdbZl0rd1tjXS15W2NdLHg8PTAmJndbZl0+PXlbZl0pbj1udWxsO2Vsc2V7Zm9yKDt4PjAmJmUoX1t4LTFdKS5pbnRlcnNlY3QoeSk7KXgtLTtuPV9beF0uX19sZWdlbmREYXRhSW5kZXh9fX1yZXR1cm57Y29udGVudFBvc2l0aW9uOnAscGFnZUluZGV4OmkscGFnZUNvdW50OmcscGFnZVByZXZEYXRhSW5kZXg6bixwYWdlTmV4dERhdGFJbmRleDpvfX19KTtocygibGVnZW5kU2Nyb2xsIiwibGVnZW5kc2Nyb2xsIixmdW5jdGlvbih0LGUpe3ZhciBpPXQuc2Nyb2xsRGF0YUluZGV4O251bGwhPWkmJmUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImxlZ2VuZCIsc3ViVHlwZToic2Nyb2xsIixxdWVyeTp0fSxmdW5jdGlvbih0KXt0LnNldFNjcm9sbERhdGFJbmRleChpKX0pfSksbXMoe3R5cGU6InRvb2x0aXAiLGRlcGVuZGVuY2llczpbImF4aXNQb2ludGVyIl0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo4LHNob3c6ITAsc2hvd0NvbnRlbnQ6ITAsdHJpZ2dlcjoiaXRlbSIsdHJpZ2dlck9uOiJtb3VzZW1vdmV8Y2xpY2siLGFsd2F5c1Nob3dDb250ZW50OiExLGRpc3BsYXlNb2RlOiJzaW5nbGUiLGNvbmZpbmU6ITEsc2hvd0RlbGF5OjAsaGlkZURlbGF5OjEwMCx0cmFuc2l0aW9uRHVyYXRpb246LjQsZW50ZXJhYmxlOiExLGJhY2tncm91bmRDb2xvcjoicmdiYSg1MCw1MCw1MCwwLjcpIixib3JkZXJDb2xvcjoiIzMzMyIsYm9yZGVyUmFkaXVzOjQsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsZXh0cmFDc3NUZXh0OiIiLGF4aXNQb2ludGVyOnt0eXBlOiJsaW5lIixheGlzOiJhdXRvIixhbmltYXRpb246ImF1dG8iLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjIwMCxhbmltYXRpb25FYXNpbmdVcGRhdGU6ImV4cG9uZW50aWFsT3V0Iixjcm9zc1N0eWxlOntjb2xvcjoiIzk5OSIsd2lkdGg6MSx0eXBlOiJkYXNoZWQiLHRleHRTdHlsZTp7fX19LHRleHRTdHlsZTp7Y29sb3I6IiNmZmYiLGZvbnRTaXplOjE0fX19KTt2YXIgcms9ZCxzaz1Ibyxsaz1bIiIsIi13ZWJraXQtIiwiLW1vei0iLCItby0iXTtobS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmhtLF9lbnRlcmFibGU6ITAsdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyLGU9dC5jdXJyZW50U3R5bGV8fGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCksaT10LnN0eWxlOyJhYnNvbHV0ZSIhPT1pLnBvc2l0aW9uJiYiYWJzb2x1dGUiIT09ZS5wb3NpdGlvbiYmKGkucG9zaXRpb249InJlbGF0aXZlIil9LHNob3c6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KTt2YXIgZT10aGlzLmVsO2Uuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7d2hpdGUtc3BhY2U6bm93cmFwO3otaW5kZXg6OTk5OTk5OTsiK3VtKHQpKyI7bGVmdDoiK3RoaXMuX3grInB4O3RvcDoiK3RoaXMuX3krInB4OyIrKHQuZ2V0KCJleHRyYUNzc1RleHQiKXx8IiIpLGUuc3R5bGUuZGlzcGxheT1lLmlubmVySFRNTD8iYmxvY2siOiJub25lIix0aGlzLl9zaG93PSEwfSxzZXRDb250ZW50OmZ1bmN0aW9uKHQpe3RoaXMuZWwuaW5uZXJIVE1MPW51bGw9PXQ/IiI6dH0sc2V0RW50ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuX2VudGVyYWJsZT10fSxnZXRTaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDtyZXR1cm5bdC5jbGllbnRXaWR0aCx0LmNsaWVudEhlaWdodF19LG1vdmVUbzpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcy5fenI7biYmbi5wYWludGVyJiYoaT1uLnBhaW50ZXIuZ2V0Vmlld3BvcnRSb290T2Zmc2V0KCkpJiYodCs9aS5vZmZzZXRMZWZ0LGUrPWkub2Zmc2V0VG9wKTt2YXIgbz10aGlzLmVsLnN0eWxlO28ubGVmdD10KyJweCIsby50b3A9ZSsicHgiLHRoaXMuX3g9dCx0aGlzLl95PWV9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmVsLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuX3Nob3c9ITF9LGhpZGVMYXRlcjpmdW5jdGlvbih0KXshdGhpcy5fc2hvd3x8dGhpcy5faW5Db250ZW50JiZ0aGlzLl9lbnRlcmFibGV8fCh0Pyh0aGlzLl9oaWRlRGVsYXk9dCx0aGlzLl9zaG93PSExLHRoaXMuX2hpZGVUaW1lb3V0PXNldFRpbWVvdXQobSh0aGlzLmhpZGUsdGhpcyksdCkpOnRoaXMuaGlkZSgpKX0saXNTaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3d9fTt2YXIgdWs9bSxoaz1kLGNrPVRvLGRrPW5ldyBqYih7c2hhcGU6e3g6LTEseTotMSx3aWR0aDoyLGhlaWdodDoyfX0pO3ZzKHt0eXBlOiJ0b29sdGlwIixpbml0OmZ1bmN0aW9uKHQsZSl7aWYoIUF4Lm5vZGUpe3ZhciBpPW5ldyBobShlLmdldERvbSgpLGUpO3RoaXMuX3Rvb2x0aXBDb250ZW50PWl9fSxyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe2lmKCFBeC5ub2RlJiYhQXgud3hhKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3Rvb2x0aXBNb2RlbD10LHRoaXMuX2VjTW9kZWw9ZSx0aGlzLl9hcGk9aSx0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9hbHdheXNTaG93Q29udGVudD10LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKTt2YXIgbj10aGlzLl90b29sdGlwQ29udGVudDtuLnVwZGF0ZSgpLG4uc2V0RW50ZXJhYmxlKHQuZ2V0KCJlbnRlcmFibGUiKSksdGhpcy5faW5pdEdsb2JhbExpc3RlbmVyKCksdGhpcy5fa2VlcFNob3coKX19LF9pbml0R2xvYmFsTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90b29sdGlwTW9kZWwuZ2V0KCJ0cmlnZ2VyT24iKTskcCgiaXRlbVRvb2x0aXAiLHRoaXMuX2FwaSx1ayhmdW5jdGlvbihlLGksbil7Im5vbmUiIT09dCYmKHQuaW5kZXhPZihlKT49MD90aGlzLl90cnlTaG93KGksbik6ImxlYXZlIj09PWUmJnRoaXMuX2hpZGUobikpfSx0aGlzKSl9LF9rZWVwU2hvdzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Rvb2x0aXBNb2RlbCxlPXRoaXMuX2VjTW9kZWwsaT10aGlzLl9hcGk7aWYobnVsbCE9dGhpcy5fbGFzdFgmJm51bGwhPXRoaXMuX2xhc3RZJiYibm9uZSIhPT10LmdldCgidHJpZ2dlck9uIikpe3ZhciBuPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlZnJlc2hVcGRhdGVUaW1lb3V0KSx0aGlzLl9yZWZyZXNoVXBkYXRlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5tYW51YWxseVNob3dUaXAodCxlLGkse3g6bi5fbGFzdFgseTpuLl9sYXN0WX0pfSl9fSxtYW51YWxseVNob3dUaXA6ZnVuY3Rpb24odCxlLGksbil7aWYobi5mcm9tIT09dGhpcy51aWQmJiFBeC5ub2RlKXt2YXIgbz1kbShuLGkpO3RoaXMuX3RpY2tldD0iIjt2YXIgYT1uLmRhdGFCeUNvb3JkU3lzO2lmKG4udG9vbHRpcCYmbnVsbCE9bi54JiZudWxsIT1uLnkpe3ZhciByPWRrO3IucG9zaXRpb249W24ueCxuLnldLHIudXBkYXRlKCksci50b29sdGlwPW4udG9vbHRpcCx0aGlzLl90cnlTaG93KHtvZmZzZXRYOm4ueCxvZmZzZXRZOm4ueSx0YXJnZXQ6cn0sbyl9ZWxzZSBpZihhKXRoaXMuX3RyeVNob3coe29mZnNldFg6bi54LG9mZnNldFk6bi55LHBvc2l0aW9uOm4ucG9zaXRpb24sZXZlbnQ6e30sZGF0YUJ5Q29vcmRTeXM6bi5kYXRhQnlDb29yZFN5cyx0b29sdGlwT3B0aW9uOm4udG9vbHRpcE9wdGlvbn0sbyk7ZWxzZSBpZihudWxsIT1uLnNlcmllc0luZGV4KXtpZih0aGlzLl9tYW51YWxseUF4aXNTaG93VGlwKHQsZSxpLG4pKXJldHVybjt2YXIgcz14TChuLGUpLGw9cy5wb2ludFswXSx1PXMucG9pbnRbMV07bnVsbCE9bCYmbnVsbCE9dSYmdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDpsLG9mZnNldFk6dSxwb3NpdGlvbjpuLnBvc2l0aW9uLHRhcmdldDpzLmVsLGV2ZW50Ont9fSxvKX1lbHNlIG51bGwhPW4ueCYmbnVsbCE9bi55JiYoaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHg6bi54LHk6bi55fSksdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDpuLngsb2Zmc2V0WTpuLnkscG9zaXRpb246bi5wb3NpdGlvbix0YXJnZXQ6aS5nZXRacigpLmZpbmRIb3ZlcihuLngsbi55KS50YXJnZXQsZXZlbnQ6e319LG8pKX19LG1hbnVhbGx5SGlkZVRpcDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLl90b29sdGlwQ29udGVudDshdGhpcy5fYWx3YXlzU2hvd0NvbnRlbnQmJnRoaXMuX3Rvb2x0aXBNb2RlbCYmby5oaWRlTGF0ZXIodGhpcy5fdG9vbHRpcE1vZGVsLmdldCgiaGlkZURlbGF5IikpLHRoaXMuX2xhc3RYPXRoaXMuX2xhc3RZPW51bGwsbi5mcm9tIT09dGhpcy51aWQmJnRoaXMuX2hpZGUoZG0obixpKSl9LF9tYW51YWxseUF4aXNTaG93VGlwOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPW4uc2VyaWVzSW5kZXgsYT1uLmRhdGFJbmRleCxyPWUuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLmNvb3JkU3lzQXhlc0luZm87aWYobnVsbCE9byYmbnVsbCE9YSYmbnVsbCE9cil7dmFyIHM9ZS5nZXRTZXJpZXNCeUluZGV4KG8pO2lmKHMmJiJheGlzIj09PSh0PWNtKFtzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwoYSkscywocy5jb29yZGluYXRlU3lzdGVtfHx7fSkubW9kZWwsdF0pKS5nZXQoInRyaWdnZXIiKSlyZXR1cm4gaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHNlcmllc0luZGV4Om8sZGF0YUluZGV4OmEscG9zaXRpb246bi5wb3NpdGlvbn0pLCEwfX0sX3RyeVNob3c6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRhcmdldDtpZih0aGlzLl90b29sdGlwTW9kZWwpe3RoaXMuX2xhc3RYPXQub2Zmc2V0WCx0aGlzLl9sYXN0WT10Lm9mZnNldFk7dmFyIG49dC5kYXRhQnlDb29yZFN5cztuJiZuLmxlbmd0aD90aGlzLl9zaG93QXhpc1Rvb2x0aXAobix0KTppJiZudWxsIT1pLmRhdGFJbmRleD8odGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5fc2hvd1Nlcmllc0l0ZW1Ub29sdGlwKHQsaSxlKSk6aSYmaS50b29sdGlwPyh0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9bnVsbCx0aGlzLl9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXAodCxpLGUpKToodGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5faGlkZShlKSl9fSxfc2hvd09yTW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJzaG93RGVsYXkiKTtlPW0oZSx0aGlzKSxjbGVhclRpbWVvdXQodGhpcy5fc2hvd1RpbW91dCksaT4wP3RoaXMuX3Nob3dUaW1vdXQ9c2V0VGltZW91dChlLGkpOmUoKX0sX3Nob3dBeGlzVG9vbHRpcDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2VjTW9kZWwsbj10aGlzLl90b29sdGlwTW9kZWwsbz1bZS5vZmZzZXRYLGUub2Zmc2V0WV0sYT1bXSxyPVtdLHM9Y20oW2UudG9vbHRpcE9wdGlvbixuXSk7aGsodCxmdW5jdGlvbih0KXtoayh0LmRhdGFCeUF4aXMsZnVuY3Rpb24odCl7dmFyIGU9aS5nZXRDb21wb25lbnQodC5heGlzRGltKyJBeGlzIix0LmF4aXNJbmRleCksbj10LnZhbHVlLG89W107aWYoZSYmbnVsbCE9bil7dmFyIHM9ZGcobixlLmF4aXMsaSx0LnNlcmllc0RhdGFJbmRpY2VzLHQudmFsdWVMYWJlbE9wdCk7ZCh0LnNlcmllc0RhdGFJbmRpY2VzLGZ1bmN0aW9uKGEpe3ZhciBsPWkuZ2V0U2VyaWVzQnlJbmRleChhLnNlcmllc0luZGV4KSx1PWEuZGF0YUluZGV4SW5zaWRlLGg9bCYmbC5nZXREYXRhUGFyYW1zKHUpO2guYXhpc0RpbT10LmF4aXNEaW0saC5heGlzSW5kZXg9dC5heGlzSW5kZXgsaC5heGlzVHlwZT10LmF4aXNUeXBlLGguYXhpc0lkPXQuYXhpc0lkLGguYXhpc1ZhbHVlPXBsKGUuYXhpcyxuKSxoLmF4aXNWYWx1ZUxhYmVsPXMsaCYmKHIucHVzaChoKSxvLnB1c2gobC5mb3JtYXRUb29sdGlwKHUsITApKSl9KTt2YXIgbD1zO2EucHVzaCgobD9abyhsKSsiPGJyIC8+IjoiIikrby5qb2luKCI8YnIgLz4iKSl9fSl9LHRoaXMpLGEucmV2ZXJzZSgpLGE9YS5qb2luKCI8YnIgLz48YnIgLz4iKTt2YXIgbD1lLnBvc2l0aW9uO3RoaXMuX3Nob3dPck1vdmUocyxmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZUNvbnRlbnROb3RDaGFuZ2VkT25BeGlzKHQpP3RoaXMuX3VwZGF0ZVBvc2l0aW9uKHMsbCxvWzBdLG9bMV0sdGhpcy5fdG9vbHRpcENvbnRlbnQscik6dGhpcy5fc2hvd1Rvb2x0aXBDb250ZW50KHMsYSxyLE1hdGgucmFuZG9tKCksb1swXSxvWzFdLGwpfSl9LF9zaG93U2VyaWVzSXRlbVRvb2x0aXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2VjTW9kZWwsbz1lLnNlcmllc0luZGV4LGE9bi5nZXRTZXJpZXNCeUluZGV4KG8pLHI9ZS5kYXRhTW9kZWx8fGEscz1lLmRhdGFJbmRleCxsPWUuZGF0YVR5cGUsdT1yLmdldERhdGEoKSxoPWNtKFt1LmdldEl0ZW1Nb2RlbChzKSxyLGEmJihhLmNvb3JkaW5hdGVTeXN0ZW18fHt9KS5tb2RlbCx0aGlzLl90b29sdGlwTW9kZWxdKSxjPWguZ2V0KCJ0cmlnZ2VyIik7aWYobnVsbD09Y3x8Iml0ZW0iPT09Yyl7dmFyIGQ9ci5nZXREYXRhUGFyYW1zKHMsbCksZj1yLmZvcm1hdFRvb2x0aXAocywhMSxsKSxwPSJpdGVtXyIrci5uYW1lKyJfIitzO3RoaXMuX3Nob3dPck1vdmUoaCxmdW5jdGlvbigpe3RoaXMuX3Nob3dUb29sdGlwQ29udGVudChoLGYsZCxwLHQub2Zmc2V0WCx0Lm9mZnNldFksdC5wb3NpdGlvbix0LnRhcmdldCl9KSxpKHt0eXBlOiJzaG93VGlwIixkYXRhSW5kZXhJbnNpZGU6cyxkYXRhSW5kZXg6dS5nZXRSYXdJbmRleChzKSxzZXJpZXNJbmRleDpvLGZyb206dGhpcy51aWR9KX19LF9zaG93Q29tcG9uZW50SXRlbVRvb2x0aXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWUudG9vbHRpcDtpZigic3RyaW5nIj09dHlwZW9mIG4pe3ZhciBvPW47bj17Y29udGVudDpvLGZvcm1hdHRlcjpvfX12YXIgYT1uZXcgd28obix0aGlzLl90b29sdGlwTW9kZWwsdGhpcy5fZWNNb2RlbCkscj1hLmdldCgiY29udGVudCIpLHM9TWF0aC5yYW5kb20oKTt0aGlzLl9zaG93T3JNb3ZlKGEsZnVuY3Rpb24oKXt0aGlzLl9zaG93VG9vbHRpcENvbnRlbnQoYSxyLGEuZ2V0KCJmb3JtYXR0ZXJQYXJhbXMiKXx8e30scyx0Lm9mZnNldFgsdC5vZmZzZXRZLHQucG9zaXRpb24sZSl9KSxpKHt0eXBlOiJzaG93VGlwIixmcm9tOnRoaXMudWlkfSl9LF9zaG93VG9vbHRpcENvbnRlbnQ6ZnVuY3Rpb24odCxlLGksbixvLGEscixzKXtpZih0aGlzLl90aWNrZXQ9IiIsdC5nZXQoInNob3dDb250ZW50IikmJnQuZ2V0KCJzaG93Iikpe3ZhciBsPXRoaXMuX3Rvb2x0aXBDb250ZW50LHU9dC5nZXQoImZvcm1hdHRlciIpO3I9cnx8dC5nZXQoInBvc2l0aW9uIik7dmFyIGg9ZTtpZih1JiYic3RyaW5nIj09dHlwZW9mIHUpaD1Vbyh1LGksITApO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIHUpe3ZhciBjPXVrKGZ1bmN0aW9uKGUsbil7ZT09PXRoaXMuX3RpY2tldCYmKGwuc2V0Q29udGVudChuKSx0aGlzLl91cGRhdGVQb3NpdGlvbih0LHIsbyxhLGwsaSxzKSl9LHRoaXMpO3RoaXMuX3RpY2tldD1uLGg9dShpLG4sYyl9bC5zZXRDb250ZW50KGgpLGwuc2hvdyh0KSx0aGlzLl91cGRhdGVQb3NpdGlvbih0LHIsbyxhLGwsaSxzKX19LF91cGRhdGVQb3NpdGlvbjpmdW5jdGlvbih0LGUsaSxuLG8sYSxyKXt2YXIgcz10aGlzLl9hcGkuZ2V0V2lkdGgoKSxsPXRoaXMuX2FwaS5nZXRIZWlnaHQoKTtlPWV8fHQuZ2V0KCJwb3NpdGlvbiIpO3ZhciB1PW8uZ2V0U2l6ZSgpLGg9dC5nZXQoImFsaWduIiksYz10LmdldCgidmVydGljYWxBbGlnbiIpLGQ9ciYmci5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO2lmKHImJmQuYXBwbHlUcmFuc2Zvcm0oci50cmFuc2Zvcm0pLCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoZT1lKFtpLG5dLGEsby5lbCxkLHt2aWV3U2l6ZTpbcyxsXSxjb250ZW50U2l6ZTp1LnNsaWNlKCl9KSkseShlKSlpPWNrKGVbMF0scyksbj1jayhlWzFdLGwpO2Vsc2UgaWYodyhlKSl7ZS53aWR0aD11WzBdLGUuaGVpZ2h0PXVbMV07dmFyIGY9UW8oZSx7d2lkdGg6cyxoZWlnaHQ6bH0pO2k9Zi54LG49Zi55LGg9bnVsbCxjPW51bGx9ZWxzZSJzdHJpbmciPT10eXBlb2YgZSYmcj8oaT0ocD1tbShlLGQsdSkpWzBdLG49cFsxXSk6KGk9KHA9Zm0oaSxuLG8uZWwscyxsLGg/bnVsbDoyMCxjP251bGw6MjApKVswXSxuPXBbMV0pO2lmKGgmJihpLT12bShoKT91WzBdLzI6InJpZ2h0Ij09PWg/dVswXTowKSxjJiYobi09dm0oYyk/dVsxXS8yOiJib3R0b20iPT09Yz91WzFdOjApLHQuZ2V0KCJjb25maW5lIikpe3ZhciBwPXBtKGksbixvLmVsLHMsbCk7aT1wWzBdLG49cFsxXX1vLm1vdmVUbyhpLG4pfSxfdXBkYXRlQ29udGVudE5vdENoYW5nZWRPbkF4aXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzLGk9ISFlJiZlLmxlbmd0aD09PXQubGVuZ3RoO3JldHVybiBpJiZoayhlLGZ1bmN0aW9uKGUsbil7dmFyIG89ZS5kYXRhQnlBeGlzfHx7fSxhPSh0W25dfHx7fSkuZGF0YUJ5QXhpc3x8W107KGkmPW8ubGVuZ3RoPT09YS5sZW5ndGgpJiZoayhvLGZ1bmN0aW9uKHQsZSl7dmFyIG49YVtlXXx8e30sbz10LnNlcmllc0RhdGFJbmRpY2VzfHxbXSxyPW4uc2VyaWVzRGF0YUluZGljZXN8fFtdOyhpJj10LnZhbHVlPT09bi52YWx1ZSYmdC5heGlzVHlwZT09PW4uYXhpc1R5cGUmJnQuYXhpc0lkPT09bi5heGlzSWQmJm8ubGVuZ3RoPT09ci5sZW5ndGgpJiZoayhvLGZ1bmN0aW9uKHQsZSl7dmFyIG49cltlXTtpJj10LnNlcmllc0luZGV4PT09bi5zZXJpZXNJbmRleCYmdC5kYXRhSW5kZXg9PT1uLmRhdGFJbmRleH0pfSl9KSx0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9dCwhIWl9LF9oaWRlOmZ1bmN0aW9uKHQpe3RoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1udWxsLHQoe3R5cGU6ImhpZGVUaXAiLGZyb206dGhpcy51aWR9KX0sZGlzcG9zZTpmdW5jdGlvbih0LGUpe0F4Lm5vZGV8fCh0aGlzLl90b29sdGlwQ29udGVudC5oaWRlKCksaWcoIml0ZW1Ub29sdGlwIixlKSl9fSksaHMoe3R5cGU6InNob3dUaXAiLGV2ZW50OiJzaG93VGlwIix1cGRhdGU6InRvb2x0aXA6bWFudWFsbHlTaG93VGlwIn0sZnVuY3Rpb24oKXt9KSxocyh7dHlwZToiaGlkZVRpcCIsZXZlbnQ6ImhpZGVUaXAiLHVwZGF0ZToidG9vbHRpcDptYW51YWxseUhpZGVUaXAifSxmdW5jdGlvbigpe30pLHdtLnByb3RvdHlwZT17Y29uc3RydWN0b3I6d20scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wb2xhci5wb2ludFRvRGF0YSh0LGUpWyJyYWRpdXMiPT09dGhpcy5kaW0/MDoxXX0sZGF0YVRvUmFkaXVzOmRELnByb3RvdHlwZS5kYXRhVG9Db29yZCxyYWRpdXNUb0RhdGE6ZEQucHJvdG90eXBlLmNvb3JkVG9EYXRhfSx1KHdtLGREKSxibS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmJtLHBvaW50VG9EYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucG9sYXIucG9pbnRUb0RhdGEodCxlKVsicmFkaXVzIj09PXRoaXMuZGltPzA6MV19LGRhdGFUb0FuZ2xlOmRELnByb3RvdHlwZS5kYXRhVG9Db29yZCxhbmdsZVRvRGF0YTpkRC5wcm90b3R5cGUuY29vcmRUb0RhdGF9LHUoYm0sZEQpO3ZhciBmaz1mdW5jdGlvbih0KXt0aGlzLm5hbWU9dHx8IiIsdGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLl9yYWRpdXNBeGlzPW5ldyB3bSx0aGlzLl9hbmdsZUF4aXM9bmV3IGJtLHRoaXMuX3JhZGl1c0F4aXMucG9sYXI9dGhpcy5fYW5nbGVBeGlzLnBvbGFyPXRoaXN9O2ZrLnByb3RvdHlwZT17dHlwZToicG9sYXIiLGF4aXNQb2ludGVyRW5hYmxlZDohMCxjb25zdHJ1Y3RvcjpmayxkaW1lbnNpb25zOlsicmFkaXVzIiwiYW5nbGUiXSxtb2RlbDpudWxsLGNvbnRhaW5Qb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBvaW50VG9Db29yZCh0KTtyZXR1cm4gdGhpcy5fcmFkaXVzQXhpcy5jb250YWluKGVbMF0pJiZ0aGlzLl9hbmdsZUF4aXMuY29udGFpbihlWzFdKX0sY29udGFpbkRhdGE6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JhZGl1c0F4aXMuY29udGFpbkRhdGEodFswXSkmJnRoaXMuX2FuZ2xlQXhpcy5jb250YWluRGF0YSh0WzFdKX0sZ2V0QXhpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1siXyIrdCsiQXhpcyJdfSxnZXRBeGVzOmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuX3JhZGl1c0F4aXMsdGhpcy5fYW5nbGVBeGlzXX0sZ2V0QXhlc0J5U2NhbGU6ZnVuY3Rpb24odCl7dmFyIGU9W10saT10aGlzLl9hbmdsZUF4aXMsbj10aGlzLl9yYWRpdXNBeGlzO3JldHVybiBpLnNjYWxlLnR5cGU9PT10JiZlLnB1c2goaSksbi5zY2FsZS50eXBlPT09dCYmZS5wdXNoKG4pLGV9LGdldEFuZ2xlQXhpczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmdsZUF4aXN9LGdldFJhZGl1c0F4aXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzQXhpc30sZ2V0T3RoZXJBeGlzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2FuZ2xlQXhpcztyZXR1cm4gdD09PWU/dGhpcy5fcmFkaXVzQXhpczplfSxnZXRCYXNlQXhpczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF18fHRoaXMuZ2V0QXhlc0J5U2NhbGUoInRpbWUiKVswXXx8dGhpcy5nZXRBbmdsZUF4aXMoKX0sZ2V0VG9vbHRpcEF4ZXM6ZnVuY3Rpb24odCl7dmFyIGU9bnVsbCE9dCYmImF1dG8iIT09dD90aGlzLmdldEF4aXModCk6dGhpcy5nZXRCYXNlQXhpcygpO3JldHVybntiYXNlQXhlczpbZV0sb3RoZXJBeGVzOlt0aGlzLmdldE90aGVyQXhpcyhlKV19fSxkYXRhVG9Qb2ludDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkVG9Qb2ludChbdGhpcy5fcmFkaXVzQXhpcy5kYXRhVG9SYWRpdXModFswXSxlKSx0aGlzLl9hbmdsZUF4aXMuZGF0YVRvQW5nbGUodFsxXSxlKV0pfSxwb2ludFRvRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMucG9pbnRUb0Nvb3JkKHQpO3JldHVyblt0aGlzLl9yYWRpdXNBeGlzLnJhZGl1c1RvRGF0YShpWzBdLGUpLHRoaXMuX2FuZ2xlQXhpcy5hbmdsZVRvRGF0YShpWzFdLGUpXX0scG9pbnRUb0Nvb3JkOmZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0tdGhpcy5jeCxpPXRbMV0tdGhpcy5jeSxuPXRoaXMuZ2V0QW5nbGVBeGlzKCksbz1uLmdldEV4dGVudCgpLGE9TWF0aC5taW4ob1swXSxvWzFdKSxyPU1hdGgubWF4KG9bMF0sb1sxXSk7bi5pbnZlcnNlP2E9ci0zNjA6cj1hKzM2MDt2YXIgcz1NYXRoLnNxcnQoZSplK2kqaSk7ZS89cyxpLz1zO2Zvcih2YXIgbD1NYXRoLmF0YW4yKC1pLGUpL01hdGguUEkqMTgwLHU9bDxhPzE6LTE7bDxhfHxsPnI7KWwrPTM2MCp1O3JldHVybltzLGxdfSxjb29yZFRvUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxpPXRbMV0vMTgwKk1hdGguUEk7cmV0dXJuW01hdGguY29zKGkpKmUrdGhpcy5jeCwtTWF0aC5zaW4oaSkqZSt0aGlzLmN5XX19O3ZhciBwaz1rUy5leHRlbmQoe3R5cGU6InBvbGFyQXhpcyIsYXhpczpudWxsLGdldENvb3JkU3lzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lY01vZGVsLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6InBvbGFyIixpbmRleDp0aGlzLm9wdGlvbi5wb2xhckluZGV4LGlkOnRoaXMub3B0aW9uLnBvbGFySWR9KVswXX19KTtuKHBrLnByb3RvdHlwZSxKSSk7dmFyIGdrPXthbmdsZTp7c3RhcnRBbmdsZTo5MCxjbG9ja3dpc2U6ITAsc3BsaXROdW1iZXI6MTIsYXhpc0xhYmVsOntyb3RhdGU6ITF9fSxyYWRpdXM6e3NwbGl0TnVtYmVyOjV9fTtHRCgiYW5nbGUiLHBrLFNtLGdrLmFuZ2xlKSxHRCgicmFkaXVzIixwayxTbSxnay5yYWRpdXMpLG1zKHt0eXBlOiJwb2xhciIsZGVwZW5kZW5jaWVzOlsicG9sYXJBeGlzIiwiYW5nbGVBeGlzIl0sY29vcmRpbmF0ZVN5c3RlbTpudWxsLGZpbmRBeGlzTW9kZWw6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuZWNNb2RlbC5lYWNoQ29tcG9uZW50KHQsZnVuY3Rpb24odCl7dC5nZXRDb29yZFN5c01vZGVsKCk9PT10aGlzJiYoZT10KX0sdGhpcyksZX0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejowLGNlbnRlcjpbIjUwJSIsIjUwJSJdLHJhZGl1czoiODAlIn19KTt2YXIgbWs9e2RpbWVuc2lvbnM6ZmsucHJvdG90eXBlLmRpbWVuc2lvbnMsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107cmV0dXJuIHQuZWFjaENvbXBvbmVudCgicG9sYXIiLGZ1bmN0aW9uKHQsbil7dmFyIG89bmV3IGZrKG4pO28udXBkYXRlPUltO3ZhciBhPW8uZ2V0UmFkaXVzQXhpcygpLHI9by5nZXRBbmdsZUF4aXMoKSxzPXQuZmluZEF4aXNNb2RlbCgicmFkaXVzQXhpcyIpLGw9dC5maW5kQXhpc01vZGVsKCJhbmdsZUF4aXMiKTtEbShhLHMpLERtKHIsbCksTW0obyx0LGUpLGkucHVzaChvKSx0LmNvb3JkaW5hdGVTeXN0ZW09byxvLm1vZGVsPXR9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24oZSl7aWYoInBvbGFyIj09PWUuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikpe3ZhciBpPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToicG9sYXIiLGluZGV4OmUuZ2V0KCJwb2xhckluZGV4IiksaWQ6ZS5nZXQoInBvbGFySWQiKX0pWzBdO2UuY29vcmRpbmF0ZVN5c3RlbT1pLmNvb3JkaW5hdGVTeXN0ZW19fSksaX19O0NhLnJlZ2lzdGVyKCJwb2xhciIsbWspO3ZhciB2az1bImF4aXNMaW5lIiwiYXhpc0xhYmVsIiwiYXhpc1RpY2siLCJzcGxpdExpbmUiLCJzcGxpdEFyZWEiXTtpVC5leHRlbmQoe3R5cGU6ImFuZ2xlQXhpcyIsYXhpc1BvaW50ZXJDbGFzczoiUG9sYXJBeGlzUG9pbnRlciIscmVuZGVyOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIpKXt2YXIgaT10LmF4aXMsbj1pLnBvbGFyLG89bi5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksYT1pLmdldFRpY2tzQ29vcmRzKCk7ImNhdGVnb3J5IiE9PWkudHlwZSYmYS5wb3AoKSxkKHZrLGZ1bmN0aW9uKGUpeyF0LmdldChlKyIuc2hvdyIpfHxpLnNjYWxlLmlzQmxhbmsoKSYmImF4aXNMaW5lIiE9PWV8fHRoaXNbIl8iK2VdKHQsbixhLG8pfSx0aGlzKX19LF9heGlzTGluZTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJheGlzTGluZS5saW5lU3R5bGUiKSxhPW5ldyBSYih7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyOm5bQW0oZSldfSxzdHlsZTpvLmdldExpbmVTdHlsZSgpLHoyOjEsc2lsZW50OiEwfSk7YS5zdHlsZS5maWxsPW51bGwsdGhpcy5ncm91cC5hZGQoYSl9LF9heGlzVGljazpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJheGlzVGljayIpLGE9KG8uZ2V0KCJpbnNpZGUiKT8tMToxKSpvLmdldCgibGVuZ3RoIikscz1uW0FtKGUpXSxsPWYoaSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFhiKHtzaGFwZTpUbShlLFtzLHMrYV0sdCl9KX0pO3RoaXMuZ3JvdXAuYWRkKHJTKGwse3N0eWxlOnIoby5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkse3N0cm9rZTp0LmdldCgiYXhpc0xpbmUubGluZVN0eWxlLmNvbG9yIil9KX0pKX0sX2F4aXNMYWJlbDpmdW5jdGlvbih0LGUsaSxuKXtmb3IodmFyIG89dC5heGlzLGE9dC5nZXRDYXRlZ29yaWVzKCkscj10LmdldE1vZGVsKCJheGlzTGFiZWwiKSxzPXQuZ2V0Rm9ybWF0dGVkTGFiZWxzKCksbD1yLmdldCgibWFyZ2luIiksdT1vLmdldExhYmVsc0Nvb3JkcygpLGg9MDtoPGkubGVuZ3RoO2grKyl7dmFyIGM9bltBbShlKV0sZD1lLmNvb3JkVG9Qb2ludChbYytsLHVbaF1dKSxmPWUuY3gscD1lLmN5LGc9TWF0aC5hYnMoZFswXS1mKS9jPC4zPyJjZW50ZXIiOmRbMF0+Zj8ibGVmdCI6InJpZ2h0IixtPU1hdGguYWJzKGRbMV0tcCkvYzwuMz8ibWlkZGxlIjpkWzFdPnA/InRvcCI6ImJvdHRvbSI7YSYmYVtoXSYmYVtoXS50ZXh0U3R5bGUmJihyPW5ldyB3byhhW2hdLnRleHRTdHlsZSxyLHIuZWNNb2RlbCkpO3ZhciB2PW5ldyB6Yih7c2lsZW50OiEwfSk7dGhpcy5ncm91cC5hZGQodiksbm8odi5zdHlsZSxyLHt4OmRbMF0seTpkWzFdLHRleHRGaWxsOnIuZ2V0VGV4dENvbG9yKCl8fHQuZ2V0KCJheGlzTGluZS5saW5lU3R5bGUuY29sb3IiKSx0ZXh0OnNbaF0sdGV4dEFsaWduOmcsdGV4dFZlcnRpY2FsQWxpZ246bX0pfX0sX3NwbGl0TGluZTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJzcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIiksYT1vLmdldCgiY29sb3IiKSxzPTA7YT1hIGluc3RhbmNlb2YgQXJyYXk/YTpbYV07Zm9yKHZhciBsPVtdLHU9MDt1PGkubGVuZ3RoO3UrKyl7dmFyIGg9cysrJWEubGVuZ3RoO2xbaF09bFtoXXx8W10sbFtoXS5wdXNoKG5ldyBYYih7c2hhcGU6VG0oZSxuLGlbdV0pfSkpfWZvcih1PTA7dTxsLmxlbmd0aDt1KyspdGhpcy5ncm91cC5hZGQoclMobFt1XSx7c3R5bGU6cih7c3Ryb2tlOmFbdSVhLmxlbmd0aF19LG8uZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMCx6OnQuZ2V0KCJ6Iil9KSl9LF9zcGxpdEFyZWE6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dC5nZXRNb2RlbCgic3BsaXRBcmVhIikuZ2V0TW9kZWwoImFyZWFTdHlsZSIpLGE9by5nZXQoImNvbG9yIikscz0wO2E9YSBpbnN0YW5jZW9mIEFycmF5P2E6W2FdO2Zvcih2YXIgbD1bXSx1PU1hdGguUEkvMTgwLGg9LWlbMF0qdSxjPU1hdGgubWluKG5bMF0sblsxXSksZD1NYXRoLm1heChuWzBdLG5bMV0pLGY9dC5nZXQoImNsb2Nrd2lzZSIpLHA9MTtwPGkubGVuZ3RoO3ArKyl7dmFyIGc9cysrJWEubGVuZ3RoO2xbZ109bFtnXXx8W10sbFtnXS5wdXNoKG5ldyBHYih7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyMDpjLHI6ZCxzdGFydEFuZ2xlOmgsZW5kQW5nbGU6LWlbcF0qdSxjbG9ja3dpc2U6Zn0sc2lsZW50OiEwfSkpLGg9LWlbcF0qdX1mb3IocD0wO3A8bC5sZW5ndGg7cCsrKXRoaXMuZ3JvdXAuYWRkKHJTKGxbcF0se3N0eWxlOnIoe2ZpbGw6YVtwJWEubGVuZ3RoXX0sby5nZXRBcmVhU3R5bGUoKSksc2lsZW50OiEwfSkpfX0pO3ZhciB5az1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0seGs9WyJzcGxpdExpbmUiLCJzcGxpdEFyZWEiXTtpVC5leHRlbmQoe3R5cGU6InJhZGl1c0F4aXMiLGF4aXNQb2ludGVyQ2xhc3M6IlBvbGFyQXhpc1BvaW50ZXIiLHJlbmRlcjpmdW5jdGlvbih0LGUpe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIGk9dC5heGlzLG49aS5wb2xhcixvPW4uZ2V0QW5nbGVBeGlzKCksYT1pLmdldFRpY2tzQ29vcmRzKCkscj1vLmdldEV4dGVudCgpWzBdLHM9aS5nZXRFeHRlbnQoKSxsPUNtKG4sdCxyKSx1PW5ldyBxRCh0LGwpO2QoeWssdS5hZGQsdSksdGhpcy5ncm91cC5hZGQodS5nZXRHcm91cCgpKSxkKHhrLGZ1bmN0aW9uKGUpe3QuZ2V0KGUrIi5zaG93IikmJiFpLnNjYWxlLmlzQmxhbmsoKSYmdGhpc1siXyIrZV0odCxuLHIscyxhKX0sdGhpcyl9fSxfc3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9dC5nZXRNb2RlbCgic3BsaXRMaW5lIikuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLHM9YS5nZXQoImNvbG9yIiksbD0wO3M9cyBpbnN0YW5jZW9mIEFycmF5P3M6W3NdO2Zvcih2YXIgdT1bXSxoPTA7aDxvLmxlbmd0aDtoKyspe3ZhciBjPWwrKyVzLmxlbmd0aDt1W2NdPXVbY118fFtdLHVbY10ucHVzaChuZXcgUmIoe3NoYXBlOntjeDplLmN4LGN5OmUuY3kscjpvW2hdfSxzaWxlbnQ6ITB9KSl9Zm9yKGg9MDtoPHUubGVuZ3RoO2grKyl0aGlzLmdyb3VwLmFkZChyUyh1W2hdLHtzdHlsZTpyKHtzdHJva2U6c1toJXMubGVuZ3RoXSxmaWxsOm51bGx9LGEuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMH0pKX0sX3NwbGl0QXJlYTpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPXQuZ2V0TW9kZWwoInNwbGl0QXJlYSIpLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpLGw9MDtzPXMgaW5zdGFuY2VvZiBBcnJheT9zOltzXTtmb3IodmFyIHU9W10saD1vWzBdLGM9MTtjPG8ubGVuZ3RoO2MrKyl7dmFyIGQ9bCsrJXMubGVuZ3RoO3VbZF09dVtkXXx8W10sdVtkXS5wdXNoKG5ldyBHYih7c2hhcGU6e2N4OmUuY3gsY3k6ZS5jeSxyMDpoLHI6b1tjXSxzdGFydEFuZ2xlOjAsZW5kQW5nbGU6MipNYXRoLlBJfSxzaWxlbnQ6ITB9KSksaD1vW2NdfWZvcihjPTA7Yzx1Lmxlbmd0aDtjKyspdGhpcy5ncm91cC5hZGQoclModVtjXSx7c3R5bGU6cih7ZmlsbDpzW2Mlcy5sZW5ndGhdfSxhLmdldEFyZWFTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9fSk7dmFyIF9rPW5nLmV4dGVuZCh7bWFrZUVsT3B0aW9uOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9aS5heGlzOyJhbmdsZSI9PT1hLmRpbSYmKHRoaXMuYW5pbWF0aW9uVGhyZXNob2xkPU1hdGguUEkvMTgpO3ZhciByLHM9YS5wb2xhcixsPXMuZ2V0T3RoZXJBeGlzKGEpLmdldEV4dGVudCgpO3I9YVsiZGF0YVRvIiskbyhhLmRpbSldKGUpO3ZhciB1PW4uZ2V0KCJ0eXBlIik7aWYodSYmIm5vbmUiIT09dSl7dmFyIGg9dWcobiksYz13a1t1XShhLHMscixsLGgpO2Muc3R5bGU9aCx0LmdyYXBoaWNLZXk9Yy50eXBlLHQucG9pbnRlcj1jfWhnKHQsaSxuLG8sTG0oZSxpLDAscyxuLmdldCgibGFiZWwubWFyZ2luIikpKX19KSx3az17bGluZTpmdW5jdGlvbih0LGUsaSxuLG8pe3JldHVybiJhbmdsZSI9PT10LmRpbT97dHlwZToiTGluZSIsc2hhcGU6Z2coZS5jb29yZFRvUG9pbnQoW25bMF0saV0pLGUuY29vcmRUb1BvaW50KFtuWzFdLGldKSl9Ont0eXBlOiJDaXJjbGUiLHNoYXBlOntjeDplLmN4LGN5OmUuY3kscjppfX19LHNoYWRvdzpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPXQuZ2V0QmFuZFdpZHRoKCkscj1NYXRoLlBJLzE4MDtyZXR1cm4iYW5nbGUiPT09dC5kaW0/e3R5cGU6IlNlY3RvciIsc2hhcGU6dmcoZS5jeCxlLmN5LG5bMF0sblsxXSwoLWktYS8yKSpyLChhLzItaSkqcil9Ont0eXBlOiJTZWN0b3IiLHNoYXBlOnZnKGUuY3gsZS5jeSxpLWEvMixpK2EvMiwwLDIqTWF0aC5QSSl9fX07aVQucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzKCJQb2xhckF4aXNQb2ludGVyIixfayksZHModihmdW5jdGlvbih0LGUsaSl7dmFyIG49aS5nZXRXaWR0aCgpLG89aS5nZXRIZWlnaHQoKSxhPXt9LHI9X20oZyhlLmdldFNlcmllc0J5VHlwZSh0KSxmdW5jdGlvbih0KXtyZXR1cm4hZS5pc1Nlcmllc0ZpbHRlcmVkKHQpJiZ0LmNvb3JkaW5hdGVTeXN0ZW0mJiJwb2xhciI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZX0pKTtlLmVhY2hTZXJpZXNCeVR5cGUodCxmdW5jdGlvbih0KXtpZigicG9sYXIiPT09dC5jb29yZGluYXRlU3lzdGVtLnR5cGUpe3ZhciBlPXQuZ2V0RGF0YSgpLGk9dC5jb29yZGluYXRlU3lzdGVtLHM9aS5nZXRCYXNlQXhpcygpLGw9eW0odCksdT1yW3htKHMpXVtsXSxoPXUub2Zmc2V0LGM9dS53aWR0aCxkPWkuZ2V0T3RoZXJBeGlzKHMpLGY9dC5nZXQoImNlbnRlciIpfHxbIjUwJSIsIjUwJSJdLHA9VG8oZlswXSxuKSxnPVRvKGZbMV0sbyksbT10LmdldCgiYmFyTWluSGVpZ2h0Iil8fDAsdj10LmdldCgiYmFyTWluQW5nbGUiKXx8MDthW2xdPWFbbF18fFtdO2Zvcih2YXIgeT1lLm1hcERpbWVuc2lvbihkLmRpbSkseD1lLm1hcERpbWVuc2lvbihzLmRpbSksXz1XcyhlLHkseCksdz1kLmdldEV4dGVudCgpWzBdLGI9MCxTPWUuY291bnQoKTtiPFM7YisrKXt2YXIgTT1lLmdldCh5LGIpLEk9ZS5nZXQoeCxiKTtpZighaXNOYU4oTSkpe3ZhciBEPU0+PTA/InAiOiJuIixUPXc7XyYmKGFbbF1bSV18fChhW2xdW0ldPXtwOncsbjp3fSksVD1hW2xdW0ldW0RdKTt2YXIgQSxDLEwsaztpZigicmFkaXVzIj09PWQuZGltKXt2YXIgUD1kLmRhdGFUb1JhZGl1cyhNKS13LE49cy5kYXRhVG9BbmdsZShJKTtNYXRoLmFicyhQKTxtJiYoUD0oUDwwPy0xOjEpKm0pLEE9VCxDPVQrUCxrPShMPU4taCktYyxfJiYoYVtsXVtJXVtEXT1DKX1lbHNle3ZhciBPPWQuZGF0YVRvQW5nbGUoTSwhMCktdyxFPXMuZGF0YVRvUmFkaXVzKEkpO01hdGguYWJzKE8pPHYmJihPPShPPDA/LTE6MSkqdiksQz0oQT1FK2gpK2MsTD1ULGs9VCtPLF8mJihhW2xdW0ldW0RdPWspfWUuc2V0SXRlbUxheW91dChiLHtjeDpwLGN5OmcscjA6QSxyOkMsc3RhcnRBbmdsZTotTCpNYXRoLlBJLzE4MCxlbmRBbmdsZTotaypNYXRoLlBJLzE4MH0pfX19fSx0aGlzKX0sImJhciIpKSx2cyh7dHlwZToicG9sYXIifSksaChrUy5leHRlbmQoe3R5cGU6ImdlbyIsY29vcmRpbmF0ZVN5c3RlbTpudWxsLGxheW91dE1vZGU6ImJveCIsaW5pdDpmdW5jdGlvbih0KXtrUy5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksTWkodCwibGFiZWwiLFsic2hvdyJdKX0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9dGhpczt0LnJlZ2lvbnM9VlQuZ2V0RmlsbGVkUmVnaW9ucyh0LnJlZ2lvbnMsdC5tYXAsdC5uYW1lTWFwKSx0aGlzLl9vcHRpb25Nb2RlbE1hcD1wKHQucmVnaW9uc3x8W10sZnVuY3Rpb24odCxpKXtyZXR1cm4gaS5uYW1lJiZ0LnNldChpLm5hbWUsbmV3IHdvKGksZSkpLHR9LHooKSksdGhpcy51cGRhdGVTZWxlY3RlZE1hcCh0LnJlZ2lvbnMpfSxkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjAsc2hvdzohMCxsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixhc3BlY3RTY2FsZTouNzUsc2lsZW50OiExLG1hcDoiIixib3VuZGluZ0Nvb3JkczpudWxsLGNlbnRlcjpudWxsLHpvb206MSxzY2FsZUxpbWl0Om51bGwsbGFiZWw6e3Nob3c6ITEsY29sb3I6IiMwMDAifSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOi41LGJvcmRlckNvbG9yOiIjNDQ0Iixjb2xvcjoiI2VlZSJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoicmdiKDEwMCwwLDApIn0saXRlbVN0eWxlOntjb2xvcjoicmdiYSgyNTUsMjE1LDAsMC44KSJ9fSxyZWdpb25zOltdfSxnZXRSZWdpb25Nb2RlbDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uTW9kZWxNYXAuZ2V0KHQpfHxuZXcgd28obnVsbCx0aGlzLHRoaXMuZWNNb2RlbCl9LGdldEZvcm1hdHRlZExhYmVsOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRSZWdpb25Nb2RlbCh0KS5nZXQoImxhYmVsLiIrZSsiLmZvcm1hdHRlciIpLG49e25hbWU6dH07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGk/KG4uc3RhdHVzPWUsaShuKSk6InN0cmluZyI9PXR5cGVvZiBpP2kucmVwbGFjZSgie2F9IixudWxsIT10P3Q6IiIpOnZvaWQgMH0sc2V0Wm9vbTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi56b29tPXR9LHNldENlbnRlcjpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5jZW50ZXI9dH19KSxtVCksdnMoe3R5cGU6ImdlbyIsaW5pdDpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyB4aChlLCEwKTt0aGlzLl9tYXBEcmF3PWksdGhpcy5ncm91cC5hZGQoaS5ncm91cCl9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtpZighbnx8Imdlb1RvZ2dsZVNlbGVjdCIhPT1uLnR5cGV8fG4uZnJvbSE9PXRoaXMudWlkKXt2YXIgbz10aGlzLl9tYXBEcmF3O3QuZ2V0KCJzaG93Iik/by5kcmF3KHQsZSxpLHRoaXMsbik6dGhpcy5fbWFwRHJhdy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLmdyb3VwLnNpbGVudD10LmdldCgic2lsZW50Iil9fSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKX19KSxrbSgidG9nZ2xlU2VsZWN0ZWQiLHt0eXBlOiJnZW9Ub2dnbGVTZWxlY3QiLGV2ZW50OiJnZW9zZWxlY3RjaGFuZ2VkIn0pLGttKCJzZWxlY3QiLHt0eXBlOiJnZW9TZWxlY3QiLGV2ZW50OiJnZW9zZWxlY3RlZCJ9KSxrbSgidW5TZWxlY3QiLHt0eXBlOiJnZW9VblNlbGVjdCIsZXZlbnQ6Imdlb3Vuc2VsZWN0ZWQifSk7dmFyIGJrPVsicmVjdCIsInBvbHlnb24iLCJrZWVwIiwiY2xlYXIiXSxTaz1kLE1rPXtsaW5lWDpCbSgwKSxsaW5lWTpCbSgxKSxyZWN0Ontwb2ludDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQmJmkuYm91bmRpbmdSZWN0LmNvbnRhaW4odFswXSx0WzFdKX0scmVjdDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQmJmkuYm91bmRpbmdSZWN0LmludGVyc2VjdCh0KX19LHBvbHlnb246e3BvaW50OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdCYmaS5ib3VuZGluZ1JlY3QuY29udGFpbih0WzBdLHRbMV0pJiZ5bChpLnJhbmdlLHRbMF0sdFsxXSl9LHJlY3Q6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkucmFuZ2U7aWYoIXR8fG4ubGVuZ3RoPD0xKXJldHVybiExO3ZhciBvPXQueCxhPXQueSxyPXQud2lkdGgscz10LmhlaWdodCxsPW5bMF07cmV0dXJuISEoeWwobixvLGEpfHx5bChuLG8rcixhKXx8eWwobixvLGErcyl8fHlsKG4sbytyLGErcyl8fEt0LmNyZWF0ZSh0KS5jb250YWluKGxbMF0sbFsxXSl8fEdtKG8sYSxvK3IsYSxuKXx8R20obyxhLG8sYStzLG4pfHxHbShvK3IsYSxvK3IsYStzLG4pfHxHbShvLGErcyxvK3IsYStzLG4pKXx8dm9pZCAwfX19LElrPWQsRGs9bCxUaz12LEFrPVsiZGF0YVRvUG9pbnQiLCJwb2ludFRvRGF0YSJdLENrPVsiZ3JpZCIsInhBeGlzIiwieUF4aXMiLCJnZW8iLCJncmFwaCIsInBvbGFyIiwicmFkaXVzQXhpcyIsImFuZ2xlQXhpcyIsImJtYXAiXSxMaz1abS5wcm90b3R5cGU7TGsuc2V0T3V0cHV0UmFuZ2VzPWZ1bmN0aW9uKHQsZSl7dGhpcy5tYXRjaE91dHB1dFJhbmdlcyh0LGUsZnVuY3Rpb24odCxlLGkpe2lmKCh0LmNvb3JkUmFuZ2VzfHwodC5jb29yZFJhbmdlcz1bXSkpLnB1c2goZSksIXQuY29vcmRSYW5nZSl7dC5jb29yZFJhbmdlPWU7dmFyIG49T2tbdC5icnVzaFR5cGVdKDAsaSxlKTt0Ll9fcmFuZ2VPZmZzZXQ9e29mZnNldDpFa1t0LmJydXNoVHlwZV0obi52YWx1ZXMsdC5yYW5nZSxbMSwxXSkseHlNaW5NYXg6bi54eU1pbk1heH19fSl9LExrLm1hdGNoT3V0cHV0UmFuZ2VzPWZ1bmN0aW9uKHQsZSxpKXtJayh0LGZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZmluZFRhcmdldEluZm8odCxlKTtuJiYhMCE9PW4mJmQobi5jb29yZFN5c2VzLGZ1bmN0aW9uKG4pe3ZhciBvPU9rW3QuYnJ1c2hUeXBlXSgxLG4sdC5yYW5nZSk7aSh0LG8udmFsdWVzLG4sZSl9KX0sdGhpcyl9LExrLnNldElucHV0UmFuZ2VzPWZ1bmN0aW9uKHQsZSl7SWsodCxmdW5jdGlvbih0KXt2YXIgaT10aGlzLmZpbmRUYXJnZXRJbmZvKHQsZSk7aWYodC5yYW5nZT10LnJhbmdlfHxbXSxpJiYhMCE9PWkpe3QucGFuZWxJZD1pLnBhbmVsSWQ7dmFyIG49T2tbdC5icnVzaFR5cGVdKDAsaS5jb29yZFN5cyx0LmNvb3JkUmFuZ2UpLG89dC5fX3JhbmdlT2Zmc2V0O3QucmFuZ2U9bz9Fa1t0LmJydXNoVHlwZV0obi52YWx1ZXMsby5vZmZzZXQscW0obi54eU1pbk1heCxvLnh5TWluTWF4KSk6bi52YWx1ZXN9fSx0aGlzKX0sTGsubWFrZVBhbmVsT3B0cz1mdW5jdGlvbih0LGUpe3JldHVybiBmKHRoaXMuX3RhcmdldEluZm9MaXN0LGZ1bmN0aW9uKGkpe3ZhciBuPWkuZ2V0UGFuZWxSZWN0KCk7cmV0dXJue3BhbmVsSWQ6aS5wYW5lbElkLGRlZmF1bHRCcnVzaFR5cGU6ZSYmZShpKSxjbGlwUGF0aDpsZihuKSxpc1RhcmdldEJ5Q3Vyc29yOmhmKG4sdCxpLmNvb3JkU3lzTW9kZWwpLGdldExpbmVhckJydXNoT3RoZXJFeHRlbnQ6dWYobil9fSl9LExrLmNvbnRyb2xTZXJpZXM9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuZmluZFRhcmdldEluZm8odCxpKTtyZXR1cm4hMD09PW58fG4mJkRrKG4uY29vcmRTeXNlcyxlLmNvb3JkaW5hdGVTeXN0ZW0pPj0wfSxMay5maW5kVGFyZ2V0SW5mbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLl90YXJnZXRJbmZvTGlzdCxuPWptKGUsdCksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dLHI9dC5wYW5lbElkO2lmKHIpe2lmKGEucGFuZWxJZD09PXIpcmV0dXJuIGF9ZWxzZSBmb3Iobz0wO288UGsubGVuZ3RoO28rKylpZihQa1tvXShuLGEpKXJldHVybiBhfXJldHVybiEwfTt2YXIga2s9e2dyaWQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnhBeGlzTW9kZWxzLG49dC55QXhpc01vZGVscyxvPXQuZ3JpZE1vZGVscyxhPXooKSxyPXt9LHM9e307KGl8fG58fG8pJiYoSWsoaSxmdW5jdGlvbih0KXt2YXIgZT10LmF4aXMuZ3JpZC5tb2RlbDthLnNldChlLmlkLGUpLHJbZS5pZF09ITB9KSxJayhuLGZ1bmN0aW9uKHQpe3ZhciBlPXQuYXhpcy5ncmlkLm1vZGVsO2Euc2V0KGUuaWQsZSksc1tlLmlkXT0hMH0pLElrKG8sZnVuY3Rpb24odCl7YS5zZXQodC5pZCx0KSxyW3QuaWRdPSEwLHNbdC5pZF09ITB9KSxhLmVhY2goZnVuY3Rpb24odCl7dmFyIG89dC5jb29yZGluYXRlU3lzdGVtLGE9W107SWsoby5nZXRDYXJ0ZXNpYW5zKCksZnVuY3Rpb24odCxlKXsoRGsoaSx0LmdldEF4aXMoIngiKS5tb2RlbCk+PTB8fERrKG4sdC5nZXRBeGlzKCJ5IikubW9kZWwpPj0wKSYmYS5wdXNoKHQpfSksZS5wdXNoKHtwYW5lbElkOiJncmlkLS0iK3QuaWQsZ3JpZE1vZGVsOnQsY29vcmRTeXNNb2RlbDp0LGNvb3JkU3lzOmFbMF0sY29vcmRTeXNlczphLGdldFBhbmVsUmVjdDpOay5ncmlkLHhBeGlzRGVjbGFyZWQ6clt0LmlkXSx5QXhpc0RlY2xhcmVkOnNbdC5pZF19KX0pKX0sZ2VvOmZ1bmN0aW9uKHQsZSl7SWsodC5nZW9Nb2RlbHMsZnVuY3Rpb24odCl7dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtO2UucHVzaCh7cGFuZWxJZDoiZ2VvLS0iK3QuaWQsZ2VvTW9kZWw6dCxjb29yZFN5c01vZGVsOnQsY29vcmRTeXM6aSxjb29yZFN5c2VzOltpXSxnZXRQYW5lbFJlY3Q6TmsuZ2VvfSl9KX19LFBrPVtmdW5jdGlvbih0LGUpe3ZhciBpPXQueEF4aXNNb2RlbCxuPXQueUF4aXNNb2RlbCxvPXQuZ3JpZE1vZGVsO3JldHVybiFvJiZpJiYobz1pLmF4aXMuZ3JpZC5tb2RlbCksIW8mJm4mJihvPW4uYXhpcy5ncmlkLm1vZGVsKSxvJiZvPT09ZS5ncmlkTW9kZWx9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZW9Nb2RlbDtyZXR1cm4gaSYmaT09PWUuZ2VvTW9kZWx9XSxOaz17Z3JpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3JkU3lzLmdyaWQuZ2V0UmVjdCgpLmNsb25lKCl9LGdlbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29vcmRTeXMsZT10LmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cmV0dXJuIGUuYXBwbHlUcmFuc2Zvcm0oZ28odCkpLGV9fSxPaz17bGluZVg6VGsoWG0sMCksbGluZVk6VGsoWG0sMSkscmVjdDpmdW5jdGlvbih0LGUsaSl7dmFyIG49ZVtBa1t0XV0oW2lbMF1bMF0saVsxXVswXV0pLG89ZVtBa1t0XV0oW2lbMF1bMV0saVsxXVsxXV0pLGE9W1VtKFtuWzBdLG9bMF1dKSxVbShbblsxXSxvWzFdXSldO3JldHVybnt2YWx1ZXM6YSx4eU1pbk1heDphfX0scG9seWdvbjpmdW5jdGlvbih0LGUsaSl7dmFyIG49W1sxLzAsLTEvMF0sWzEvMCwtMS8wXV07cmV0dXJue3ZhbHVlczpmKGksZnVuY3Rpb24oaSl7dmFyIG89ZVtBa1t0XV0oaSk7cmV0dXJuIG5bMF1bMF09TWF0aC5taW4oblswXVswXSxvWzBdKSxuWzFdWzBdPU1hdGgubWluKG5bMV1bMF0sb1sxXSksblswXVsxXT1NYXRoLm1heChuWzBdWzFdLG9bMF0pLG5bMV1bMV09TWF0aC5tYXgoblsxXVsxXSxvWzFdKSxvfSkseHlNaW5NYXg6bn19fSxFaz17bGluZVg6VGsoWW0sMCksbGluZVk6VGsoWW0sMSkscmVjdDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuW1t0WzBdWzBdLWlbMF0qZVswXVswXSx0WzBdWzFdLWlbMF0qZVswXVsxXV0sW3RbMV1bMF0taVsxXSplWzFdWzBdLHRbMV1bMV0taVsxXSplWzFdWzFdXV19LHBvbHlnb246ZnVuY3Rpb24odCxlLGkpe3JldHVybiBmKHQsZnVuY3Rpb24odCxuKXtyZXR1cm5bdFswXS1pWzBdKmVbbl1bMF0sdFsxXS1pWzFdKmVbbl1bMV1dfSl9fSx6az1bImluQnJ1c2giLCJvdXRPZkJydXNoIl0sUms9Il9fZWNCcnVzaFNlbGVjdCIsQms9Il9fZWNJbkJydXNoU2VsZWN0RXZlbnQiLFZrPXFNLlZJU1VBTC5CUlVTSDtkcyhWayxmdW5jdGlvbih0LGUsaSl7dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSxmdW5jdGlvbihlKXtpJiYidGFrZUdsb2JhbEN1cnNvciI9PT1pLnR5cGUmJmUuc2V0QnJ1c2hPcHRpb24oImJydXNoIj09PWkua2V5P2kuYnJ1c2hPcHRpb246e2JydXNoVHlwZTohMX0pLChlLmJydXNoVGFyZ2V0TWFuYWdlcj1uZXcgWm0oZS5vcHRpb24sdCkpLnNldElucHV0UmFuZ2VzKGUuYXJlYXMsdCl9KX0pLGZzKFZrLGZ1bmN0aW9uKHQsZSxuKXt2YXIgbyxhLHM9W107dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSxmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGwodCl7cmV0dXJuImFsbCI9PT1tfHx2W3RdfWZ1bmN0aW9uIHUodCl7cmV0dXJuISF0Lmxlbmd0aH1mdW5jdGlvbiBoKHQsZSl7dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtO3d8PWkuaGFzQXhpc0JydXNoZWQoKSxsKGUpJiZpLmVhY2hBY3RpdmVTdGF0ZSh0LmdldERhdGEoKSxmdW5jdGlvbih0LGUpeyJhY3RpdmUiPT09dCYmKHhbZV09MSl9KX1mdW5jdGlvbiBjKGksbixvKXt2YXIgYT10dihpKTtpZihhJiYhZXYoZSxuKSYmKGQoYixmdW5jdGlvbihuKXthW24uYnJ1c2hUeXBlXSYmZS5icnVzaFRhcmdldE1hbmFnZXIuY29udHJvbFNlcmllcyhuLGksdCkmJm8ucHVzaChuKSx3fD11KG8pfSksbChuKSYmdShvKSkpe3ZhciByPWkuZ2V0RGF0YSgpO3IuZWFjaChmdW5jdGlvbih0KXtRbShhLG8scix0KSYmKHhbdF09MSl9KX19dmFyIHA9e2JydXNoSWQ6ZS5pZCxicnVzaEluZGV4Om4sYnJ1c2hOYW1lOmUubmFtZSxhcmVhczppKGUuYXJlYXMpLHNlbGVjdGVkOltdfTtzLnB1c2gocCk7dmFyIGc9ZS5vcHRpb24sbT1nLmJydXNoTGluayx2PVtdLHg9W10sXz1bXSx3PTA7bnx8KG89Zy50aHJvdHRsZVR5cGUsYT1nLnRocm90dGxlRGVsYXkpO3ZhciBiPWYoZS5hcmVhcyxmdW5jdGlvbih0KXtyZXR1cm4gaXYocih7Ym91bmRpbmdSZWN0OkdrW3QuYnJ1c2hUeXBlXSh0KX0sdCkpfSksUz1PbShlLm9wdGlvbix6ayxmdW5jdGlvbih0KXt0Lm1hcHBpbmdNZXRob2Q9ImZpeGVkIn0pO3kobSkmJmQobSxmdW5jdGlvbih0KXt2W3RdPTF9KSx0LmVhY2hTZXJpZXMoZnVuY3Rpb24odCxlKXt2YXIgaT1fW2VdPVtdOyJwYXJhbGxlbCI9PT10LnN1YlR5cGU/aCh0LGUpOmModCxlLGkpfSksdC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQsZSl7dmFyIGk9e3Nlcmllc0lkOnQuaWQsc2VyaWVzSW5kZXg6ZSxzZXJpZXNOYW1lOnQubmFtZSxkYXRhSW5kZXg6W119O3Auc2VsZWN0ZWQucHVzaChpKTt2YXIgbj10dih0KSxvPV9bZV0sYT10LmdldERhdGEoKSxyPWwoZSk/ZnVuY3Rpb24odCl7cmV0dXJuIHhbdF0/KGkuZGF0YUluZGV4LnB1c2goYS5nZXRSYXdJbmRleCh0KSksImluQnJ1c2giKToib3V0T2ZCcnVzaCJ9OmZ1bmN0aW9uKHQpe3JldHVybiBRbShuLG8sYSx0KT8oaS5kYXRhSW5kZXgucHVzaChhLmdldFJhd0luZGV4KHQpKSwiaW5CcnVzaCIpOiJvdXRPZkJydXNoIn07KGwoZSk/dzp1KG8pKSYmem0oemssUyxhLHIpfSl9KSxLbShlLG8sYSxzLG4pfSk7dmFyIEdrPXtsaW5lWDpCLGxpbmVZOkIscmVjdDpmdW5jdGlvbih0KXtyZXR1cm4gbnYodC5yYW5nZSl9LHBvbHlnb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9dC5yYW5nZSxuPTAsbz1pLmxlbmd0aDtuPG87bisrKXtlPWV8fFtbMS8wLC0xLzBdLFsxLzAsLTEvMF1dO3ZhciBhPWlbbl07YVswXTxlWzBdWzBdJiYoZVswXVswXT1hWzBdKSxhWzBdPmVbMF1bMV0mJihlWzBdWzFdPWFbMF0pLGFbMV08ZVsxXVswXSYmKGVbMV1bMF09YVsxXSksYVsxXT5lWzFdWzFdJiYoZVsxXVsxXT1hWzFdKX1yZXR1cm4gZSYmbnYoZSl9fSxGaz1bIiNkZGQiXTttcyh7dHlwZToiYnJ1c2giLGRlcGVuZGVuY2llczpbImdlbyIsImdyaWQiLCJ4QXhpcyIsInlBeGlzIiwicGFyYWxsZWwiLCJzZXJpZXMiXSxkZWZhdWx0T3B0aW9uOnt0b29sYm94Om51bGwsYnJ1c2hMaW5rOm51bGwsc2VyaWVzSW5kZXg6ImFsbCIsZ2VvSW5kZXg6bnVsbCx4QXhpc0luZGV4Om51bGwseUF4aXNJbmRleDpudWxsLGJydXNoVHlwZToicmVjdCIsYnJ1c2hNb2RlOiJzaW5nbGUiLHRyYW5zZm9ybWFibGU6ITAsYnJ1c2hTdHlsZTp7Ym9yZGVyV2lkdGg6MSxjb2xvcjoicmdiYSgxMjAsMTQwLDE4MCwwLjMpIixib3JkZXJDb2xvcjoicmdiYSgxMjAsMTQwLDE4MCwwLjgpIn0sdGhyb3R0bGVUeXBlOiJmaXhSYXRlIix0aHJvdHRsZURlbGF5OjAscmVtb3ZlT25DbGljazohMCx6OjFlNH0sYXJlYXM6W10sYnJ1c2hUeXBlOm51bGwsYnJ1c2hPcHRpb246e30sY29vcmRJbmZvTGlzdDpbXSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5vcHRpb247IWUmJkVtKGksdCxbImluQnJ1c2giLCJvdXRPZkJydXNoIl0pLGkuaW5CcnVzaD1pLmluQnJ1c2h8fHt9LGkub3V0T2ZCcnVzaD1pLm91dE9mQnJ1c2h8fHtjb2xvcjpGa319LHNldEFyZWFzOmZ1bmN0aW9uKHQpe3QmJih0aGlzLmFyZWFzPWYodCxmdW5jdGlvbih0KXtyZXR1cm4gb3YodGhpcy5vcHRpb24sdCl9LHRoaXMpKX0sc2V0QnJ1c2hPcHRpb246ZnVuY3Rpb24odCl7dGhpcy5icnVzaE9wdGlvbj1vdih0aGlzLm9wdGlvbix0KSx0aGlzLmJydXNoVHlwZT10aGlzLmJydXNoT3B0aW9uLmJydXNoVHlwZX19KTt2cyh7dHlwZToiYnJ1c2giLGluaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLmVjTW9kZWw9dCx0aGlzLmFwaT1lLHRoaXMubW9kZWwsKHRoaXMuX2JydXNoQ29udHJvbGxlcj1uZXcgRGQoZS5nZXRacigpKSkub24oImJydXNoIixtKHRoaXMuX29uQnJ1c2gsdGhpcykpLm1vdW50KCl9LHJlbmRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tb2RlbD10LGF2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdXBkYXRlVHJhbnNmb3JtOmF2LHVwZGF0ZVZpZXc6YXYsZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2JydXNoQ29udHJvbGxlci5kaXNwb3NlKCl9LF9vbkJydXNoOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5tb2RlbC5pZDt0aGlzLm1vZGVsLmJydXNoVGFyZ2V0TWFuYWdlci5zZXRPdXRwdXRSYW5nZXModCx0aGlzLmVjTW9kZWwpLCghZS5pc0VuZHx8ZS5yZW1vdmVPbkNsaWNrKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImJydXNoIixicnVzaElkOm4sYXJlYXM6aSh0KSwkZnJvbTpufSl9fSksaHMoe3R5cGU6ImJydXNoIixldmVudDoiYnJ1c2gifSxmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImJydXNoIixxdWVyeTp0fSxmdW5jdGlvbihlKXtlLnNldEFyZWFzKHQuYXJlYXMpfSl9KSxocyh7dHlwZToiYnJ1c2hTZWxlY3QiLGV2ZW50OiJicnVzaFNlbGVjdGVkIix1cGRhdGU6Im5vbmUifSxmdW5jdGlvbigpe30pO3ZhciBXaz17fSxIaz1BTS50b29sYm94LmJydXNoO2x2LmRlZmF1bHRPcHRpb249e3Nob3c6ITAsdHlwZTpbInJlY3QiLCJwb2x5Z29uIiwibGluZVgiLCJsaW5lWSIsImtlZXAiLCJjbGVhciJdLGljb246e3JlY3Q6Ik03LjMsMzQuNyBNMC40LDEwVi0wLjJoOS44IE04OS42LDEwVi0wLjJoLTkuOCBNMC40LDYwdjEwLjJoOS44IE04OS42LDYwdjEwLjJoLTkuOCBNMTIuMywyMi40VjEwLjVoMTMuMSBNMzMuNiwxMC41aDcuOCBNNDkuMSwxMC41aDcuOCBNNzcuNSwyMi40VjEwLjVoLTEzIE0xMi4zLDMxLjF2OC4yIE03Ny43LDMxLjF2OC4yIE0xMi4zLDQ3LjZ2MTEuOWgxMy4xIE0zMy42LDU5LjVoNy42IE00OS4xLDU5LjUgaDcuNyBNNzcuNSw0Ny42djExLjloLTEzIixwb2x5Z29uOiJNNTUuMiwzNC45YzEuNywwLDMuMSwxLjQsMy4xLDMuMXMtMS40LDMuMS0zLjEsMy4xIHMtMy4xLTEuNC0zLjEtMy4xUzUzLjUsMzQuOSw1NS4yLDM0Ljl6IE01MC40LDUxYzEuNywwLDMuMSwxLjQsMy4xLDMuMWMwLDEuNy0xLjQsMy4xLTMuMSwzLjFjLTEuNywwLTMuMS0xLjQtMy4xLTMuMSBDNDcuMyw1Mi40LDQ4LjcsNTEsNTAuNCw1MXogTTU1LjYsMzcuMWwxLjUtNy44IE02MC4xLDEzLjVsMS42LTguN2wtNy44LDQgTTU5LDE5bC0xLDUuMyBNMjQsMTYuMWw2LjQsNC45bDYuNC0zLjMgTTQ4LjUsMTEuNiBsLTUuOSwzLjEgTTE5LjEsMTIuOEw5LjcsNS4xbDEuMSw3LjcgTTEzLjQsMjkuOGwxLDcuM2w2LjYsMS42IE0xMS42LDE4LjRsMSw2LjEgTTMyLjgsNDEuOSBNMjYuNiw0MC40IE0yNy4zLDQwLjJsNi4xLDEuNiBNNDkuOSw1Mi4xbC01LjYtNy42bC00LjktMS4yIixsaW5lWDoiTTE1LjIsMzAgTTE5LjcsMTUuNlYxLjlIMjkgTTM0LjgsMS45SDQwLjQgTTU1LjMsMTUuNlYxLjlINDUuOSBNMTkuNyw0NC40VjU4LjFIMjkgTTM0LjgsNTguMUg0MC40IE01NS4zLDQ0LjQgVjU4LjFINDUuOSBNMTIuNSwyMC4zbC05LjQsOS42bDkuNiw5LjggTTMuMSwyOS45aDE2LjUgTTYyLjUsMjAuM2w5LjQsOS42TDYyLjMsMzkuNyBNNzEuOSwyOS45SDU1LjQiLGxpbmVZOiJNMzguOCw3LjcgTTUyLjcsMTJoMTMuMnY5IE02NS45LDI2LjZWMzIgTTUyLjcsNDYuM2gxMy4ydi05IE0yNC45LDEySDExLjh2OSBNMTEuOCwyNi42VjMyIE0yNC45LDQ2LjNIMTEuOHYtOSBNNDguMiw1LjFsLTkuMy05bC05LjQsOS4yIE0zOC45LTMuOVYxMiBNNDguMiw1My4zbC05LjMsOWwtOS40LTkuMiBNMzguOSw2Mi4zVjQ2LjQiLGtlZXA6Ik00LDEwLjVWMWgxMC4zIE0yMC43LDFoNi4xIE0zMywxaDYuMSBNNTUuNCwxMC41VjFINDUuMiBNNCwxNy4zdjYuNiBNNTUuNiwxNy4zdjYuNiBNNCwzMC41VjQwaDEwLjMgTTIwLjcsNDAgaDYuMSBNMzMsNDBoNi4xIE01NS40LDMwLjVWNDBINDUuMiBNMjEsMTguOWg2Mi45djQ4LjZIMjFWMTguOXoiLGNsZWFyOiJNMjIsMTQuN2wzMC45LDMxIE01Mi45LDE0LjdMMjIsNDUuNyBNNC43LDE2LjhWNC4yaDEzLjEgTTI2LDQuMmg3LjggTTQxLjYsNC4yaDcuOCBNNzAuMywxNi44VjQuMkg1Ny4yIE00LjcsMjUuOXY4LjYgTTcwLjMsMjUuOXY4LjYgTTQuNyw0My4ydjEyLjZoMTMuMSBNMjYsNTUuOGg3LjggTTQxLjYsNTUuOGg3LjggTTcwLjMsNDMuMnYxMi42SDU3LjIifSx0aXRsZTppKEhrLnRpdGxlKX07dmFyIFprPWx2LnByb3RvdHlwZTtaay5yZW5kZXI9WmsudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxhO2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImJydXNoIn0sZnVuY3Rpb24odCl7bj10LmJydXNoVHlwZSxvPXQuYnJ1c2hPcHRpb24uYnJ1c2hNb2RlfHwic2luZ2xlIixhfD10LmFyZWFzLmxlbmd0aH0pLHRoaXMuX2JydXNoVHlwZT1uLHRoaXMuX2JydXNoTW9kZT1vLGQodC5nZXQoInR5cGUiLCEwKSxmdW5jdGlvbihlKXt0LnNldEljb25TdGF0dXMoZSwoImtlZXAiPT09ZT8ibXVsdGlwbGUiPT09bzoiY2xlYXIiPT09ZT9hOmU9PT1uKT8iZW1waGFzaXMiOiJub3JtYWwiKX0pfSxaay5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldCgiaWNvbiIsITApLGk9e307cmV0dXJuIGQodC5nZXQoInR5cGUiLCEwKSxmdW5jdGlvbih0KXtlW3RdJiYoaVt0XT1lW3RdKX0pLGl9LFprLm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2JydXNoVHlwZSxvPXRoaXMuX2JydXNoTW9kZTsiY2xlYXIiPT09aT8oZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiYXhpc0FyZWFTZWxlY3QiLGludGVydmFsczpbXX0pLGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImJydXNoIixjb21tYW5kOiJjbGVhciIsYXJlYXM6W119KSk6ZS5kaXNwYXRjaEFjdGlvbih7dHlwZToidGFrZUdsb2JhbEN1cnNvciIsa2V5OiJicnVzaCIsYnJ1c2hPcHRpb246e2JydXNoVHlwZToia2VlcCI9PT1pP246biE9PWkmJmksYnJ1c2hNb2RlOiJrZWVwIj09PWk/Im11bHRpcGxlIj09PW8/InNpbmdsZSI6Im11bHRpcGxlIjpvfX0pfSxydigiYnJ1c2giLGx2KSxscyhmdW5jdGlvbih0LGUpe3ZhciBpPXQmJnQuYnJ1c2g7aWYoeShpKXx8KGk9aT9baV06W10pLGkubGVuZ3RoKXt2YXIgbj1bXTtkKGksZnVuY3Rpb24odCl7dmFyIGU9dC5oYXNPd25Qcm9wZXJ0eSgidG9vbGJveCIpP3QudG9vbGJveDpbXTtlIGluc3RhbmNlb2YgQXJyYXkmJihuPW4uY29uY2F0KGUpKX0pO3ZhciBvPXQmJnQudG9vbGJveDt5KG8pJiYobz1vWzBdKSxvfHwobz17ZmVhdHVyZTp7fX0sdC50b29sYm94PVtvXSk7dmFyIGE9by5mZWF0dXJlfHwoby5mZWF0dXJlPXt9KSxyPWEuYnJ1c2h8fChhLmJydXNoPXt9KSxzPXIudHlwZXx8KHIudHlwZT1bXSk7cy5wdXNoLmFwcGx5KHMsbiksUG0ocyksZSYmIXMubGVuZ3RoJiZzLnB1c2guYXBwbHkocyxiayl9fSk7dXYucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp1dix0eXBlOiJjYWxlbmRhciIsZGltZW5zaW9uczpbInRpbWUiLCJ2YWx1ZSJdLGdldERpbWVuc2lvbnNJbmZvOmZ1bmN0aW9uKCl7cmV0dXJuW3tuYW1lOiJ0aW1lIix0eXBlOiJ0aW1lIn0sInZhbHVlIl19LGdldFJhbmdlSW5mbzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZUluZm99LGdldE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsfSxnZXRSZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LGdldENlbGxXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zd30sZ2V0Q2VsbEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaH0sZ2V0T3JpZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudH0sZ2V0Rmlyc3REYXlPZldlZWs6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlyc3REYXlPZldlZWt9LGdldERhdGVJbmZvOmZ1bmN0aW9uKHQpe3ZhciBlPSh0PXpvKHQpKS5nZXRGdWxsWWVhcigpLGk9dC5nZXRNb250aCgpKzE7aT1pPDEwPyIwIitpOmk7dmFyIG49dC5nZXREYXRlKCk7bj1uPDEwPyIwIituOm47dmFyIG89dC5nZXREYXkoKTtyZXR1cm4gbz1NYXRoLmFicygobys3LXRoaXMuZ2V0Rmlyc3REYXlPZldlZWsoKSklNykse3k6ZSxtOmksZDpuLGRheTpvLHRpbWU6dC5nZXRUaW1lKCksZm9ybWF0ZWREYXRlOmUrIi0iK2krIi0iK24sZGF0ZTp0fX0sZ2V0TmV4dE5EYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PShlPWV8fDApP3RoaXMuZ2V0RGF0ZUluZm8odCk6KCh0PW5ldyBEYXRlKHRoaXMuZ2V0RGF0ZUluZm8odCkudGltZSkpLnNldERhdGUodC5nZXREYXRlKCkrZSksdGhpcy5nZXREYXRlSW5mbyh0KSl9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlKXtyZXR1cm4gbnVsbCE9dFtlXSYmImF1dG8iIT09dFtlXX10aGlzLl9maXJzdERheU9mV2Vlaz0rdGhpcy5fbW9kZWwuZ2V0TW9kZWwoImRheUxhYmVsIikuZ2V0KCJmaXJzdERheSIpLHRoaXMuX29yaWVudD10aGlzLl9tb2RlbC5nZXQoIm9yaWVudCIpLHRoaXMuX2xpbmVXaWR0aD10aGlzLl9tb2RlbC5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkubGluZVdpZHRofHwwLHRoaXMuX3JhbmdlSW5mbz10aGlzLl9nZXRSYW5nZUluZm8odGhpcy5faW5pdFJhbmdlT3B0aW9uKCkpO3ZhciBuPXRoaXMuX3JhbmdlSW5mby53ZWVrc3x8MSxvPVsid2lkdGgiLCJoZWlnaHQiXSxhPXRoaXMuX21vZGVsLmdldCgiY2VsbFNpemUiKS5zbGljZSgpLHI9dGhpcy5fbW9kZWwuZ2V0Qm94TGF5b3V0UGFyYW1zKCkscz0iaG9yaXpvbnRhbCI9PT10aGlzLl9vcmllbnQ/W24sN106Wzcsbl07ZChbMCwxXSxmdW5jdGlvbih0KXtpKGEsdCkmJihyW29bdF1dPWFbdF0qc1t0XSl9KTt2YXIgbD17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSx1PXRoaXMuX3JlY3Q9UW8ocixsKTtkKFswLDFdLGZ1bmN0aW9uKHQpe2koYSx0KXx8KGFbdF09dVtvW3RdXS9zW3RdKX0pLHRoaXMuX3N3PWFbMF0sdGhpcy5fc2g9YVsxXX0sZGF0YVRvUG9pbnQ6ZnVuY3Rpb24odCxlKXt5KHQpJiYodD10WzBdKSxudWxsPT1lJiYoZT0hMCk7dmFyIGk9dGhpcy5nZXREYXRlSW5mbyh0KSxuPXRoaXMuX3JhbmdlSW5mbyxvPWkuZm9ybWF0ZWREYXRlO2lmKGUmJiEoaS50aW1lPj1uLnN0YXJ0LnRpbWUmJmkudGltZTw9bi5lbmQudGltZSkpcmV0dXJuW05hTixOYU5dO3ZhciBhPWkuZGF5LHI9dGhpcy5fZ2V0UmFuZ2VJbmZvKFtuLnN0YXJ0LnRpbWUsb10pLm50aFdlZWs7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuX29yaWVudD9bdGhpcy5fcmVjdC54K2EqdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0Lnkrcip0aGlzLl9zaCt0aGlzLl9zaC8yXTpbdGhpcy5fcmVjdC54K3IqdGhpcy5fc3crdGhpcy5fc3cvMix0aGlzLl9yZWN0LnkrYSp0aGlzLl9zaCt0aGlzLl9zaC8yXX0scG9pbnRUb0RhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludFRvRGF0ZSh0KTtyZXR1cm4gZSYmZS50aW1lfSxkYXRhVG9SZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5kYXRhVG9Qb2ludCh0LGUpO3JldHVybntjb250ZW50U2hhcGU6e3g6aVswXS0odGhpcy5fc3ctdGhpcy5fbGluZVdpZHRoKS8yLHk6aVsxXS0odGhpcy5fc2gtdGhpcy5fbGluZVdpZHRoKS8yLHdpZHRoOnRoaXMuX3N3LXRoaXMuX2xpbmVXaWR0aCxoZWlnaHQ6dGhpcy5fc2gtdGhpcy5fbGluZVdpZHRofSxjZW50ZXI6aSx0bDpbaVswXS10aGlzLl9zdy8yLGlbMV0tdGhpcy5fc2gvMl0sdHI6W2lbMF0rdGhpcy5fc3cvMixpWzFdLXRoaXMuX3NoLzJdLGJyOltpWzBdK3RoaXMuX3N3LzIsaVsxXSt0aGlzLl9zaC8yXSxibDpbaVswXS10aGlzLl9zdy8yLGlbMV0rdGhpcy5fc2gvMl19fSxwb2ludFRvRGF0ZTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKCh0WzBdLXRoaXMuX3JlY3QueCkvdGhpcy5fc3cpKzEsaT1NYXRoLmZsb29yKCh0WzFdLXRoaXMuX3JlY3QueSkvdGhpcy5fc2gpKzEsbj10aGlzLl9yYW5nZUluZm8ucmFuZ2U7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuX29yaWVudD90aGlzLl9nZXREYXRlQnlXZWVrc0FuZERheShpLGUtMSxuKTp0aGlzLl9nZXREYXRlQnlXZWVrc0FuZERheShlLGktMSxuKX0sY29udmVydFRvUGl4ZWw6dihodiwiZGF0YVRvUG9pbnQiKSxjb252ZXJ0RnJvbVBpeGVsOnYoaHYsInBvaW50VG9EYXRhIiksX2luaXRSYW5nZU9wdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21vZGVsLmdldCgicmFuZ2UiKSxlPXQ7aWYoeShlKSYmMT09PWUubGVuZ3RoJiYoZT1lWzBdKSwvXlxkezR9JC8udGVzdChlKSYmKHQ9W2UrIi0wMS0wMSIsZSsiLTEyLTMxIl0pLC9eXGR7NH1bXC98LV1cZHsxLDJ9JC8udGVzdChlKSl7dmFyIGk9dGhpcy5nZXREYXRlSW5mbyhlKSxuPWkuZGF0ZTtuLnNldE1vbnRoKG4uZ2V0TW9udGgoKSsxKTt2YXIgbz10aGlzLmdldE5leHRORGF5KG4sLTEpO3Q9W2kuZm9ybWF0ZWREYXRlLG8uZm9ybWF0ZWREYXRlXX0vXlxkezR9W1wvfC1dXGR7MSwyfVtcL3wtXVxkezEsMn0kLy50ZXN0KGUpJiYodD1bZSxlXSk7dmFyIGE9dGhpcy5fZ2V0UmFuZ2VJbmZvKHQpO3JldHVybiBhLnN0YXJ0LnRpbWU+YS5lbmQudGltZSYmdC5yZXZlcnNlKCksdH0sX2dldFJhbmdlSW5mbzpmdW5jdGlvbih0KXt2YXIgZTsodD1bdGhpcy5nZXREYXRlSW5mbyh0WzBdKSx0aGlzLmdldERhdGVJbmZvKHRbMV0pXSlbMF0udGltZT50WzFdLnRpbWUmJihlPSEwLHQucmV2ZXJzZSgpKTt2YXIgaT1NYXRoLmZsb29yKHRbMV0udGltZS84NjRlNSktTWF0aC5mbG9vcih0WzBdLnRpbWUvODY0ZTUpKzEsbj1uZXcgRGF0ZSh0WzBdLnRpbWUpLG89bi5nZXREYXRlKCksYT10WzFdLmRhdGUuZ2V0RGF0ZSgpO2lmKG4uc2V0RGF0ZShvK2ktMSksbi5nZXREYXRlKCkhPT1hKWZvcih2YXIgcj1uLmdldFRpbWUoKS10WzFdLnRpbWU+MD8xOi0xO24uZ2V0RGF0ZSgpIT09YSYmKG4uZ2V0VGltZSgpLXRbMV0udGltZSkqcj4wOylpLT1yLG4uc2V0RGF0ZShvK2ktMSk7dmFyIHM9TWF0aC5mbG9vcigoaSt0WzBdLmRheSs2KS83KSxsPWU/MS1zOnMtMTtyZXR1cm4gZSYmdC5yZXZlcnNlKCkse3JhbmdlOlt0WzBdLmZvcm1hdGVkRGF0ZSx0WzFdLmZvcm1hdGVkRGF0ZV0sc3RhcnQ6dFswXSxlbmQ6dFsxXSxhbGxEYXk6aSx3ZWVrczpzLG50aFdlZWs6bCxmd2Vlazp0WzBdLmRheSxsd2Vlazp0WzFdLmRheX19LF9nZXREYXRlQnlXZWVrc0FuZERheTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZ2V0UmFuZ2VJbmZvKGkpO2lmKHQ+bi53ZWVrc3x8MD09PXQmJmU8bi5md2Vla3x8dD09PW4ud2Vla3MmJmU+bi5sd2VlaylyZXR1cm4hMTt2YXIgbz03Kih0LTEpLW4uZndlZWsrZSxhPW5ldyBEYXRlKG4uc3RhcnQudGltZSk7cmV0dXJuIGEuc2V0RGF0ZShuLnN0YXJ0LmQrbyksdGhpcy5nZXREYXRlSW5mbyhhKX19LHV2LmRpbWVuc2lvbnM9dXYucHJvdG90eXBlLmRpbWVuc2lvbnMsdXYuZ2V0RGltZW5zaW9uc0luZm89dXYucHJvdG90eXBlLmdldERpbWVuc2lvbnNJbmZvLHV2LmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiB0LmVhY2hDb21wb25lbnQoImNhbGVuZGFyIixmdW5jdGlvbihuKXt2YXIgbz1uZXcgdXYobix0LGUpO2kucHVzaChvKSxuLmNvb3JkaW5hdGVTeXN0ZW09b30pLHQuZWFjaFNlcmllcyhmdW5jdGlvbih0KXsiY2FsZW5kYXIiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSYmKHQuY29vcmRpbmF0ZVN5c3RlbT1pW3QuZ2V0KCJjYWxlbmRhckluZGV4Iil8fDBdKX0pLGl9LENhLnJlZ2lzdGVyKCJjYWxlbmRhciIsdXYpO3ZhciBVaz1rUy5leHRlbmQoe3R5cGU6ImNhbGVuZGFyIixjb29yZGluYXRlU3lzdGVtOm51bGwsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoyLGxlZnQ6ODAsdG9wOjYwLGNlbGxTaXplOjIwLG9yaWVudDoiaG9yaXpvbnRhbCIsc3BsaXRMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7Y29sb3I6IiMwMDAiLHdpZHRoOjEsdHlwZToic29saWQifX0saXRlbVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoiI2NjYyJ9LGRheUxhYmVsOntzaG93OiEwLGZpcnN0RGF5OjAscG9zaXRpb246InN0YXJ0IixtYXJnaW46IjUwJSIsbmFtZU1hcDoiZW4iLGNvbG9yOiIjMDAwIn0sbW9udGhMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoic3RhcnQiLG1hcmdpbjo1LGFsaWduOiJjZW50ZXIiLG5hbWVNYXA6ImVuIixmb3JtYXR0ZXI6bnVsbCxjb2xvcjoiIzAwMCJ9LHllYXJMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjpudWxsLG1hcmdpbjozMCxmb3JtYXR0ZXI6bnVsbCxjb2xvcjoiI2NjYyIsZm9udEZhbWlseToic2Fucy1zZXJpZiIsZm9udFdlaWdodDoiYm9sZGVyIixmb250U2l6ZToyMH19LGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89bmEodCk7VWsuc3VwZXJBcHBseSh0aGlzLCJpbml0Iixhcmd1bWVudHMpLGN2KHQsbyl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSl7VWsuc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKSxjdih0aGlzLm9wdGlvbix0KX19KSxqaz17RU46WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxDTjpbIuS4gOaciCIsIuS6jOaciCIsIuS4ieaciCIsIuWbm+aciCIsIuS6lOaciCIsIuWFreaciCIsIuS4g+aciCIsIuWFq+aciCIsIuS5neaciCIsIuWNgeaciCIsIuWNgeS4gOaciCIsIuWNgeS6jOaciCJdfSxYaz17RU46WyJTIiwiTSIsIlQiLCJXIiwiVCIsIkYiLCJTIl0sQ046WyLml6UiLCLkuIAiLCLkuowiLCLkuIkiLCLlm5siLCLkupQiLCLlha0iXX07dnMoe3R5cGU6ImNhbGVuZGFyIixfdGxwb2ludHM6bnVsbCxfYmxwb2ludHM6bnVsbCxfZmlyc3REYXlPZk1vbnRoOm51bGwsX2ZpcnN0RGF5UG9pbnRzOm51bGwscmVuZGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmdyb3VwO24ucmVtb3ZlQWxsKCk7dmFyIG89dC5jb29yZGluYXRlU3lzdGVtLGE9by5nZXRSYW5nZUluZm8oKSxyPW8uZ2V0T3JpZW50KCk7dGhpcy5fcmVuZGVyRGF5UmVjdCh0LGEsbiksdGhpcy5fcmVuZGVyTGluZXModCxhLHIsbiksdGhpcy5fcmVuZGVyWWVhclRleHQodCxhLHIsbiksdGhpcy5fcmVuZGVyTW9udGhUZXh0KHQscixuKSx0aGlzLl9yZW5kZXJXZWVrVGV4dCh0LGEscixuKX0sX3JlbmRlckRheVJlY3Q6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxhPW4uZ2V0Q2VsbFdpZHRoKCkscj1uLmdldENlbGxIZWlnaHQoKSxzPWUuc3RhcnQudGltZTtzPD1lLmVuZC50aW1lO3M9bi5nZXROZXh0TkRheShzLDEpLnRpbWUpe3ZhciBsPW4uZGF0YVRvUmVjdChbc10sITEpLnRsLHU9bmV3IGpiKHtzaGFwZTp7eDpsWzBdLHk6bFsxXSx3aWR0aDphLGhlaWdodDpyfSxjdXJzb3I6ImRlZmF1bHQiLHN0eWxlOm99KTtpLmFkZCh1KX19LF9yZW5kZXJMaW5lczpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKGUpe2EuX2ZpcnN0RGF5T2ZNb250aC5wdXNoKHIuZ2V0RGF0ZUluZm8oZSkpLGEuX2ZpcnN0RGF5UG9pbnRzLnB1c2goci5kYXRhVG9SZWN0KFtlXSwhMSkudGwpO3ZhciBvPWEuX2dldExpbmVQb2ludHNPZk9uZVdlZWsodCxlLGkpO2EuX3RscG9pbnRzLnB1c2gob1swXSksYS5fYmxwb2ludHMucHVzaChvW28ubGVuZ3RoLTFdKSxsJiZhLl9kcmF3U3BsaXRsaW5lKG8scyxuKX12YXIgYT10aGlzLHI9dC5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRNb2RlbCgic3BsaXRMaW5lLmxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGw9dC5nZXQoInNwbGl0TGluZS5zaG93IiksdT1zLmxpbmVXaWR0aDt0aGlzLl90bHBvaW50cz1bXSx0aGlzLl9ibHBvaW50cz1bXSx0aGlzLl9maXJzdERheU9mTW9udGg9W10sdGhpcy5fZmlyc3REYXlQb2ludHM9W107Zm9yKHZhciBoPWUuc3RhcnQsYz0wO2gudGltZTw9ZS5lbmQudGltZTtjKyspe28oaC5mb3JtYXRlZERhdGUpLDA9PT1jJiYoaD1yLmdldERhdGVJbmZvKGUuc3RhcnQueSsiLSIrZS5zdGFydC5tKSk7dmFyIGQ9aC5kYXRlO2Quc2V0TW9udGgoZC5nZXRNb250aCgpKzEpLGg9ci5nZXREYXRlSW5mbyhkKX1vKHIuZ2V0TmV4dE5EYXkoZS5lbmQudGltZSwxKS5mb3JtYXRlZERhdGUpLGwmJnRoaXMuX2RyYXdTcGxpdGxpbmUoYS5fZ2V0RWRnZXNQb2ludHMoYS5fdGxwb2ludHMsdSxpKSxzLG4pLGwmJnRoaXMuX2RyYXdTcGxpdGxpbmUoYS5fZ2V0RWRnZXNQb2ludHMoYS5fYmxwb2ludHMsdSxpKSxzLG4pfSxfZ2V0RWRnZXNQb2ludHM6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVt0WzBdLnNsaWNlKCksdFt0Lmxlbmd0aC0xXS5zbGljZSgpXSxvPSJob3Jpem9udGFsIj09PWk/MDoxO3JldHVybiBuWzBdW29dPW5bMF1bb10tZS8yLG5bMV1bb109blsxXVtvXStlLzIsbn0sX2RyYXdTcGxpdGxpbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPW5ldyBVYih7ejI6MjAsc2hhcGU6e3BvaW50czp0fSxzdHlsZTplfSk7aS5hZGQobil9LF9nZXRMaW5lUG9pbnRzT2ZPbmVXZWVrOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW07ZT1uLmdldERhdGVJbmZvKGUpO2Zvcih2YXIgbz1bXSxhPTA7YTw3O2ErKyl7dmFyIHI9bi5nZXROZXh0TkRheShlLnRpbWUsYSkscz1uLmRhdGFUb1JlY3QoW3IudGltZV0sITEpO29bMipyLmRheV09cy50bCxvWzIqci5kYXkrMV09c1siaG9yaXpvbnRhbCI9PT1pPyJibCI6InRyIl19cmV0dXJuIG99LF9mb3JtYXR0ZXJMYWJlbDpmdW5jdGlvbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmdD9qbyh0LGUpOiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QoZSk6ZS5uYW1lTWFwfSxfeWVhclRleHRQb3NpdGlvbkNvbnRyb2w6ZnVuY3Rpb24odCxlLGksbixvKXtlPWUuc2xpY2UoKTt2YXIgYT1bImNlbnRlciIsImJvdHRvbSJdOyJib3R0b20iPT09bj8oZVsxXSs9byxhPVsiY2VudGVyIiwidG9wIl0pOiJsZWZ0Ij09PW4/ZVswXS09bzoicmlnaHQiPT09bj8oZVswXSs9byxhPVsiY2VudGVyIiwidG9wIl0pOmVbMV0tPW87dmFyIHI9MDtyZXR1cm4ibGVmdCIhPT1uJiYicmlnaHQiIT09bnx8KHI9TWF0aC5QSS8yKSx7cm90YXRpb246cixwb3NpdGlvbjplLHN0eWxlOnt0ZXh0QWxpZ246YVswXSx0ZXh0VmVydGljYWxBbGlnbjphWzFdfX19LF9yZW5kZXJZZWFyVGV4dDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmdldE1vZGVsKCJ5ZWFyTGFiZWwiKTtpZihvLmdldCgic2hvdyIpKXt2YXIgYT1vLmdldCgibWFyZ2luIikscj1vLmdldCgicG9zaXRpb24iKTtyfHwocj0iaG9yaXpvbnRhbCIhPT1pPyJ0b3AiOiJsZWZ0Iik7dmFyIHM9W3RoaXMuX3RscG9pbnRzW3RoaXMuX3RscG9pbnRzLmxlbmd0aC0xXSx0aGlzLl9ibHBvaW50c1swXV0sbD0oc1swXVswXStzWzFdWzBdKS8yLHU9KHNbMF1bMV0rc1sxXVsxXSkvMixoPSJob3Jpem9udGFsIj09PWk/MDoxLGM9e3RvcDpbbCxzW2hdWzFdXSxib3R0b206W2wsc1sxLWhdWzFdXSxsZWZ0OltzWzEtaF1bMF0sdV0scmlnaHQ6W3NbaF1bMF0sdV19LGQ9ZS5zdGFydC55OytlLmVuZC55PitlLnN0YXJ0LnkmJihkPWQrIi0iK2UuZW5kLnkpO3ZhciBmPW8uZ2V0KCJmb3JtYXR0ZXIiKSxwPXtzdGFydDplLnN0YXJ0LnksZW5kOmUuZW5kLnksbmFtZU1hcDpkfSxnPXRoaXMuX2Zvcm1hdHRlckxhYmVsKGYscCksbT1uZXcgemIoe3oyOjMwfSk7bm8obS5zdHlsZSxvLHt0ZXh0Omd9KSxtLmF0dHIodGhpcy5feWVhclRleHRQb3NpdGlvbkNvbnRyb2wobSxjW3JdLGkscixhKSksbi5hZGQobSl9fSxfbW9udGhUZXh0UG9zaXRpb25Db250cm9sOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9ImxlZnQiLHI9InRvcCIscz10WzBdLGw9dFsxXTtyZXR1cm4iaG9yaXpvbnRhbCI9PT1pPyhsKz1vLGUmJihhPSJjZW50ZXIiKSwic3RhcnQiPT09biYmKHI9ImJvdHRvbSIpKToocys9byxlJiYocj0ibWlkZGxlIiksInN0YXJ0Ij09PW4mJihhPSJyaWdodCIpKSx7eDpzLHk6bCx0ZXh0QWxpZ246YSx0ZXh0VmVydGljYWxBbGlnbjpyfX0sX3JlbmRlck1vbnRoVGV4dDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5nZXRNb2RlbCgibW9udGhMYWJlbCIpO2lmKG4uZ2V0KCJzaG93Iikpe3ZhciBvPW4uZ2V0KCJuYW1lTWFwIikscj1uLmdldCgibWFyZ2luIikscz1uLmdldCgicG9zaXRpb24iKSxsPW4uZ2V0KCJhbGlnbiIpLHU9W3RoaXMuX3RscG9pbnRzLHRoaXMuX2JscG9pbnRzXTtfKG8pJiYobz1qa1tvLnRvVXBwZXJDYXNlKCldfHxbXSk7dmFyIGg9InN0YXJ0Ij09PXM/MDoxLGM9Imhvcml6b250YWwiPT09ZT8wOjE7cj0ic3RhcnQiPT09cz8tcjpyO2Zvcih2YXIgZD0iY2VudGVyIj09PWwsZj0wO2Y8dVtoXS5sZW5ndGgtMTtmKyspe3ZhciBwPXVbaF1bZl0uc2xpY2UoKSxnPXRoaXMuX2ZpcnN0RGF5T2ZNb250aFtmXTtpZihkKXt2YXIgbT10aGlzLl9maXJzdERheVBvaW50c1tmXTtwW2NdPShtW2NdK3VbMF1bZisxXVtjXSkvMn12YXIgdj1uLmdldCgiZm9ybWF0dGVyIikseT1vWytnLm0tMV0seD17eXl5eTpnLnkseXk6KGcueSsiIikuc2xpY2UoMiksTU06Zy5tLE06K2cubSxuYW1lTWFwOnl9LHc9dGhpcy5fZm9ybWF0dGVyTGFiZWwodix4KSxiPW5ldyB6Yih7ejI6MzB9KTthKG5vKGIuc3R5bGUsbix7dGV4dDp3fSksdGhpcy5fbW9udGhUZXh0UG9zaXRpb25Db250cm9sKHAsZCxlLHMscikpLGkuYWRkKGIpfX19LF93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbDpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPSJjZW50ZXIiLHI9Im1pZGRsZSIscz10WzBdLGw9dFsxXSx1PSJzdGFydCI9PT1pO3JldHVybiJob3Jpem9udGFsIj09PWU/KHM9cytuKyh1PzE6LTEpKm9bMF0vMixhPXU/InJpZ2h0IjoibGVmdCIpOihsPWwrbisodT8xOi0xKSpvWzFdLzIscj11PyJib3R0b20iOiJ0b3AiKSx7eDpzLHk6bCx0ZXh0QWxpZ246YSx0ZXh0VmVydGljYWxBbGlnbjpyfX0sX3JlbmRlcldlZWtUZXh0OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXQuZ2V0TW9kZWwoImRheUxhYmVsIik7aWYoby5nZXQoInNob3ciKSl7dmFyIHI9dC5jb29yZGluYXRlU3lzdGVtLHM9by5nZXQoInBvc2l0aW9uIiksbD1vLmdldCgibmFtZU1hcCIpLHU9by5nZXQoIm1hcmdpbiIpLGg9ci5nZXRGaXJzdERheU9mV2VlaygpO18obCkmJihsPVhrW2wudG9VcHBlckNhc2UoKV18fFtdKTt2YXIgYz1yLmdldE5leHRORGF5KGUuZW5kLnRpbWUsNy1lLmx3ZWVrKS50aW1lLGQ9W3IuZ2V0Q2VsbFdpZHRoKCksci5nZXRDZWxsSGVpZ2h0KCldO3U9VG8odSxkWyJob3Jpem9udGFsIj09PWk/MDoxXSksInN0YXJ0Ij09PXMmJihjPXIuZ2V0TmV4dE5EYXkoZS5zdGFydC50aW1lLC0oNytlLmZ3ZWVrKSkudGltZSx1PS11KTtmb3IodmFyIGY9MDtmPDc7ZisrKXt2YXIgcD1yLmdldE5leHRORGF5KGMsZiksZz1yLmRhdGFUb1JlY3QoW3AudGltZV0sITEpLmNlbnRlcixtPWY7bT1NYXRoLmFicygoZitoKSU3KTt2YXIgdj1uZXcgemIoe3oyOjMwfSk7YShubyh2LnN0eWxlLG8se3RleHQ6bFttXX0pLHRoaXMuX3dlZWtUZXh0UG9zaXRpb25Db250cm9sKGcsaSxzLHUsZCkpLG4uYWRkKHYpfX19fSksbXMoe3R5cGU6InRpdGxlIixsYXlvdXRNb2RlOnt0eXBlOiJib3giLGlnbm9yZVNpemU6ITB9LGRlZmF1bHRPcHRpb246e3psZXZlbDowLHo6NixzaG93OiEwLHRleHQ6IiIsdGFyZ2V0OiJibGFuayIsc3VidGV4dDoiIixzdWJ0YXJnZXQ6ImJsYW5rIixsZWZ0OjAsdG9wOjAsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsaXRlbUdhcDoxMCx0ZXh0U3R5bGU6e2ZvbnRTaXplOjE4LGZvbnRXZWlnaHQ6ImJvbGRlciIsY29sb3I6IiMzMzMifSxzdWJ0ZXh0U3R5bGU6e2NvbG9yOiIjYWFhIn19fSksdnMoe3R5cGU6InRpdGxlIixyZW5kZXI6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIG49dGhpcy5ncm91cCxvPXQuZ2V0TW9kZWwoInRleHRTdHlsZSIpLGE9dC5nZXRNb2RlbCgic3VidGV4dFN0eWxlIikscj10LmdldCgidGV4dEFsaWduIikscz10LmdldCgidGV4dEJhc2VsaW5lIiksbD1uZXcgemIoe3N0eWxlOm5vKHt9LG8se3RleHQ6dC5nZXQoInRleHQiKSx0ZXh0RmlsbDpvLmdldFRleHRDb2xvcigpfSx7ZGlzYWJsZUJveDohMH0pLHoyOjEwfSksdT1sLmdldEJvdW5kaW5nUmVjdCgpLGg9dC5nZXQoInN1YnRleHQiKSxjPW5ldyB6Yih7c3R5bGU6bm8oe30sYSx7dGV4dDpoLHRleHRGaWxsOmEuZ2V0VGV4dENvbG9yKCkseTp1LmhlaWdodCt0LmdldCgiaXRlbUdhcCIpLHRleHRWZXJ0aWNhbEFsaWduOiJ0b3AifSx7ZGlzYWJsZUJveDohMH0pLHoyOjEwfSksZD10LmdldCgibGluayIpLGY9dC5nZXQoInN1YmxpbmsiKTtsLnNpbGVudD0hZCxjLnNpbGVudD0hZixkJiZsLm9uKCJjbGljayIsZnVuY3Rpb24oKXt3aW5kb3cub3BlbihkLCJfIit0LmdldCgidGFyZ2V0IikpfSksZiYmYy5vbigiY2xpY2siLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW4oZiwiXyIrdC5nZXQoInN1YnRhcmdldCIpKX0pLG4uYWRkKGwpLGgmJm4uYWRkKGMpO3ZhciBwPW4uZ2V0Qm91bmRpbmdSZWN0KCksZz10LmdldEJveExheW91dFBhcmFtcygpO2cud2lkdGg9cC53aWR0aCxnLmhlaWdodD1wLmhlaWdodDt2YXIgbT1RbyhnLHt3aWR0aDppLmdldFdpZHRoKCksaGVpZ2h0OmkuZ2V0SGVpZ2h0KCl9LHQuZ2V0KCJwYWRkaW5nIikpO3J8fCgibWlkZGxlIj09PShyPXQuZ2V0KCJsZWZ0Iil8fHQuZ2V0KCJyaWdodCIpKSYmKHI9ImNlbnRlciIpLCJyaWdodCI9PT1yP20ueCs9bS53aWR0aDoiY2VudGVyIj09PXImJihtLngrPW0ud2lkdGgvMikpLHN8fCgiY2VudGVyIj09PShzPXQuZ2V0KCJ0b3AiKXx8dC5nZXQoImJvdHRvbSIpKSYmKHM9Im1pZGRsZSIpLCJib3R0b20iPT09cz9tLnkrPW0uaGVpZ2h0OiJtaWRkbGUiPT09cyYmKG0ueSs9bS5oZWlnaHQvMikscz1zfHwidG9wIiksbi5hdHRyKCJwb3NpdGlvbiIsW20ueCxtLnldKTt2YXIgdj17dGV4dEFsaWduOnIsdGV4dFZlcnRpY2FsQWxpZ246c307bC5zZXRTdHlsZSh2KSxjLnNldFN0eWxlKHYpLHA9bi5nZXRCb3VuZGluZ1JlY3QoKTt2YXIgeT1tLm1hcmdpbix4PXQuZ2V0SXRlbVN0eWxlKFsiY29sb3IiLCJvcGFjaXR5Il0pO3guZmlsbD10LmdldCgiYmFja2dyb3VuZENvbG9yIik7dmFyIF89bmV3IGpiKHtzaGFwZTp7eDpwLngteVszXSx5OnAueS15WzBdLHdpZHRoOnAud2lkdGgreVsxXSt5WzNdLGhlaWdodDpwLmhlaWdodCt5WzBdK3lbMl0scjp0LmdldCgiYm9yZGVyUmFkaXVzIil9LHN0eWxlOngsc2lsZW50OiEwfSk7Rm4oXyksbi5hZGQoXyl9fX0pLGtTLnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcigiZGF0YVpvb20iLGZ1bmN0aW9uKCl7cmV0dXJuInNsaWRlciJ9KTt2YXIgWWs9WyJjYXJ0ZXNpYW4yZCIsInBvbGFyIiwic2luZ2xlQXhpcyJdLHFrPWZ1bmN0aW9uKHQsZSl7dmFyIGk9Zih0PXQuc2xpY2UoKSwkbyksbj1mKGU9KGV8fFtdKS5zbGljZSgpLCRvKTtyZXR1cm4gZnVuY3Rpb24obyxhKXtkKHQsZnVuY3Rpb24odCxyKXtmb3IodmFyIHM9e25hbWU6dCxjYXBpdGFsOmlbcl19LGw9MDtsPGUubGVuZ3RoO2wrKylzW2VbbF1dPXQrbltsXTtvLmNhbGwoYSxzKX0pfX0oWyJ4IiwieSIsInoiLCJyYWRpdXMiLCJhbmdsZSIsInNpbmdsZSJdLFsiYXhpc0luZGV4IiwiYXhpcyIsImluZGV4IiwiaWQiXSksJGs9ZCxLaz1DbyxKaz1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLl9kaW1OYW1lPXQsdGhpcy5fYXhpc0luZGV4PWUsdGhpcy5fdmFsdWVXaW5kb3csdGhpcy5fcGVyY2VudFdpbmRvdyx0aGlzLl9kYXRhRXh0ZW50LHRoaXMuX21pbk1heFNwYW4sdGhpcy5lY01vZGVsPW4sdGhpcy5fZGF0YVpvb21Nb2RlbD1pfTtKay5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkprLGhvc3RlZEJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kYXRhWm9vbU1vZGVsPT09dH0sZ2V0RGF0YVZhbHVlV2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlV2luZG93LnNsaWNlKCl9LGdldERhdGFQZXJjZW50V2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcmNlbnRXaW5kb3cuc2xpY2UoKX0sZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLmVjTW9kZWw7cmV0dXJuIGUuZWFjaFNlcmllcyhmdW5jdGlvbihpKXtpZihkdihpLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKSl7dmFyIG49dGhpcy5fZGltTmFtZSxvPWUucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTpuKyJBeGlzIixpbmRleDppLmdldChuKyJBeGlzSW5kZXgiKSxpZDppLmdldChuKyJBeGlzSWQiKX0pWzBdO3RoaXMuX2F4aXNJbmRleD09PShvJiZvLmNvbXBvbmVudEluZGV4KSYmdC5wdXNoKGkpfX0sdGhpcyksdH0sZ2V0QXhpc01vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQodGhpcy5fZGltTmFtZSsiQXhpcyIsdGhpcy5fYXhpc0luZGV4KX0sZ2V0T3RoZXJBeGlzTW9kZWw6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy5fZGltTmFtZSxuPXRoaXMuZWNNb2RlbCxvPXRoaXMuZ2V0QXhpc01vZGVsKCk7IngiPT09aXx8InkiPT09aT8oZT0iZ3JpZEluZGV4Iix0PSJ4Ij09PWk/InkiOiJ4Iik6KGU9InBvbGFySW5kZXgiLHQ9ImFuZ2xlIj09PWk/InJhZGl1cyI6ImFuZ2xlIik7dmFyIGE7cmV0dXJuIG4uZWFjaENvbXBvbmVudCh0KyJBeGlzIixmdW5jdGlvbih0KXsodC5nZXQoZSl8fDApPT09KG8uZ2V0KGUpfHwwKSYmKGE9dCl9KSxhfSxnZXRNaW5NYXhTcGFuOmZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcy5fbWluTWF4U3Bhbil9LGNhbGN1bGF0ZURhdGFXaW5kb3c6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGF0YUV4dGVudCxpPXRoaXMuZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZSxuPXRoaXMuX2RhdGFab29tTW9kZWwuZ2V0UmFuZ2VQcm9wTW9kZSgpLG89WzAsMTAwXSxhPVt0LnN0YXJ0LHQuZW5kXSxyPVtdO3JldHVybiAkayhbInN0YXJ0VmFsdWUiLCJlbmRWYWx1ZSJdLGZ1bmN0aW9uKGUpe3IucHVzaChudWxsIT10W2VdP2kucGFyc2UodFtlXSk6bnVsbCl9KSwkayhbMCwxXSxmdW5jdGlvbih0KXt2YXIgcz1yW3RdLGw9YVt0XTsicGVyY2VudCI9PT1uW3RdPyhudWxsPT1sJiYobD1vW3RdKSxzPWkucGFyc2UoRG8obCxvLGUsITApKSk6bD1EbyhzLGUsbywhMCksclt0XT1zLGFbdF09bH0pLHt2YWx1ZVdpbmRvdzpLayhyKSxwZXJjZW50V2luZG93OktrKGEpfX0scmVzZXQ6ZnVuY3Rpb24odCl7aWYodD09PXRoaXMuX2RhdGFab29tTW9kZWwpe3ZhciBlPXRoaXMuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzKCk7dGhpcy5fZGF0YUV4dGVudD1wdih0aGlzLHRoaXMuX2RpbU5hbWUsZSk7dmFyIGk9dGhpcy5jYWxjdWxhdGVEYXRhV2luZG93KHQub3B0aW9uKTt0aGlzLl92YWx1ZVdpbmRvdz1pLnZhbHVlV2luZG93LHRoaXMuX3BlcmNlbnRXaW5kb3c9aS5wZXJjZW50V2luZG93LHZ2KHRoaXMpLG12KHRoaXMpfX0scmVzdG9yZTpmdW5jdGlvbih0KXt0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCYmKHRoaXMuX3ZhbHVlV2luZG93PXRoaXMuX3BlcmNlbnRXaW5kb3c9bnVsbCxtdih0aGlzLCEwKSl9LGZpbHRlckRhdGE6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0Pj1yWzBdJiZ0PD1yWzFdfWlmKHQ9PT10aGlzLl9kYXRhWm9vbU1vZGVsKXt2YXIgbj10aGlzLl9kaW1OYW1lLG89dGhpcy5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSxhPXQuZ2V0KCJmaWx0ZXJNb2RlIikscj10aGlzLl92YWx1ZVdpbmRvdzsibm9uZSIhPT1hJiYkayhvLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG89ZS5tYXBEaW1lbnNpb24obiwhMCk7IndlYWtGaWx0ZXIiPT09YT9lLmZpbHRlclNlbGYoZnVuY3Rpb24odCl7Zm9yKHZhciBpLG4sYSxzPTA7czxvLmxlbmd0aDtzKyspe3ZhciBsPWUuZ2V0KG9bc10sdCksdT0haXNOYU4obCksaD1sPHJbMF0sYz1sPnJbMV07aWYodSYmIWgmJiFjKXJldHVybiEwO3UmJihhPSEwKSxoJiYoaT0hMCksYyYmKG49ITApfXJldHVybiBhJiZpJiZufSk6JGsobyxmdW5jdGlvbihuKXtpZigiZW1wdHkiPT09YSl0LnNldERhdGEoZS5tYXAobixmdW5jdGlvbih0KXtyZXR1cm4gaSh0KT90Ok5hTn0pKTtlbHNle3ZhciBvPXt9O29bbl09cixlLnNlbGVjdFJhbmdlKG8pfX0pLCRrKG8sZnVuY3Rpb24odCl7ZS5zZXRBcHByb3hpbWF0ZUV4dGVudChyLHQpfSl9KX19fTt2YXIgUWs9ZCx0UD1xayxlUD1tcyh7dHlwZToiZGF0YVpvb20iLGRlcGVuZGVuY2llczpbInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInJhZGl1c0F4aXMiLCJhbmdsZUF4aXMiLCJzaW5nbGVBeGlzIiwic2VyaWVzIl0sZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo0LG9yaWVudDpudWxsLHhBeGlzSW5kZXg6bnVsbCx5QXhpc0luZGV4Om51bGwsZmlsdGVyTW9kZToiZmlsdGVyIix0aHJvdHRsZTpudWxsLHN0YXJ0OjAsZW5kOjEwMCxzdGFydFZhbHVlOm51bGwsZW5kVmFsdWU6bnVsbCxtaW5TcGFuOm51bGwsbWF4U3BhbjpudWxsLG1pblZhbHVlU3BhbjpudWxsLG1heFZhbHVlU3BhbjpudWxsLHJhbmdlTW9kZTpudWxsfSxpbml0OmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9kYXRhSW50ZXJ2YWxCeUF4aXM9e30sdGhpcy5fZGF0YUluZm89e30sdGhpcy5fYXhpc1Byb3hpZXM9e30sdGhpcy50ZXh0U3R5bGVNb2RlbCx0aGlzLl9hdXRvVGhyb3R0bGU9ITAsdGhpcy5fcmFuZ2VQcm9wTW9kZT1bInBlcmNlbnQiLCJwZXJjZW50Il07dmFyIG49eXYodCk7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLHRoaXMuZG9Jbml0KG4pfSxtZXJnZU9wdGlvbjpmdW5jdGlvbih0KXt2YXIgZT15dih0KTtuKHRoaXMub3B0aW9uLHQsITApLHRoaXMuZG9Jbml0KGUpfSxkb0luaXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247QXguY2FudmFzU3VwcG9ydGVkfHwoZS5yZWFsdGltZT0hMSksdGhpcy5fc2V0RGVmYXVsdFRocm90dGxlKHQpLHh2KHRoaXMsdCksUWsoW1sic3RhcnQiLCJzdGFydFZhbHVlIl0sWyJlbmQiLCJlbmRWYWx1ZSJdXSxmdW5jdGlvbih0LGkpeyJ2YWx1ZSI9PT10aGlzLl9yYW5nZVByb3BNb2RlW2ldJiYoZVt0WzBdXT1udWxsKX0sdGhpcyksdGhpcy50ZXh0U3R5bGVNb2RlbD10aGlzLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSx0aGlzLl9yZXNldFRhcmdldCgpLHRoaXMuX2dpdmVBeGlzUHJveGllcygpfSxfZ2l2ZUF4aXNQcm94aWVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYXhpc1Byb3hpZXM7dGhpcy5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihlLGksbixvKXt2YXIgYT10aGlzLmRlcGVuZGVudE1vZGVsc1tlLmF4aXNdW2ldLHI9YS5fX2R6QXhpc1Byb3h5fHwoYS5fX2R6QXhpc1Byb3h5PW5ldyBKayhlLm5hbWUsaSx0aGlzLG8pKTt0W2UubmFtZSsiXyIraV09cn0sdGhpcyl9LF9yZXNldFRhcmdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLGU9dGhpcy5fanVkZ2VBdXRvTW9kZSgpO3RQKGZ1bmN0aW9uKGUpe3ZhciBpPWUuYXhpc0luZGV4O3RbaV09U2kodFtpXSl9LHRoaXMpLCJheGlzSW5kZXgiPT09ZT90aGlzLl9hdXRvU2V0QXhpc0luZGV4KCk6Im9yaWVudCI9PT1lJiZ0aGlzLl9hdXRvU2V0T3JpZW50KCl9LF9qdWRnZUF1dG9Nb2RlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT0hMTt0UChmdW5jdGlvbihpKXtudWxsIT10W2kuYXhpc0luZGV4XSYmKGU9ITApfSx0aGlzKTt2YXIgaT10Lm9yaWVudDtyZXR1cm4gbnVsbD09aSYmZT8ib3JpZW50IjplP3ZvaWQgMDoobnVsbD09aSYmKHQub3JpZW50PSJob3Jpem9udGFsIiksImF4aXNJbmRleCIpfSxfYXV0b1NldEF4aXNJbmRleDpmdW5jdGlvbigpe3ZhciB0PSEwLGU9dGhpcy5nZXQoIm9yaWVudCIsITApLGk9dGhpcy5vcHRpb24sbj10aGlzLmRlcGVuZGVudE1vZGVscztpZih0KXt2YXIgbz0idmVydGljYWwiPT09ZT8ieSI6IngiO25bbysiQXhpcyJdLmxlbmd0aD8oaVtvKyJBeGlzSW5kZXgiXT1bMF0sdD0hMSk6UWsobi5zaW5nbGVBeGlzLGZ1bmN0aW9uKG4pe3QmJm4uZ2V0KCJvcmllbnQiLCEwKT09PWUmJihpLnNpbmdsZUF4aXNJbmRleD1bbi5jb21wb25lbnRJbmRleF0sdD0hMSl9KX10JiZ0UChmdW5jdGlvbihlKXtpZih0KXt2YXIgbj1bXSxvPXRoaXMuZGVwZW5kZW50TW9kZWxzW2UuYXhpc107aWYoby5sZW5ndGgmJiFuLmxlbmd0aClmb3IodmFyIGE9MCxyPW8ubGVuZ3RoO2E8cjthKyspImNhdGVnb3J5Ij09PW9bYV0uZ2V0KCJ0eXBlIikmJm4ucHVzaChhKTtpW2UuYXhpc0luZGV4XT1uLG4ubGVuZ3RoJiYodD0hMSl9fSx0aGlzKSx0JiZ0aGlzLmVjTW9kZWwuZWFjaFNlcmllcyhmdW5jdGlvbih0KXt0aGlzLl9pc1Nlcmllc0hhc0FsbEF4ZXNUeXBlT2YodCwidmFsdWUiKSYmdFAoZnVuY3Rpb24oZSl7dmFyIG49aVtlLmF4aXNJbmRleF0sbz10LmdldChlLmF4aXNJbmRleCksYT10LmdldChlLmF4aXNJZCk7bChuLG89dC5lY01vZGVsLnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6ZS5heGlzLGluZGV4Om8saWQ6YX0pWzBdLmNvbXBvbmVudEluZGV4KTwwJiZuLnB1c2gobyl9KX0sdGhpcyl9LF9hdXRvU2V0T3JpZW50OmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihlKXshdCYmKHQ9ZS5uYW1lKX0sdGhpcyksdGhpcy5vcHRpb24ub3JpZW50PSJ5Ij09PXQ/InZlcnRpY2FsIjoiaG9yaXpvbnRhbCJ9LF9pc1Nlcmllc0hhc0FsbEF4ZXNUeXBlT2Y6ZnVuY3Rpb24odCxlKXt2YXIgaT0hMDtyZXR1cm4gdFAoZnVuY3Rpb24obil7dmFyIG89dC5nZXQobi5heGlzSW5kZXgpLGE9dGhpcy5kZXBlbmRlbnRNb2RlbHNbbi5heGlzXVtvXTthJiZhLmdldCgidHlwZSIpPT09ZXx8KGk9ITEpfSx0aGlzKSxpfSxfc2V0RGVmYXVsdFRocm90dGxlOmZ1bmN0aW9uKHQpe2lmKHQuaGFzT3duUHJvcGVydHkoInRocm90dGxlIikmJih0aGlzLl9hdXRvVGhyb3R0bGU9ITEpLHRoaXMuX2F1dG9UaHJvdHRsZSl7dmFyIGU9dGhpcy5lY01vZGVsLm9wdGlvbjt0aGlzLm9wdGlvbi50aHJvdHRsZT1lLmFuaW1hdGlvbiYmZS5hbmltYXRpb25EdXJhdGlvblVwZGF0ZT4wPzEwMDoyMH19LGdldEZpcnN0VGFyZ2V0QXhpc01vZGVsOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRQKGZ1bmN0aW9uKGUpe2lmKG51bGw9PXQpe3ZhciBpPXRoaXMuZ2V0KGUuYXhpc0luZGV4KTtpLmxlbmd0aCYmKHQ9dGhpcy5kZXBlbmRlbnRNb2RlbHNbZS5heGlzXVtpWzBdXSl9fSx0aGlzKSx0fSxlYWNoVGFyZ2V0QXhpczpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZWNNb2RlbDt0UChmdW5jdGlvbihuKXtRayh0aGlzLmdldChuLmF4aXNJbmRleCksZnVuY3Rpb24obyl7dC5jYWxsKGUsbixvLHRoaXMsaSl9LHRoaXMpfSx0aGlzKX0sZ2V0QXhpc1Byb3h5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2F4aXNQcm94aWVzW3QrIl8iK2VdfSxnZXRBeGlzTW9kZWw6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEF4aXNQcm94eSh0LGUpO3JldHVybiBpJiZpLmdldEF4aXNNb2RlbCgpfSxzZXRSYXdSYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uO1FrKFtbInN0YXJ0Iiwic3RhcnRWYWx1ZSJdLFsiZW5kIiwiZW5kVmFsdWUiXV0sZnVuY3Rpb24oZSl7bnVsbD09dFtlWzBdXSYmbnVsbD09dFtlWzFdXXx8KGlbZVswXV09dFtlWzBdXSxpW2VbMV1dPXRbZVsxXV0pfSx0aGlzKSwhZSYmeHYodGhpcyx0KX0sZ2V0UGVyY2VudFJhbmdlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtpZih0KXJldHVybiB0LmdldERhdGFQZXJjZW50V2luZG93KCl9LGdldFZhbHVlUmFuZ2U6ZnVuY3Rpb24odCxlKXtpZihudWxsIT10fHxudWxsIT1lKXJldHVybiB0aGlzLmdldEF4aXNQcm94eSh0LGUpLmdldERhdGFWYWx1ZVdpbmRvdygpO3ZhciBpPXRoaXMuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7cmV0dXJuIGk/aS5nZXREYXRhVmFsdWVXaW5kb3coKTp2b2lkIDB9LGZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eTpmdW5jdGlvbih0KXtpZih0KXJldHVybiB0Ll9fZHpBeGlzUHJveHk7dmFyIGU9dGhpcy5fYXhpc1Byb3hpZXM7Zm9yKHZhciBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSYmZVtpXS5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gZVtpXTtmb3IodmFyIGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpJiYhZVtpXS5ob3N0ZWRCeSh0aGlzKSlyZXR1cm4gZVtpXX0sZ2V0UmFuZ2VQcm9wTW9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZVByb3BNb2RlLnNsaWNlKCl9fSksaVA9dk0uZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbSIscmVuZGVyOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuZGF0YVpvb21Nb2RlbD10LHRoaXMuZWNNb2RlbD1lLHRoaXMuYXBpPWl9LGdldFRhcmdldENvb3JkSW5mbzpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7Zm9yKHZhciBvLGE9MDthPGkubGVuZ3RoO2ErKylpZihpW2FdLm1vZGVsPT09dCl7bz1pW2FdO2JyZWFrfW98fGkucHVzaChvPXttb2RlbDp0LGF4aXNNb2RlbHM6W10sY29vcmRJbmRleDpufSksby5heGlzTW9kZWxzLnB1c2goZSl9dmFyIGU9dGhpcy5kYXRhWm9vbU1vZGVsLGk9dGhpcy5lY01vZGVsLG49e307cmV0dXJuIGUuZWFjaFRhcmdldEF4aXMoZnVuY3Rpb24oZSxvKXt2YXIgYT1pLmdldENvbXBvbmVudChlLmF4aXMsbyk7aWYoYSl7dmFyIHI9YS5nZXRDb29yZFN5c01vZGVsKCk7ciYmdChyLGEsbltyLm1haW5UeXBlXXx8KG5bci5tYWluVHlwZV09W10pLHIuY29tcG9uZW50SW5kZXgpfX0sdGhpcyksbn19KSxuUD0oZVAuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbS5zbGlkZXIiLGxheW91dE1vZGU6ImJveCIsZGVmYXVsdE9wdGlvbjp7c2hvdzohMCxyaWdodDoicGgiLHRvcDoicGgiLHdpZHRoOiJwaCIsaGVpZ2h0OiJwaCIsbGVmdDpudWxsLGJvdHRvbTpudWxsLGJhY2tncm91bmRDb2xvcjoicmdiYSg0Nyw2OSw4NCwwKSIsZGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6IiMyZjQ1NTQiLHdpZHRoOi41LG9wYWNpdHk6LjN9LGFyZWFTdHlsZTp7Y29sb3I6InJnYmEoNDcsNjksODQsMC4zKSIsb3BhY2l0eTouM319LGJvcmRlckNvbG9yOiIjZGRkIixmaWxsZXJDb2xvcjoicmdiYSgxNjcsMTgzLDIwNCwwLjQpIixoYW5kbGVJY29uOiJNOC4yLDEzLjZWMy45SDYuM3Y5LjdIMy4xdjE0LjloMy4zdjkuN2gxLjh2LTkuN2gzLjNWMTMuNkg4LjJ6IE05LjcsMjQuNEg0Ljh2LTEuNGg0LjlWMjQuNHogTTkuNywxOS4xSDQuOHYtMS40aDQuOVYxOS4xeiIsaGFuZGxlU2l6ZToiMTAwJSIsaGFuZGxlU3R5bGU6e2NvbG9yOiIjYTdiN2NjIn0sbGFiZWxQcmVjaXNpb246bnVsbCxsYWJlbEZvcm1hdHRlcjpudWxsLHNob3dEZXRhaWw6ITAsc2hvd0RhdGFTaGFkb3c6ImF1dG8iLHJlYWx0aW1lOiEwLHpvb21Mb2NrOiExLHRleHRTdHlsZTp7Y29sb3I6IiMzMzMifX19KSxqYiksb1A9RG8sYVA9Q28sclA9bSxzUD1kLGxQPSJob3Jpem9udGFsIix1UD01LGhQPVsibGluZSIsImJhciIsImNhbmRsZXN0aWNrIiwic2NhdHRlciJdLGNQPWlQLmV4dGVuZCh7dHlwZToiZGF0YVpvb20uc2xpZGVyIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5fZGlzcGxheWFibGVzPXt9LHRoaXMuX29yaWVudCx0aGlzLl9yYW5nZSx0aGlzLl9oYW5kbGVFbmRzLHRoaXMuX3NpemUsdGhpcy5faGFuZGxlV2lkdGgsdGhpcy5faGFuZGxlSGVpZ2h0LHRoaXMuX2xvY2F0aW9uLHRoaXMuX2RyYWdnaW5nLHRoaXMuX2RhdGFTaGFkb3dJbmZvLHRoaXMuYXBpPWV9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtjUC5zdXBlckFwcGx5KHRoaXMsInJlbmRlciIsYXJndW1lbnRzKSxfcih0aGlzLCJfZGlzcGF0Y2hab29tQWN0aW9uIix0aGlzLmRhdGFab29tTW9kZWwuZ2V0KCJ0aHJvdHRsZSIpLCJmaXhSYXRlIiksdGhpcy5fb3JpZW50PXQuZ2V0KCJvcmllbnQiKSwhMSE9PXRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoInNob3ciKT8obiYmImRhdGFab29tIj09PW4udHlwZSYmbi5mcm9tPT09dGhpcy51aWR8fHRoaXMuX2J1aWxkVmlldygpLHRoaXMuX3VwZGF0ZVZpZXcoKSk6dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0scmVtb3ZlOmZ1bmN0aW9uKCl7Y1Auc3VwZXJBcHBseSh0aGlzLCJyZW1vdmUiLGFyZ3VtZW50cyksd3IodGhpcywiX2Rpc3BhdGNoWm9vbUFjdGlvbiIpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7Y1Auc3VwZXJBcHBseSh0aGlzLCJkaXNwb3NlIixhcmd1bWVudHMpLHdyKHRoaXMsIl9kaXNwYXRjaFpvb21BY3Rpb24iKX0sX2J1aWxkVmlldzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXA7dC5yZW1vdmVBbGwoKSx0aGlzLl9yZXNldExvY2F0aW9uKCksdGhpcy5fcmVzZXRJbnRlcnZhbCgpO3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cD1uZXcgTF87dGhpcy5fcmVuZGVyQmFja2dyb3VuZCgpLHRoaXMuX3JlbmRlckhhbmRsZSgpLHRoaXMuX3JlbmRlckRhdGFTaGFkb3coKSx0LmFkZChlKSx0aGlzLl9wb3NpdGlvbkdyb3VwKCl9LF9yZXNldExvY2F0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5hcGksaT10aGlzLl9maW5kQ29vcmRSZWN0KCksbj17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxvPXRoaXMuX29yaWVudD09PWxQP3tyaWdodDpuLndpZHRoLWkueC1pLndpZHRoLHRvcDpuLmhlaWdodC0zMC03LHdpZHRoOmkud2lkdGgsaGVpZ2h0OjMwfTp7cmlnaHQ6Nyx0b3A6aS55LHdpZHRoOjMwLGhlaWdodDppLmhlaWdodH0sYT1uYSh0Lm9wdGlvbik7ZChbInJpZ2h0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbih0KXsicGgiPT09YVt0XSYmKGFbdF09b1t0XSl9KTt2YXIgcj1RbyhhLG4sdC5wYWRkaW5nKTt0aGlzLl9sb2NhdGlvbj17eDpyLngseTpyLnl9LHRoaXMuX3NpemU9W3Iud2lkdGgsci5oZWlnaHRdLCJ2ZXJ0aWNhbCI9PT10aGlzLl9vcmllbnQmJnRoaXMuX3NpemUucmV2ZXJzZSgpfSxfcG9zaXRpb25Hcm91cDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9sb2NhdGlvbixpPXRoaXMuX29yaWVudCxuPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXRGaXJzdFRhcmdldEF4aXNNb2RlbCgpLG89biYmbi5nZXQoImludmVyc2UiKSxhPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cCxyPSh0aGlzLl9kYXRhU2hhZG93SW5mb3x8e30pLm90aGVyQXhpc0ludmVyc2U7YS5hdHRyKGkhPT1sUHx8bz9pPT09bFAmJm8/e3NjYWxlOnI/Wy0xLDFdOlstMSwtMV19OiJ2ZXJ0aWNhbCIhPT1pfHxvP3tzY2FsZTpyP1stMSwtMV06Wy0xLDFdLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlOnI/WzEsLTFdOlsxLDFdLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlOnI/WzEsMV06WzEsLTFdfSk7dmFyIHM9dC5nZXRCb3VuZGluZ1JlY3QoW2FdKTt0LmF0dHIoInBvc2l0aW9uIixbZS54LXMueCxlLnktcy55XSl9LF9nZXRWaWV3RXh0ZW50OmZ1bmN0aW9uKCl7cmV0dXJuWzAsdGhpcy5fc2l6ZVswXV19LF9yZW5kZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5fc2l6ZSxpPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cDtpLmFkZChuZXcgblAoe3NpbGVudDohMCxzaGFwZTp7eDowLHk6MCx3aWR0aDplWzBdLGhlaWdodDplWzFdfSxzdHlsZTp7ZmlsbDp0LmdldCgiYmFja2dyb3VuZENvbG9yIil9LHoyOi00MH0pKSxpLmFkZChuZXcgblAoe3NoYXBlOnt4OjAseTowLHdpZHRoOmVbMF0saGVpZ2h0OmVbMV19LHN0eWxlOntmaWxsOiJ0cmFuc3BhcmVudCJ9LHoyOjAsb25jbGljazptKHRoaXMuX29uQ2xpY2tQYW5lbENsaWNrLHRoaXMpfSkpfSxfcmVuZGVyRGF0YVNoYWRvdzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGFTaGFkb3dJbmZvPXRoaXMuX3ByZXBhcmVEYXRhU2hhZG93SW5mbygpO2lmKHQpe3ZhciBlPXRoaXMuX3NpemUsaT10LnNlcmllcyxuPWkuZ2V0UmF3RGF0YSgpLG89aS5nZXRTaGFkb3dEaW0/aS5nZXRTaGFkb3dEaW0oKTp0Lm90aGVyRGltO2lmKG51bGwhPW8pe3ZhciBhPW4uZ2V0RGF0YUV4dGVudChvKSxzPS4zKihhWzFdLWFbMF0pO2E9W2FbMF0tcyxhWzFdK3NdO3ZhciBsLHU9WzAsZVsxXV0saD1bMCxlWzBdXSxjPVtbZVswXSwwXSxbMCwwXV0sZD1bXSxmPWhbMV0vKG4uY291bnQoKS0xKSxwPTAsZz1NYXRoLnJvdW5kKG4uY291bnQoKS9lWzBdKTtuLmVhY2goW29dLGZ1bmN0aW9uKHQsZSl7aWYoZz4wJiZlJWcpcCs9ZjtlbHNle3ZhciBpPW51bGw9PXR8fGlzTmFOKHQpfHwiIj09PXQsbj1pPzA6b1AodCxhLHUsITApO2kmJiFsJiZlPyhjLnB1c2goW2NbYy5sZW5ndGgtMV1bMF0sMF0pLGQucHVzaChbZFtkLmxlbmd0aC0xXVswXSwwXSkpOiFpJiZsJiYoYy5wdXNoKFtwLDBdKSxkLnB1c2goW3AsMF0pKSxjLnB1c2goW3Asbl0pLGQucHVzaChbcCxuXSkscCs9ZixsPWl9fSk7dmFyIG09dGhpcy5kYXRhWm9vbU1vZGVsO3RoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cC5hZGQobmV3IFpiKHtzaGFwZTp7cG9pbnRzOmN9LHN0eWxlOnIoe2ZpbGw6bS5nZXQoImRhdGFCYWNrZ3JvdW5kQ29sb3IiKX0sbS5nZXRNb2RlbCgiZGF0YUJhY2tncm91bmQuYXJlYVN0eWxlIikuZ2V0QXJlYVN0eWxlKCkpLHNpbGVudDohMCx6MjotMjB9KSksdGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLmFkZChuZXcgVWIoe3NoYXBlOntwb2ludHM6ZH0sc3R5bGU6bS5nZXRNb2RlbCgiZGF0YUJhY2tncm91bmQubGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksc2lsZW50OiEwLHoyOi0xOX0pKX19fSxfcHJlcGFyZURhdGFTaGFkb3dJbmZvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dC5nZXQoInNob3dEYXRhU2hhZG93Iik7aWYoITEhPT1lKXt2YXIgaSxuPXRoaXMuZWNNb2RlbDtyZXR1cm4gdC5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbihvLGEpe2QodC5nZXRBeGlzUHJveHkoby5uYW1lLGEpLmdldFRhcmdldFNlcmllc01vZGVscygpLGZ1bmN0aW9uKHQpe2lmKCEoaXx8ITAhPT1lJiZsKGhQLHQuZ2V0KCJ0eXBlIikpPDApKXt2YXIgcixzPW4uZ2V0Q29tcG9uZW50KG8uYXhpcyxhKS5heGlzLHU9X3Yoby5uYW1lKSxoPXQuY29vcmRpbmF0ZVN5c3RlbTtudWxsIT11JiZoLmdldE90aGVyQXhpcyYmKHI9aC5nZXRPdGhlckF4aXMocykuaW52ZXJzZSksdT10LmdldERhdGEoKS5tYXBEaW1lbnNpb24odSksaT17dGhpc0F4aXM6cyxzZXJpZXM6dCx0aGlzRGltOm8ubmFtZSxvdGhlckRpbTp1LG90aGVyQXhpc0ludmVyc2U6cn19fSx0aGlzKX0sdGhpcyksaX19LF9yZW5kZXJIYW5kbGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kaXNwbGF5YWJsZXMsZT10LmhhbmRsZXM9W10saT10LmhhbmRsZUxhYmVscz1bXSxuPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cCxvPXRoaXMuX3NpemUsYT10aGlzLmRhdGFab29tTW9kZWw7bi5hZGQodC5maWxsZXI9bmV3IG5QKHtkcmFnZ2FibGU6ITAsY3Vyc29yOnd2KHRoaXMuX29yaWVudCksZHJpZnQ6clAodGhpcy5fb25EcmFnTW92ZSx0aGlzLCJhbGwiKSxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtydyh0LmV2ZW50KX0sb25kcmFnc3RhcnQ6clAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9uZHJhZ2VuZDpyUCh0aGlzLl9vbkRyYWdFbmQsdGhpcyksb25tb3VzZW92ZXI6clAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9ubW91c2VvdXQ6clAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITEpLHN0eWxlOntmaWxsOmEuZ2V0KCJmaWxsZXJDb2xvciIpLHRleHRQb3NpdGlvbjoiaW5zaWRlIn19KSksbi5hZGQobmV3IG5QKEZuKHtzaWxlbnQ6ITAsc2hhcGU6e3g6MCx5OjAsd2lkdGg6b1swXSxoZWlnaHQ6b1sxXX0sc3R5bGU6e3N0cm9rZTphLmdldCgiZGF0YUJhY2tncm91bmRDb2xvciIpfHxhLmdldCgiYm9yZGVyQ29sb3IiKSxsaW5lV2lkdGg6MSxmaWxsOiJyZ2JhKDAsMCwwLDApIn19KSkpLHNQKFswLDFdLGZ1bmN0aW9uKHQpe3ZhciBvPV9vKGEuZ2V0KCJoYW5kbGVJY29uIikse2N1cnNvcjp3dih0aGlzLl9vcmllbnQpLGRyYWdnYWJsZTohMCxkcmlmdDpyUCh0aGlzLl9vbkRyYWdNb3ZlLHRoaXMsdCksb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7cncodC5ldmVudCl9LG9uZHJhZ2VuZDpyUCh0aGlzLl9vbkRyYWdFbmQsdGhpcyksb25tb3VzZW92ZXI6clAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9ubW91c2VvdXQ6clAodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITEpfSx7eDotMSx5OjAsd2lkdGg6MixoZWlnaHQ6Mn0pLHI9by5nZXRCb3VuZGluZ1JlY3QoKTt0aGlzLl9oYW5kbGVIZWlnaHQ9VG8oYS5nZXQoImhhbmRsZVNpemUiKSx0aGlzLl9zaXplWzFdKSx0aGlzLl9oYW5kbGVXaWR0aD1yLndpZHRoL3IuaGVpZ2h0KnRoaXMuX2hhbmRsZUhlaWdodCxvLnNldFN0eWxlKGEuZ2V0TW9kZWwoImhhbmRsZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpO3ZhciBzPWEuZ2V0KCJoYW5kbGVDb2xvciIpO251bGwhPXMmJihvLnN0eWxlLmZpbGw9cyksbi5hZGQoZVt0XT1vKTt2YXIgbD1hLnRleHRTdHlsZU1vZGVsO3RoaXMuZ3JvdXAuYWRkKGlbdF09bmV3IHpiKHtzaWxlbnQ6ITAsaW52aXNpYmxlOiEwLHN0eWxlOnt4OjAseTowLHRleHQ6IiIsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOiJjZW50ZXIiLHRleHRGaWxsOmwuZ2V0VGV4dENvbG9yKCksdGV4dEZvbnQ6bC5nZXRGb250KCl9LHoyOjEwfSkpfSx0aGlzKX0sX3Jlc2V0SW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYW5nZT10aGlzLmRhdGFab29tTW9kZWwuZ2V0UGVyY2VudFJhbmdlKCksZT10aGlzLl9nZXRWaWV3RXh0ZW50KCk7dGhpcy5faGFuZGxlRW5kcz1bb1AodFswXSxbMCwxMDBdLGUsITApLG9QKHRbMV0sWzAsMTAwXSxlLCEwKV19LF91cGRhdGVJbnRlcnZhbDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZGF0YVpvb21Nb2RlbCxuPXRoaXMuX2hhbmRsZUVuZHMsbz10aGlzLl9nZXRWaWV3RXh0ZW50KCksYT1pLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKSxyPVswLDEwMF07ZUMoZSxuLG8saS5nZXQoInpvb21Mb2NrIik/ImFsbCI6dCxudWxsIT1hLm1pblNwYW4/b1AoYS5taW5TcGFuLHIsbywhMCk6bnVsbCxudWxsIT1hLm1heFNwYW4/b1AoYS5tYXhTcGFuLHIsbywhMCk6bnVsbCksdGhpcy5fcmFuZ2U9YVAoW29QKG5bMF0sbyxyLCEwKSxvUChuWzFdLG8sciwhMCldKX0sX3VwZGF0ZVZpZXc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGlzcGxheWFibGVzLGk9dGhpcy5faGFuZGxlRW5kcyxuPWFQKGkuc2xpY2UoKSksbz10aGlzLl9zaXplO3NQKFswLDFdLGZ1bmN0aW9uKHQpe3ZhciBuPWUuaGFuZGxlc1t0XSxhPXRoaXMuX2hhbmRsZUhlaWdodDtuLmF0dHIoe3NjYWxlOlthLzIsYS8yXSxwb3NpdGlvbjpbaVt0XSxvWzFdLzItYS8yXX0pfSx0aGlzKSxlLmZpbGxlci5zZXRTaGFwZSh7eDpuWzBdLHk6MCx3aWR0aDpuWzFdLW5bMF0saGVpZ2h0Om9bMV19KSx0aGlzLl91cGRhdGVEYXRhSW5mbyh0KX0sX3VwZGF0ZURhdGFJbmZvOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU9Z28obi5oYW5kbGVzW3RdLnBhcmVudCx0aGlzLmdyb3VwKSxpPXZvKDA9PT10PyJyaWdodCI6ImxlZnQiLGUpLHM9dGhpcy5faGFuZGxlV2lkdGgvMit1UCxsPW1vKFtjW3RdKygwPT09dD8tczpzKSx0aGlzLl9zaXplWzFdLzJdLGUpO29bdF0uc2V0U3R5bGUoe3g6bFswXSx5OmxbMV0sdGV4dFZlcnRpY2FsQWxpZ246YT09PWxQPyJtaWRkbGUiOmksdGV4dEFsaWduOmE9PT1sUD9pOiJjZW50ZXIiLHRleHQ6clt0XX0pfXZhciBpPXRoaXMuZGF0YVpvb21Nb2RlbCxuPXRoaXMuX2Rpc3BsYXlhYmxlcyxvPW4uaGFuZGxlTGFiZWxzLGE9dGhpcy5fb3JpZW50LHI9WyIiLCIiXTtpZihpLmdldCgic2hvd0RldGFpbCIpKXt2YXIgcz1pLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpO2lmKHMpe3ZhciBsPXMuZ2V0QXhpc01vZGVsKCkuYXhpcyx1PXRoaXMuX3JhbmdlLGg9dD9zLmNhbGN1bGF0ZURhdGFXaW5kb3coe3N0YXJ0OnVbMF0sZW5kOnVbMV19KS52YWx1ZVdpbmRvdzpzLmdldERhdGFWYWx1ZVdpbmRvdygpO3I9W3RoaXMuX2Zvcm1hdExhYmVsKGhbMF0sbCksdGhpcy5fZm9ybWF0TGFiZWwoaFsxXSxsKV19fXZhciBjPWFQKHRoaXMuX2hhbmRsZUVuZHMuc2xpY2UoKSk7ZS5jYWxsKHRoaXMsMCksZS5jYWxsKHRoaXMsMSl9LF9mb3JtYXRMYWJlbDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZGF0YVpvb21Nb2RlbCxuPWkuZ2V0KCJsYWJlbEZvcm1hdHRlciIpLG89aS5nZXQoImxhYmVsUHJlY2lzaW9uIik7bnVsbCE9byYmImF1dG8iIT09b3x8KG89ZS5nZXRQaXhlbFByZWNpc2lvbigpKTt2YXIgYT1udWxsPT10fHxpc05hTih0KT8iIjoiY2F0ZWdvcnkiPT09ZS50eXBlfHwidGltZSI9PT1lLnR5cGU/ZS5zY2FsZS5nZXRMYWJlbChNYXRoLnJvdW5kKHQpKTp0LnRvRml4ZWQoTWF0aC5taW4obywyMCkpO3JldHVybiB4KG4pP24odCxhKTpfKG4pP24ucmVwbGFjZSgie3ZhbHVlfSIsYSk6YX0sX3Nob3dEYXRhSW5mbzpmdW5jdGlvbih0KXt0PXRoaXMuX2RyYWdnaW5nfHx0O3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcy5oYW5kbGVMYWJlbHM7ZVswXS5hdHRyKCJpbnZpc2libGUiLCF0KSxlWzFdLmF0dHIoImludmlzaWJsZSIsIXQpfSxfb25EcmFnTW92ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5fZHJhZ2dpbmc9ITA7dmFyIG49bW8oW2UsaV0sdGhpcy5fZGlzcGxheWFibGVzLmJhckdyb3VwLmdldExvY2FsVHJhbnNmb3JtKCksITApO3RoaXMuX3VwZGF0ZUludGVydmFsKHQsblswXSk7dmFyIG89dGhpcy5kYXRhWm9vbU1vZGVsLmdldCgicmVhbHRpbWUiKTt0aGlzLl91cGRhdGVWaWV3KCFvKSxvJiZ0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24oKX0sX29uRHJhZ0VuZDpmdW5jdGlvbigpe3RoaXMuX2RyYWdnaW5nPSExLHRoaXMuX3Nob3dEYXRhSW5mbyghMSksIXRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoInJlYWx0aW1lIikmJnRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbigpfSxfb25DbGlja1BhbmVsQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2l6ZSxpPXRoaXMuX2Rpc3BsYXlhYmxlcy5iYXJHcm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoIShpWzBdPDB8fGlbMF0+ZVswXXx8aVsxXTwwfHxpWzFdPmVbMV0pKXt2YXIgbj10aGlzLl9oYW5kbGVFbmRzLG89KG5bMF0rblsxXSkvMjt0aGlzLl91cGRhdGVJbnRlcnZhbCgiYWxsIixpWzBdLW8pLHRoaXMuX3VwZGF0ZVZpZXcoKSx0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24oKX19LF9kaXNwYXRjaFpvb21BY3Rpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yYW5nZTt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGZyb206dGhpcy51aWQsZGF0YVpvb21JZDp0aGlzLmRhdGFab29tTW9kZWwuaWQsc3RhcnQ6dFswXSxlbmQ6dFsxXX0pfSxfZmluZENvb3JkUmVjdDpmdW5jdGlvbigpe3ZhciB0O2lmKHNQKHRoaXMuZ2V0VGFyZ2V0Q29vcmRJbmZvKCksZnVuY3Rpb24oZSl7aWYoIXQmJmUubGVuZ3RoKXt2YXIgaT1lWzBdLm1vZGVsLmNvb3JkaW5hdGVTeXN0ZW07dD1pLmdldFJlY3QmJmkuZ2V0UmVjdCgpfX0pLCF0KXt2YXIgZT10aGlzLmFwaS5nZXRXaWR0aCgpLGk9dGhpcy5hcGkuZ2V0SGVpZ2h0KCk7dD17eDouMiplLHk6LjIqaSx3aWR0aDouNiplLGhlaWdodDouNippfX1yZXR1cm4gdH19KTtlUC5leHRlbmQoe3R5cGU6ImRhdGFab29tLmluc2lkZSIsZGVmYXVsdE9wdGlvbjp7ZGlzYWJsZWQ6ITEsem9vbUxvY2s6ITEsem9vbU9uTW91c2VXaGVlbDohMCxtb3ZlT25Nb3VzZU1vdmU6ITAscHJldmVudERlZmF1bHRNb3VzZU1vdmU6ITB9fSk7dmFyIGRQPXYsZlA9IlwwX2VjX2RhdGFab29tX3JvYW1zIixwUD1tLGdQPWlQLmV4dGVuZCh7dHlwZToiZGF0YVpvb20uaW5zaWRlIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5fcmFuZ2V9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSxuKXtnUC5zdXBlckFwcGx5KHRoaXMsInJlbmRlciIsYXJndW1lbnRzKSxNdihuLHQuaWQpJiYodGhpcy5fcmFuZ2U9dC5nZXRQZXJjZW50UmFuZ2UoKSksZCh0aGlzLmdldFRhcmdldENvb3JkSW5mbygpLGZ1bmN0aW9uKGUsbil7dmFyIG89ZihlLGZ1bmN0aW9uKHQpe3JldHVybiBJdih0Lm1vZGVsKX0pO2QoZSxmdW5jdGlvbihlKXt2YXIgYT1lLm1vZGVsLHI9dC5vcHRpb247YnYoaSx7Y29vcmRJZDpJdihhKSxhbGxDb29yZElkczpvLGNvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBhLmNvb3JkaW5hdGVTeXN0ZW0uY29udGFpblBvaW50KFtlLGldKX0sZGF0YVpvb21JZDp0LmlkLHRocm90dGxlUmF0ZTp0LmdldCgidGhyb3R0bGUiLCEwKSxwYW5HZXRSYW5nZTpwUCh0aGlzLl9vblBhbix0aGlzLGUsbiksem9vbUdldFJhbmdlOnBQKHRoaXMuX29uWm9vbSx0aGlzLGUsbiksem9vbUxvY2s6ci56b29tTG9jayxkaXNhYmxlZDpyLmRpc2FibGVkLHJvYW1Db250cm9sbGVyT3B0Ont6b29tT25Nb3VzZVdoZWVsOnIuem9vbU9uTW91c2VXaGVlbCxtb3ZlT25Nb3VzZU1vdmU6ci5tb3ZlT25Nb3VzZU1vdmUscHJldmVudERlZmF1bHRNb3VzZU1vdmU6ci5wcmV2ZW50RGVmYXVsdE1vdXNlTW92ZX19KX0sdGhpcyl9LHRoaXMpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7U3YodGhpcy5hcGksdGhpcy5kYXRhWm9vbU1vZGVsLmlkKSxnUC5zdXBlckFwcGx5KHRoaXMsImRpc3Bvc2UiLGFyZ3VtZW50cyksdGhpcy5fcmFuZ2U9bnVsbH0sX29uUGFuOmZ1bmN0aW9uKHQsZSxpLG4sbyxhLHIscyxsKXt2YXIgdT10aGlzLl9yYW5nZS5zbGljZSgpLGg9dC5heGlzTW9kZWxzWzBdO2lmKGgpe3ZhciBjPW1QW2VdKFthLHJdLFtzLGxdLGgsaSx0KSxkPWMuc2lnbmFsKih1WzFdLXVbMF0pKmMucGl4ZWwvYy5waXhlbExlbmd0aDtyZXR1cm4gZUMoZCx1LFswLDEwMF0sImFsbCIpLHRoaXMuX3JhbmdlPXV9fSxfb25ab29tOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcj10aGlzLl9yYW5nZS5zbGljZSgpLHM9dC5heGlzTW9kZWxzWzBdO2lmKHMpe3ZhciBsPW1QW2VdKG51bGwsW28sYV0scyxpLHQpLHU9KGwuc2lnbmFsPjA/bC5waXhlbFN0YXJ0K2wucGl4ZWxMZW5ndGgtbC5waXhlbDpsLnBpeGVsLWwucGl4ZWxTdGFydCkvbC5waXhlbExlbmd0aCooclsxXS1yWzBdKStyWzBdO249TWF0aC5tYXgoMS9uLDApLHJbMF09KHJbMF0tdSkqbit1LHJbMV09KHJbMV0tdSkqbit1O3ZhciBoPXRoaXMuZGF0YVpvb21Nb2RlbC5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKS5nZXRNaW5NYXhTcGFuKCk7cmV0dXJuIGVDKDAscixbMCwxMDBdLDAsaC5taW5TcGFuLGgubWF4U3BhbiksdGhpcy5fcmFuZ2U9cn19fSksbVA9e2dyaWQ6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgYT1pLmF4aXMscj17fSxzPW8ubW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCk7cmV0dXJuIHQ9dHx8WzAsMF0sIngiPT09YS5kaW0/KHIucGl4ZWw9ZVswXS10WzBdLHIucGl4ZWxMZW5ndGg9cy53aWR0aCxyLnBpeGVsU3RhcnQ9cy54LHIuc2lnbmFsPWEuaW52ZXJzZT8xOi0xKTooci5waXhlbD1lWzFdLXRbMV0sci5waXhlbExlbmd0aD1zLmhlaWdodCxyLnBpeGVsU3RhcnQ9cy55LHIuc2lnbmFsPWEuaW52ZXJzZT8tMToxKSxyfSxwb2xhcjpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPWkuYXhpcyxyPXt9LHM9by5tb2RlbC5jb29yZGluYXRlU3lzdGVtLGw9cy5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksdT1zLmdldEFuZ2xlQXhpcygpLmdldEV4dGVudCgpO3JldHVybiB0PXQ/cy5wb2ludFRvQ29vcmQodCk6WzAsMF0sZT1zLnBvaW50VG9Db29yZChlKSwicmFkaXVzQXhpcyI9PT1pLm1haW5UeXBlPyhyLnBpeGVsPWVbMF0tdFswXSxyLnBpeGVsTGVuZ3RoPWxbMV0tbFswXSxyLnBpeGVsU3RhcnQ9bFswXSxyLnNpZ25hbD1hLmludmVyc2U/MTotMSk6KHIucGl4ZWw9ZVsxXS10WzFdLHIucGl4ZWxMZW5ndGg9dVsxXS11WzBdLHIucGl4ZWxTdGFydD11WzBdLHIuc2lnbmFsPWEuaW52ZXJzZT8tMToxKSxyfSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIGE9aS5heGlzLHI9by5tb2RlbC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzPXt9O3JldHVybiB0PXR8fFswLDBdLCJob3Jpem9udGFsIj09PWEub3JpZW50PyhzLnBpeGVsPWVbMF0tdFswXSxzLnBpeGVsTGVuZ3RoPXIud2lkdGgscy5waXhlbFN0YXJ0PXIueCxzLnNpZ25hbD1hLmludmVyc2U/MTotMSk6KHMucGl4ZWw9ZVsxXS10WzFdLHMucGl4ZWxMZW5ndGg9ci5oZWlnaHQscy5waXhlbFN0YXJ0PXIueSxzLnNpZ25hbD1hLmludmVyc2U/LTE6MSksc319O3VzKHtnZXRUYXJnZXRTZXJpZXM6ZnVuY3Rpb24odCl7dmFyIGU9eigpO3JldHVybiB0LmVhY2hDb21wb25lbnQoImRhdGFab29tIixmdW5jdGlvbih0KXt0LmVhY2hUYXJnZXRBeGlzKGZ1bmN0aW9uKHQsaSxuKXtkKG4uZ2V0QXhpc1Byb3h5KHQubmFtZSxpKS5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSxmdW5jdGlvbih0KXtlLnNldCh0LnVpZCx0KX0pfSl9KSxlfSxpc092ZXJhbGxGaWx0ZXI6ITAsb3ZlcmFsbFJlc2V0OmZ1bmN0aW9uKHQsZSl7dC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsZnVuY3Rpb24odCl7dC5lYWNoVGFyZ2V0QXhpcyhmdW5jdGlvbih0LGksbil7bi5nZXRBeGlzUHJveHkodC5uYW1lLGkpLnJlc2V0KG4sZSl9KSx0LmVhY2hUYXJnZXRBeGlzKGZ1bmN0aW9uKHQsaSxuKXtuLmdldEF4aXNQcm94eSh0Lm5hbWUsaSkuZmlsdGVyRGF0YShuLGUpfSl9KSx0LmVhY2hDb21wb25lbnQoImRhdGFab29tIixmdW5jdGlvbih0KXt2YXIgZT10LmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLGk9ZS5nZXREYXRhUGVyY2VudFdpbmRvdygpLG49ZS5nZXREYXRhVmFsdWVXaW5kb3coKTt0LnNldFJhd1JhbmdlKHtzdGFydDppWzBdLGVuZDppWzFdLHN0YXJ0VmFsdWU6blswXSxlbmRWYWx1ZTpuWzFdfSwhMCl9KX19KSxocygiZGF0YVpvb20iLGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZnYobShlLmVhY2hDb21wb25lbnQsZSwiZGF0YVpvb20iKSxxayxmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldChlLmF4aXNJbmRleCl9KSxuPVtdO2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImRhdGFab29tIixxdWVyeTp0fSxmdW5jdGlvbih0LGUpe24ucHVzaC5hcHBseShuLGkodCkubm9kZXMpfSksZChuLGZ1bmN0aW9uKGUsaSl7ZS5zZXRSYXdSYW5nZSh7c3RhcnQ6dC5zdGFydCxlbmQ6dC5lbmQsc3RhcnRWYWx1ZTp0LnN0YXJ0VmFsdWUsZW5kVmFsdWU6dC5lbmRWYWx1ZX0pfSl9KTt2YXIgdlA9ZCx5UD1mdW5jdGlvbih0KXt2YXIgZT10JiZ0LnZpc3VhbE1hcDt5KGUpfHwoZT1lP1tlXTpbXSksdlAoZSxmdW5jdGlvbih0KXtpZih0KXtPdih0LCJzcGxpdExpc3QiKSYmIU92KHQsInBpZWNlcyIpJiYodC5waWVjZXM9dC5zcGxpdExpc3QsZGVsZXRlIHQuc3BsaXRMaXN0KTt2YXIgZT10LnBpZWNlcztlJiZ5KGUpJiZ2UChlLGZ1bmN0aW9uKHQpe3codCkmJihPdih0LCJzdGFydCIpJiYhT3YodCwibWluIikmJih0Lm1pbj10LnN0YXJ0KSxPdih0LCJlbmQiKSYmIU92KHQsIm1heCIpJiYodC5tYXg9dC5lbmQpKX0pfX0pfTtrUy5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoInZpc3VhbE1hcCIsZnVuY3Rpb24odCl7cmV0dXJuIHQuY2F0ZWdvcmllc3x8KHQucGllY2VzP3QucGllY2VzLmxlbmd0aD4wOnQuc3BsaXROdW1iZXI+MCkmJiF0LmNhbGN1bGFibGU/InBpZWNld2lzZSI6ImNvbnRpbnVvdXMifSk7dmFyIHhQPXFNLlZJU1VBTC5DT01QT05FTlQ7ZnMoeFAse2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107cmV0dXJuIGUuZWFjaENvbXBvbmVudCgidmlzdWFsTWFwIixmdW5jdGlvbihlKXtlLmlzVGFyZ2V0U2VyaWVzKHQpJiZpLnB1c2goUm0oZS5zdGF0ZUxpc3QsZS50YXJnZXRWaXN1YWxzLG0oZS5nZXRWYWx1ZVN0YXRlLGUpLGUuZ2V0RGF0YURpbWVuc2lvbih0LmdldERhdGEoKSkpKX0pLGl9fSksZnMoeFAse2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5nZXREYXRhKCksbj1bXTtlLmVhY2hDb21wb25lbnQoInZpc3VhbE1hcCIsZnVuY3Rpb24oZSl7aWYoZS5pc1RhcmdldFNlcmllcyh0KSl7dmFyIG89ZS5nZXRWaXN1YWxNZXRhKG0oRXYsbnVsbCx0LGUpKXx8e3N0b3BzOltdLG91dGVyQ29sb3JzOltdfSxhPWUuZ2V0RGF0YURpbWVuc2lvbihpKSxyPWkuZ2V0RGltZW5zaW9uSW5mbyhhKTtudWxsIT1yJiYoby5kaW1lbnNpb249ci5pbmRleCxuLnB1c2gobykpfX0pLHQuZ2V0RGF0YSgpLnNldFZpc3VhbCgidmlzdWFsTWV0YSIsbil9fSk7dmFyIF9QPXtnZXQ6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWkoKHdQW3RdfHx7fSlbZV0pO3JldHVybiBuJiZ5KG8pP29bby5sZW5ndGgtMV06b319LHdQPXtjb2xvcjp7YWN0aXZlOlsiIzAwNmVkZCIsIiNlMGZmZmYiXSxpbmFjdGl2ZTpbInJnYmEoMCwwLDAsMCkiXX0sY29sb3JIdWU6e2FjdGl2ZTpbMCwzNjBdLGluYWN0aXZlOlswLDBdfSxjb2xvclNhdHVyYXRpb246e2FjdGl2ZTpbLjMsMV0saW5hY3RpdmU6WzAsMF19LGNvbG9yTGlnaHRuZXNzOnthY3RpdmU6Wy45LC41XSxpbmFjdGl2ZTpbMCwwXX0sY29sb3JBbHBoYTp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sb3BhY2l0eTp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sc3ltYm9sOnthY3RpdmU6WyJjaXJjbGUiLCJyb3VuZFJlY3QiLCJkaWFtb25kIl0saW5hY3RpdmU6WyJub25lIl19LHN5bWJvbFNpemU6e2FjdGl2ZTpbMTAsNTBdLGluYWN0aXZlOlswLDBdfX0sYlA9ZkEubWFwVmlzdWFsLFNQPWZBLmVhY2hWaXN1YWwsTVA9eSxJUD1kLERQPUNvLFRQPURvLEFQPUIsQ1A9bXMoe3R5cGU6InZpc3VhbE1hcCIsZGVwZW5kZW5jaWVzOlsic2VyaWVzIl0sc3RhdGVMaXN0OlsiaW5SYW5nZSIsIm91dE9mUmFuZ2UiXSxyZXBsYWNhYmxlT3B0aW9uS2V5czpbImluUmFuZ2UiLCJvdXRPZlJhbmdlIiwidGFyZ2V0IiwiY29udHJvbGxlciIsImNvbG9yIl0sZGF0YUJvdW5kOlstMS8wLDEvMF0sbGF5b3V0TW9kZTp7dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxkZWZhdWx0T3B0aW9uOntzaG93OiEwLHpsZXZlbDowLHo6NCxzZXJpZXNJbmRleDoiYWxsIixtaW46MCxtYXg6MjAwLGRpbWVuc2lvbjpudWxsLGluUmFuZ2U6bnVsbCxvdXRPZlJhbmdlOm51bGwsbGVmdDowLHJpZ2h0Om51bGwsdG9wOm51bGwsYm90dG9tOjAsaXRlbVdpZHRoOm51bGwsaXRlbUhlaWdodDpudWxsLGludmVyc2U6ITEsb3JpZW50OiJ2ZXJ0aWNhbCIsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsY29udGVudENvbG9yOiIjNTc5M2YzIixpbmFjdGl2ZUNvbG9yOiIjYWFhIixib3JkZXJXaWR0aDowLHBhZGRpbmc6NSx0ZXh0R2FwOjEwLHByZWNpc2lvbjowLGNvbG9yOm51bGwsZm9ybWF0dGVyOm51bGwsdGV4dDpudWxsLHRleHRTdHlsZTp7Y29sb3I6IiMzMzMifX0saW5pdDpmdW5jdGlvbih0LGUsaSl7dGhpcy5fZGF0YUV4dGVudCx0aGlzLnRhcmdldFZpc3VhbHM9e30sdGhpcy5jb250cm9sbGVyVmlzdWFscz17fSx0aGlzLnRleHRTdHlsZU1vZGVsLHRoaXMuaXRlbVNpemUsdGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5vcHRpb247QXguY2FudmFzU3VwcG9ydGVkfHwoaS5yZWFsdGltZT0hMSksIWUmJkVtKGksdCx0aGlzLnJlcGxhY2FibGVPcHRpb25LZXlzKSx0aGlzLnRleHRTdHlsZU1vZGVsPXRoaXMuZ2V0TW9kZWwoInRleHRTdHlsZSIpLHRoaXMucmVzZXRJdGVtU2l6ZSgpLHRoaXMuY29tcGxldGVWaXN1YWxPcHRpb24oKX0scmVzZXRWaXN1YWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZUxpc3Q7dD1tKHQsdGhpcyksdGhpcy5jb250cm9sbGVyVmlzdWFscz1PbSh0aGlzLm9wdGlvbi5jb250cm9sbGVyLGUsdCksdGhpcy50YXJnZXRWaXN1YWxzPU9tKHRoaXMub3B0aW9uLnRhcmdldCxlLHQpfSxnZXRUYXJnZXRTZXJpZXNJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24uc2VyaWVzSW5kZXgsZT1bXTtyZXR1cm4gbnVsbD09dHx8ImFsbCI9PT10P3RoaXMuZWNNb2RlbC5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQsaSl7ZS5wdXNoKGkpfSk6ZT1TaSh0KSxlfSxlYWNoVGFyZ2V0U2VyaWVzOmZ1bmN0aW9uKHQsZSl7ZCh0aGlzLmdldFRhcmdldFNlcmllc0luZGljZXMoKSxmdW5jdGlvbihpKXt0LmNhbGwoZSx0aGlzLmVjTW9kZWwuZ2V0U2VyaWVzQnlJbmRleChpKSl9LHRoaXMpfSxpc1RhcmdldFNlcmllczpmdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKGZ1bmN0aW9uKGkpe2k9PT10JiYoZT0hMCl9KSxlfSxmb3JtYXRWYWx1ZVRleHQ6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQ9PT1sWzBdPyJtaW4iOnQ9PT1sWzFdPyJtYXgiOigrdCkudG9GaXhlZChNYXRoLm1pbihzLDIwKSl9dmFyIG8sYSxyPXRoaXMub3B0aW9uLHM9ci5wcmVjaXNpb24sbD10aGlzLmRhdGFCb3VuZCx1PXIuZm9ybWF0dGVyO3JldHVybiBpPWl8fFsiPCIsIj4iXSx5KHQpJiYodD10LnNsaWNlKCksbz0hMCksYT1lP3Q6bz9bbih0WzBdKSxuKHRbMV0pXTpuKHQpLF8odSk/dS5yZXBsYWNlKCJ7dmFsdWV9IixvP2FbMF06YSkucmVwbGFjZSgie3ZhbHVlMn0iLG8/YVsxXTphKTp4KHUpP28/dSh0WzBdLHRbMV0pOnUodCk6bz90WzBdPT09bFswXT9pWzBdKyIgIithWzFdOnRbMV09PT1sWzFdP2lbMV0rIiAiK2FbMF06YVswXSsiIC0gIithWzFdOmF9LHJlc2V0RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT1EUChbdC5taW4sdC5tYXhdKTt0aGlzLl9kYXRhRXh0ZW50PWV9LGdldERhdGFEaW1lbnNpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24uZGltZW5zaW9uLGk9dC5kaW1lbnNpb25zO2lmKG51bGwhPWV8fGkubGVuZ3RoKXtpZihudWxsIT1lKXJldHVybiB0LmdldERpbWVuc2lvbihlKTtmb3IodmFyIG49dC5kaW1lbnNpb25zLG89bi5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9bltvXTtpZighdC5nZXREaW1lbnNpb25JbmZvKGEpLmlzQ2FsY3VsYXRpb25Db29yZClyZXR1cm4gYX19fSxnZXRFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YUV4dGVudC5zbGljZSgpfSxjb21wbGV0ZVZpc3VhbE9wdGlvbjpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7TVAoby5jb2xvcikmJiF0LmluUmFuZ2UmJih0LmluUmFuZ2U9e2NvbG9yOm8uY29sb3Iuc2xpY2UoKS5yZXZlcnNlKCl9KSx0LmluUmFuZ2U9dC5pblJhbmdlfHx7Y29sb3I6ZS5nZXQoImdyYWRpZW50Q29sb3IiKX0sSVAodGhpcy5zdGF0ZUxpc3QsZnVuY3Rpb24oZSl7dmFyIGk9dFtlXTtpZihfKGkpKXt2YXIgbj1fUC5nZXQoaSwiYWN0aXZlIixsKTtuPyh0W2VdPXt9LHRbZV1baV09bik6ZGVsZXRlIHRbZV19fSx0aGlzKX12YXIgZT10aGlzLmVjTW9kZWwsbz10aGlzLm9wdGlvbixhPXtpblJhbmdlOm8uaW5SYW5nZSxvdXRPZlJhbmdlOm8ub3V0T2ZSYW5nZX0scj1vLnRhcmdldHx8KG8udGFyZ2V0PXt9KSxzPW8uY29udHJvbGxlcnx8KG8uY29udHJvbGxlcj17fSk7bihyLGEpLG4ocyxhKTt2YXIgbD10aGlzLmlzQ2F0ZWdvcnkoKTt0LmNhbGwodGhpcyxyKSx0LmNhbGwodGhpcyxzKSxmdW5jdGlvbih0LGUsaSl7dmFyIG49dFtlXSxvPXRbaV07biYmIW8mJihvPXRbaV09e30sSVAobixmdW5jdGlvbih0LGUpe2lmKGZBLmlzVmFsaWRUeXBlKGUpKXt2YXIgaT1fUC5nZXQoZSwiaW5hY3RpdmUiLGwpO251bGwhPWkmJihvW2VdPWksImNvbG9yIiE9PWV8fG8uaGFzT3duUHJvcGVydHkoIm9wYWNpdHkiKXx8by5oYXNPd25Qcm9wZXJ0eSgiY29sb3JBbHBoYSIpfHwoby5vcGFjaXR5PVswLDBdKSl9fSkpfS5jYWxsKHRoaXMsciwiaW5SYW5nZSIsIm91dE9mUmFuZ2UiKSxmdW5jdGlvbih0KXt2YXIgZT0odC5pblJhbmdlfHx7fSkuc3ltYm9sfHwodC5vdXRPZlJhbmdlfHx7fSkuc3ltYm9sLG49KHQuaW5SYW5nZXx8e30pLnN5bWJvbFNpemV8fCh0Lm91dE9mUmFuZ2V8fHt9KS5zeW1ib2xTaXplLG89dGhpcy5nZXQoImluYWN0aXZlQ29sb3IiKTtJUCh0aGlzLnN0YXRlTGlzdCxmdW5jdGlvbihhKXt2YXIgcj10aGlzLml0ZW1TaXplLHM9dFthXTtzfHwocz10W2FdPXtjb2xvcjpsP286W29dfSksbnVsbD09cy5zeW1ib2wmJihzLnN5bWJvbD1lJiZpKGUpfHwobD8icm91bmRSZWN0IjpbInJvdW5kUmVjdCJdKSksbnVsbD09cy5zeW1ib2xTaXplJiYocy5zeW1ib2xTaXplPW4mJmkobil8fChsP3JbMF06W3JbMF0sclswXV0pKSxzLnN5bWJvbD1iUChzLnN5bWJvbCxmdW5jdGlvbih0KXtyZXR1cm4ibm9uZSI9PT10fHwic3F1YXJlIj09PXQ/InJvdW5kUmVjdCI6dH0pO3ZhciB1PXMuc3ltYm9sU2l6ZTtpZihudWxsIT11KXt2YXIgaD0tMS8wO1NQKHUsZnVuY3Rpb24odCl7dD5oJiYoaD10KX0pLHMuc3ltYm9sU2l6ZT1iUCh1LGZ1bmN0aW9uKHQpe3JldHVybiBUUCh0LFswLGhdLFswLHJbMF1dLCEwKX0pfX0sdGhpcyl9LmNhbGwodGhpcyxzKX0scmVzZXRJdGVtU2l6ZTpmdW5jdGlvbigpe3RoaXMuaXRlbVNpemU9W3BhcnNlRmxvYXQodGhpcy5nZXQoIml0ZW1XaWR0aCIpKSxwYXJzZUZsb2F0KHRoaXMuZ2V0KCJpdGVtSGVpZ2h0IikpXX0saXNDYXRlZ29yeTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5vcHRpb24uY2F0ZWdvcmllc30sc2V0U2VsZWN0ZWQ6QVAsZ2V0VmFsdWVTdGF0ZTpBUCxnZXRWaXN1YWxNZXRhOkFQfSksTFA9WzIwLDE0MF0sa1A9Q1AuZXh0ZW5kKHt0eXBlOiJ2aXN1YWxNYXAuY29udGludW91cyIsZGVmYXVsdE9wdGlvbjp7YWxpZ246ImF1dG8iLGNhbGN1bGFibGU6ITEscmFuZ2U6bnVsbCxyZWFsdGltZTohMCxpdGVtSGVpZ2h0Om51bGwsaXRlbVdpZHRoOm51bGwsaG92ZXJMaW5rOiEwLGhvdmVyTGlua0RhdGFTaXplOm51bGwsaG92ZXJMaW5rT25IYW5kbGU6bnVsbH0sb3B0aW9uVXBkYXRlZDpmdW5jdGlvbih0LGUpe2tQLnN1cGVyQXBwbHkodGhpcywib3B0aW9uVXBkYXRlZCIsYXJndW1lbnRzKSx0aGlzLnJlc2V0RXh0ZW50KCksdGhpcy5yZXNldFZpc3VhbChmdW5jdGlvbih0KXt0Lm1hcHBpbmdNZXRob2Q9ImxpbmVhciIsdC5kYXRhRXh0ZW50PXRoaXMuZ2V0RXh0ZW50KCl9KSx0aGlzLl9yZXNldFJhbmdlKCl9LHJlc2V0SXRlbVNpemU6ZnVuY3Rpb24oKXtrUC5zdXBlckFwcGx5KHRoaXMsInJlc2V0SXRlbVNpemUiLGFyZ3VtZW50cyk7dmFyIHQ9dGhpcy5pdGVtU2l6ZTsiaG9yaXpvbnRhbCI9PT10aGlzLl9vcmllbnQmJnQucmV2ZXJzZSgpLChudWxsPT10WzBdfHxpc05hTih0WzBdKSkmJih0WzBdPUxQWzBdKSwobnVsbD09dFsxXXx8aXNOYU4odFsxXSkpJiYodFsxXT1MUFsxXSl9LF9yZXNldFJhbmdlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFeHRlbnQoKSxlPXRoaXMub3B0aW9uLnJhbmdlOyFlfHxlLmF1dG8/KHQuYXV0bz0xLHRoaXMub3B0aW9uLnJhbmdlPXQpOnkoZSkmJihlWzBdPmVbMV0mJmUucmV2ZXJzZSgpLGVbMF09TWF0aC5tYXgoZVswXSx0WzBdKSxlWzFdPU1hdGgubWluKGVbMV0sdFsxXSkpfSxjb21wbGV0ZVZpc3VhbE9wdGlvbjpmdW5jdGlvbigpe0NQLnByb3RvdHlwZS5jb21wbGV0ZVZpc3VhbE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksZCh0aGlzLnN0YXRlTGlzdCxmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5jb250cm9sbGVyW3RdLnN5bWJvbFNpemU7ZSYmZVswXSE9PWVbMV0mJihlWzBdPTApfSx0aGlzKX0sc2V0U2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24ucmFuZ2U9dC5zbGljZSgpLHRoaXMuX3Jlc2V0UmFuZ2UoKX0sZ2V0U2VsZWN0ZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEV4dGVudCgpLGU9Q28oKHRoaXMuZ2V0KCJyYW5nZSIpfHxbXSkuc2xpY2UoKSk7cmV0dXJuIGVbMF0+dFsxXSYmKGVbMF09dFsxXSksZVsxXT50WzFdJiYoZVsxXT10WzFdKSxlWzBdPHRbMF0mJihlWzBdPXRbMF0pLGVbMV08dFswXSYmKGVbMV09dFswXSksZX0sZ2V0VmFsdWVTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5yYW5nZSxpPXRoaXMuZ2V0RXh0ZW50KCk7cmV0dXJuKGVbMF08PWlbMF18fGVbMF08PXQpJiYoZVsxXT49aVsxXXx8dDw9ZVsxXSk/ImluUmFuZ2UiOiJvdXRPZlJhbmdlIn0sZmluZFRhcmdldERhdGFJbmRpY2VzOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0aGlzLmVhY2hUYXJnZXRTZXJpZXMoZnVuY3Rpb24oaSl7dmFyIG49W10sbz1pLmdldERhdGEoKTtvLmVhY2godGhpcy5nZXREYXRhRGltZW5zaW9uKG8pLGZ1bmN0aW9uKGUsaSl7dFswXTw9ZSYmZTw9dFsxXSYmbi5wdXNoKGkpfSx0aGlzKSxlLnB1c2goe3Nlcmllc0lkOmkuaWQsZGF0YUluZGV4Om59KX0sdGhpcyksZX0sZ2V0VmlzdWFsTWV0YTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7by5wdXNoKHt2YWx1ZTplLGNvbG9yOnQoZSxpKX0pfWZvcih2YXIgaT16digwLDAsdGhpcy5nZXRFeHRlbnQoKSksbj16digwLDAsdGhpcy5vcHRpb24ucmFuZ2Uuc2xpY2UoKSksbz1bXSxhPTAscj0wLHM9bi5sZW5ndGgsbD1pLmxlbmd0aDtyPGwmJighbi5sZW5ndGh8fGlbcl08PW5bMF0pO3IrKylpW3JdPG5bYV0mJmUoaVtyXSwib3V0T2ZSYW5nZSIpO2Zvcih1PTE7YTxzO2ErKyx1PTApdSYmby5sZW5ndGgmJmUoblthXSwib3V0T2ZSYW5nZSIpLGUoblthXSwiaW5SYW5nZSIpO2Zvcih2YXIgdT0xO3I8bDtyKyspKCFuLmxlbmd0aHx8bltuLmxlbmd0aC0xXTxpW3JdKSYmKHUmJihvLmxlbmd0aCYmZShvW28ubGVuZ3RoLTFdLnZhbHVlLCJvdXRPZlJhbmdlIiksdT0wKSxlKGlbcl0sIm91dE9mUmFuZ2UiKSk7dmFyIGg9by5sZW5ndGg7cmV0dXJue3N0b3BzOm8sb3V0ZXJDb2xvcnM6W2g/b1swXS5jb2xvcjoidHJhbnNwYXJlbnQiLGg/b1toLTFdLmNvbG9yOiJ0cmFuc3BhcmVudCJdfX19KSxQUD12cyh7dHlwZToidmlzdWFsTWFwIixhdXRvUG9zaXRpb25WYWx1ZXM6e2xlZnQ6MSxyaWdodDoxLHRvcDoxLGJvdHRvbToxfSxpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5lY01vZGVsPXQsdGhpcy5hcGk9ZSx0aGlzLnZpc3VhbE1hcE1vZGVsfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7dGhpcy52aXN1YWxNYXBNb2RlbD10LCExIT09dC5nZXQoInNob3ciKT90aGlzLmRvUmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxyZW5kZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT14UyhlLmdldCgicGFkZGluZyIpfHwwKSxuPXQuZ2V0Qm91bmRpbmdSZWN0KCk7dC5hZGQobmV3IGpiKHt6MjotMSxzaWxlbnQ6ITAsc2hhcGU6e3g6bi54LWlbM10seTpuLnktaVswXSx3aWR0aDpuLndpZHRoK2lbM10raVsxXSxoZWlnaHQ6bi5oZWlnaHQraVswXStpWzJdfSxzdHlsZTp7ZmlsbDplLmdldCgiYmFja2dyb3VuZENvbG9yIiksc3Ryb2tlOmUuZ2V0KCJib3JkZXJDb2xvciIpLGxpbmVXaWR0aDplLmdldCgiYm9yZGVyV2lkdGgiKX19KSl9LGdldENvbnRyb2xsZXJWaXN1YWw6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHNbdF19ZnVuY3Rpb24gbyh0LGUpe3NbdF09ZX12YXIgYT0oaT1pfHx7fSkuZm9yY2VTdGF0ZSxyPXRoaXMudmlzdWFsTWFwTW9kZWwscz17fTtpZigic3ltYm9sIj09PWUmJihzLnN5bWJvbD1yLmdldCgiaXRlbVN5bWJvbCIpKSwiY29sb3IiPT09ZSl7dmFyIGw9ci5nZXQoImNvbnRlbnRDb2xvciIpO3MuY29sb3I9bH12YXIgdT1yLmNvbnRyb2xsZXJWaXN1YWxzW2F8fHIuZ2V0VmFsdWVTdGF0ZSh0KV07cmV0dXJuIGQoZkEucHJlcGFyZVZpc3VhbFR5cGVzKHUpLGZ1bmN0aW9uKGEpe3ZhciByPXVbYV07aS5jb252ZXJ0T3BhY2l0eVRvQWxwaGEmJiJvcGFjaXR5Ij09PWEmJihhPSJjb2xvckFscGhhIixyPXUuX19hbHBoYUZvck9wYWNpdHkpLGZBLmRlcGVuZHNPbihhLGUpJiZyJiZyLmFwcGx5VmlzdWFsKHQsbixvKX0pLHNbZV19LHBvc2l0aW9uR3JvdXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxpPXRoaXMuYXBpO3RhKHQsZS5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6aS5nZXRXaWR0aCgpLGhlaWdodDppLmdldEhlaWdodCgpfSl9LGRvUmVuZGVyOkJ9KSxOUD1EbyxPUD1kLEVQPU1hdGgubWluLHpQPU1hdGgubWF4LFJQPTEyLEJQPTYsVlA9UFAuZXh0ZW5kKHt0eXBlOiJ2aXN1YWxNYXAuY29udGludW91cyIsaW5pdDpmdW5jdGlvbigpe1ZQLnN1cGVyQXBwbHkodGhpcywiaW5pdCIsYXJndW1lbnRzKSx0aGlzLl9zaGFwZXM9e30sdGhpcy5fZGF0YUludGVydmFsPVtdLHRoaXMuX2hhbmRsZUVuZHM9W10sdGhpcy5fb3JpZW50LHRoaXMuX3VzZUhhbmRsZSx0aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcz1bXSx0aGlzLl9kcmFnZ2luZyx0aGlzLl9ob3ZlcmluZ30sZG9SZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7biYmInNlbGVjdERhdGFSYW5nZSI9PT1uLnR5cGUmJm4uZnJvbT09PXRoaXMudWlkfHx0aGlzLl9idWlsZFZpZXcoKX0sX2J1aWxkVmlldzpmdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIHQ9dGhpcy52aXN1YWxNYXBNb2RlbCxlPXRoaXMuZ3JvdXA7dGhpcy5fb3JpZW50PXQuZ2V0KCJvcmllbnQiKSx0aGlzLl91c2VIYW5kbGU9dC5nZXQoImNhbGN1bGFibGUiKSx0aGlzLl9yZXNldEludGVydmFsKCksdGhpcy5fcmVuZGVyQmFyKGUpO3ZhciBpPXQuZ2V0KCJ0ZXh0Iik7dGhpcy5fcmVuZGVyRW5kc1RleHQoZSxpLDApLHRoaXMuX3JlbmRlckVuZHNUZXh0KGUsaSwxKSx0aGlzLl91cGRhdGVWaWV3KCEwKSx0aGlzLnJlbmRlckJhY2tncm91bmQoZSksdGhpcy5fdXBkYXRlVmlldygpLHRoaXMuX2VuYWJsZUhvdmVyTGlua1RvU2VyaWVzKCksdGhpcy5fZW5hYmxlSG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMucG9zaXRpb25Hcm91cChlKX0sX3JlbmRlckVuZHNUZXh0OmZ1bmN0aW9uKHQsZSxpKXtpZihlKXt2YXIgbj1lWzEtaV07bj1udWxsIT1uP24rIiI6IiI7dmFyIG89dGhpcy52aXN1YWxNYXBNb2RlbCxhPW8uZ2V0KCJ0ZXh0R2FwIikscj1vLml0ZW1TaXplLHM9dGhpcy5fc2hhcGVzLmJhckdyb3VwLGw9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oW3JbMF0vMiwwPT09aT8tYTpyWzFdK2FdLHMpLHU9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oMD09PWk/ImJvdHRvbSI6InRvcCIscyksaD10aGlzLl9vcmllbnQsYz10aGlzLnZpc3VhbE1hcE1vZGVsLnRleHRTdHlsZU1vZGVsO3RoaXMuZ3JvdXAuYWRkKG5ldyB6Yih7c3R5bGU6e3g6bFswXSx5OmxbMV0sdGV4dFZlcnRpY2FsQWxpZ246Imhvcml6b250YWwiPT09aD8ibWlkZGxlIjp1LHRleHRBbGlnbjoiaG9yaXpvbnRhbCI9PT1oP3U6ImNlbnRlciIsdGV4dDpuLHRleHRGb250OmMuZ2V0Rm9udCgpLHRleHRGaWxsOmMuZ2V0VGV4dENvbG9yKCl9fSkpfX0sX3JlbmRlckJhcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLGk9dGhpcy5fc2hhcGVzLG49ZS5pdGVtU2l6ZSxvPXRoaXMuX29yaWVudCxhPXRoaXMuX3VzZUhhbmRsZSxyPVJ2KGUsdGhpcy5hcGksbikscz1pLmJhckdyb3VwPXRoaXMuX2NyZWF0ZUJhckdyb3VwKHIpO3MuYWRkKGkub3V0T2ZSYW5nZT1WdigpKSxzLmFkZChpLmluUmFuZ2U9VnYobnVsbCxhP1p2KHRoaXMuX29yaWVudCk6bnVsbCxtKHRoaXMuX2RyYWdIYW5kbGUsdGhpcywiYWxsIiwhMSksbSh0aGlzLl9kcmFnSGFuZGxlLHRoaXMsImFsbCIsITApKSk7dmFyIGw9ZS50ZXh0U3R5bGVNb2RlbC5nZXRUZXh0UmVjdCgi5Zu9IiksdT16UChsLndpZHRoLGwuaGVpZ2h0KTthJiYoaS5oYW5kbGVUaHVtYnM9W10saS5oYW5kbGVMYWJlbHM9W10saS5oYW5kbGVMYWJlbFBvaW50cz1bXSx0aGlzLl9jcmVhdGVIYW5kbGUocywwLG4sdSxvLHIpLHRoaXMuX2NyZWF0ZUhhbmRsZShzLDEsbix1LG8scikpLHRoaXMuX2NyZWF0ZUluZGljYXRvcihzLG4sdSxvKSx0LmFkZChzKX0sX2NyZWF0ZUhhbmRsZTpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBhPW0odGhpcy5fZHJhZ0hhbmRsZSx0aGlzLGUsITEpLHI9bSh0aGlzLl9kcmFnSGFuZGxlLHRoaXMsZSwhMCkscz1WdihHdihlLG4pLFp2KHRoaXMuX29yaWVudCksYSxyKTtzLnBvc2l0aW9uWzBdPWlbMF0sdC5hZGQocyk7dmFyIGw9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCx1PW5ldyB6Yih7ZHJhZ2dhYmxlOiEwLGRyaWZ0OmEsb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7cncodC5ldmVudCl9LG9uZHJhZ2VuZDpyLHN0eWxlOnt4OjAseTowLHRleHQ6IiIsdGV4dEZvbnQ6bC5nZXRGb250KCksdGV4dEZpbGw6bC5nZXRUZXh0Q29sb3IoKX19KTt0aGlzLmdyb3VwLmFkZCh1KTt2YXIgaD1bImhvcml6b250YWwiPT09bz9uLzI6MS41Km4sImhvcml6b250YWwiPT09bz8wPT09ZT8tMS41Km46MS41Km46MD09PWU/LW4vMjpuLzJdLGM9dGhpcy5fc2hhcGVzO2MuaGFuZGxlVGh1bWJzW2VdPXMsYy5oYW5kbGVMYWJlbFBvaW50c1tlXT1oLGMuaGFuZGxlTGFiZWxzW2VdPXV9LF9jcmVhdGVJbmRpY2F0b3I6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89VnYoW1swLDBdXSwibW92ZSIpO28ucG9zaXRpb25bMF09ZVswXSxvLmF0dHIoe2ludmlzaWJsZTohMCxzaWxlbnQ6ITB9KSx0LmFkZChvKTt2YXIgYT10aGlzLnZpc3VhbE1hcE1vZGVsLnRleHRTdHlsZU1vZGVsLHI9bmV3IHpiKHtzaWxlbnQ6ITAsaW52aXNpYmxlOiEwLHN0eWxlOnt4OjAseTowLHRleHQ6IiIsdGV4dEZvbnQ6YS5nZXRGb250KCksdGV4dEZpbGw6YS5nZXRUZXh0Q29sb3IoKX19KTt0aGlzLmdyb3VwLmFkZChyKTt2YXIgcz1bImhvcml6b250YWwiPT09bj9pLzI6QlArMywwXSxsPXRoaXMuX3NoYXBlcztsLmluZGljYXRvcj1vLGwuaW5kaWNhdG9yTGFiZWw9cixsLmluZGljYXRvckxhYmVsUG9pbnQ9c30sX2RyYWdIYW5kbGU6ZnVuY3Rpb24odCxlLGksbil7aWYodGhpcy5fdXNlSGFuZGxlKXtpZih0aGlzLl9kcmFnZ2luZz0hZSwhZSl7dmFyIG89dGhpcy5fYXBwbHlUcmFuc2Zvcm0oW2ksbl0sdGhpcy5fc2hhcGVzLmJhckdyb3VwLCEwKTt0aGlzLl91cGRhdGVJbnRlcnZhbCh0LG9bMV0pLHRoaXMuX3VwZGF0ZVZpZXcoKX1lPT09IXRoaXMudmlzdWFsTWFwTW9kZWwuZ2V0KCJyZWFsdGltZSIpJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToic2VsZWN0RGF0YVJhbmdlIixmcm9tOnRoaXMudWlkLHZpc3VhbE1hcElkOnRoaXMudmlzdWFsTWFwTW9kZWwuaWQsc2VsZWN0ZWQ6dGhpcy5fZGF0YUludGVydmFsLnNsaWNlKCl9KSxlPyF0aGlzLl9ob3ZlcmluZyYmdGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpOkh2KHRoaXMudmlzdWFsTWFwTW9kZWwpJiZ0aGlzLl9kb0hvdmVyTGlua1RvU2VyaWVzKHRoaXMuX2hhbmRsZUVuZHNbdF0sITEpfX0sX3Jlc2V0SW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9dGhpcy5fZGF0YUludGVydmFsPXQuZ2V0U2VsZWN0ZWQoKSxpPXQuZ2V0RXh0ZW50KCksbj1bMCx0Lml0ZW1TaXplWzFdXTt0aGlzLl9oYW5kbGVFbmRzPVtOUChlWzBdLGksbiwhMCksTlAoZVsxXSxpLG4sITApXX0sX3VwZGF0ZUludGVydmFsOmZ1bmN0aW9uKHQsZSl7ZT1lfHwwO3ZhciBpPXRoaXMudmlzdWFsTWFwTW9kZWwsbj10aGlzLl9oYW5kbGVFbmRzLG89WzAsaS5pdGVtU2l6ZVsxXV07ZUMoZSxuLG8sdCwwKTt2YXIgYT1pLmdldEV4dGVudCgpO3RoaXMuX2RhdGFJbnRlcnZhbD1bTlAoblswXSxvLGEsITApLE5QKG5bMV0sbyxhLCEwKV19LF91cGRhdGVWaWV3OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsaT1lLmdldEV4dGVudCgpLG49dGhpcy5fc2hhcGVzLG89WzAsZS5pdGVtU2l6ZVsxXV0sYT10P286dGhpcy5faGFuZGxlRW5kcyxyPXRoaXMuX2NyZWF0ZUJhclZpc3VhbCh0aGlzLl9kYXRhSW50ZXJ2YWwsaSxhLCJpblJhbmdlIikscz10aGlzLl9jcmVhdGVCYXJWaXN1YWwoaSxpLG8sIm91dE9mUmFuZ2UiKTtuLmluUmFuZ2Uuc2V0U3R5bGUoe2ZpbGw6ci5iYXJDb2xvcixvcGFjaXR5OnIub3BhY2l0eX0pLnNldFNoYXBlKCJwb2ludHMiLHIuYmFyUG9pbnRzKSxuLm91dE9mUmFuZ2Uuc2V0U3R5bGUoe2ZpbGw6cy5iYXJDb2xvcixvcGFjaXR5OnMub3BhY2l0eX0pLnNldFNoYXBlKCJwb2ludHMiLHMuYmFyUG9pbnRzKSx0aGlzLl91cGRhdGVIYW5kbGUoYSxyKX0sX2NyZWF0ZUJhclZpc3VhbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz17Zm9yY2VTdGF0ZTpuLGNvbnZlcnRPcGFjaXR5VG9BbHBoYTohMH0sYT10aGlzLl9tYWtlQ29sb3JHcmFkaWVudCh0LG8pLHI9W3RoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzBdLCJzeW1ib2xTaXplIixvKSx0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFsxXSwic3ltYm9sU2l6ZSIsbyldLHM9dGhpcy5fY3JlYXRlQmFyUG9pbnRzKGkscik7cmV0dXJue2JhckNvbG9yOm5ldyBRYigwLDAsMCwxLGEpLGJhclBvaW50czpzLGhhbmRsZXNDb2xvcjpbYVswXS5jb2xvcixhW2EubGVuZ3RoLTFdLmNvbG9yXX19LF9tYWtlQ29sb3JHcmFkaWVudDpmdW5jdGlvbih0LGUpe3ZhciBpPVtdLG49KHRbMV0tdFswXSkvMTAwO2kucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sImNvbG9yIixlKSxvZmZzZXQ6MH0pO2Zvcih2YXIgbz0xO288MTAwO28rKyl7dmFyIGE9dFswXStuKm87aWYoYT50WzFdKWJyZWFrO2kucHVzaCh7Y29sb3I6dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGEsImNvbG9yIixlKSxvZmZzZXQ6by8xMDB9KX1yZXR1cm4gaS5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFsxXSwiY29sb3IiLGUpLG9mZnNldDoxfSksaX0sX2NyZWF0ZUJhclBvaW50czpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudmlzdWFsTWFwTW9kZWwuaXRlbVNpemU7cmV0dXJuW1tpWzBdLWVbMF0sdFswXV0sW2lbMF0sdFswXV0sW2lbMF0sdFsxXV0sW2lbMF0tZVsxXSx0WzFdXV19LF9jcmVhdGVCYXJHcm91cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcmllbnQsaT10aGlzLnZpc3VhbE1hcE1vZGVsLmdldCgiaW52ZXJzZSIpO3JldHVybiBuZXcgTF8oImhvcml6b250YWwiIT09ZXx8aT8iaG9yaXpvbnRhbCI9PT1lJiZpP3tzY2FsZToiYm90dG9tIj09PXQ/Wy0xLDFdOlsxLDFdLHJvdGF0aW9uOi1NYXRoLlBJLzJ9OiJ2ZXJ0aWNhbCIhPT1lfHxpP3tzY2FsZToibGVmdCI9PT10P1sxLDFdOlstMSwxXX06e3NjYWxlOiJsZWZ0Ij09PXQ/WzEsLTFdOlstMSwtMV19OntzY2FsZToiYm90dG9tIj09PXQ/WzEsMV06Wy0xLDFdLHJvdGF0aW9uOk1hdGguUEkvMn0pfSxfdXBkYXRlSGFuZGxlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fdXNlSGFuZGxlKXt2YXIgaT10aGlzLl9zaGFwZXMsbj10aGlzLnZpc3VhbE1hcE1vZGVsLG89aS5oYW5kbGVUaHVtYnMsYT1pLmhhbmRsZUxhYmVscztPUChbMCwxXSxmdW5jdGlvbihyKXt2YXIgcz1vW3JdO3Muc2V0U3R5bGUoImZpbGwiLGUuaGFuZGxlc0NvbG9yW3JdKSxzLnBvc2l0aW9uWzFdPXRbcl07dmFyIGw9bW8oaS5oYW5kbGVMYWJlbFBvaW50c1tyXSxnbyhzLHRoaXMuZ3JvdXApKTthW3JdLnNldFN0eWxlKHt4OmxbMF0seTpsWzFdLHRleHQ6bi5mb3JtYXRWYWx1ZVRleHQodGhpcy5fZGF0YUludGVydmFsW3JdKSx0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIix0ZXh0QWxpZ246dGhpcy5fYXBwbHlUcmFuc2Zvcm0oImhvcml6b250YWwiPT09dGhpcy5fb3JpZW50PzA9PT1yPyJib3R0b20iOiJ0b3AiOiJsZWZ0IixpLmJhckdyb3VwKX0pfSx0aGlzKX19LF9zaG93SW5kaWNhdG9yOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMudmlzdWFsTWFwTW9kZWwsYT1vLmdldEV4dGVudCgpLHI9by5pdGVtU2l6ZSxzPVswLHJbMV1dLGw9TlAodCxhLHMsITApLHU9dGhpcy5fc2hhcGVzLGg9dS5pbmRpY2F0b3I7aWYoaCl7aC5wb3NpdGlvblsxXT1sLGguYXR0cigiaW52aXNpYmxlIiwhMSksaC5zZXRTaGFwZSgicG9pbnRzIixGdighIWksbixsLHJbMV0pKTt2YXIgYz17Y29udmVydE9wYWNpdHlUb0FscGhhOiEwfSxkPXRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0LCJjb2xvciIsYyk7aC5zZXRTdHlsZSgiZmlsbCIsZCk7dmFyIGY9bW8odS5pbmRpY2F0b3JMYWJlbFBvaW50LGdvKGgsdGhpcy5ncm91cCkpLHA9dS5pbmRpY2F0b3JMYWJlbDtwLmF0dHIoImludmlzaWJsZSIsITEpO3ZhciBnPXRoaXMuX2FwcGx5VHJhbnNmb3JtKCJsZWZ0Iix1LmJhckdyb3VwKSxtPXRoaXMuX29yaWVudDtwLnNldFN0eWxlKHt0ZXh0OihpfHwiIikrby5mb3JtYXRWYWx1ZVRleHQoZSksdGV4dFZlcnRpY2FsQWxpZ246Imhvcml6b250YWwiPT09bT9nOiJtaWRkbGUiLHRleHRBbGlnbjoiaG9yaXpvbnRhbCI9PT1tPyJjZW50ZXIiOmcseDpmWzBdLHk6ZlsxXX0pfX0sX2VuYWJsZUhvdmVyTGlua1RvU2VyaWVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9zaGFwZXMuYmFyR3JvdXAub24oIm1vdXNlbW92ZSIsZnVuY3Rpb24oZSl7aWYodC5faG92ZXJpbmc9ITAsIXQuX2RyYWdnaW5nKXt2YXIgaT10LnZpc3VhbE1hcE1vZGVsLml0ZW1TaXplLG49dC5fYXBwbHlUcmFuc2Zvcm0oW2Uub2Zmc2V0WCxlLm9mZnNldFldLHQuX3NoYXBlcy5iYXJHcm91cCwhMCwhMCk7blsxXT1FUCh6UCgwLG5bMV0pLGlbMV0pLHQuX2RvSG92ZXJMaW5rVG9TZXJpZXMoblsxXSwwPD1uWzBdJiZuWzBdPD1pWzBdKX19KS5vbigibW91c2VvdXQiLGZ1bmN0aW9uKCl7dC5faG92ZXJpbmc9ITEsIXQuX2RyYWdnaW5nJiZ0Ll9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCl9KX0sX2VuYWJsZUhvdmVyTGlua0Zyb21TZXJpZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFwaS5nZXRacigpO3RoaXMudmlzdWFsTWFwTW9kZWwub3B0aW9uLmhvdmVyTGluaz8odC5vbigibW91c2VvdmVyIix0aGlzLl9ob3ZlckxpbmtGcm9tU2VyaWVzTW91c2VPdmVyLHRoaXMpLHQub24oIm1vdXNlb3V0Iix0aGlzLl9oaWRlSW5kaWNhdG9yLHRoaXMpKTp0aGlzLl9jbGVhckhvdmVyTGlua0Zyb21TZXJpZXMoKX0sX2RvSG92ZXJMaW5rVG9TZXJpZXM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnZpc3VhbE1hcE1vZGVsLG49aS5pdGVtU2l6ZTtpZihpLm9wdGlvbi5ob3Zlckxpbmspe3ZhciBvPVswLG5bMV1dLGE9aS5nZXRFeHRlbnQoKTt0PUVQKHpQKG9bMF0sdCksb1sxXSk7dmFyIHI9V3YoaSxhLG8pLHM9W3Qtcix0K3JdLGw9TlAodCxvLGEsITApLHU9W05QKHNbMF0sbyxhLCEwKSxOUChzWzFdLG8sYSwhMCldO3NbMF08b1swXSYmKHVbMF09LTEvMCksc1sxXT5vWzFdJiYodVsxXT0xLzApLGUmJih1WzBdPT09LTEvMD90aGlzLl9zaG93SW5kaWNhdG9yKGwsdVsxXSwiPCAiLHIpOnVbMV09PT0xLzA/dGhpcy5fc2hvd0luZGljYXRvcihsLHVbMF0sIj4gIixyKTp0aGlzLl9zaG93SW5kaWNhdG9yKGwsbCwi4omIICIscikpO3ZhciBoPXRoaXMuX2hvdmVyTGlua0RhdGFJbmRpY2VzLGM9W107KGV8fEh2KGkpKSYmKGM9dGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXM9aS5maW5kVGFyZ2V0RGF0YUluZGljZXModSkpO3ZhciBkPWtpKGgsYyk7dGhpcy5fZGlzcGF0Y2hIaWdoRG93bigiZG93bnBsYXkiLEJ2KGRbMF0pKSx0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKCJoaWdobGlnaHQiLEJ2KGRbMV0pKX19LF9ob3ZlckxpbmtGcm9tU2VyaWVzTW91c2VPdmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0LGk9dGhpcy52aXN1YWxNYXBNb2RlbDtpZihlJiZudWxsIT1lLmRhdGFJbmRleCl7dmFyIG49dGhpcy5lY01vZGVsLmdldFNlcmllc0J5SW5kZXgoZS5zZXJpZXNJbmRleCk7aWYoaS5pc1RhcmdldFNlcmllcyhuKSl7dmFyIG89bi5nZXREYXRhKGUuZGF0YVR5cGUpLGE9by5nZXQoaS5nZXREYXRhRGltZW5zaW9uKG8pLGUuZGF0YUluZGV4LCEwKTtpc05hTihhKXx8dGhpcy5fc2hvd0luZGljYXRvcihhLGEpfX19LF9oaWRlSW5kaWNhdG9yOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2hhcGVzO3QuaW5kaWNhdG9yJiZ0LmluZGljYXRvci5hdHRyKCJpbnZpc2libGUiLCEwKSx0LmluZGljYXRvckxhYmVsJiZ0LmluZGljYXRvckxhYmVsLmF0dHIoImludmlzaWJsZSIsITApfSxfY2xlYXJIb3ZlckxpbmtUb1NlcmllczpmdW5jdGlvbigpe3RoaXMuX2hpZGVJbmRpY2F0b3IoKTt2YXIgdD10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlczt0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKCJkb3ducGxheSIsQnYodCkpLHQubGVuZ3RoPTB9LF9jbGVhckhvdmVyTGlua0Zyb21TZXJpZXM6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlSW5kaWNhdG9yKCk7dmFyIHQ9dGhpcy5hcGkuZ2V0WnIoKTt0Lm9mZigibW91c2VvdmVyIix0aGlzLl9ob3ZlckxpbmtGcm9tU2VyaWVzTW91c2VPdmVyKSx0Lm9mZigibW91c2VvdXQiLHRoaXMuX2hpZGVJbmRpY2F0b3IpfSxfYXBwbHlUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGksbil7dmFyIG89Z28oZSxuP251bGw6dGhpcy5ncm91cCk7cmV0dXJuIHNTW3kodCk/ImFwcGx5VHJhbnNmb3JtIjoidHJhbnNmb3JtRGlyZWN0aW9uIl0odCxvLGkpfSxfZGlzcGF0Y2hIaWdoRG93bjpmdW5jdGlvbih0LGUpe2UmJmUubGVuZ3RoJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTp0LGJhdGNoOmV9KX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCksdGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpfX0pO2hzKHt0eXBlOiJzZWxlY3REYXRhUmFuZ2UiLGV2ZW50OiJkYXRhUmFuZ2VTZWxlY3RlZCIsdXBkYXRlOiJ1cGRhdGUifSxmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InZpc3VhbE1hcCIscXVlcnk6dH0sZnVuY3Rpb24oZSl7ZS5zZXRTZWxlY3RlZCh0LnNlbGVjdGVkKX0pfSksbHMoeVApO3ZhciBHUD1DUC5leHRlbmQoe3R5cGU6InZpc3VhbE1hcC5waWVjZXdpc2UiLGRlZmF1bHRPcHRpb246e3NlbGVjdGVkOm51bGwsbWluT3BlbjohMSxtYXhPcGVuOiExLGFsaWduOiJhdXRvIixpdGVtV2lkdGg6MjAsaXRlbUhlaWdodDoxNCxpdGVtU3ltYm9sOiJyb3VuZFJlY3QiLHBpZWNlTGlzdDpudWxsLGNhdGVnb3JpZXM6bnVsbCxzcGxpdE51bWJlcjo1LHNlbGVjdGVkTW9kZToibXVsdGlwbGUiLGl0ZW1HYXA6MTAsaG92ZXJMaW5rOiEwLHNob3dMYWJlbDpudWxsfSxvcHRpb25VcGRhdGVkOmZ1bmN0aW9uKHQsZSl7R1Auc3VwZXJBcHBseSh0aGlzLCJvcHRpb25VcGRhdGVkIixhcmd1bWVudHMpLHRoaXMuX3BpZWNlTGlzdD1bXSx0aGlzLnJlc2V0RXh0ZW50KCk7dmFyIG49dGhpcy5fbW9kZT10aGlzLl9kZXRlcm1pbmVNb2RlKCk7RlBbdGhpcy5fbW9kZV0uY2FsbCh0aGlzKSx0aGlzLl9yZXNldFNlbGVjdGVkKHQsZSk7dmFyIG89dGhpcy5vcHRpb24uY2F0ZWdvcmllczt0aGlzLnJlc2V0VmlzdWFsKGZ1bmN0aW9uKHQsZSl7ImNhdGVnb3JpZXMiPT09bj8odC5tYXBwaW5nTWV0aG9kPSJjYXRlZ29yeSIsdC5jYXRlZ29yaWVzPWkobykpOih0LmRhdGFFeHRlbnQ9dGhpcy5nZXRFeHRlbnQoKSx0Lm1hcHBpbmdNZXRob2Q9InBpZWNld2lzZSIsdC5waWVjZUxpc3Q9Zih0aGlzLl9waWVjZUxpc3QsZnVuY3Rpb24odCl7dmFyIHQ9aSh0KTtyZXR1cm4iaW5SYW5nZSIhPT1lJiYodC52aXN1YWw9bnVsbCksdH0pKX0pfSxjb21wbGV0ZVZpc3VhbE9wdGlvbjpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3JldHVybiB0JiZ0W2VdJiYodyh0W2VdKT90W2VdLmhhc093blByb3BlcnR5KGkpOnRbZV09PT1pKX12YXIgZT10aGlzLm9wdGlvbixpPXt9LG49ZkEubGlzdFZpc3VhbFR5cGVzKCksbz10aGlzLmlzQ2F0ZWdvcnkoKTtkKGUucGllY2VzLGZ1bmN0aW9uKHQpe2QobixmdW5jdGlvbihlKXt0Lmhhc093blByb3BlcnR5KGUpJiYoaVtlXT0xKX0pfSksZChpLGZ1bmN0aW9uKGksbil7dmFyIGE9MDtkKHRoaXMuc3RhdGVMaXN0LGZ1bmN0aW9uKGkpe2F8PXQoZSxpLG4pfHx0KGUudGFyZ2V0LGksbil9LHRoaXMpLCFhJiZkKHRoaXMuc3RhdGVMaXN0LGZ1bmN0aW9uKHQpeyhlW3RdfHwoZVt0XT17fSkpW25dPV9QLmdldChuLCJpblJhbmdlIj09PXQ/ImFjdGl2ZSI6ImluYWN0aXZlIixvKX0pfSx0aGlzKSxDUC5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfcmVzZXRTZWxlY3RlZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49dGhpcy5fcGllY2VMaXN0LG89KGU/aTp0KS5zZWxlY3RlZHx8e307aWYoaS5zZWxlY3RlZD1vLGQobixmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7by5oYXNPd25Qcm9wZXJ0eShpKXx8KG9baV09ITApfSx0aGlzKSwic2luZ2xlIj09PWkuc2VsZWN0ZWRNb2RlKXt2YXIgYT0hMTtkKG4sZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldFNlbGVjdGVkTWFwS2V5KHQpO29baV0mJihhP29baV09ITE6YT0hMCl9LHRoaXMpfX0sZ2V0U2VsZWN0ZWRNYXBLZXk6ZnVuY3Rpb24odCl7cmV0dXJuImNhdGVnb3JpZXMiPT09dGhpcy5fbW9kZT90LnZhbHVlKyIiOnQuaW5kZXgrIiJ9LGdldFBpZWNlTGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waWVjZUxpc3R9LF9kZXRlcm1pbmVNb2RlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb247cmV0dXJuIHQucGllY2VzJiZ0LnBpZWNlcy5sZW5ndGg+MD8icGllY2VzIjp0aGlzLm9wdGlvbi5jYXRlZ29yaWVzPyJjYXRlZ29yaWVzIjoic3BsaXROdW1iZXIifSxzZXRTZWxlY3RlZDpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5zZWxlY3RlZD1pKHQpfSxnZXRWYWx1ZVN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPWZBLmZpbmRQaWVjZUluZGV4KHQsdGhpcy5fcGllY2VMaXN0KTtyZXR1cm4gbnVsbCE9ZSYmdGhpcy5vcHRpb24uc2VsZWN0ZWRbdGhpcy5nZXRTZWxlY3RlZE1hcEtleSh0aGlzLl9waWVjZUxpc3RbZV0pXT8iaW5SYW5nZSI6Im91dE9mUmFuZ2UifSxmaW5kVGFyZ2V0RGF0YUluZGljZXM6ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcyhmdW5jdGlvbihpKXt2YXIgbj1bXSxvPWkuZ2V0RGF0YSgpO28uZWFjaCh0aGlzLmdldERhdGFEaW1lbnNpb24obyksZnVuY3Rpb24oZSxpKXtmQS5maW5kUGllY2VJbmRleChlLHRoaXMuX3BpZWNlTGlzdCk9PT10JiZuLnB1c2goaSl9LHRoaXMpLGUucHVzaCh7c2VyaWVzSWQ6aS5pZCxkYXRhSW5kZXg6bn0pfSx0aGlzKSxlfSxnZXRSZXByZXNlbnRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZTtpZih0aGlzLmlzQ2F0ZWdvcnkoKSllPXQudmFsdWU7ZWxzZSBpZihudWxsIT10LnZhbHVlKWU9dC52YWx1ZTtlbHNle3ZhciBpPXQuaW50ZXJ2YWx8fFtdO2U9aVswXT09PS0xLzAmJmlbMV09PT0xLzA/MDooaVswXStpWzFdKS8yfXJldHVybiBlfSxnZXRWaXN1YWxNZXRhOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxhKXt2YXIgcj1vLmdldFJlcHJlc2VudFZhbHVlKHtpbnRlcnZhbDplfSk7YXx8KGE9by5nZXRWYWx1ZVN0YXRlKHIpKTt2YXIgcz10KHIsYSk7ZVswXT09PS0xLzA/blswXT1zOmVbMV09PT0xLzA/blsxXT1zOmkucHVzaCh7dmFsdWU6ZVswXSxjb2xvcjpzfSx7dmFsdWU6ZVsxXSxjb2xvcjpzfSl9aWYoIXRoaXMuaXNDYXRlZ29yeSgpKXt2YXIgaT1bXSxuPVtdLG89dGhpcyxhPXRoaXMuX3BpZWNlTGlzdC5zbGljZSgpO2lmKGEubGVuZ3RoKXt2YXIgcj1hWzBdLmludGVydmFsWzBdO3IhPT0tMS8wJiZhLnVuc2hpZnQoe2ludGVydmFsOlstMS8wLHJdfSksKHI9YVthLmxlbmd0aC0xXS5pbnRlcnZhbFsxXSkhPT0xLzAmJmEucHVzaCh7aW50ZXJ2YWw6W3IsMS8wXX0pfWVsc2UgYS5wdXNoKHtpbnRlcnZhbDpbLTEvMCwxLzBdfSk7dmFyIHM9LTEvMDtyZXR1cm4gZChhLGZ1bmN0aW9uKHQpe3ZhciBpPXQuaW50ZXJ2YWw7aSYmKGlbMF0+cyYmZShbcyxpWzBdXSwib3V0T2ZSYW5nZSIpLGUoaS5zbGljZSgpKSxzPWlbMV0pfSx0aGlzKSx7c3RvcHM6aSxvdXRlckNvbG9yczpufX19fSksRlA9e3NwbGl0TnVtYmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT10aGlzLl9waWVjZUxpc3QsaT1NYXRoLm1pbih0LnByZWNpc2lvbiwyMCksbj10aGlzLmdldEV4dGVudCgpLG89dC5zcGxpdE51bWJlcjtvPU1hdGgubWF4KHBhcnNlSW50KG8sMTApLDEpLHQuc3BsaXROdW1iZXI9bztmb3IodmFyIGE9KG5bMV0tblswXSkvbzsrYS50b0ZpeGVkKGkpIT09YSYmaTw1OylpKys7dC5wcmVjaXNpb249aSxhPSthLnRvRml4ZWQoaSk7dmFyIHI9MDt0Lm1pbk9wZW4mJmUucHVzaCh7aW5kZXg6cisrLGludGVydmFsOlstMS8wLG5bMF1dLGNsb3NlOlswLDBdfSk7Zm9yKHZhciBzPW5bMF0sbD1yK287cjxsO3MrPWEpe3ZhciB1PXI9PT1vLTE/blsxXTpzK2E7ZS5wdXNoKHtpbmRleDpyKyssaW50ZXJ2YWw6W3MsdV0sY2xvc2U6WzEsMV19KX10Lm1heE9wZW4mJmUucHVzaCh7aW5kZXg6cisrLGludGVydmFsOltuWzFdLDEvMF0sY2xvc2U6WzAsMF19KSxHbyhlKSxkKGUsZnVuY3Rpb24odCl7dC50ZXh0PXRoaXMuZm9ybWF0VmFsdWVUZXh0KHQuaW50ZXJ2YWwpfSx0aGlzKX0sY2F0ZWdvcmllczpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uO2QodC5jYXRlZ29yaWVzLGZ1bmN0aW9uKHQpe3RoaXMuX3BpZWNlTGlzdC5wdXNoKHt0ZXh0OnRoaXMuZm9ybWF0VmFsdWVUZXh0KHQsITApLHZhbHVlOnR9KX0sdGhpcyksVXYodCx0aGlzLl9waWVjZUxpc3QpfSxwaWVjZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPXRoaXMuX3BpZWNlTGlzdDtkKHQucGllY2VzLGZ1bmN0aW9uKHQsaSl7dyh0KXx8KHQ9e3ZhbHVlOnR9KTt2YXIgbj17dGV4dDoiIixpbmRleDppfTtpZihudWxsIT10LmxhYmVsJiYobi50ZXh0PXQubGFiZWwpLHQuaGFzT3duUHJvcGVydHkoInZhbHVlIikpe3ZhciBvPW4udmFsdWU9dC52YWx1ZTtuLmludGVydmFsPVtvLG9dLG4uY2xvc2U9WzEsMV19ZWxzZXtmb3IodmFyIGE9bi5pbnRlcnZhbD1bXSxyPW4uY2xvc2U9WzAsMF0scz1bMSwwLDFdLGw9Wy0xLzAsMS8wXSx1PVtdLGg9MDtoPDI7aCsrKXtmb3IodmFyIGM9W1siZ3RlIiwiZ3QiLCJtaW4iXSxbImx0ZSIsImx0IiwibWF4Il1dW2hdLGQ9MDtkPDMmJm51bGw9PWFbaF07ZCsrKWFbaF09dFtjW2RdXSxyW2hdPXNbZF0sdVtoXT0yPT09ZDtudWxsPT1hW2hdJiYoYVtoXT1sW2hdKX11WzBdJiZhWzFdPT09MS8wJiYoclswXT0wKSx1WzFdJiZhWzBdPT09LTEvMCYmKHJbMV09MCksYVswXT09PWFbMV0mJnJbMF0mJnJbMV0mJihuLnZhbHVlPWFbMF0pfW4udmlzdWFsPWZBLnJldHJpZXZlVmlzdWFscyh0KSxlLnB1c2gobil9LHRoaXMpLFV2KHQsZSksR28oZSksZChlLGZ1bmN0aW9uKHQpe3ZhciBlPXQuY2xvc2UsaT1bWyI8Iiwi4omkIl1bZVsxXV0sWyI+Iiwi4omlIl1bZVswXV1dO3QudGV4dD10LnRleHR8fHRoaXMuZm9ybWF0VmFsdWVUZXh0KG51bGwhPXQudmFsdWU/dC52YWx1ZTp0LmludGVydmFsLCExLGkpfSx0aGlzKX19O1BQLmV4dGVuZCh7dHlwZToidmlzdWFsTWFwLnBpZWNld2lzZSIsZG9SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyb3VwO3QucmVtb3ZlQWxsKCk7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxpPWUuZ2V0KCJ0ZXh0R2FwIiksbj1lLnRleHRTdHlsZU1vZGVsLG89bi5nZXRGb250KCksYT1uLmdldFRleHRDb2xvcigpLHI9dGhpcy5fZ2V0SXRlbUFsaWduKCkscz1lLml0ZW1TaXplLGw9dGhpcy5fZ2V0Vmlld0RhdGEoKSx1PWwuZW5kc1RleHQsaD1EKGUuZ2V0KCJzaG93TGFiZWwiLCEwKSwhdSk7dSYmdGhpcy5fcmVuZGVyRW5kc1RleHQodCx1WzBdLHMsaCxyKSxkKGwudmlld1BpZWNlTGlzdCxmdW5jdGlvbihuKXt2YXIgbD1uLnBpZWNlLHU9bmV3IExfO3Uub25jbGljaz1tKHRoaXMuX29uSXRlbUNsaWNrLHRoaXMsbCksdGhpcy5fZW5hYmxlSG92ZXJMaW5rKHUsbi5pbmRleEluTW9kZWxQaWVjZUxpc3QpO3ZhciBjPWUuZ2V0UmVwcmVzZW50VmFsdWUobCk7aWYodGhpcy5fY3JlYXRlSXRlbVN5bWJvbCh1LGMsWzAsMCxzWzBdLHNbMV1dKSxoKXt2YXIgZD10aGlzLnZpc3VhbE1hcE1vZGVsLmdldFZhbHVlU3RhdGUoYyk7dS5hZGQobmV3IHpiKHtzdHlsZTp7eDoicmlnaHQiPT09cj8taTpzWzBdK2kseTpzWzFdLzIsdGV4dDpsLnRleHQsdGV4dFZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOnIsdGV4dEZvbnQ6byx0ZXh0RmlsbDphLG9wYWNpdHk6Im91dE9mUmFuZ2UiPT09ZD8uNToxfX0pKX10LmFkZCh1KX0sdGhpcyksdSYmdGhpcy5fcmVuZGVyRW5kc1RleHQodCx1WzFdLHMsaCxyKSxBUyhlLmdldCgib3JpZW50IiksdCxlLmdldCgiaXRlbUdhcCIpKSx0aGlzLnJlbmRlckJhY2tncm91bmQodCksdGhpcy5wb3NpdGlvbkdyb3VwKHQpfSxfZW5hYmxlSG92ZXJMaW5rOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXt2YXIgaT10aGlzLnZpc3VhbE1hcE1vZGVsO2kub3B0aW9uLmhvdmVyTGluayYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6dCxiYXRjaDpCdihpLmZpbmRUYXJnZXREYXRhSW5kaWNlcyhlKSl9KX10Lm9uKCJtb3VzZW92ZXIiLG0oaSx0aGlzLCJoaWdobGlnaHQiKSkub24oIm1vdXNlb3V0IixtKGksdGhpcywiZG93bnBsYXkiKSl9LF9nZXRJdGVtQWxpZ246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9dC5vcHRpb247aWYoInZlcnRpY2FsIj09PWUub3JpZW50KXJldHVybiBSdih0LHRoaXMuYXBpLHQuaXRlbVNpemUpO3ZhciBpPWUuYWxpZ247cmV0dXJuIGkmJiJhdXRvIiE9PWl8fChpPSJsZWZ0IiksaX0sX3JlbmRlckVuZHNUZXh0OmZ1bmN0aW9uKHQsZSxpLG4sbyl7aWYoZSl7dmFyIGE9bmV3IExfLHI9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbDthLmFkZChuZXcgemIoe3N0eWxlOnt4Om4/InJpZ2h0Ij09PW8/aVswXTowOmlbMF0vMix5OmlbMV0vMix0ZXh0VmVydGljYWxBbGlnbjoibWlkZGxlIix0ZXh0QWxpZ246bj9vOiJjZW50ZXIiLHRleHQ6ZSx0ZXh0Rm9udDpyLmdldEZvbnQoKSx0ZXh0RmlsbDpyLmdldFRleHRDb2xvcigpfX0pKSx0LmFkZChhKX19LF9nZXRWaWV3RGF0YTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT1mKHQuZ2V0UGllY2VMaXN0KCksZnVuY3Rpb24odCxlKXtyZXR1cm57cGllY2U6dCxpbmRleEluTW9kZWxQaWVjZUxpc3Q6ZX19KSxpPXQuZ2V0KCJ0ZXh0Iiksbj10LmdldCgib3JpZW50Iiksbz10LmdldCgiaW52ZXJzZSIpO3JldHVybigiaG9yaXpvbnRhbCI9PT1uP286IW8pP2UucmV2ZXJzZSgpOmkmJihpPWkuc2xpY2UoKS5yZXZlcnNlKCkpLHt2aWV3UGllY2VMaXN0OmUsZW5kc1RleHQ6aX19LF9jcmVhdGVJdGVtU3ltYm9sOmZ1bmN0aW9uKHQsZSxpKXt0LmFkZChtbCh0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwoZSwic3ltYm9sIiksaVswXSxpWzFdLGlbMl0saVszXSx0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwoZSwiY29sb3IiKSkpfSxfb25JdGVtQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWUub3B0aW9uLG89aShuLnNlbGVjdGVkKSxhPWUuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7InNpbmdsZSI9PT1uLnNlbGVjdGVkTW9kZT8ob1thXT0hMCxkKG8sZnVuY3Rpb24odCxlKXtvW2VdPWU9PT1hfSkpOm9bYV09IW9bYV0sdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InNlbGVjdERhdGFSYW5nZSIsZnJvbTp0aGlzLnVpZCx2aXN1YWxNYXBJZDp0aGlzLnZpc3VhbE1hcE1vZGVsLmlkLHNlbGVjdGVkOm99KX19KTtscyh5UCk7dmFyIFdQPVdvLEhQPVpvLFpQPW1zKHt0eXBlOiJtYXJrZXIiLGRlcGVuZGVuY2llczpbInNlcmllcyIsImdyaWQiLCJwb2xhciIsImdlbyJdLGluaXQ6ZnVuY3Rpb24odCxlLGksbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LGkpLHRoaXMubWVyZ2VPcHRpb24odCxpLG4uY3JlYXRlZEJ5U2VsZiwhMCl9LGlzQW5pbWF0aW9uRW5hYmxlZDpmdW5jdGlvbigpe2lmKEF4Lm5vZGUpcmV0dXJuITE7dmFyIHQ9dGhpcy5fX2hvc3RTZXJpZXM7cmV0dXJuIHRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIikmJnQmJnQuaXNBbmltYXRpb25FbmFibGVkKCl9LG1lcmdlT3B0aW9uOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXRoaXMuY29uc3RydWN0b3Iscj10aGlzLm1haW5UeXBlKyJNb2RlbCI7aXx8ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0KHRoaXMubWFpblR5cGUpLHM9dFtyXTtpJiZpLmRhdGE/KHM/cy5tZXJnZU9wdGlvbihpLGUsITApOihuJiZqdihpKSxkKGkuZGF0YSxmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQXJyYXk/KGp2KHRbMF0pLGp2KHRbMV0pKTpqdih0KX0pLGEocz1uZXcgbyhpLHRoaXMsZSkse21haW5UeXBlOnRoaXMubWFpblR5cGUsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxuYW1lOnQubmFtZSxjcmVhdGVkQnlTZWxmOiEwfSkscy5fX2hvc3RTZXJpZXM9dCksdFtyXT1zKTp0W3JdPW51bGx9LHRoaXMpfSxmb3JtYXRUb29sdGlwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpLGk9dGhpcy5nZXRSYXdWYWx1ZSh0KSxuPXkoaSk/ZihpLFdQKS5qb2luKCIsICIpOldQKGkpLG89ZS5nZXROYW1lKHQpLGE9SFAodGhpcy5uYW1lKTtyZXR1cm4obnVsbCE9aXx8bykmJihhKz0iPGJyIC8+IiksbyYmKGErPUhQKG8pLG51bGwhPWkmJihhKz0iIDogIikpLG51bGwhPWkmJihhKz1IUChuKSksYX0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxzZXREYXRhOmZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9dH19KTtoKFpQLGZNKSxaUC5leHRlbmQoe3R5cGU6Im1hcmtQb2ludCIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo1LHN5bWJvbDoicGluIixzeW1ib2xTaXplOjUwLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoiaW5zaWRlIn0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoyfSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITB9fX19KTt2YXIgVVA9bCxqUD12LFhQPXttaW46alAocXYsIm1pbiIpLG1heDpqUChxdiwibWF4IiksYXZlcmFnZTpqUChxdiwiYXZlcmFnZSIpfSxZUD12cyh7dHlwZToibWFya2VyIixpbml0OmZ1bmN0aW9uKCl7dGhpcy5tYXJrZXJHcm91cE1hcD16KCl9LHJlbmRlcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5tYXJrZXJHcm91cE1hcDtuLmVhY2goZnVuY3Rpb24odCl7dC5fX2tlZXA9ITF9KTt2YXIgbz10aGlzLnR5cGUrIk1vZGVsIjtlLmVhY2hTZXJpZXMoZnVuY3Rpb24odCl7dmFyIG49dFtvXTtuJiZ0aGlzLnJlbmRlclNlcmllcyh0LG4sZSxpKX0sdGhpcyksbi5lYWNoKGZ1bmN0aW9uKHQpeyF0Ll9fa2VlcCYmdGhpcy5ncm91cC5yZW1vdmUodC5ncm91cCl9LHRoaXMpfSxyZW5kZXJTZXJpZXM6ZnVuY3Rpb24oKXt9fSk7WVAuZXh0ZW5kKHt0eXBlOiJtYXJrUG9pbnQiLHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSl7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWFya1BvaW50TW9kZWw7ZSYmKGl5KGUuZ2V0RGF0YSgpLHQsaSksdGhpcy5tYXJrZXJHcm91cE1hcC5nZXQodC5pZCkudXBkYXRlTGF5b3V0KGUpKX0sdGhpcyl9LHJlbmRlclNlcmllczpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT10LmlkLHI9dC5nZXREYXRhKCkscz10aGlzLm1hcmtlckdyb3VwTWFwLGw9cy5nZXQoYSl8fHMuc2V0KGEsbmV3IEFsKSx1PW55KG8sdCxlKTtlLnNldERhdGEodSksaXkoZS5nZXREYXRhKCksdCxuKSx1LmVhY2goZnVuY3Rpb24odCl7dmFyIGk9dS5nZXRJdGVtTW9kZWwodCksbj1pLmdldFNoYWxsb3coInN5bWJvbFNpemUiKTsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bihlLmdldFJhd1ZhbHVlKHQpLGUuZ2V0RGF0YVBhcmFtcyh0KSkpLHUuc2V0SXRlbVZpc3VhbCh0LHtzeW1ib2xTaXplOm4sY29sb3I6aS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpfHxyLmdldFZpc3VhbCgiY29sb3IiKSxzeW1ib2w6aS5nZXRTaGFsbG93KCJzeW1ib2wiKX0pfSksbC51cGRhdGVEYXRhKHUpLHRoaXMuZ3JvdXAuYWRkKGwuZ3JvdXApLHUuZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCl7dC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmRhdGFNb2RlbD1lfSl9KSxsLl9fa2VlcD0hMCxsLmdyb3VwLnNpbGVudD1lLmdldCgic2lsZW50Iil8fHQuZ2V0KCJzaWxlbnQiKX19KSxscyhmdW5jdGlvbih0KXt0Lm1hcmtQb2ludD10Lm1hcmtQb2ludHx8e319KSxaUC5leHRlbmQoe3R5cGU6Im1hcmtMaW5lIixkZWZhdWx0T3B0aW9uOnt6bGV2ZWw6MCx6OjUsc3ltYm9sOlsiY2lyY2xlIiwiYXJyb3ciXSxzeW1ib2xTaXplOls4LDE2XSxwcmVjaXNpb246Mix0b29sdGlwOnt0cmlnZ2VyOiJpdGVtIn0sbGFiZWw6e3Nob3c6ITAscG9zaXRpb246ImVuZCJ9LGxpbmVTdHlsZTp7dHlwZToiZGFzaGVkIn0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfSxsaW5lU3R5bGU6e3dpZHRoOjN9fSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciJ9fSk7dmFyIHFQPWZ1bmN0aW9uKHQsZSxvLHIpe3ZhciBzPXQuZ2V0RGF0YSgpLGw9ci50eXBlO2lmKCF5KHIpJiYoIm1pbiI9PT1sfHwibWF4Ij09PWx8fCJhdmVyYWdlIj09PWx8fG51bGwhPXIueEF4aXN8fG51bGwhPXIueUF4aXMpKXt2YXIgdSxoO2lmKG51bGwhPXIueUF4aXN8fG51bGwhPXIueEF4aXMpdT1udWxsIT1yLnlBeGlzPyJ5IjoieCIsZS5nZXRBeGlzKHUpLGg9RChyLnlBeGlzLHIueEF4aXMpO2Vsc2V7dmFyIGM9S3YocixzLGUsdCk7dT1jLnZhbHVlRGF0YURpbSxjLnZhbHVlQXhpcyxoPWV5KHMsdSxsKX12YXIgZD0ieCI9PT11PzA6MSxmPTEtZCxwPWkociksZz17fTtwLnR5cGU9bnVsbCxwLmNvb3JkPVtdLGcuY29vcmQ9W10scC5jb29yZFtmXT0tMS8wLGcuY29vcmRbZl09MS8wO3ZhciBtPW8uZ2V0KCJwcmVjaXNpb24iKTttPj0wJiYibnVtYmVyIj09dHlwZW9mIGgmJihoPStoLnRvRml4ZWQoTWF0aC5taW4obSwyMCkpKSxwLmNvb3JkW2RdPWcuY29vcmRbZF09aCxyPVtwLGcse3R5cGU6bCx2YWx1ZUluZGV4OnIudmFsdWVJbmRleCx2YWx1ZTpofV19cmV0dXJuIHI9WyR2KHQsclswXSksJHYodCxyWzFdKSxhKHt9LHJbMl0pXSxyWzJdLnR5cGU9clsyXS50eXBlfHwiIixuKHJbMl0sclswXSksbihyWzJdLHJbMV0pLHJ9O1lQLmV4dGVuZCh7dHlwZToibWFya0xpbmUiLHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSl7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWFya0xpbmVNb2RlbDtpZihlKXt2YXIgbj1lLmdldERhdGEoKSxvPWUuX19mcm9tLGE9ZS5fX3RvO28uZWFjaChmdW5jdGlvbihlKXtzeShvLGUsITAsdCxpKSxzeShhLGUsITEsdCxpKX0pLG4uZWFjaChmdW5jdGlvbih0KXtuLnNldEl0ZW1MYXlvdXQodCxbby5nZXRJdGVtTGF5b3V0KHQpLGEuZ2V0SXRlbUxheW91dCh0KV0pfSksdGhpcy5tYXJrZXJHcm91cE1hcC5nZXQodC5pZCkudXBkYXRlTGF5b3V0KCl9fSx0aGlzKX0scmVuZGVyU2VyaWVzOmZ1bmN0aW9uKHQsZSxpLG4pe2Z1bmN0aW9uIG8oZSxpLG8pe3ZhciBhPWUuZ2V0SXRlbU1vZGVsKGkpO3N5KGUsaSxvLHQsbiksZS5zZXRJdGVtVmlzdWFsKGkse3N5bWJvbFNpemU6YS5nZXQoInN5bWJvbFNpemUiKXx8Z1tvPzA6MV0sc3ltYm9sOmEuZ2V0KCJzeW1ib2wiLCEwKXx8cFtvPzA6MV0sY29sb3I6YS5nZXQoIml0ZW1TdHlsZS5jb2xvciIpfHxzLmdldFZpc3VhbCgiY29sb3IiKX0pfXZhciBhPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXQuaWQscz10LmdldERhdGEoKSxsPXRoaXMubWFya2VyR3JvdXBNYXAsdT1sLmdldChyKXx8bC5zZXQocixuZXcgJGMpO3RoaXMuZ3JvdXAuYWRkKHUuZ3JvdXApO3ZhciBoPWx5KGEsdCxlKSxjPWguZnJvbSxkPWgudG8sZj1oLmxpbmU7ZS5fX2Zyb209YyxlLl9fdG89ZCxlLnNldERhdGEoZik7dmFyIHA9ZS5nZXQoInN5bWJvbCIpLGc9ZS5nZXQoInN5bWJvbFNpemUiKTt5KHApfHwocD1bcCxwXSksIm51bWJlciI9PXR5cGVvZiBnJiYoZz1bZyxnXSksaC5mcm9tLmVhY2goZnVuY3Rpb24odCl7byhjLHQsITApLG8oZCx0LCExKX0pLGYuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1mLmdldEl0ZW1Nb2RlbCh0KS5nZXQoImxpbmVTdHlsZS5jb2xvciIpO2Yuc2V0SXRlbVZpc3VhbCh0LHtjb2xvcjplfHxjLmdldEl0ZW1WaXN1YWwodCwiY29sb3IiKX0pLGYuc2V0SXRlbUxheW91dCh0LFtjLmdldEl0ZW1MYXlvdXQodCksZC5nZXRJdGVtTGF5b3V0KHQpXSksZi5zZXRJdGVtVmlzdWFsKHQse2Zyb21TeW1ib2xTaXplOmMuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xTaXplIiksZnJvbVN5bWJvbDpjLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sIiksdG9TeW1ib2xTaXplOmQuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xTaXplIiksdG9TeW1ib2w6ZC5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbCIpfSl9KSx1LnVwZGF0ZURhdGEoZiksaC5saW5lLmVhY2hJdGVtR3JhcGhpY0VsKGZ1bmN0aW9uKHQsaSl7dC50cmF2ZXJzZShmdW5jdGlvbih0KXt0LmRhdGFNb2RlbD1lfSl9KSx1Ll9fa2VlcD0hMCx1Lmdyb3VwLnNpbGVudD1lLmdldCgic2lsZW50Iil8fHQuZ2V0KCJzaWxlbnQiKX19KSxscyhmdW5jdGlvbih0KXt0Lm1hcmtMaW5lPXQubWFya0xpbmV8fHt9fSksWlAuZXh0ZW5kKHt0eXBlOiJtYXJrQXJlYSIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejoxLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxhbmltYXRpb246ITEsbGFiZWw6e3Nob3c6ITAscG9zaXRpb246InRvcCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MH0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJ0b3AifX19fSk7dmFyICRQPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBhPSR2KHQsblswXSkscj0kdih0LG5bMV0pLHM9RCxsPWEuY29vcmQsdT1yLmNvb3JkO2xbMF09cyhsWzBdLC0xLzApLGxbMV09cyhsWzFdLC0xLzApLHVbMF09cyh1WzBdLDEvMCksdVsxXT1zKHVbMV0sMS8wKTt2YXIgaD1vKFt7fSxhLHJdKTtyZXR1cm4gaC5jb29yZD1bYS5jb29yZCxyLmNvb3JkXSxoLngwPWEueCxoLnkwPWEueSxoLngxPXIueCxoLnkxPXIueSxofSxLUD1bWyJ4MCIsInkwIl0sWyJ4MSIsInkwIl0sWyJ4MSIsInkxIl0sWyJ4MCIsInkxIl1dO1lQLmV4dGVuZCh7dHlwZToibWFya0FyZWEiLHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSl7ZS5lYWNoU2VyaWVzKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWFya0FyZWFNb2RlbDtpZihlKXt2YXIgbj1lLmdldERhdGEoKTtuLmVhY2goZnVuY3Rpb24oZSl7dmFyIG89ZihLUCxmdW5jdGlvbihvKXtyZXR1cm4gZHkobixlLG8sdCxpKX0pO24uc2V0SXRlbUxheW91dChlLG8pLG4uZ2V0SXRlbUdyYXBoaWNFbChlKS5zZXRTaGFwZSgicG9pbnRzIixvKX0pfX0sdGhpcyl9LHJlbmRlclNlcmllczpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT10Lm5hbWUscz10LmdldERhdGEoKSxsPXRoaXMubWFya2VyR3JvdXBNYXAsdT1sLmdldChhKXx8bC5zZXQoYSx7Z3JvdXA6bmV3IExffSk7dGhpcy5ncm91cC5hZGQodS5ncm91cCksdS5fX2tlZXA9ITA7dmFyIGg9Znkobyx0LGUpO2Uuc2V0RGF0YShoKSxoLmVhY2goZnVuY3Rpb24oZSl7aC5zZXRJdGVtTGF5b3V0KGUsZihLUCxmdW5jdGlvbihpKXtyZXR1cm4gZHkoaCxlLGksdCxuKX0pKSxoLnNldEl0ZW1WaXN1YWwoZSx7Y29sb3I6cy5nZXRWaXN1YWwoImNvbG9yIil9KX0pLGguZGlmZih1Ll9fZGF0YSkuYWRkKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBaYih7c2hhcGU6e3BvaW50czpoLmdldEl0ZW1MYXlvdXQodCl9fSk7aC5zZXRJdGVtR3JhcGhpY0VsKHQsZSksdS5ncm91cC5hZGQoZSl9KS51cGRhdGUoZnVuY3Rpb24odCxpKXt2YXIgbj11Ll9fZGF0YS5nZXRJdGVtR3JhcGhpY0VsKGkpO2ZvKG4se3NoYXBlOntwb2ludHM6aC5nZXRJdGVtTGF5b3V0KHQpfX0sZSx0KSx1Lmdyb3VwLmFkZChuKSxoLnNldEl0ZW1HcmFwaGljRWwodCxuKX0pLnJlbW92ZShmdW5jdGlvbih0KXt2YXIgZT11Ll9fZGF0YS5nZXRJdGVtR3JhcGhpY0VsKHQpO3UuZ3JvdXAucmVtb3ZlKGUpfSkuZXhlY3V0ZSgpLGguZWFjaEl0ZW1HcmFwaGljRWwoZnVuY3Rpb24odCxpKXt2YXIgbj1oLmdldEl0ZW1Nb2RlbChpKSxvPW4uZ2V0TW9kZWwoImxhYmVsIiksYT1uLmdldE1vZGVsKCJlbXBoYXNpcy5sYWJlbCIpLHM9aC5nZXRJdGVtVmlzdWFsKGksImNvbG9yIik7dC51c2VTdHlsZShyKG4uZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHtmaWxsOnp0KHMsLjQpLHN0cm9rZTpzfSkpLHQuaG92ZXJTdHlsZT1uLmdldE1vZGVsKCJlbXBoYXNpcy5pdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxpbyh0LnN0eWxlLHQuaG92ZXJTdHlsZSxvLGEse2xhYmVsRmV0Y2hlcjplLGxhYmVsRGF0YUluZGV4OmksZGVmYXVsdFRleHQ6aC5nZXROYW1lKGkpfHwiIixpc1JlY3RUZXh0OiEwLGF1dG9Db2xvcjpzfSksZW8odCx7fSksdC5kYXRhTW9kZWw9ZX0pLHUuX19kYXRhPWgsdS5ncm91cC5zaWxlbnQ9ZS5nZXQoInNpbGVudCIpfHx0LmdldCgic2lsZW50Iil9fSksbHMoZnVuY3Rpb24odCl7dC5tYXJrQXJlYT10Lm1hcmtBcmVhfHx7fX0pO2tTLnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcigidGltZWxpbmUiLGZ1bmN0aW9uKCl7cmV0dXJuInNsaWRlciJ9KSxocyh7dHlwZToidGltZWxpbmVDaGFuZ2UiLGV2ZW50OiJ0aW1lbGluZUNoYW5nZWQiLHVwZGF0ZToicHJlcGFyZUFuZFVwZGF0ZSJ9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXRDb21wb25lbnQoInRpbWVsaW5lIik7cmV0dXJuIGkmJm51bGwhPXQuY3VycmVudEluZGV4JiYoaS5zZXRDdXJyZW50SW5kZXgodC5jdXJyZW50SW5kZXgpLCFpLmdldCgibG9vcCIsITApJiZpLmlzSW5kZXhNYXgoKSYmaS5zZXRQbGF5U3RhdGUoITEpKSxlLnJlc2V0T3B0aW9uKCJ0aW1lbGluZSIpLHIoe2N1cnJlbnRJbmRleDppLm9wdGlvbi5jdXJyZW50SW5kZXh9LHQpfSksaHMoe3R5cGU6InRpbWVsaW5lUGxheUNoYW5nZSIsZXZlbnQ6InRpbWVsaW5lUGxheUNoYW5nZWQiLHVwZGF0ZToidXBkYXRlIn0sZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldENvbXBvbmVudCgidGltZWxpbmUiKTtpJiZudWxsIT10LnBsYXlTdGF0ZSYmaS5zZXRQbGF5U3RhdGUodC5wbGF5U3RhdGUpfSk7dmFyIEpQPWtTLmV4dGVuZCh7dHlwZToidGltZWxpbmUiLGxheW91dE1vZGU6ImJveCIsZGVmYXVsdE9wdGlvbjp7emxldmVsOjAsejo0LHNob3c6ITAsYXhpc1R5cGU6InRpbWUiLHJlYWx0aW1lOiEwLGxlZnQ6IjIwJSIsdG9wOm51bGwscmlnaHQ6IjIwJSIsYm90dG9tOjAsd2lkdGg6bnVsbCxoZWlnaHQ6NDAscGFkZGluZzo1LGNvbnRyb2xQb3NpdGlvbjoibGVmdCIsYXV0b1BsYXk6ITEscmV3aW5kOiExLGxvb3A6ITAscGxheUludGVydmFsOjJlMyxjdXJyZW50SW5kZXg6MCxpdGVtU3R5bGU6e30sbGFiZWw6e2NvbG9yOiIjMDAwIn0sZGF0YTpbXX0saW5pdDpmdW5jdGlvbih0LGUsaSl7dGhpcy5fZGF0YSx0aGlzLl9uYW1lcyx0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsaSksdGhpcy5faW5pdERhdGEoKX0sbWVyZ2VPcHRpb246ZnVuY3Rpb24odCl7SlAuc3VwZXJBcHBseSh0aGlzLCJtZXJnZU9wdGlvbiIsYXJndW1lbnRzKSx0aGlzLl9pbml0RGF0YSgpfSxzZXRDdXJyZW50SW5kZXg6ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9dGhpcy5vcHRpb24uY3VycmVudEluZGV4KTt2YXIgZT10aGlzLl9kYXRhLmNvdW50KCk7dGhpcy5vcHRpb24ubG9vcD90PSh0JWUrZSklZToodD49ZSYmKHQ9ZS0xKSx0PDAmJih0PTApKSx0aGlzLm9wdGlvbi5jdXJyZW50SW5kZXg9dH0sZ2V0Q3VycmVudEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uLmN1cnJlbnRJbmRleH0saXNJbmRleE1heDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRJbmRleCgpPj10aGlzLl9kYXRhLmNvdW50KCktMX0sc2V0UGxheVN0YXRlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmF1dG9QbGF5PSEhdH0sZ2V0UGxheVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLm9wdGlvbi5hdXRvUGxheX0sX2luaXREYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24sZT10LmRhdGF8fFtdLG49dC5heGlzVHlwZSxvPXRoaXMuX25hbWVzPVtdO2lmKCJjYXRlZ29yeSI9PT1uKXt2YXIgYT1bXTtkKGUsZnVuY3Rpb24odCxlKXt2YXIgbixyPUlpKHQpO3codCk/KG49aSh0KSkudmFsdWU9ZTpuPWUsYS5wdXNoKG4pLF8ocil8fG51bGwhPXImJiFpc05hTihyKXx8KHI9IiIpLG8ucHVzaChyKyIiKX0pLGU9YX12YXIgcj17Y2F0ZWdvcnk6Im9yZGluYWwiLHRpbWU6InRpbWUifVtuXXx8Im51bWJlciI7KHRoaXMuX2RhdGE9bmV3IERJKFt7bmFtZToidmFsdWUiLHR5cGU6cn1dLHRoaXMpKS5pbml0RGF0YShlLG8pfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGdldENhdGVnb3JpZXM6ZnVuY3Rpb24oKXtpZigiY2F0ZWdvcnkiPT09dGhpcy5nZXQoImF4aXNUeXBlIikpcmV0dXJuIHRoaXMuX25hbWVzLnNsaWNlKCl9fSk7aChKUC5leHRlbmQoe3R5cGU6InRpbWVsaW5lLnNsaWRlciIsZGVmYXVsdE9wdGlvbjp7YmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyV2lkdGg6MCxvcmllbnQ6Imhvcml6b250YWwiLGludmVyc2U6ITEsdG9vbHRpcDp7dHJpZ2dlcjoiaXRlbSJ9LHN5bWJvbDoiZW1wdHlDaXJjbGUiLHN5bWJvbFNpemU6MTAsbGluZVN0eWxlOntzaG93OiEwLHdpZHRoOjIsY29sb3I6IiMzMDQ2NTQifSxsYWJlbDp7cG9zaXRpb246ImF1dG8iLHNob3c6ITAsaW50ZXJ2YWw6ImF1dG8iLHJvdGF0ZTowLGNvbG9yOiIjMzA0NjU0In0saXRlbVN0eWxlOntjb2xvcjoiIzMwNDY1NCIsYm9yZGVyV2lkdGg6MX0sY2hlY2twb2ludFN0eWxlOntzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZToxMyxjb2xvcjoiI2MyMzUzMSIsYm9yZGVyV2lkdGg6NSxib3JkZXJDb2xvcjoicmdiYSgxOTQsNTMsNDksIDAuNSkiLGFuaW1hdGlvbjohMCxhbmltYXRpb25EdXJhdGlvbjozMDAsYW5pbWF0aW9uRWFzaW5nOiJxdWludGljSW5PdXQifSxjb250cm9sU3R5bGU6e3Nob3c6ITAsc2hvd1BsYXlCdG46ITAsc2hvd1ByZXZCdG46ITAsc2hvd05leHRCdG46ITAsaXRlbVNpemU6MjIsaXRlbUdhcDoxMixwb3NpdGlvbjoibGVmdCIscGxheUljb246InBhdGg6Ly9NMzEuNiw1M0MxNy41LDUzLDYsNDEuNSw2LDI3LjRTMTcuNSwxLjgsMzEuNiwxLjhDNDUuNywxLjgsNTcuMiwxMy4zLDU3LjIsMjcuNFM0NS43LDUzLDMxLjYsNTN6IE0zMS42LDMuMyBDMTguNCwzLjMsNy41LDE0LjEsNy41LDI3LjRjMCwxMy4zLDEwLjgsMjQuMSwyNC4xLDI0LjFDNDQuOSw1MS41LDU1LjcsNDAuNyw1NS43LDI3LjRDNTUuNywxNC4xLDQ0LjksMy4zLDMxLjYsMy4zeiBNMjQuOSwyMS4zIGMwLTIuMiwxLjYtMy4xLDMuNS0ybDEwLjUsNi4xYzEuODk5LDEuMSwxLjg5OSwyLjksMCw0bC0xMC41LDYuMWMtMS45LDEuMS0zLjUsMC4yLTMuNS0yVjIxLjN6IixzdG9wSWNvbjoicGF0aDovL00zMC45LDUzLjJDMTYuOCw1My4yLDUuMyw0MS43LDUuMywyNy42UzE2LjgsMiwzMC45LDJDNDUsMiw1Ni40LDEzLjUsNTYuNCwyNy42UzQ1LDUzLjIsMzAuOSw1My4yeiBNMzAuOSwzLjVDMTcuNiwzLjUsNi44LDE0LjQsNi44LDI3LjZjMCwxMy4zLDEwLjgsMjQuMSwyNC4xMDEsMjQuMUM0NC4yLDUxLjcsNTUsNDAuOSw1NSwyNy42QzU0LjksMTQuNCw0NC4xLDMuNSwzMC45LDMuNXogTTM2LjksMzUuOGMwLDAuNjAxLTAuNCwxLTAuOSwxaC0xLjNjLTAuNSwwLTAuOS0wLjM5OS0wLjktMVYxOS41YzAtMC42LDAuNC0xLDAuOS0xSDM2YzAuNSwwLDAuOSwwLjQsMC45LDFWMzUuOHogTTI3LjgsMzUuOCBjMCwwLjYwMS0wLjQsMS0wLjksMWgtMS4zYy0wLjUsMC0wLjktMC4zOTktMC45LTFWMTkuNWMwLTAuNiwwLjQtMSwwLjktMUgyN2MwLjUsMCwwLjksMC40LDAuOSwxTDI3LjgsMzUuOEwyNy44LDM1Ljh6IixuZXh0SWNvbjoicGF0aDovL00xOC42LDUwLjhsMjIuNS0yMi41YzAuMi0wLjIsMC4zLTAuNCwwLjMtMC43YzAtMC4zLTAuMS0wLjUtMC4zLTAuN0wxOC43LDQuNGMtMC4xLTAuMS0wLjItMC4zLTAuMi0wLjUgYzAtMC40LDAuMy0wLjgsMC44LTAuOGMwLjIsMCwwLjUsMC4xLDAuNiwwLjNsMjMuNSwyMy41bDAsMGMwLjIsMC4yLDAuMywwLjQsMC4zLDAuN2MwLDAuMy0wLjEsMC41LTAuMywwLjdsLTAuMSwwLjFMMTkuNyw1MiBjLTAuMSwwLjEtMC4zLDAuMi0wLjUsMC4yYy0wLjQsMC0wLjgtMC4zLTAuOC0wLjhDMTguNCw1MS4yLDE4LjUsNTEsMTguNiw1MC44eiIscHJldkljb246InBhdGg6Ly9NNDMsNTIuOEwyMC40LDMwLjNjLTAuMi0wLjItMC4zLTAuNC0wLjMtMC43YzAtMC4zLDAuMS0wLjUsMC4zLTAuN0w0Mi45LDYuNGMwLjEtMC4xLDAuMi0wLjMsMC4yLTAuNSBjMC0wLjQtMC4zLTAuOC0wLjgtMC44Yy0wLjIsMC0wLjUsMC4xLTAuNiwwLjNMMTguMywyOC44bDAsMGMtMC4yLDAuMi0wLjMsMC40LTAuMywwLjdjMCwwLjMsMC4xLDAuNSwwLjMsMC43bDAuMSwwLjFMNDEuOSw1NCBjMC4xLDAuMSwwLjMsMC4yLDAuNSwwLjJjMC40LDAsMC44LTAuMywwLjgtMC44QzQzLjIsNTMuMiw0My4xLDUzLDQzLDUyLjh6Iixjb2xvcjoiIzMwNDY1NCIsYm9yZGVyQ29sb3I6IiMzMDQ2NTQiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoiI2MyMzUzMSJ9LGl0ZW1TdHlsZTp7Y29sb3I6IiNjMjM1MzEifSxjb250cm9sU3R5bGU6e2NvbG9yOiIjYzIzNTMxIixib3JkZXJDb2xvcjoiI2MyMzUzMSIsYm9yZGVyV2lkdGg6Mn19LGRhdGE6W119fSksZk0pO3ZhciBRUD12TS5leHRlbmQoe3R5cGU6InRpbWVsaW5lIn0pLHROPWZ1bmN0aW9uKHQsZSxpLG4pe2RELmNhbGwodGhpcyx0LGUsaSksdGhpcy50eXBlPW58fCJ2YWx1ZSIsdGhpcy5fYXV0b0xhYmVsSW50ZXJ2YWwsdGhpcy5tb2RlbD1udWxsfTt0Ti5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnROLGdldExhYmVsSW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1vZGVsLGU9dC5nZXRNb2RlbCgibGFiZWwiKSxpPWUuZ2V0KCJpbnRlcnZhbCIpO3JldHVybiBudWxsIT1pJiYiYXV0byIhPWk/aTooKGk9dGhpcy5fYXV0b0xhYmVsSW50ZXJ2YWwpfHwoaT10aGlzLl9hdXRvTGFiZWxJbnRlcnZhbD1kbChmKHRoaXMuc2NhbGUuZ2V0VGlja3MoKSx0aGlzLmRhdGFUb0Nvb3JkLHRoaXMpLGZsKHRoaXMsZS5nZXQoImZvcm1hdHRlciIpKSxlLmdldEZvbnQoKSwiaG9yaXpvbnRhbCI9PT10LmdldCgib3JpZW50Iik/MDo5MCxlLmdldCgicm90YXRlIikpKSxpKX0saXNMYWJlbElnbm9yZWQ6ZnVuY3Rpb24odCl7aWYoImNhdGVnb3J5Ij09PXRoaXMudHlwZSl7dmFyIGU9dGhpcy5nZXRMYWJlbEludGVydmFsKCk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiFlKHQsdGhpcy5zY2FsZS5nZXRMYWJlbCh0KSl8fHQlKGUrMSl9fX0sdSh0TixkRCk7dmFyIGVOPW0saU49ZCxuTj1NYXRoLlBJO1FQLmV4dGVuZCh7dHlwZToidGltZWxpbmUuc2xpZGVyIixpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy5hcGk9ZSx0aGlzLl9heGlzLHRoaXMuX3ZpZXdSZWN0LHRoaXMuX3RpbWVyLHRoaXMuX2N1cnJlbnRQb2ludGVyLHRoaXMuX21haW5Hcm91cCx0aGlzLl9sYWJlbEdyb3VwfSxyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7aWYodGhpcy5tb2RlbD10LHRoaXMuYXBpPWksdGhpcy5lY01vZGVsPWUsdGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIsITApKXt2YXIgbz10aGlzLl9sYXlvdXQodCxpKSxhPXRoaXMuX2NyZWF0ZUdyb3VwKCJtYWluR3JvdXAiKSxyPXRoaXMuX2NyZWF0ZUdyb3VwKCJsYWJlbEdyb3VwIikscz10aGlzLl9heGlzPXRoaXMuX2NyZWF0ZUF4aXMobyx0KTt0LmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCl7cmV0dXJuIFpvKHMuc2NhbGUuZ2V0TGFiZWwodCkpfSxpTihbIkF4aXNMaW5lIiwiQXhpc1RpY2siLCJDb250cm9sIiwiQ3VycmVudFBvaW50ZXIiXSxmdW5jdGlvbihlKXt0aGlzWyJfcmVuZGVyIitlXShvLGEscyx0KX0sdGhpcyksdGhpcy5fcmVuZGVyQXhpc0xhYmVsKG8scixzLHQpLHRoaXMuX3Bvc2l0aW9uKG8sdCl9dGhpcy5fZG9QbGF5U3RvcCgpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFyVGltZXIoKX0sX2xheW91dDpmdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0KCJsYWJlbC5wb3NpdGlvbiIpLG49dC5nZXQoIm9yaWVudCIpLG89dnkodCxlKTtudWxsPT1pfHwiYXV0byI9PT1pP2k9Imhvcml6b250YWwiPT09bj9vLnkrby5oZWlnaHQvMjxlLmdldEhlaWdodCgpLzI/Ii0iOiIrIjpvLngrby53aWR0aC8yPGUuZ2V0V2lkdGgoKS8yPyIrIjoiLSI6aXNOYU4oaSkmJihpPXtob3Jpem9udGFsOnt0b3A6Ii0iLGJvdHRvbToiKyJ9LHZlcnRpY2FsOntsZWZ0OiItIixyaWdodDoiKyJ9fVtuXVtpXSk7dmFyIGE9e2hvcml6b250YWw6ImNlbnRlciIsdmVydGljYWw6aT49MHx8IisiPT09aT8ibGVmdCI6InJpZ2h0In0scj17aG9yaXpvbnRhbDppPj0wfHwiKyI9PT1pPyJ0b3AiOiJib3R0b20iLHZlcnRpY2FsOiJtaWRkbGUifSxzPXtob3Jpem9udGFsOjAsdmVydGljYWw6bk4vMn0sbD0idmVydGljYWwiPT09bj9vLmhlaWdodDpvLndpZHRoLHU9dC5nZXRNb2RlbCgiY29udHJvbFN0eWxlIiksaD11LmdldCgic2hvdyIsITApLGM9aD91LmdldCgiaXRlbVNpemUiKTowLGQ9aD91LmdldCgiaXRlbUdhcCIpOjAsZj1jK2QscD10LmdldCgibGFiZWwucm90YXRlIil8fDA7cD1wKm5OLzE4MDt2YXIgZyxtLHYseSx4PXUuZ2V0KCJwb3NpdGlvbiIsITApLF89aCYmdS5nZXQoInNob3dQbGF5QnRuIiwhMCksdz1oJiZ1LmdldCgic2hvd1ByZXZCdG4iLCEwKSxiPWgmJnUuZ2V0KCJzaG93TmV4dEJ0biIsITApLFM9MCxNPWw7cmV0dXJuImxlZnQiPT09eHx8ImJvdHRvbSI9PT14PyhfJiYoZz1bMCwwXSxTKz1mKSx3JiYobT1bUywwXSxTKz1mKSxiJiYodj1bTS1jLDBdLE0tPWYpKTooXyYmKGc9W00tYywwXSxNLT1mKSx3JiYobT1bMCwwXSxTKz1mKSxiJiYodj1bTS1jLDBdLE0tPWYpKSx5PVtTLE1dLHQuZ2V0KCJpbnZlcnNlIikmJnkucmV2ZXJzZSgpLHt2aWV3UmVjdDpvLG1haW5MZW5ndGg6bCxvcmllbnQ6bixyb3RhdGlvbjpzW25dLGxhYmVsUm90YXRpb246cCxsYWJlbFBvc09wdDppLGxhYmVsQWxpZ246dC5nZXQoImxhYmVsLmFsaWduIil8fGFbbl0sbGFiZWxCYXNlbGluZTp0LmdldCgibGFiZWwudmVydGljYWxBbGlnbiIpfHx0LmdldCgibGFiZWwuYmFzZWxpbmUiKXx8cltuXSxwbGF5UG9zaXRpb246ZyxwcmV2QnRuUG9zaXRpb246bSxuZXh0QnRuUG9zaXRpb246dixheGlzRXh0ZW50OnksY29udHJvbFNpemU6Yyxjb250cm9sR2FwOmR9fSxfcG9zaXRpb246ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3ZhciBlPXQucG9zaXRpb247dC5vcmlnaW49W2NbMF1bMF0tZVswXSxjWzFdWzBdLWVbMV1dfWZ1bmN0aW9uIG4odCl7cmV0dXJuW1t0LngsdC54K3Qud2lkdGhdLFt0LnksdC55K3QuaGVpZ2h0XV19ZnVuY3Rpb24gbyh0LGUsaSxuLG8pe3Rbbl0rPWlbbl1bb10tZVtuXVtvXX12YXIgYT10aGlzLl9tYWluR3JvdXAscj10aGlzLl9sYWJlbEdyb3VwLHM9dC52aWV3UmVjdDtpZigidmVydGljYWwiPT09dC5vcmllbnQpe3ZhciBsPXN0KCksdT1zLngsaD1zLnkrcy5oZWlnaHQ7Y3QobCxsLFstdSwtaF0pLGR0KGwsbCwtbk4vMiksY3QobCxsLFt1LGhdKSwocz1zLmNsb25lKCkpLmFwcGx5VHJhbnNmb3JtKGwpfXZhciBjPW4ocyksZD1uKGEuZ2V0Qm91bmRpbmdSZWN0KCkpLGY9bihyLmdldEJvdW5kaW5nUmVjdCgpKSxwPWEucG9zaXRpb24sZz1yLnBvc2l0aW9uO2dbMF09cFswXT1jWzBdWzBdO3ZhciBtPXQubGFiZWxQb3NPcHQ7aWYoaXNOYU4obSkpbyhwLGQsYywxLHY9IisiPT09bT8wOjEpLG8oZyxmLGMsMSwxLXYpO2Vsc2V7dmFyIHY9bT49MD8wOjE7byhwLGQsYywxLHYpLGdbMV09cFsxXSttfWEuYXR0cigicG9zaXRpb24iLHApLHIuYXR0cigicG9zaXRpb24iLGcpLGEucm90YXRpb249ci5yb3RhdGlvbj10LnJvdGF0aW9uLGkoYSksaShyKX0sX2NyZWF0ZUF4aXM6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmdldERhdGEoKSxuPWUuZ2V0KCJheGlzVHlwZSIpLG89Y2woZSxuKSxhPWkuZ2V0RGF0YUV4dGVudCgidmFsdWUiKTtvLnNldEV4dGVudChhWzBdLGFbMV0pLHRoaXMuX2N1c3RvbWl6ZVNjYWxlKG8saSksby5uaWNlVGlja3MoKTt2YXIgcj1uZXcgdE4oInZhbHVlIixvLHQuYXhpc0V4dGVudCxuKTtyZXR1cm4gci5tb2RlbD1lLHJ9LF9jdXN0b21pemVTY2FsZTpmdW5jdGlvbih0LGUpe3QuZ2V0VGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXBBcnJheShbInZhbHVlIl0sZnVuY3Rpb24odCl7cmV0dXJuIHR9KX0sdC5nZXRUaWNrc0xhYmVscz1mdW5jdGlvbigpe3JldHVybiBmKHRoaXMuZ2V0VGlja3MoKSx0LmdldExhYmVsLHQpfX0sX2NyZWF0ZUdyb3VwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbIl8iK3RdPW5ldyBMXztyZXR1cm4gdGhpcy5ncm91cC5hZGQoZSksZX0sX3JlbmRlckF4aXNMaW5lOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPWkuZ2V0RXh0ZW50KCk7bi5nZXQoImxpbmVTdHlsZS5zaG93IikmJmUuYWRkKG5ldyBYYih7c2hhcGU6e3gxOm9bMF0seTE6MCx4MjpvWzFdLHkyOjB9LHN0eWxlOmEoe2xpbmVDYXA6InJvdW5kIn0sbi5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMCx6MjoxfSkpfSxfcmVuZGVyQXhpc1RpY2s6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89bi5nZXREYXRhKCksYT1pLnNjYWxlLmdldFRpY2tzKCk7aU4oYSxmdW5jdGlvbih0LGEpe3ZhciByPWkuZGF0YVRvQ29vcmQodCkscz1vLmdldEl0ZW1Nb2RlbChhKSxsPXMuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHU9cy5nZXRNb2RlbCgiZW1waGFzaXMuaXRlbVN0eWxlIiksaD17cG9zaXRpb246W3IsMF0sb25jbGljazplTih0aGlzLl9jaGFuZ2VUaW1lbGluZSx0aGlzLGEpfSxjPXh5KHMsbCxlLGgpO2VvKGMsdS5nZXRJdGVtU3R5bGUoKSkscy5nZXQoInRvb2x0aXAiKT8oYy5kYXRhSW5kZXg9YSxjLmRhdGFNb2RlbD1uKTpjLmRhdGFJbmRleD1jLmRhdGFNb2RlbD1udWxsfSx0aGlzKX0sX3JlbmRlckF4aXNMYWJlbDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1uLmdldE1vZGVsKCJsYWJlbCIpO2lmKG8uZ2V0KCJzaG93Iikpe3ZhciBhPW4uZ2V0RGF0YSgpLHI9aS5zY2FsZS5nZXRUaWNrcygpLHM9ZmwoaSxvLmdldCgiZm9ybWF0dGVyIikpLGw9aS5nZXRMYWJlbEludGVydmFsKCk7aU4ocixmdW5jdGlvbihuLG8pe2lmKCFpLmlzTGFiZWxJZ25vcmVkKG8sbCkpe3ZhciByPWEuZ2V0SXRlbU1vZGVsKG8pLHU9ci5nZXRNb2RlbCgibGFiZWwiKSxoPXIuZ2V0TW9kZWwoImVtcGhhc2lzLmxhYmVsIiksYz1pLmRhdGFUb0Nvb3JkKG4pLGQ9bmV3IHpiKHtwb3NpdGlvbjpbYywwXSxyb3RhdGlvbjp0LmxhYmVsUm90YXRpb24tdC5yb3RhdGlvbixvbmNsaWNrOmVOKHRoaXMuX2NoYW5nZVRpbWVsaW5lLHRoaXMsbyksc2lsZW50OiExfSk7bm8oZC5zdHlsZSx1LHt0ZXh0OnNbb10sdGV4dEFsaWduOnQubGFiZWxBbGlnbix0ZXh0VmVydGljYWxBbGlnbjp0LmxhYmVsQmFzZWxpbmV9KSxlLmFkZChkKSxlbyhkLG5vKHt9LGgpKX19LHRoaXMpfX0sX3JlbmRlckNvbnRyb2w6ZnVuY3Rpb24odCxlLGksbil7ZnVuY3Rpb24gbyh0LGksbyxoKXtpZih0KXt2YXIgYz15eShuLGksdSx7cG9zaXRpb246dCxvcmlnaW46W2EvMiwwXSxyb3RhdGlvbjpoPy1yOjAscmVjdEhvdmVyOiEwLHN0eWxlOnMsb25jbGljazpvfSk7ZS5hZGQoYyksZW8oYyxsKX19dmFyIGE9dC5jb250cm9sU2l6ZSxyPXQucm90YXRpb24scz1uLmdldE1vZGVsKCJjb250cm9sU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxsPW4uZ2V0TW9kZWwoImVtcGhhc2lzLmNvbnRyb2xTdHlsZSIpLmdldEl0ZW1TdHlsZSgpLHU9WzAsLWEvMixhLGFdLGg9bi5nZXRQbGF5U3RhdGUoKSxjPW4uZ2V0KCJpbnZlcnNlIiwhMCk7byh0Lm5leHRCdG5Qb3NpdGlvbiwiY29udHJvbFN0eWxlLm5leHRJY29uIixlTih0aGlzLl9jaGFuZ2VUaW1lbGluZSx0aGlzLGM/Ii0iOiIrIikpLG8odC5wcmV2QnRuUG9zaXRpb24sImNvbnRyb2xTdHlsZS5wcmV2SWNvbiIsZU4odGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyxjPyIrIjoiLSIpKSxvKHQucGxheVBvc2l0aW9uLCJjb250cm9sU3R5bGUuIisoaD8ic3RvcEljb24iOiJwbGF5SWNvbiIpLGVOKHRoaXMuX2hhbmRsZVBsYXlDbGljayx0aGlzLCFoKSwhMCl9LF9yZW5kZXJDdXJyZW50UG9pbnRlcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1uLmdldERhdGEoKSxhPW4uZ2V0Q3VycmVudEluZGV4KCkscj1vLmdldEl0ZW1Nb2RlbChhKS5nZXRNb2RlbCgiY2hlY2twb2ludFN0eWxlIikscz10aGlzLGw9e29uQ3JlYXRlOmZ1bmN0aW9uKHQpe3QuZHJhZ2dhYmxlPSEwLHQuZHJpZnQ9ZU4ocy5faGFuZGxlUG9pbnRlckRyYWcscyksdC5vbmRyYWdlbmQ9ZU4ocy5faGFuZGxlUG9pbnRlckRyYWdlbmQscyksX3kodCxhLGksbiwhMCl9LG9uVXBkYXRlOmZ1bmN0aW9uKHQpe195KHQsYSxpLG4pfX07dGhpcy5fY3VycmVudFBvaW50ZXI9eHkocixyLHRoaXMuX21haW5Hcm91cCx7fSx0aGlzLl9jdXJyZW50UG9pbnRlcixsKX0sX2hhbmRsZVBsYXlDbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRpbWVsaW5lUGxheUNoYW5nZSIscGxheVN0YXRlOnQsZnJvbTp0aGlzLnVpZH0pfSxfaGFuZGxlUG9pbnRlckRyYWc6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NsZWFyVGltZXIoKSx0aGlzLl9wb2ludGVyQ2hhbmdlVGltZWxpbmUoW2kub2Zmc2V0WCxpLm9mZnNldFldKX0sX2hhbmRsZVBvaW50ZXJEcmFnZW5kOmZ1bmN0aW9uKHQpe3RoaXMuX3BvaW50ZXJDaGFuZ2VUaW1lbGluZShbdC5vZmZzZXRYLHQub2Zmc2V0WV0sITApfSxfcG9pbnRlckNoYW5nZVRpbWVsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdG9BeGlzQ29vcmQodClbMF0sbj1Dbyh0aGlzLl9heGlzLmdldEV4dGVudCgpLnNsaWNlKCkpO2k+blsxXSYmKGk9blsxXSksaTxuWzBdJiYoaT1uWzBdKSx0aGlzLl9jdXJyZW50UG9pbnRlci5wb3NpdGlvblswXT1pLHRoaXMuX2N1cnJlbnRQb2ludGVyLmRpcnR5KCk7dmFyIG89dGhpcy5fZmluZE5lYXJlc3RUaWNrKGkpLGE9dGhpcy5tb2RlbDsoZXx8byE9PWEuZ2V0Q3VycmVudEluZGV4KCkmJmEuZ2V0KCJyZWFsdGltZSIpKSYmdGhpcy5fY2hhbmdlVGltZWxpbmUobyl9LF9kb1BsYXlTdG9wOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMubW9kZWwuZ2V0UGxheVN0YXRlKCkmJih0aGlzLl90aW1lcj1zZXRUaW1lb3V0KGVOKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tb2RlbDt0aGlzLl9jaGFuZ2VUaW1lbGluZSh0LmdldEN1cnJlbnRJbmRleCgpKyh0LmdldCgicmV3aW5kIiwhMCk/LTE6MSkpfSx0aGlzKSx0aGlzLm1vZGVsLmdldCgicGxheUludGVydmFsIikpKX0sX3RvQXhpc0Nvb3JkOmZ1bmN0aW9uKHQpe3JldHVybiBtbyh0LHRoaXMuX21haW5Hcm91cC5nZXRMb2NhbFRyYW5zZm9ybSgpLCEwKX0sX2ZpbmROZWFyZXN0VGljazpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMubW9kZWwuZ2V0RGF0YSgpLG49MS8wLG89dGhpcy5fYXhpcztyZXR1cm4gaS5lYWNoKFsidmFsdWUiXSxmdW5jdGlvbihpLGEpe3ZhciByPW8uZGF0YVRvQ29vcmQoaSkscz1NYXRoLmFicyhyLXQpO3M8biYmKG49cyxlPWEpfSksZX0sX2NsZWFyVGltZXI6ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9bnVsbCl9LF9jaGFuZ2VUaW1lbGluZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm1vZGVsLmdldEN1cnJlbnRJbmRleCgpOyIrIj09PXQ/dD1lKzE6Ii0iPT09dCYmKHQ9ZS0xKSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidGltZWxpbmVDaGFuZ2UiLGN1cnJlbnRJbmRleDp0LGZyb206dGhpcy51aWR9KX19KSxscyhmdW5jdGlvbih0KXt2YXIgZT10JiZ0LnRpbWVsaW5lO3koZSl8fChlPWU/W2VdOltdKSxkKGUsZnVuY3Rpb24odCl7dCYmcHkodCl9KX0pO3ZhciBvTj1tcyh7dHlwZToidG9vbGJveCIsbGF5b3V0TW9kZTp7dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxtZXJnZURlZmF1bHRBbmRUaGVtZTpmdW5jdGlvbih0KXtvTi5zdXBlckFwcGx5KHRoaXMsIm1lcmdlRGVmYXVsdEFuZFRoZW1lIixhcmd1bWVudHMpLGQodGhpcy5vcHRpb24uZmVhdHVyZSxmdW5jdGlvbih0LGUpe3ZhciBpPXN2KGUpO2kmJm4odCxpLmRlZmF1bHRPcHRpb24pfSl9LGRlZmF1bHRPcHRpb246e3Nob3c6ITAsejo2LHpsZXZlbDowLG9yaWVudDoiaG9yaXpvbnRhbCIsbGVmdDoicmlnaHQiLHRvcDoidG9wIixiYWNrZ3JvdW5kQ29sb3I6InRyYW5zcGFyZW50Iixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyUmFkaXVzOjAsYm9yZGVyV2lkdGg6MCxwYWRkaW5nOjUsaXRlbVNpemU6MTUsaXRlbUdhcDo4LHNob3dUaXRsZTohMCxpY29uU3R5bGU6e2JvcmRlckNvbG9yOiIjNjY2Iixjb2xvcjoibm9uZSJ9LGVtcGhhc2lzOntpY29uU3R5bGU6e2JvcmRlckNvbG9yOiIjM0U5OEM1In19fX0pO3ZzKHt0eXBlOiJ0b29sYm94IixyZW5kZXI6ZnVuY3Rpb24odCxlLGksbil7ZnVuY3Rpb24gbyhvLHIpe3ZhciBzLGM9aFtvXSxkPWhbcl0sZj1uZXcgd28obFtjXSx0LHQuZWNNb2RlbCk7aWYoYyYmIWQpe2lmKHd5KGMpKXM9e21vZGVsOmYsb25jbGljazpmLm9wdGlvbi5vbmNsaWNrLGZlYXR1cmVOYW1lOmN9O2Vsc2V7dmFyIHA9c3YoYyk7aWYoIXApcmV0dXJuO3M9bmV3IHAoZixlLGkpfXVbY109c31lbHNle2lmKCEocz11W2RdKSlyZXR1cm47cy5tb2RlbD1mLHMuZWNNb2RlbD1lLHMuYXBpPWl9Y3x8IWQ/Zi5nZXQoInNob3ciKSYmIXMudW51c2FibGU/KGEoZixzLGMpLGYuc2V0SWNvblN0YXR1cz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9uLG49dGhpcy5pY29uUGF0aHM7aS5pY29uU3RhdHVzPWkuaWNvblN0YXR1c3x8e30saS5pY29uU3RhdHVzW3RdPWUsblt0XSYmblt0XS50cmlnZ2VyKGUpfSxzLnJlbmRlciYmcy5yZW5kZXIoZixlLGksbikpOnMucmVtb3ZlJiZzLnJlbW92ZShlLGkpOnMuZGlzcG9zZSYmcy5kaXNwb3NlKGUsaSl9ZnVuY3Rpb24gYShuLG8sYSl7dmFyIGw9bi5nZXRNb2RlbCgiaWNvblN0eWxlIiksdT1uLmdldE1vZGVsKCJlbXBoYXNpcy5pY29uU3R5bGUiKSxoPW8uZ2V0SWNvbnM/by5nZXRJY29ucygpOm4uZ2V0KCJpY29uIiksYz1uLmdldCgidGl0bGUiKXx8e307aWYoInN0cmluZyI9PXR5cGVvZiBoKXt2YXIgZj1oLHA9YztjPXt9LChoPXt9KVthXT1mLGNbYV09cH12YXIgZz1uLmljb25QYXRocz17fTtkKGgsZnVuY3Rpb24oYSxoKXt2YXIgZD1fbyhhLHt9LHt4Oi1zLzIseTotcy8yLHdpZHRoOnMsaGVpZ2h0OnN9KTtkLnNldFN0eWxlKGwuZ2V0SXRlbVN0eWxlKCkpLGQuaG92ZXJTdHlsZT11LmdldEl0ZW1TdHlsZSgpLGVvKGQpLHQuZ2V0KCJzaG93VGl0bGUiKSYmKGQuX190aXRsZT1jW2hdLGQub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXt2YXIgdD11LmdldEl0ZW1TdHlsZSgpO2Quc2V0U3R5bGUoe3RleHQ6Y1toXSx0ZXh0UG9zaXRpb246dC50ZXh0UG9zaXRpb258fCJib3R0b20iLHRleHRGaWxsOnQuZmlsbHx8dC5zdHJva2V8fCIjMDAwIix0ZXh0QWxpZ246dC50ZXh0QWxpZ258fCJjZW50ZXIifSl9KS5vbigibW91c2VvdXQiLGZ1bmN0aW9uKCl7ZC5zZXRTdHlsZSh7dGV4dEZpbGw6bnVsbH0pfSkpLGQudHJpZ2dlcihuLmdldCgiaWNvblN0YXR1cy4iK2gpfHwibm9ybWFsIiksci5hZGQoZCksZC5vbigiY2xpY2siLG0oby5vbmNsaWNrLG8sZSxpLGgpKSxnW2hdPWR9KX12YXIgcj10aGlzLmdyb3VwO2lmKHIucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIHM9K3QuZ2V0KCJpdGVtU2l6ZSIpLGw9dC5nZXQoImZlYXR1cmUiKXx8e30sdT10aGlzLl9mZWF0dXJlc3x8KHRoaXMuX2ZlYXR1cmVzPXt9KSxoPVtdO2QobCxmdW5jdGlvbih0LGUpe2gucHVzaChlKX0pLG5ldyBicyh0aGlzLl9mZWF0dXJlTmFtZXN8fFtdLGgpLmFkZChvKS51cGRhdGUobykucmVtb3ZlKHYobyxudWxsKSkuZXhlY3V0ZSgpLHRoaXMuX2ZlYXR1cmVOYW1lcz1oLGVtKHIsdCxpKSxyLmFkZChpbShyLmdldEJvdW5kaW5nUmVjdCgpLHQpKSxyLmVhY2hDaGlsZChmdW5jdGlvbih0KXt2YXIgZT10Ll9fdGl0bGUsbj10LmhvdmVyU3R5bGU7aWYobiYmZSl7dmFyIG89bWUoZSxrZShuKSksYT10LnBvc2l0aW9uWzBdK3IucG9zaXRpb25bMF0sbD0hMTt0LnBvc2l0aW9uWzFdK3IucG9zaXRpb25bMV0rcytvLmhlaWdodD5pLmdldEhlaWdodCgpJiYobi50ZXh0UG9zaXRpb249InRvcCIsbD0hMCk7dmFyIHU9bD8tNS1vLmhlaWdodDpzKzg7YStvLndpZHRoLzI+aS5nZXRXaWR0aCgpPyhuLnRleHRQb3NpdGlvbj1bIjEwMCUiLHVdLG4udGV4dEFsaWduPSJyaWdodCIpOmEtby53aWR0aC8yPDAmJihuLnRleHRQb3NpdGlvbj1bMCx1XSxuLnRleHRBbGlnbj0ibGVmdCIpfX0pfX0sdXBkYXRlVmlldzpmdW5jdGlvbih0LGUsaSxuKXtkKHRoaXMuX2ZlYXR1cmVzLGZ1bmN0aW9uKHQpe3QudXBkYXRlVmlldyYmdC51cGRhdGVWaWV3KHQubW9kZWwsZSxpLG4pfSl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe2QodGhpcy5fZmVhdHVyZXMsZnVuY3Rpb24oaSl7aS5yZW1vdmUmJmkucmVtb3ZlKHQsZSl9KSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxkaXNwb3NlOmZ1bmN0aW9uKHQsZSl7ZCh0aGlzLl9mZWF0dXJlcyxmdW5jdGlvbihpKXtpLmRpc3Bvc2UmJmkuZGlzcG9zZSh0LGUpfSl9fSk7dmFyIGFOPUFNLnRvb2xib3guc2F2ZUFzSW1hZ2U7YnkuZGVmYXVsdE9wdGlvbj17c2hvdzohMCxpY29uOiJNNC43LDIyLjlMMjkuMyw0NS41TDU0LjcsMjMuNE00LjYsNDMuNkw0LjYsNThMNTMuOCw1OEw1My44LDQzLjZNMjkuMiw0NS4xTDI5LjIsMCIsdGl0bGU6YU4udGl0bGUsdHlwZToicG5nIixuYW1lOiIiLGV4Y2x1ZGVDb21wb25lbnRzOlsidG9vbGJveCJdLHBpeGVsUmF0aW86MSxsYW5nOmFOLmxhbmcuc2xpY2UoKX0sYnkucHJvdG90eXBlLnVudXNhYmxlPSFBeC5jYW52YXNTdXBwb3J0ZWQsYnkucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm1vZGVsLG49aS5nZXQoIm5hbWUiKXx8dC5nZXQoInRpdGxlLjAudGV4dCIpfHwiZWNoYXJ0cyIsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksYT1pLmdldCgidHlwZSIsITApfHwicG5nIjtvLmRvd25sb2FkPW4rIi4iK2Esby50YXJnZXQ9Il9ibGFuayI7dmFyIHI9ZS5nZXRDb25uZWN0ZWREYXRhVVJMKHt0eXBlOmEsYmFja2dyb3VuZENvbG9yOmkuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiLCEwKXx8dC5nZXQoImJhY2tncm91bmRDb2xvciIpfHwiI2ZmZiIsZXhjbHVkZUNvbXBvbmVudHM6aS5nZXQoImV4Y2x1ZGVDb21wb25lbnRzIikscGl4ZWxSYXRpbzppLmdldCgicGl4ZWxSYXRpbyIpfSk7aWYoby5ocmVmPXIsImZ1bmN0aW9uIiE9dHlwZW9mIE1vdXNlRXZlbnR8fEF4LmJyb3dzZXIuaWV8fEF4LmJyb3dzZXIuZWRnZSlpZih3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2Ipe2Zvcih2YXIgcz1hdG9iKHIuc3BsaXQoIiwiKVsxXSksbD1zLmxlbmd0aCx1PW5ldyBVaW50OEFycmF5KGwpO2wtLTspdVtsXT1zLmNoYXJDb2RlQXQobCk7dmFyIGg9bmV3IEJsb2IoW3VdKTt3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoaCxuKyIuIithKX1lbHNle3ZhciBjPWkuZ2V0KCJsYW5nIiksZD0nPGJvZHkgc3R5bGU9Im1hcmdpbjowOyI+PGltZyBzcmM9IicrcisnIiBzdHlsZT0ibWF4LXdpZHRoOjEwMCU7IiB0aXRsZT0iJysoYyYmY1swXXx8IiIpKyciIC8+PC9ib2R5Pic7d2luZG93Lm9wZW4oKS5kb2N1bWVudC53cml0ZShkKX1lbHNle3ZhciBmPW5ldyBNb3VzZUV2ZW50KCJjbGljayIse3ZpZXc6d2luZG93LGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMX0pO28uZGlzcGF0Y2hFdmVudChmKX19LHJ2KCJzYXZlQXNJbWFnZSIsYnkpO3ZhciByTj1BTS50b29sYm94Lm1hZ2ljVHlwZTtTeS5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHR5cGU6W10saWNvbjp7bGluZToiTTQuMSwyOC45aDcuMWw5LjMtMjJsNy40LDM4bDkuNy0xOS43bDMsMTIuOGgxNC45TTQuMSw1OGg1MS40IixiYXI6Ik02LjcsMjIuOWgxMFY0OGgtMTBWMjIuOXpNMjQuOSwxM2gxMHYzNWgtMTBWMTN6TTQzLjIsMmgxMHY0NmgtMTBWMnpNMy4xLDU4aDUzLjciLHN0YWNrOiJNOC4yLDM4LjRsLTguNCw0LjFsMzAuNiwxNS4zTDYwLDQyLjVsLTguMS00LjFsLTIxLjUsMTFMOC4yLDM4LjR6IE01MS45LDMwbC04LjEsNC4ybC0xMy40LDYuOWwtMTMuOS02LjlMOC4yLDMwbC04LjQsNC4ybDguNCw0LjJsMjIuMiwxMWwyMS41LTExbDguMS00LjJMNTEuOSwzMHogTTUxLjksMjEuN2wtOC4xLDQuMkwzNS43LDMwbC01LjMsMi44TDI0LjksMzBsLTguNC00LjFsLTguMy00LjJsLTguNCw0LjJMOC4yLDMwbDguMyw0LjJsMTMuOSw2LjlsMTMuNC02LjlsOC4xLTQuMmw4LjEtNC4xTDUxLjksMjEuN3pNMzAuNCwyLjJMLTAuMiwxNy41bDguNCw0LjFsOC4zLDQuMmw4LjQsNC4ybDUuNSwyLjdsNS4zLTIuN2w4LjEtNC4ybDguMS00LjJsOC4xLTQuMUwzMC40LDIuMnoiLHRpbGVkOiJNMi4zLDIuMmgyMi44VjI1SDIuM1YyLjJ6IE0zNSwyLjJoMjIuOFYyNUgzNVYyLjJ6TTIuMywzNWgyMi44djIyLjhIMi4zVjM1eiBNMzUsMzVoMjIuOHYyMi44SDM1VjM1eiJ9LHRpdGxlOmkock4udGl0bGUpLG9wdGlvbjp7fSxzZXJpZXNJbmRleDp7fX07dmFyIHNOPVN5LnByb3RvdHlwZTtzTi5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldCgiaWNvbiIpLGk9e307cmV0dXJuIGQodC5nZXQoInR5cGUiKSxmdW5jdGlvbih0KXtlW3RdJiYoaVt0XT1lW3RdKX0pLGl9O3ZhciBsTj17bGluZTpmdW5jdGlvbih0LGUsaSxvKXtpZigiYmFyIj09PXQpcmV0dXJuIG4oe2lkOmUsdHlwZToibGluZSIsZGF0YTppLmdldCgiZGF0YSIpLHN0YWNrOmkuZ2V0KCJzdGFjayIpLG1hcmtQb2ludDppLmdldCgibWFya1BvaW50IiksbWFya0xpbmU6aS5nZXQoIm1hcmtMaW5lIil9LG8uZ2V0KCJvcHRpb24ubGluZSIpfHx7fSwhMCl9LGJhcjpmdW5jdGlvbih0LGUsaSxvKXtpZigibGluZSI9PT10KXJldHVybiBuKHtpZDplLHR5cGU6ImJhciIsZGF0YTppLmdldCgiZGF0YSIpLHN0YWNrOmkuZ2V0KCJzdGFjayIpLG1hcmtQb2ludDppLmdldCgibWFya1BvaW50IiksbWFya0xpbmU6aS5nZXQoIm1hcmtMaW5lIil9LG8uZ2V0KCJvcHRpb24uYmFyIil8fHt9LCEwKX0sc3RhY2s6ZnVuY3Rpb24odCxlLGksbyl7aWYoImxpbmUiPT09dHx8ImJhciI9PT10KXJldHVybiBuKHtpZDplLHN0YWNrOiJfX2VjX21hZ2ljVHlwZV9zdGFja19fIn0sby5nZXQoIm9wdGlvbi5zdGFjayIpfHx7fSwhMCl9LHRpbGVkOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKCJsaW5lIj09PXR8fCJiYXIiPT09dClyZXR1cm4gbih7aWQ6ZSxzdGFjazoiIn0sby5nZXQoIm9wdGlvbi50aWxlZCIpfHx7fSwhMCl9fSx1Tj1bWyJsaW5lIiwiYmFyIl0sWyJzdGFjayIsInRpbGVkIl1dO3NOLm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMubW9kZWwsbz1uLmdldCgic2VyaWVzSW5kZXguIitpKTtpZihsTltpXSl7dmFyIGE9e3NlcmllczpbXX07ZCh1TixmdW5jdGlvbih0KXtsKHQsaSk+PTAmJmQodCxmdW5jdGlvbih0KXtuLnNldEljb25TdGF0dXModCwibm9ybWFsIil9KX0pLG4uc2V0SWNvblN0YXR1cyhpLCJlbXBoYXNpcyIpLHQuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIscXVlcnk6bnVsbD09bz9udWxsOntzZXJpZXNJbmRleDpvfX0sZnVuY3Rpb24oZSl7dmFyIG89ZS5zdWJUeXBlLHM9ZS5pZCxsPWxOW2ldKG8scyxlLG4pO2wmJihyKGwsZS5vcHRpb24pLGEuc2VyaWVzLnB1c2gobCkpO3ZhciB1PWUuY29vcmRpbmF0ZVN5c3RlbTtpZih1JiYiY2FydGVzaWFuMmQiPT09dS50eXBlJiYoImxpbmUiPT09aXx8ImJhciI9PT1pKSl7dmFyIGg9dS5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdO2lmKGgpe3ZhciBjPWguZGltKyJBeGlzIixkPXQucXVlcnlDb21wb25lbnRzKHttYWluVHlwZTpjLGluZGV4OmUuZ2V0KG5hbWUrIkluZGV4IiksaWQ6ZS5nZXQobmFtZSsiSWQiKX0pWzBdLmNvbXBvbmVudEluZGV4O2FbY109YVtjXXx8W107Zm9yKHZhciBmPTA7Zjw9ZDtmKyspYVtjXVtkXT1hW2NdW2RdfHx7fTthW2NdW2RdLmJvdW5kYXJ5R2FwPSJiYXIiPT09aX19fSksZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlTWFnaWNUeXBlIixjdXJyZW50VHlwZTppLG5ld09wdGlvbjphfSl9fSxocyh7dHlwZToiY2hhbmdlTWFnaWNUeXBlIixldmVudDoibWFnaWNUeXBlQ2hhbmdlZCIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sZnVuY3Rpb24odCxlKXtlLm1lcmdlT3B0aW9uKHQubmV3T3B0aW9uKX0pLHJ2KCJtYWdpY1R5cGUiLFN5KTt2YXIgaE49QU0udG9vbGJveC5kYXRhVmlldyxjTj1uZXcgQXJyYXkoNjApLmpvaW4oIi0iKSxkTj0iXHQiLGZOPW5ldyBSZWdFeHAoIlsiK2ROKyJdKyIsImciKTtOeS5kZWZhdWx0T3B0aW9uPXtzaG93OiEwLHJlYWRPbmx5OiExLG9wdGlvblRvQ29udGVudDpudWxsLGNvbnRlbnRUb09wdGlvbjpudWxsLGljb246Ik0xNy41LDE3LjNIMzMgTTE3LjUsMTcuM0gzMyBNNDUuNCwyOS41aC0yOCBNMTEuNSwydjU2SDUxVjE0LjhMMzguNCwySDExLjV6IE0zOC40LDIuMnYxMi43SDUxIE00NS40LDQxLjdoLTI4Iix0aXRsZTppKGhOLnRpdGxlKSxsYW5nOmkoaE4ubGFuZyksYmFja2dyb3VuZENvbG9yOiIjZmZmIix0ZXh0Q29sb3I6IiMwMDAiLHRleHRhcmVhQ29sb3I6IiNmZmYiLHRleHRhcmVhQm9yZGVyQ29sb3I6IiMzMzMiLGJ1dHRvbkNvbG9yOiIjYzIzNTMxIixidXR0b25UZXh0Q29sb3I6IiNmZmYifSxOeS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtuLnJlbW92ZUNoaWxkKGEpLHguX2RvbT1udWxsfXZhciBuPWUuZ2V0RG9tKCksbz10aGlzLm1vZGVsO3RoaXMuX2RvbSYmbi5yZW1vdmVDaGlsZCh0aGlzLl9kb20pO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDo1cHg7dG9wOjVweDtib3R0b206NXB4O3JpZ2h0OjVweDsiLGEuc3R5bGUuYmFja2dyb3VuZENvbG9yPW8uZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKXx8IiNmZmYiO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImg0Iikscz1vLmdldCgibGFuZyIpfHxbXTtyLmlubmVySFRNTD1zWzBdfHxvLmdldCgidGl0bGUiKSxyLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjogMTBweCAyMHB4OyIsci5zdHlsZS5jb2xvcj1vLmdldCgidGV4dENvbG9yIik7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO2wuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO292ZXJmbG93OmF1dG87Ijt2YXIgaD1vLmdldCgib3B0aW9uVG9Db250ZW50IiksYz1vLmdldCgiY29udGVudFRvT3B0aW9uIiksZD1UeSh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgaCl7dmFyIGY9aChlLmdldE9wdGlvbigpKTsic3RyaW5nIj09dHlwZW9mIGY/bC5pbm5lckhUTUw9ZjpNKGYpJiZsLmFwcGVuZENoaWxkKGYpfWVsc2UgbC5hcHBlbmRDaGlsZCh1KSx1LnJlYWRPbmx5PW8uZ2V0KCJyZWFkT25seSIpLHUuc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtmb250LWZhbWlseTptb25vc3BhY2U7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS42cmVtOyIsdS5zdHlsZS5jb2xvcj1vLmdldCgidGV4dENvbG9yIiksdS5zdHlsZS5ib3JkZXJDb2xvcj1vLmdldCgidGV4dGFyZWFCb3JkZXJDb2xvciIpLHUuc3R5bGUuYmFja2dyb3VuZENvbG9yPW8uZ2V0KCJ0ZXh0YXJlYUNvbG9yIiksdS52YWx1ZT1kLnZhbHVlO3ZhciBwPWQubWV0YSxnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7Ijt2YXIgbT0iZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjIwcHg7Ym9yZGVyOm5vbmU7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzoycHggNXB4O2ZvbnQtc2l6ZToxMnB4O2JvcmRlci1yYWRpdXM6M3B4Iix2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bSs9IjtiYWNrZ3JvdW5kLWNvbG9yOiIrby5nZXQoImJ1dHRvbkNvbG9yIiksbSs9Ijtjb2xvcjoiK28uZ2V0KCJidXR0b25UZXh0Q29sb3IiKTt2YXIgeD10aGlzO3VpKHYsImNsaWNrIixpKSx1aSh5LCJjbGljayIsZnVuY3Rpb24oKXt2YXIgdDt0cnl7dD0iZnVuY3Rpb24iPT10eXBlb2YgYz9jKGwsZS5nZXRPcHRpb24oKSk6UHkodS52YWx1ZSxwKX1jYXRjaCh0KXt0aHJvdyBpKCksbmV3IEVycm9yKCJEYXRhIHZpZXcgZm9ybWF0IGVycm9yICIrdCl9dCYmZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiY2hhbmdlRGF0YVZpZXciLG5ld09wdGlvbjp0fSksaSgpfSksdi5pbm5lckhUTUw9c1sxXSx5LmlubmVySFRNTD1zWzJdLHkuc3R5bGUuY3NzVGV4dD1tLHYuc3R5bGUuY3NzVGV4dD1tLCFvLmdldCgicmVhZE9ubHkiKSYmZy5hcHBlbmRDaGlsZCh5KSxnLmFwcGVuZENoaWxkKHYpLHVpKHUsImtleWRvd24iLGZ1bmN0aW9uKHQpe2lmKDk9PT0odC5rZXlDb2RlfHx0LndoaWNoKSl7dmFyIGU9dGhpcy52YWx1ZSxpPXRoaXMuc2VsZWN0aW9uU3RhcnQsbj10aGlzLnNlbGVjdGlvbkVuZDt0aGlzLnZhbHVlPWUuc3Vic3RyaW5nKDAsaSkrZE4rZS5zdWJzdHJpbmcobiksdGhpcy5zZWxlY3Rpb25TdGFydD10aGlzLnNlbGVjdGlvbkVuZD1pKzEscncodCl9fSksYS5hcHBlbmRDaGlsZChyKSxhLmFwcGVuZENoaWxkKGwpLGEuYXBwZW5kQ2hpbGQoZyksbC5zdHlsZS5oZWlnaHQ9bi5jbGllbnRIZWlnaHQtODArInB4IixuLmFwcGVuZENoaWxkKGEpLHRoaXMuX2RvbT1hfSxOeS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9tJiZlLmdldERvbSgpLnJlbW92ZUNoaWxkKHRoaXMuX2RvbSl9LE55LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZW1vdmUodCxlKX0scnYoImRhdGFWaWV3IixOeSksaHMoe3R5cGU6ImNoYW5nZURhdGFWaWV3IixldmVudDoiZGF0YVZpZXdDaGFuZ2VkIix1cGRhdGU6InByZXBhcmVBbmRVcGRhdGUifSxmdW5jdGlvbih0LGUpe3ZhciBpPVtdO2QodC5uZXdPcHRpb24uc2VyaWVzLGZ1bmN0aW9uKHQpe3ZhciBuPWUuZ2V0U2VyaWVzQnlOYW1lKHQubmFtZSlbMF07aWYobil7dmFyIG89bi5nZXQoImRhdGEiKTtpLnB1c2goe25hbWU6dC5uYW1lLGRhdGE6T3kodC5kYXRhLG8pfSl9ZWxzZSBpLnB1c2goYSh7dHlwZToic2NhdHRlciJ9LHQpKX0pLGUubWVyZ2VPcHRpb24ocih7c2VyaWVzOml9LHQubmV3T3B0aW9uKSl9KTt2YXIgcE49ZCxnTj0iXDBfZWNfaGlzdF9zdG9yZSI7ZVAuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbS5zZWxlY3QifSksaVAuZXh0ZW5kKHt0eXBlOiJkYXRhWm9vbS5zZWxlY3QifSk7dmFyIG1OPUFNLnRvb2xib3guZGF0YVpvb20sdk49ZCx5Tj0iXDBfZWNfXDB0b29sYm94LWRhdGFab29tXyI7R3kuZGVmYXVsdE9wdGlvbj17c2hvdzohMCxpY29uOnt6b29tOiJNMCwxMy41aDI2LjkgTTEzLjUsMjYuOVYwIE0zMi4xLDEzLjVINThWNThIMTMuNSBWMzIuMSIsYmFjazoiTTIyLDEuNEw5LjksMTMuNWwxMi4zLDEyLjMgTTEwLjMsMTMuNUg1NC45djQ0LjYgSDEwLjN2LTI2In0sdGl0bGU6aShtTi50aXRsZSl9O3ZhciB4Tj1HeS5wcm90b3R5cGU7eE4ucmVuZGVyPWZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMubW9kZWw9dCx0aGlzLmVjTW9kZWw9ZSx0aGlzLmFwaT1pLEh5KHQsZSx0aGlzLG4saSksV3kodCxlKX0seE4ub25jbGljaz1mdW5jdGlvbih0LGUsaSl7X05baV0uY2FsbCh0aGlzKX0seE4ucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYnJ1c2hDb250cm9sbGVyLnVubW91bnQoKX0seE4uZGlzcG9zZT1mdW5jdGlvbih0LGUpe3RoaXMuX2JydXNoQ29udHJvbGxlci5kaXNwb3NlKCl9O3ZhciBfTj17em9vbTpmdW5jdGlvbigpe3ZhciB0PSF0aGlzLl9pc1pvb21BY3RpdmU7dGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRha2VHbG9iYWxDdXJzb3IiLGtleToiZGF0YVpvb21TZWxlY3QiLGRhdGFab29tU2VsZWN0QWN0aXZlOnR9KX0sYmFjazpmdW5jdGlvbigpe3RoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbih6eSh0aGlzLmVjTW9kZWwpKX19O3hOLl9vbkJydXNoPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7dmFyIHI9ZS5nZXRBeGlzKHQpLHM9ci5tb2RlbCxsPW4odCxzLGEpLHU9bC5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkocykuZ2V0TWluTWF4U3BhbigpO251bGw9PXUubWluVmFsdWVTcGFuJiZudWxsPT11Lm1heFZhbHVlU3Bhbnx8KGk9ZUMoMCxpLnNsaWNlKCksci5zY2FsZS5nZXRFeHRlbnQoKSwwLHUubWluVmFsdWVTcGFuLHUubWF4VmFsdWVTcGFuKSksbCYmKG9bbC5pZF09e2RhdGFab29tSWQ6bC5pZCxzdGFydFZhbHVlOmlbMF0sZW5kVmFsdWU6aVsxXX0pfWZ1bmN0aW9uIG4odCxlLGkpe3ZhciBuO3JldHVybiBpLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJkYXRhWm9vbSIsc3ViVHlwZToic2VsZWN0In0sZnVuY3Rpb24oaSl7aS5nZXRBeGlzTW9kZWwodCxlLmNvbXBvbmVudEluZGV4KSYmKG49aSl9KSxufWlmKGUuaXNFbmQmJnQubGVuZ3RoKXt2YXIgbz17fSxhPXRoaXMuZWNNb2RlbDt0aGlzLl9icnVzaENvbnRyb2xsZXIudXBkYXRlQ292ZXJzKFtdKSxuZXcgWm0oRnkodGhpcy5tb2RlbC5vcHRpb24pLGEse2luY2x1ZGU6WyJncmlkIl19KS5tYXRjaE91dHB1dFJhbmdlcyh0LGEsZnVuY3Rpb24odCxlLG4pe2lmKCJjYXJ0ZXNpYW4yZCI9PT1uLnR5cGUpe3ZhciBvPXQuYnJ1c2hUeXBlOyJyZWN0Ij09PW8/KGkoIngiLG4sZVswXSksaSgieSIsbixlWzFdKSk6aSh7bGluZVg6IngiLGxpbmVZOiJ5In1bb10sbixlKX19KSxFeShhLG8pLHRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbihvKX19LHhOLl9kaXNwYXRjaFpvb21BY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9W107dk4odCxmdW5jdGlvbih0LG4pe2UucHVzaChpKHQpKX0pLGUubGVuZ3RoJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGZyb206dGhpcy51aWQsYmF0Y2g6ZX0pfSxydigiZGF0YVpvb20iLEd5KSxscyhmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7aWYoZSl7dmFyIG89dCsiSW5kZXgiLGE9ZVtvXTtudWxsPT1hfHwiYWxsIj09YXx8eShhKXx8KGE9ITE9PT1hfHwibm9uZSI9PT1hP1tdOlthXSksaSh0LGZ1bmN0aW9uKGUsaSl7aWYobnVsbD09YXx8ImFsbCI9PWF8fC0xIT09bChhLGkpKXt2YXIgcj17dHlwZToic2VsZWN0IiwkZnJvbVRvb2xib3g6ITAsaWQ6eU4rdCtpfTtyW29dPWksbi5wdXNoKHIpfX0pfX1mdW5jdGlvbiBpKGUsaSl7dmFyIG49dFtlXTt5KG4pfHwobj1uP1tuXTpbXSksdk4obixpKX1pZih0KXt2YXIgbj10LmRhdGFab29tfHwodC5kYXRhWm9vbT1bXSk7eShuKXx8KHQuZGF0YVpvb209bj1bbl0pO3ZhciBvPXQudG9vbGJveDtpZihvJiYoeShvKSYmKG89b1swXSksbyYmby5mZWF0dXJlKSl7dmFyIGE9by5mZWF0dXJlLmRhdGFab29tO2UoInhBeGlzIixhKSxlKCJ5QXhpcyIsYSl9fX0pO3ZhciB3Tj1BTS50b29sYm94LnJlc3RvcmU7WnkuZGVmYXVsdE9wdGlvbj17c2hvdzohMCxpY29uOiJNMy44LDMzLjQgTTQ3LDE4LjloOS44VjguNyBNNTYuMywyMC4xIEM1Mi4xLDksNDAuNSwwLjYsMjYuOCwyLjFDMTIuNiwzLjcsMS42LDE2LjIsMi4xLDMwLjYgTTEzLDQxLjFIMy4xdjEwLjIgTTMuNywzOS45YzQuMiwxMS4xLDE1LjgsMTkuNSwyOS41LDE4IGMxNC4yLTEuNiwyNS4yLTE0LjEsMjQuNy0yOC41Iix0aXRsZTp3Ti50aXRsZX0sWnkucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlLGkpe1J5KHQpLGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InJlc3RvcmUiLGZyb206dGhpcy51aWR9KX0scnYoInJlc3RvcmUiLFp5KSxocyh7dHlwZToicmVzdG9yZSIsZXZlbnQ6InJlc3RvcmUiLHVwZGF0ZToicHJlcGFyZUFuZFVwZGF0ZSJ9LGZ1bmN0aW9uKHQsZSl7ZS5yZXNldE9wdGlvbigicmVjcmVhdGUiKX0pO3ZhciBiTixTTj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiLE1OPSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P251bGw6d2luZG93LElOPSExLEROPU1OJiZNTi5kb2N1bWVudDtpZihETiYmIUF4LmNhbnZhc1N1cHBvcnRlZCl0cnl7IUROLm5hbWVzcGFjZXMuenJ2bWwmJkROLm5hbWVzcGFjZXMuYWRkKCJ6cnZtbCIsU04pLGJOPWZ1bmN0aW9uKHQpe3JldHVybiBETi5jcmVhdGVFbGVtZW50KCI8enJ2bWw6Iit0KycgY2xhc3M9Inpydm1sIj4nKX19Y2F0Y2godCl7Yk49ZnVuY3Rpb24odCl7cmV0dXJuIEROLmNyZWF0ZUVsZW1lbnQoIjwiK3QrJyB4bWxucz0iJytTTisnIiBjbGFzcz0ienJ2bWwiPicpfX12YXIgVE49ZGIuQ01ELEFOPU1hdGgucm91bmQsQ049TWF0aC5zcXJ0LExOPU1hdGguYWJzLGtOPU1hdGguY29zLFBOPU1hdGguc2luLE5OPU1hdGgubWF4O2lmKCFBeC5jYW52YXNTdXBwb3J0ZWQpe3ZhciBPTj0yMTYwMCxFTj1PTi8yLHpOPWZ1bmN0aW9uKHQpe3Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjFweDtoZWlnaHQ6MXB4OyIsdC5jb29yZHNpemU9T04rIiwiK09OLHQuY29vcmRvcmlnaW49IjAsMCJ9LFJOPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7Iil9LEJOPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4icmdiKCIrW3QsZSxpXS5qb2luKCIsIikrIikifSxWTj1mdW5jdGlvbih0LGUpe2UmJnQmJmUucGFyZW50Tm9kZSE9PXQmJnQuYXBwZW5kQ2hpbGQoZSl9LEdOPWZ1bmN0aW9uKHQsZSl7ZSYmdCYmZS5wYXJlbnROb2RlPT09dCYmdC5yZW1vdmVDaGlsZChlKX0sRk49ZnVuY3Rpb24odCxlLGkpe3JldHVybiAxZTUqKHBhcnNlRmxvYXQodCl8fDApKzFlMyoocGFyc2VGbG9hdChlKXx8MCkraX0sV049ZnVuY3Rpb24odCxlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dC5sYXN0SW5kZXhPZigiJSIpPj0wP3BhcnNlRmxvYXQodCkvMTAwKmU6cGFyc2VGbG9hdCh0KTp0fSxITj1mdW5jdGlvbih0LGUsaSl7dmFyIG49QXQoZSk7aT0raSxpc05hTihpKSYmKGk9MSksbiYmKHQuY29sb3I9Qk4oblswXSxuWzFdLG5bMl0pLHQub3BhY2l0eT1pKm5bM10pfSxaTj1mdW5jdGlvbih0KXt2YXIgZT1BdCh0KTtyZXR1cm5bQk4oZVswXSxlWzFdLGVbMl0pLGVbM11dfSxVTj1mdW5jdGlvbih0LGUsaSl7dmFyIG49ZS5maWxsO2lmKG51bGwhPW4paWYobiBpbnN0YW5jZW9mIEpiKXt2YXIgbyxhPTAscj1bMCwwXSxzPTAsbD0xLHU9aS5nZXRCb3VuZGluZ1JlY3QoKSxoPXUud2lkdGgsYz11LmhlaWdodDtpZigibGluZWFyIj09PW4udHlwZSl7bz0iZ3JhZGllbnQiO3ZhciBkPWkudHJhbnNmb3JtLGY9W24ueCpoLG4ueSpjXSxwPVtuLngyKmgsbi55MipjXTtkJiYoUShmLGYsZCksUShwLHAsZCkpO3ZhciBnPXBbMF0tZlswXSxtPXBbMV0tZlsxXTsoYT0xODAqTWF0aC5hdGFuMihnLG0pL01hdGguUEkpPDAmJihhKz0zNjApLGE8MWUtNiYmKGE9MCl9ZWxzZXtvPSJncmFkaWVudHJhZGlhbCI7dmFyIGY9W24ueCpoLG4ueSpjXSxkPWkudHJhbnNmb3JtLHY9aS5zY2FsZSx5PWgseD1jO3I9WyhmWzBdLXUueCkveSwoZlsxXS11LnkpL3hdLGQmJlEoZixmLGQpLHkvPXZbMF0qT04seC89dlsxXSpPTjt2YXIgXz1OTih5LHgpO3M9MC9fLGw9MipuLnIvXy1zfXZhciB3PW4uY29sb3JTdG9wcy5zbGljZSgpO3cuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm9mZnNldC1lLm9mZnNldH0pO2Zvcih2YXIgYj13Lmxlbmd0aCxTPVtdLE09W10sST0wO0k8YjtJKyspe3ZhciBEPXdbSV0sVD1aTihELmNvbG9yKTtNLnB1c2goRC5vZmZzZXQqbCtzKyIgIitUWzBdKSwwIT09SSYmSSE9PWItMXx8Uy5wdXNoKFQpfWlmKGI+PTIpe3ZhciBBPVNbMF1bMF0sQz1TWzFdWzBdLEw9U1swXVsxXSplLm9wYWNpdHksaz1TWzFdWzFdKmUub3BhY2l0eTt0LnR5cGU9byx0Lm1ldGhvZD0ibm9uZSIsdC5mb2N1cz0iMTAwJSIsdC5hbmdsZT1hLHQuY29sb3I9QSx0LmNvbG9yMj1DLHQuY29sb3JzPU0uam9pbigiLCIpLHQub3BhY2l0eT1rLHQub3BhY2l0eTI9TH0icmFkaWFsIj09PW8mJih0LmZvY3VzcG9zaXRpb249ci5qb2luKCIsIikpfWVsc2UgSE4odCxuLGUub3BhY2l0eSl9LGpOPWZ1bmN0aW9uKHQsZSl7bnVsbCE9ZS5saW5lRGFzaCYmKHQuZGFzaHN0eWxlPWUubGluZURhc2guam9pbigiICIpKSxudWxsPT1lLnN0cm9rZXx8ZS5zdHJva2UgaW5zdGFuY2VvZiBKYnx8SE4odCxlLnN0cm9rZSxlLm9wYWNpdHkpfSxYTj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz0iZmlsbCI9PWUsYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpWzBdO251bGwhPWlbZV0mJiJub25lIiE9PWlbZV0mJihvfHwhbyYmaS5saW5lV2lkdGgpPyh0W28/ImZpbGxlZCI6InN0cm9rZWQiXT0idHJ1ZSIsaVtlXWluc3RhbmNlb2YgSmImJkdOKHQsYSksYXx8KGE9VXkoZSkpLG8/VU4oYSxpLG4pOmpOKGEsaSksVk4odCxhKSk6KHRbbz8iZmlsbGVkIjoic3Ryb2tlZCJdPSJmYWxzZSIsR04odCxhKSl9LFlOPVtbXSxbXSxbXV0scU49ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYSxyLHMsbD1UTi5NLHU9VE4uQyxoPVROLkwsYz1UTi5BLGQ9VE4uUSxmPVtdLHA9dC5kYXRhLGc9dC5sZW4oKTtmb3IoYT0wO2E8Zzspe3N3aXRjaChvPXBbYSsrXSxuPSIiLGk9MCxvKXtjYXNlIGw6bj0iIG0gIixpPTEscj1wW2ErK10scz1wW2ErK10sWU5bMF1bMF09cixZTlswXVsxXT1zO2JyZWFrO2Nhc2UgaDpuPSIgbCAiLGk9MSxyPXBbYSsrXSxzPXBbYSsrXSxZTlswXVswXT1yLFlOWzBdWzFdPXM7YnJlYWs7Y2FzZSBkOmNhc2UgdTpuPSIgYyAiLGk9Mzt2YXIgbSx2LHk9cFthKytdLHg9cFthKytdLF89cFthKytdLHc9cFthKytdO289PT1kPyhtPV8sdj13LF89KF8rMip5KS8zLHc9KHcrMip4KS8zLHk9KHIrMip5KS8zLHg9KHMrMip4KS8zKToobT1wW2ErK10sdj1wW2ErK10pLFlOWzBdWzBdPXksWU5bMF1bMV09eCxZTlsxXVswXT1fLFlOWzFdWzFdPXcsWU5bMl1bMF09bSxZTlsyXVsxXT12LHI9bSxzPXY7YnJlYWs7Y2FzZSBjOnZhciBiPTAsUz0wLE09MSxJPTEsRD0wO2UmJihiPWVbNF0sUz1lWzVdLE09Q04oZVswXSplWzBdK2VbMV0qZVsxXSksST1DTihlWzJdKmVbMl0rZVszXSplWzNdKSxEPU1hdGguYXRhbjIoLWVbMV0vSSxlWzBdL00pKTt2YXIgVD1wW2ErK10sQT1wW2ErK10sQz1wW2ErK10sTD1wW2ErK10saz1wW2ErK10rRCxQPXBbYSsrXStrK0Q7YSsrO3ZhciBOPXBbYSsrXSxPPVQra04oaykqQyxFPUErUE4oaykqTCx5PVQra04oUCkqQyx4PUErUE4oUCkqTCx6PU4/IiB3YSAiOiIgYXQgIjtNYXRoLmFicyhPLXkpPDFlLTQmJihNYXRoLmFicyhQLWspPi4wMT9OJiYoTys9LjAxMjUpOk1hdGguYWJzKEUtQSk8MWUtND9OJiZPPFR8fCFOJiZPPlQ/eC09LjAxMjU6eCs9LjAxMjU6TiYmRTxBfHwhTiYmRT5BP3krPS4wMTI1OnktPS4wMTI1KSxmLnB1c2goeixBTigoKFQtQykqTStiKSpPTi1FTiksIiwiLEFOKCgoQS1MKSpJK1MpKk9OLUVOKSwiLCIsQU4oKChUK0MpKk0rYikqT04tRU4pLCIsIixBTigoKEErTCkqSStTKSpPTi1FTiksIiwiLEFOKChPKk0rYikqT04tRU4pLCIsIixBTigoRSpJK1MpKk9OLUVOKSwiLCIsQU4oKHkqTStiKSpPTi1FTiksIiwiLEFOKCh4KkkrUykqT04tRU4pKSxyPXkscz14O2JyZWFrO2Nhc2UgVE4uUjp2YXIgUj1ZTlswXSxCPVlOWzFdO1JbMF09cFthKytdLFJbMV09cFthKytdLEJbMF09UlswXStwW2ErK10sQlsxXT1SWzFdK3BbYSsrXSxlJiYoUShSLFIsZSksUShCLEIsZSkpLFJbMF09QU4oUlswXSpPTi1FTiksQlswXT1BTihCWzBdKk9OLUVOKSxSWzFdPUFOKFJbMV0qT04tRU4pLEJbMV09QU4oQlsxXSpPTi1FTiksZi5wdXNoKCIgbSAiLFJbMF0sIiwiLFJbMV0sIiBsICIsQlswXSwiLCIsUlsxXSwiIGwgIixCWzBdLCIsIixCWzFdLCIgbCAiLFJbMF0sIiwiLEJbMV0pO2JyZWFrO2Nhc2UgVE4uWjpmLnB1c2goIiB4ICIpfWlmKGk+MCl7Zi5wdXNoKG4pO2Zvcih2YXIgVj0wO1Y8aTtWKyspe3ZhciBHPVlOW1ZdO2UmJlEoRyxHLGUpLGYucHVzaChBTihHWzBdKk9OLUVOKSwiLCIsQU4oR1sxXSpPTi1FTiksVjxpLTE/IiwiOiIiKX19fXJldHVybiBmLmpvaW4oIiIpfTtJbi5wcm90b3R5cGUuYnJ1c2hWTUw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZSxpPXRoaXMuX3ZtbEVsO2l8fChpPVV5KCJzaGFwZSIpLHpOKGkpLHRoaXMuX3ZtbEVsPWkpLFhOKGksImZpbGwiLGUsdGhpcyksWE4oaSwic3Ryb2tlIixlLHRoaXMpO3ZhciBuPXRoaXMudHJhbnNmb3JtLG89bnVsbCE9bixhPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0cm9rZSIpWzBdO2lmKGEpe3ZhciByPWUubGluZVdpZHRoO2lmKG8mJiFlLnN0cm9rZU5vU2NhbGUpe3ZhciBzPW5bMF0qblszXS1uWzFdKm5bMl07cio9Q04oTE4ocykpfWEud2VpZ2h0PXIrInB4In12YXIgbD10aGlzLnBhdGh8fCh0aGlzLnBhdGg9bmV3IGRiKTt0aGlzLl9fZGlydHlQYXRoJiYobC5iZWdpblBhdGgoKSx0aGlzLmJ1aWxkUGF0aChsLHRoaXMuc2hhcGUpLGwudG9TdGF0aWMoKSx0aGlzLl9fZGlydHlQYXRoPSExKSxpLnBhdGg9cU4obCx0aGlzLnRyYW5zZm9ybSksaS5zdHlsZS56SW5kZXg9Rk4odGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLFZOKHQsaSksbnVsbCE9ZS50ZXh0P3RoaXMuZHJhd1JlY3RUZXh0KHQsdGhpcy5nZXRCb3VuZGluZ1JlY3QoKSk6dGhpcy5yZW1vdmVSZWN0VGV4dCh0KX0sSW4ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKHQpe0dOKHQsdGhpcy5fdm1sRWwpLHRoaXMucmVtb3ZlUmVjdFRleHQodCl9LEluLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXtWTih0LHRoaXMuX3ZtbEVsKSx0aGlzLmFwcGVuZFJlY3RUZXh0KHQpfTt2YXIgJE49ZnVuY3Rpb24odCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0JiZ0LnRhZ05hbWUmJiJJTUciPT09dC50YWdOYW1lLnRvVXBwZXJDYXNlKCl9O0plLnByb3RvdHlwZS5icnVzaFZNTD1mdW5jdGlvbih0KXt2YXIgZSxpLG49dGhpcy5zdHlsZSxvPW4uaW1hZ2U7aWYoJE4obykpe3ZhciBhPW8uc3JjO2lmKGE9PT10aGlzLl9pbWFnZVNyYyllPXRoaXMuX2ltYWdlV2lkdGgsaT10aGlzLl9pbWFnZUhlaWdodDtlbHNle3ZhciByPW8ucnVudGltZVN0eWxlLHM9ci53aWR0aCxsPXIuaGVpZ2h0O3Iud2lkdGg9ImF1dG8iLHIuaGVpZ2h0PSJhdXRvIixlPW8ud2lkdGgsaT1vLmhlaWdodCxyLndpZHRoPXMsci5oZWlnaHQ9bCx0aGlzLl9pbWFnZVNyYz1hLHRoaXMuX2ltYWdlV2lkdGg9ZSx0aGlzLl9pbWFnZUhlaWdodD1pfW89YX1lbHNlIG89PT10aGlzLl9pbWFnZVNyYyYmKGU9dGhpcy5faW1hZ2VXaWR0aCxpPXRoaXMuX2ltYWdlSGVpZ2h0KTtpZihvKXt2YXIgdT1uLnh8fDAsaD1uLnl8fDAsYz1uLndpZHRoLGQ9bi5oZWlnaHQsZj1uLnNXaWR0aCxwPW4uc0hlaWdodCxnPW4uc3h8fDAsbT1uLnN5fHwwLHY9ZiYmcCx5PXRoaXMuX3ZtbEVsO3l8fCh5PUROLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHpOKHkpLHRoaXMuX3ZtbEVsPXkpO3ZhciB4LF89eS5zdHlsZSx3PSExLGI9MSxTPTE7aWYodGhpcy50cmFuc2Zvcm0mJih4PXRoaXMudHJhbnNmb3JtLGI9Q04oeFswXSp4WzBdK3hbMV0qeFsxXSksUz1DTih4WzJdKnhbMl0reFszXSp4WzNdKSx3PXhbMV18fHhbMl0pLHcpe3ZhciBNPVt1LGhdLEk9W3UrYyxoXSxEPVt1LGgrZF0sVD1bdStjLGgrZF07UShNLE0seCksUShJLEkseCksUShELEQseCksUShULFQseCk7dmFyIEE9Tk4oTVswXSxJWzBdLERbMF0sVFswXSksQz1OTihNWzFdLElbMV0sRFsxXSxUWzFdKSxMPVtdO0wucHVzaCgiTTExPSIseFswXS9iLCIsIiwiTTEyPSIseFsyXS9TLCIsIiwiTTIxPSIseFsxXS9iLCIsIiwiTTIyPSIseFszXS9TLCIsIiwiRHg9IixBTih1KmIreFs0XSksIiwiLCJEeT0iLEFOKGgqUyt4WzVdKSksXy5wYWRkaW5nPSIwICIrQU4oQSkrInB4ICIrQU4oQykrInB4IDAiLF8uZmlsdGVyPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KCIrTC5qb2luKCIiKSsiLCBTaXppbmdNZXRob2Q9Y2xpcCkifWVsc2UgeCYmKHU9dSpiK3hbNF0saD1oKlMreFs1XSksXy5maWx0ZXI9IiIsXy5sZWZ0PUFOKHUpKyJweCIsXy50b3A9QU4oaCkrInB4Ijt2YXIgaz10aGlzLl9pbWFnZUVsLFA9dGhpcy5fY3JvcEVsO2t8fChrPUROLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuX2ltYWdlRWw9ayk7dmFyIE49ay5zdHlsZTtpZih2KXtpZihlJiZpKU4ud2lkdGg9QU4oYiplKmMvZikrInB4IixOLmhlaWdodD1BTihTKmkqZC9wKSsicHgiO2Vsc2V7dmFyIE89bmV3IEltYWdlLEU9dGhpcztPLm9ubG9hZD1mdW5jdGlvbigpe08ub25sb2FkPW51bGwsZT1PLndpZHRoLGk9Ty5oZWlnaHQsTi53aWR0aD1BTihiKmUqYy9mKSsicHgiLE4uaGVpZ2h0PUFOKFMqaSpkL3ApKyJweCIsRS5faW1hZ2VXaWR0aD1lLEUuX2ltYWdlSGVpZ2h0PWksRS5faW1hZ2VTcmM9b30sTy5zcmM9b31QfHwoKFA9RE4uY3JlYXRlRWxlbWVudCgiZGl2IikpLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLHRoaXMuX2Nyb3BFbD1QKTt2YXIgej1QLnN0eWxlO3oud2lkdGg9QU4oKGMrZypjL2YpKmIpLHouaGVpZ2h0PUFOKChkK20qZC9wKSpTKSx6LmZpbHRlcj0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChEeD0iKy1nKmMvZipiKyIsRHk9IistbSpkL3AqUysiKSIsUC5wYXJlbnROb2RlfHx5LmFwcGVuZENoaWxkKFApLGsucGFyZW50Tm9kZSE9UCYmUC5hcHBlbmRDaGlsZChrKX1lbHNlIE4ud2lkdGg9QU4oYipjKSsicHgiLE4uaGVpZ2h0PUFOKFMqZCkrInB4Iix5LmFwcGVuZENoaWxkKGspLFAmJlAucGFyZW50Tm9kZSYmKHkucmVtb3ZlQ2hpbGQoUCksdGhpcy5fY3JvcEVsPW51bGwpO3ZhciBSPSIiLEI9bi5vcGFjaXR5O0I8MSYmKFIrPSIuQWxwaGEob3BhY2l0eT0iK0FOKDEwMCpCKSsiKSAiKSxSKz0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhSW1hZ2VMb2FkZXIoc3JjPSIrbysiLCBTaXppbmdNZXRob2Q9c2NhbGUpIixOLmZpbHRlcj1SLHkuc3R5bGUuekluZGV4PUZOKHRoaXMuemxldmVsLHRoaXMueix0aGlzLnoyKSxWTih0LHkpLG51bGwhPW4udGV4dCYmdGhpcy5kcmF3UmVjdFRleHQodCx0aGlzLmdldEJvdW5kaW5nUmVjdCgpKX19LEplLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXtHTih0LHRoaXMuX3ZtbEVsKSx0aGlzLl92bWxFbD1udWxsLHRoaXMuX2Nyb3BFbD1udWxsLHRoaXMuX2ltYWdlRWw9bnVsbCx0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSxKZS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7Vk4odCx0aGlzLl92bWxFbCksdGhpcy5hcHBlbmRSZWN0VGV4dCh0KX07dmFyIEtOLEpOPXt9LFFOPTAsdE89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZU89ZnVuY3Rpb24odCl7dmFyIGU9Sk5bdF07aWYoIWUpe1FOPjEwMCYmKFFOPTAsSk49e30pO3ZhciBpLG49dE8uc3R5bGU7dHJ5e24uZm9udD10LGk9bi5mb250RmFtaWx5LnNwbGl0KCIsIilbMF19Y2F0Y2godCl7fWU9e3N0eWxlOm4uZm9udFN0eWxlfHwibm9ybWFsIix2YXJpYW50Om4uZm9udFZhcmlhbnR8fCJub3JtYWwiLHdlaWdodDpuLmZvbnRXZWlnaHR8fCJub3JtYWwiLHNpemU6MHxwYXJzZUZsb2F0KG4uZm9udFNpemV8fDEyKSxmYW1pbHk6aXx8Ik1pY3Jvc29mdCBZYUhlaSJ9LEpOW3RdPWUsUU4rK31yZXR1cm4gZX07IWZ1bmN0aW9uKHQsZSl7JF9bdF09ZX0oIm1lYXN1cmVUZXh0IixmdW5jdGlvbih0LGUpe3ZhciBpPUROO0tOfHwoKEtOPWkuY3JlYXRlRWxlbWVudCgiZGl2IikpLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMjAwMDBweDtsZWZ0OjA7cGFkZGluZzowO21hcmdpbjowO2JvcmRlcjpub25lO3doaXRlLXNwYWNlOnByZTsiLEROLmJvZHkuYXBwZW5kQ2hpbGQoS04pKTt0cnl7S04uc3R5bGUuZm9udD1lfWNhdGNoKHQpe31yZXR1cm4gS04uaW5uZXJIVE1MPSIiLEtOLmFwcGVuZENoaWxkKGkuY3JlYXRlVGV4dE5vZGUodCkpLHt3aWR0aDpLTi5vZmZzZXRXaWR0aH19KTtmb3IodmFyIGlPPW5ldyBLdCxuTz1bdHcsS2UsSmUsSW4semJdLG9PPTA7b088bk8ubGVuZ3RoO29PKyspe3ZhciBhTz1uT1tvT10ucHJvdG90eXBlO2FPLmRyYXdSZWN0VGV4dD1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLnN0eWxlO3RoaXMuX19kaXJ0eSYmTmUobyk7dmFyIGE9by50ZXh0O2lmKG51bGwhPWEmJihhKz0iIiksYSl7aWYoby5yaWNoKXt2YXIgcj1DZShhLG8pO2E9W107Zm9yKHZhciBzPTA7czxyLmxpbmVzLmxlbmd0aDtzKyspe2Zvcih2YXIgbD1yLmxpbmVzW3NdLnRva2Vucyx1PVtdLGg9MDtoPGwubGVuZ3RoO2grKyl1LnB1c2gobFtoXS50ZXh0KTthLnB1c2godS5qb2luKCIiKSl9YT1hLmpvaW4oIlxuIil9dmFyIGMsZCxmPW8udGV4dEFsaWduLHA9by50ZXh0VmVydGljYWxBbGlnbixnPWVPKG8uZm9udCksbT1nLnN0eWxlKyIgIitnLnZhcmlhbnQrIiAiK2cud2VpZ2h0KyIgIitnLnNpemUrJ3B4ICInK2cuZmFtaWx5KyciJztpPWl8fG1lKGEsbSxmLHApO3ZhciB2PXRoaXMudHJhbnNmb3JtO2lmKHYmJiFuJiYoaU8uY29weShlKSxpTy5hcHBseVRyYW5zZm9ybSh2KSxlPWlPKSxuKWM9ZS54LGQ9ZS55O2Vsc2V7dmFyIHk9by50ZXh0UG9zaXRpb24seD1vLnRleHREaXN0YW5jZTtpZih5IGluc3RhbmNlb2YgQXJyYXkpYz1lLngrV04oeVswXSxlLndpZHRoKSxkPWUueStXTih5WzFdLGUuaGVpZ2h0KSxmPWZ8fCJsZWZ0IjtlbHNle3ZhciBfPXdlKHksZSx4KTtjPV8ueCxkPV8ueSxmPWZ8fF8udGV4dEFsaWduLHA9cHx8Xy50ZXh0VmVydGljYWxBbGlnbn19Yz14ZShjLGkud2lkdGgsZiksZD1fZShkLGkuaGVpZ2h0LHApLGQrPWkuaGVpZ2h0LzI7dmFyIHcsYixTLE09VXksST10aGlzLl90ZXh0Vm1sRWw7ST9iPSh3PShTPUkuZmlyc3RDaGlsZCkubmV4dFNpYmxpbmcpLm5leHRTaWJsaW5nOihJPU0oImxpbmUiKSx3PU0oInBhdGgiKSxiPU0oInRleHRwYXRoIiksUz1NKCJza2V3IiksYi5zdHlsZVsidi10ZXh0LWFsaWduIl09ImxlZnQiLHpOKEkpLHcudGV4dHBhdGhvaz0hMCxiLm9uPSEwLEkuZnJvbT0iMCAwIixJLnRvPSIxMDAwIDAuMDUiLFZOKEksUyksVk4oSSx3KSxWTihJLGIpLHRoaXMuX3RleHRWbWxFbD1JKTt2YXIgRD1bYyxkXSxUPUkuc3R5bGU7diYmbj8oUShELEQsdiksUy5vbj0hMCxTLm1hdHJpeD12WzBdLnRvRml4ZWQoMykrIiwiK3ZbMl0udG9GaXhlZCgzKSsiLCIrdlsxXS50b0ZpeGVkKDMpKyIsIit2WzNdLnRvRml4ZWQoMykrIiwwLDAiLFMub2Zmc2V0PShBTihEWzBdKXx8MCkrIiwiKyhBTihEWzFdKXx8MCksUy5vcmlnaW49IjAgMCIsVC5sZWZ0PSIwcHgiLFQudG9wPSIwcHgiKTooUy5vbj0hMSxULmxlZnQ9QU4oYykrInB4IixULnRvcD1BTihkKSsicHgiKSxiLnN0cmluZz1STihhKTt0cnl7Yi5zdHlsZS5mb250PW19Y2F0Y2godCl7fVhOKEksImZpbGwiLHtmaWxsOm8udGV4dEZpbGwsb3BhY2l0eTpvLm9wYWNpdHl9LHRoaXMpLFhOKEksInN0cm9rZSIse3N0cm9rZTpvLnRleHRTdHJva2Usb3BhY2l0eTpvLm9wYWNpdHksbGluZURhc2g6by5saW5lRGFzaH0sdGhpcyksSS5zdHlsZS56SW5kZXg9Rk4odGhpcy56bGV2ZWwsdGhpcy56LHRoaXMuejIpLFZOKHQsSSl9fSxhTy5yZW1vdmVSZWN0VGV4dD1mdW5jdGlvbih0KXtHTih0LHRoaXMuX3RleHRWbWxFbCksdGhpcy5fdGV4dFZtbEVsPW51bGx9LGFPLmFwcGVuZFJlY3RUZXh0PWZ1bmN0aW9uKHQpe1ZOKHQsdGhpcy5fdGV4dFZtbEVsKX19emIucHJvdG90eXBlLmJydXNoVk1MPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3R5bGU7bnVsbCE9ZS50ZXh0P3RoaXMuZHJhd1JlY3RUZXh0KHQse3g6ZS54fHwwLHk6ZS55fHwwLHdpZHRoOjAsaGVpZ2h0OjB9LHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksITApOnRoaXMucmVtb3ZlUmVjdFRleHQodCl9LHpiLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLnJlbW92ZVJlY3RUZXh0KHQpfSx6Yi5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5hcHBlbmRSZWN0VGV4dCh0KX19WXkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpZeSxnZXRUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuInZtbCJ9LGdldFZpZXdwb3J0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92bWxWaWV3cG9ydH0sZ2V0Vmlld3BvcnRSb290T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwLCEwKTt0aGlzLl9wYWludExpc3QodCl9LF9wYWludExpc3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX3ZtbFJvb3QsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uaW52aXNpYmxlfHxuLmlnbm9yZT8obi5fX2FscmVhZHlOb3RWaXNpYmxlfHxuLm9uUmVtb3ZlKGUpLG4uX19hbHJlYWR5Tm90VmlzaWJsZT0hMCk6KG4uX19hbHJlYWR5Tm90VmlzaWJsZSYmbi5vbkFkZChlKSxuLl9fYWxyZWFkeU5vdFZpc2libGU9ITEsbi5fX2RpcnR5JiYobi5iZWZvcmVCcnVzaCYmbi5iZWZvcmVCcnVzaCgpLChuLmJydXNoVk1MfHxuLmJydXNoKS5jYWxsKG4sZSksbi5hZnRlckJydXNoJiZuLmFmdGVyQnJ1c2goKSkpLG4uX19kaXJ0eT0hMX10aGlzLl9maXJzdFBhaW50JiYodGhpcy5fdm1sVmlld3BvcnQuYXBwZW5kQ2hpbGQoZSksdGhpcy5fZmlyc3RQYWludD0hMSl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3ZhciB0PW51bGw9PXQ/dGhpcy5fZ2V0V2lkdGgoKTp0LGU9bnVsbD09ZT90aGlzLl9nZXRIZWlnaHQoKTplO2lmKHRoaXMuX3dpZHRoIT10fHx0aGlzLl9oZWlnaHQhPWUpe3RoaXMuX3dpZHRoPXQsdGhpcy5faGVpZ2h0PWU7dmFyIGk9dGhpcy5fdm1sVmlld3BvcnQuc3R5bGU7aS53aWR0aD10KyJweCIsaS5oZWlnaHQ9ZSsicHgifX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMucm9vdC5pbm5lckhUTUw9IiIsdGhpcy5fdm1sUm9vdD10aGlzLl92bWxWaWV3cG9ydD10aGlzLnN0b3JhZ2U9bnVsbH0sZ2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fdm1sVmlld3BvcnQmJnRoaXMucm9vdC5yZW1vdmVDaGlsZCh0aGlzLl92bWxWaWV3cG9ydCl9LF9nZXRXaWR0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucm9vdCxlPXQuY3VycmVudFN0eWxlO3JldHVybih0LmNsaWVudFdpZHRofHxYeShlLndpZHRoKSktWHkoZS5wYWRkaW5nTGVmdCktWHkoZS5wYWRkaW5nUmlnaHQpfDB9LF9nZXRIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJvb3QsZT10LmN1cnJlbnRTdHlsZTtyZXR1cm4odC5jbGllbnRIZWlnaHR8fFh5KGUuaGVpZ2h0KSktWHkoZS5wYWRkaW5nVG9wKS1YeShlLnBhZGRpbmdCb3R0b20pfDB9fSxkKFsiZ2V0TGF5ZXIiLCJpbnNlcnRMYXllciIsImVhY2hMYXllciIsImVhY2hCdWlsdGluTGF5ZXIiLCJlYWNoT3RoZXJMYXllciIsImdldExheWVycyIsIm1vZExheWVyIiwiZGVsTGF5ZXIiLCJjbGVhckxheWVyIiwidG9EYXRhVVJMIiwicGF0aFRvSW1hZ2UiXSxmdW5jdGlvbih0KXtZeS5wcm90b3R5cGVbdF09cXkodCl9KSx3aSgidm1sIixZeSk7dmFyIHJPPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsc089ZGIuQ01ELGxPPUFycmF5LnByb3RvdHlwZS5qb2luLHVPPSJub25lIixoTz1NYXRoLnJvdW5kLGNPPU1hdGguc2luLGRPPU1hdGguY29zLGZPPU1hdGguUEkscE89MipNYXRoLlBJLGdPPTE4MC9mTyxtTz0xZS00LHZPPXt9O3ZPLmJydXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3R5bGUsaT10Ll9fc3ZnRWw7aXx8KGk9JHkoInBhdGgiKSx0Ll9fc3ZnRWw9aSksdC5wYXRofHx0LmNyZWF0ZVBhdGhQcm94eSgpO3ZhciBuPXQucGF0aDtpZih0Ll9fZGlydHlQYXRoKXtuLmJlZ2luUGF0aCgpLHQuYnVpbGRQYXRoKG4sdC5zaGFwZSksdC5fX2RpcnR5UGF0aD0hMTt2YXIgbz1heChuKTtvLmluZGV4T2YoIk5hTiIpPDAmJml4KGksImQiLG8pfW94KGksZSksZXgoaSx0LnRyYW5zZm9ybSksbnVsbCE9ZS50ZXh0JiZ3Tyh0LHQuZ2V0Qm91bmRpbmdSZWN0KCkpfTt2YXIgeU89e307eU8uYnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxpPWUuaW1hZ2U7aWYoaSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQmJihpPWkuc3JjKSxpKXt2YXIgbj1lLnh8fDAsbz1lLnl8fDAsYT1lLndpZHRoLHI9ZS5oZWlnaHQscz10Ll9fc3ZnRWw7c3x8KHM9JHkoImltYWdlIiksdC5fX3N2Z0VsPXMpLGkhPT10Ll9faW1hZ2VTcmMmJihueChzLCJocmVmIixpKSx0Ll9faW1hZ2VTcmM9aSksaXgocywid2lkdGgiLGEpLGl4KHMsImhlaWdodCIsciksaXgocywieCIsbiksaXgocywieSIsbyksZXgocyx0LnRyYW5zZm9ybSksbnVsbCE9ZS50ZXh0JiZ3Tyh0LHQuZ2V0Qm91bmRpbmdSZWN0KCkpfX07dmFyIHhPPXt9LF9PPW5ldyBLdCx3Tz1mdW5jdGlvbih0LGUsaSl7dmFyIG49dC5zdHlsZTt0Ll9fZGlydHkmJk5lKG4pO3ZhciBvPW4udGV4dDtpZihudWxsIT1vKXtvKz0iIjt2YXIgYT10Ll9fdGV4dFN2Z0VsO2F8fChhPSR5KCJ0ZXh0IiksdC5fX3RleHRTdmdFbD1hKTt2YXIgcixzLGw9bi50ZXh0UG9zaXRpb24sdT1uLnRleHREaXN0YW5jZSxoPW4udGV4dEFsaWdufHwibGVmdCI7Im51bWJlciI9PXR5cGVvZiBuLmZvbnRTaXplJiYobi5mb250U2l6ZSs9InB4Iik7dmFyIGM9bi5mb250fHxbbi5mb250U3R5bGV8fCIiLG4uZm9udFdlaWdodHx8IiIsbi5mb250U2l6ZXx8IiIsbi5mb250RmFtaWx5fHwiIl0uam9pbigiICIpfHxxXyxkPXJ4KG4udGV4dFZlcnRpY2FsQWxpZ24pLGY9KGk9bWUobyxjLGgsZCkpLmxpbmVIZWlnaHQ7aWYobCBpbnN0YW5jZW9mIEFycmF5KXI9ZS54K2xbMF0scz1lLnkrbFsxXTtlbHNle3ZhciBwPXdlKGwsZSx1KTtyPXAueCxzPXAueSxkPXJ4KHAudGV4dFZlcnRpY2FsQWxpZ24pLGg9cC50ZXh0QWxpZ259aXgoYSwiYWxpZ25tZW50LWJhc2VsaW5lIixkKSxjJiYoYS5zdHlsZS5mb250PWMpO3ZhciBnPW4udGV4dFBhZGRpbmc7aWYoaXgoYSwieCIsciksaXgoYSwieSIscyksb3goYSxuLCEwKSx0IGluc3RhbmNlb2YgemJ8fHQuc3R5bGUudHJhbnNmb3JtVGV4dClleChhLHQudHJhbnNmb3JtKTtlbHNle2lmKHQudHJhbnNmb3JtKV9PLmNvcHkoZSksX08uYXBwbHlUcmFuc2Zvcm0odC50cmFuc2Zvcm0pLGU9X087ZWxzZXt2YXIgbT10LnRyYW5zZm9ybUNvb3JkVG9HbG9iYWwoZS54LGUueSk7ZS54PW1bMF0sZS55PW1bMV19dmFyIHY9bi50ZXh0T3JpZ2luOyJjZW50ZXIiPT09dj8ocj1pLndpZHRoLzIrcixzPWkuaGVpZ2h0LzIrcyk6diYmKHI9dlswXStyLHM9dlsxXStzKSxpeChhLCJ0cmFuc2Zvcm0iLCJyb3RhdGUoIisxODAqLW4udGV4dFJvdGF0aW9uL01hdGguUEkrIiwiK3IrIiwiK3MrIikiKX12YXIgeT1vLnNwbGl0KCJcbiIpLHg9eS5sZW5ndGgsXz1oOyJsZWZ0Ij09PV8/KF89InN0YXJ0IixnJiYocis9Z1szXSkpOiJyaWdodCI9PT1fPyhfPSJlbmQiLGcmJihyLT1nWzFdKSk6ImNlbnRlciI9PT1fJiYoXz0ibWlkZGxlIixnJiYocis9KGdbM10tZ1sxXSkvMikpO3ZhciB3PTA7aWYoImJhc2VsaW5lIj09PWQ/KHc9LWkuaGVpZ2h0K2YsZyYmKHctPWdbMl0pKToibWlkZGxlIj09PWQ/KHc9KC1pLmhlaWdodCtmKS8yLGcmJihzKz0oZ1swXS1nWzJdKS8yKSk6ZyYmKHcrPWdbMF0pLHQuX190ZXh0IT09b3x8dC5fX3RleHRGb250IT09Yyl7dmFyIGI9dC5fX3RzcGFuTGlzdHx8W107dC5fX3RzcGFuTGlzdD1iO2ZvcihNPTA7TTx4O00rKykoST1iW01dKT9JLmlubmVySFRNTD0iIjooST1iW01dPSR5KCJ0c3BhbiIpLGEuYXBwZW5kQ2hpbGQoSSksaXgoSSwiYWxpZ25tZW50LWJhc2VsaW5lIixkKSxpeChJLCJ0ZXh0LWFuY2hvciIsXykpLGl4KEksIngiLHIpLGl4KEksInkiLHMrTSpmK3cpLEkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoeVtNXSkpO2Zvcig7TTxiLmxlbmd0aDtNKyspYS5yZW1vdmVDaGlsZChiW01dKTtiLmxlbmd0aD14LHQuX190ZXh0PW8sdC5fX3RleHRGb250PWN9ZWxzZSBpZih0Ll9fdHNwYW5MaXN0Lmxlbmd0aClmb3IodmFyIFM9dC5fX3RzcGFuTGlzdC5sZW5ndGgsTT0wO008UzsrK00pe3ZhciBJPXQuX190c3Bhbkxpc3RbTV07SSYmKGl4KEksIngiLHIpLGl4KEksInkiLHMrTSpmK3cpKX19fTt4Ty5kcmF3UmVjdFRleHQ9d08seE8uYnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZTtudWxsIT1lLnRleHQmJihlLnRleHRQb3NpdGlvbj1bMCwwXSx3Tyh0LHt4OmUueHx8MCx5OmUueXx8MCx3aWR0aDowLGhlaWdodDowfSx0LmdldEJvdW5kaW5nUmVjdCgpKSl9LHN4LnByb3RvdHlwZT17ZGlmZjpmdW5jdGlvbih0LGUsaSl7aXx8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9KSx0aGlzLmVxdWFscz1pO3ZhciBuPXRoaXM7dD10LnNsaWNlKCk7dmFyIG89KGU9ZS5zbGljZSgpKS5sZW5ndGgsYT10Lmxlbmd0aCxyPTEscz1vK2EsbD1be25ld1BvczotMSxjb21wb25lbnRzOltdfV0sdT10aGlzLmV4dHJhY3RDb21tb24obFswXSxlLHQsMCk7aWYobFswXS5uZXdQb3MrMT49byYmdSsxPj1hKXtmb3IodmFyIGg9W10sYz0wO2M8ZS5sZW5ndGg7YysrKWgucHVzaChjKTtyZXR1cm5be2luZGljZXM6aCxjb3VudDplLmxlbmd0aH1dfWZvcig7cjw9czspe3ZhciBkPWZ1bmN0aW9uKCl7Zm9yKHZhciBpPS0xKnI7aTw9cjtpKz0yKXt2YXIgcyx1PWxbaS0xXSxoPWxbaSsxXSxjPShoP2gubmV3UG9zOjApLWk7dSYmKGxbaS0xXT12b2lkIDApO3ZhciBkPXUmJnUubmV3UG9zKzE8byxmPWgmJjA8PWMmJmM8YTtpZihkfHxmKXtpZighZHx8ZiYmdS5uZXdQb3M8aC5uZXdQb3M/KHM9dXgoaCksbi5wdXNoQ29tcG9uZW50KHMuY29tcG9uZW50cyx2b2lkIDAsITApKTooKHM9dSkubmV3UG9zKyssbi5wdXNoQ29tcG9uZW50KHMuY29tcG9uZW50cywhMCx2b2lkIDApKSxjPW4uZXh0cmFjdENvbW1vbihzLGUsdCxpKSxzLm5ld1BvcysxPj1vJiZjKzE+PWEpcmV0dXJuIGx4KDAscy5jb21wb25lbnRzKTtsW2ldPXN9ZWxzZSBsW2ldPXZvaWQgMH1yKyt9KCk7aWYoZClyZXR1cm4gZH19LHB1c2hDb21wb25lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRbdC5sZW5ndGgtMV07biYmbi5hZGRlZD09PWUmJm4ucmVtb3ZlZD09PWk/dFt0Lmxlbmd0aC0xXT17Y291bnQ6bi5jb3VudCsxLGFkZGVkOmUscmVtb3ZlZDppfTp0LnB1c2goe2NvdW50OjEsYWRkZWQ6ZSxyZW1vdmVkOml9KX0sZXh0cmFjdENvbW1vbjpmdW5jdGlvbih0LGUsaSxuKXtmb3IodmFyIG89ZS5sZW5ndGgsYT1pLmxlbmd0aCxyPXQubmV3UG9zLHM9ci1uLGw9MDtyKzE8byYmcysxPGEmJnRoaXMuZXF1YWxzKGVbcisxXSxpW3MrMV0pOylyKysscysrLGwrKztyZXR1cm4gbCYmdC5jb21wb25lbnRzLnB1c2goe2NvdW50Omx9KSx0Lm5ld1Bvcz1yLHN9LHRva2VuaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCl9LGpvaW46ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoKX19O3ZhciBiTz1uZXcgc3gsU089ZnVuY3Rpb24odCxlLGkpe3JldHVybiBiTy5kaWZmKHQsZSxpKX07aHgucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9JHksaHgucHJvdG90eXBlLmdldERlZnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3ZnUm9vdCxpPXRoaXMuX3N2Z1Jvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRlZnMiKTtyZXR1cm4gMD09PWkubGVuZ3RoP3Q/KChpPWUuaW5zZXJ0QmVmb3JlKHRoaXMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLGUuZmlyc3RDaGlsZCkpLmNvbnRhaW5zfHwoaS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1pLmNoaWxkcmVuO2lmKCFlKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7LS1uKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSksaSk6bnVsbDppWzBdfSxoeC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYodCl7dmFyIGk9dGhpcy5nZXREZWZzKCExKTtpZih0W3RoaXMuX2RvbU5hbWVdJiZpLmNvbnRhaW5zKHRbdGhpcy5fZG9tTmFtZV0pKSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlKHQpO2Vsc2V7dmFyIG49dGhpcy5hZGQodCk7biYmKHRbdGhpcy5fZG9tTmFtZV09bil9fX0saHgucHJvdG90eXBlLmFkZERvbT1mdW5jdGlvbih0KXt0aGlzLmdldERlZnMoITApLmFwcGVuZENoaWxkKHQpfSxoeC5wcm90b3R5cGUucmVtb3ZlRG9tPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGVmcyghMSk7ZSYmdFt0aGlzLl9kb21OYW1lXSYmKGUucmVtb3ZlQ2hpbGQodFt0aGlzLl9kb21OYW1lXSksdFt0aGlzLl9kb21OYW1lXT1udWxsKX0saHgucHJvdG90eXBlLmdldERvbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERlZnMoITEpO2lmKCF0KXJldHVybltdO3ZhciBlPVtdO3JldHVybiBkKHRoaXMuX3RhZ05hbWVzLGZ1bmN0aW9uKGkpe3ZhciBuPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaSk7ZT1lLmNvbmNhdChbXS5zbGljZS5jYWxsKG4pKX0pLGV9LGh4LnByb3RvdHlwZS5tYXJrQWxsVW51c2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztkKHRoaXMuZ2V0RG9tcygpLGZ1bmN0aW9uKGUpe2VbdC5fbWFya0xhYmVsXT0iMCJ9KX0saHgucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe3QmJih0W3RoaXMuX21hcmtMYWJlbF09IjEiKX0saHgucHJvdG90eXBlLnJlbW92ZVVudXNlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RGVmcyghMSk7aWYodCl7dmFyIGU9dGhpcztkKHRoaXMuZ2V0RG9tcygpLGZ1bmN0aW9uKGkpeyIxIiE9PWlbZS5fbWFya0xhYmVsXSYmdC5yZW1vdmVDaGlsZChpKX0pfX0saHgucHJvdG90eXBlLmdldFN2Z1Byb3h5PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgSW4/dk86dCBpbnN0YW5jZW9mIEplP3lPOnQgaW5zdGFuY2VvZiB6Yj94Tzp2T30saHgucHJvdG90eXBlLmdldFRleHRTdmdFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fdGV4dFN2Z0VsfSxoeC5wcm90b3R5cGUuZ2V0U3ZnRWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5fX3N2Z0VsfSx1KGN4LGh4KSxjeC5wcm90b3R5cGUuYWRkV2l0aG91dFVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKGUmJmUuc3R5bGUpe3ZhciBpPXRoaXM7ZChbImZpbGwiLCJzdHJva2UiXSxmdW5jdGlvbihuKXtpZihlLnN0eWxlW25dJiYoImxpbmVhciI9PT1lLnN0eWxlW25dLnR5cGV8fCJyYWRpYWwiPT09ZS5zdHlsZVtuXS50eXBlKSl7dmFyIG8sYT1lLnN0eWxlW25dLHI9aS5nZXREZWZzKCEwKTthLl9kb20/KG89YS5fZG9tLHIuY29udGFpbnMoYS5fZG9tKXx8aS5hZGREb20obykpOm89aS5hZGQoYSksaS5tYXJrVXNlZChlKTt2YXIgcz1vLmdldEF0dHJpYnV0ZSgiaWQiKTt0LnNldEF0dHJpYnV0ZShuLCJ1cmwoIyIrcysiKSIpfX0pfX0sY3gucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZTtpZigibGluZWFyIj09PXQudHlwZSllPXRoaXMuY3JlYXRlRWxlbWVudCgibGluZWFyR3JhZGllbnQiKTtlbHNle2lmKCJyYWRpYWwiIT09dC50eXBlKXJldHVybiBNXygiSWxsZWdhbCBncmFkaWVudCB0eXBlLiIpLG51bGw7ZT10aGlzLmNyZWF0ZUVsZW1lbnQoInJhZGlhbEdyYWRpZW50Iil9cmV0dXJuIHQuaWQ9dC5pZHx8dGhpcy5uZXh0SWQrKyxlLnNldEF0dHJpYnV0ZSgiaWQiLCJ6ciIrdGhpcy5fenJJZCsiLWdyYWRpZW50LSIrdC5pZCksdGhpcy51cGRhdGVEb20odCxlKSx0aGlzLmFkZERvbShlKSxlfSxjeC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aHgucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsdCxmdW5jdGlvbigpe3ZhciBpPXQudHlwZSxuPXQuX2RvbS50YWdOYW1lOyJsaW5lYXIiPT09aSYmImxpbmVhckdyYWRpZW50Ij09PW58fCJyYWRpYWwiPT09aSYmInJhZGlhbEdyYWRpZW50Ij09PW4/ZS51cGRhdGVEb20odCx0Ll9kb20pOihlLnJlbW92ZURvbSh0KSxlLmFkZCh0KSl9KX0sY3gucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUpe2lmKCJsaW5lYXIiPT09dC50eXBlKWUuc2V0QXR0cmlidXRlKCJ4MSIsdC54KSxlLnNldEF0dHJpYnV0ZSgieTEiLHQueSksZS5zZXRBdHRyaWJ1dGUoIngyIix0LngyKSxlLnNldEF0dHJpYnV0ZSgieTIiLHQueTIpO2Vsc2V7aWYoInJhZGlhbCIhPT10LnR5cGUpcmV0dXJuIHZvaWQgTV8oIklsbGVnYWwgZ3JhZGllbnQgdHlwZS4iKTtlLnNldEF0dHJpYnV0ZSgiY3giLHQueCksZS5zZXRBdHRyaWJ1dGUoImN5Iix0LnkpLGUuc2V0QXR0cmlidXRlKCJyIix0LnIpfXQuZ2xvYmFsP2Uuc2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIiwidXNlclNwYWNlT25Vc2UiKTplLnNldEF0dHJpYnV0ZSgiZ3JhZGllbnRVbml0cyIsIm9iamVjdEJvdW5kaW5nQm94IiksZS5pbm5lckhUTUw9IiI7Zm9yKHZhciBpPXQuY29sb3JTdG9wcyxuPTAsbz1pLmxlbmd0aDtuPG87KytuKXt2YXIgYT10aGlzLmNyZWF0ZUVsZW1lbnQoInN0b3AiKTthLnNldEF0dHJpYnV0ZSgib2Zmc2V0IiwxMDAqaVtuXS5vZmZzZXQrIiUiKSxhLnNldEF0dHJpYnV0ZSgic3RvcC1jb2xvciIsaVtuXS5jb2xvciksZS5hcHBlbmRDaGlsZChhKX10Ll9kb209ZX0sY3gucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe2lmKHQuc3R5bGUpe3ZhciBlPXQuc3R5bGUuZmlsbDtlJiZlLl9kb20mJmh4LnByb3RvdHlwZS5tYXJrVXNlZC5jYWxsKHRoaXMsZS5fZG9tKSwoZT10LnN0eWxlLnN0cm9rZSkmJmUuX2RvbSYmaHgucHJvdG90eXBlLm1hcmtVc2VkLmNhbGwodGhpcyxlLl9kb20pfX0sdShkeCxoeCksZHgucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFN2Z0VsZW1lbnQodCk7ZSYmdGhpcy51cGRhdGVEb20oZSx0Ll9fY2xpcFBhdGhzLCExKTt2YXIgaT10aGlzLmdldFRleHRTdmdFbGVtZW50KHQpO2kmJnRoaXMudXBkYXRlRG9tKGksdC5fX2NsaXBQYXRocywhMCksdGhpcy5tYXJrVXNlZCh0KX0sZHgucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUsaSl7aWYoZSYmZS5sZW5ndGg+MCl7dmFyIG4sbyxhPXRoaXMuZ2V0RGVmcyghMCkscj1lWzBdLHM9aT8iX3RleHREb20iOiJfZG9tIjtyW3NdPyhvPXJbc10uZ2V0QXR0cmlidXRlKCJpZCIpLG49cltzXSxhLmNvbnRhaW5zKG4pfHxhLmFwcGVuZENoaWxkKG4pKToobz0ienIiK3RoaXMuX3pySWQrIi1jbGlwLSIrdGhpcy5uZXh0SWQsKyt0aGlzLm5leHRJZCwobj10aGlzLmNyZWF0ZUVsZW1lbnQoImNsaXBQYXRoIikpLnNldEF0dHJpYnV0ZSgiaWQiLG8pLGEuYXBwZW5kQ2hpbGQobikscltzXT1uKTt2YXIgbD10aGlzLmdldFN2Z1Byb3h5KHIpO2lmKHIudHJhbnNmb3JtJiZyLnBhcmVudC5pbnZUcmFuc2Zvcm0mJiFpKXt2YXIgdT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyLnRyYW5zZm9ybSk7aHQoci50cmFuc2Zvcm0sci5wYXJlbnQuaW52VHJhbnNmb3JtLHIudHJhbnNmb3JtKSxsLmJydXNoKHIpLHIudHJhbnNmb3JtPXV9ZWxzZSBsLmJydXNoKHIpO3ZhciBoPXRoaXMuZ2V0U3ZnRWxlbWVudChyKTtuLmlubmVySFRNTD0iIixuLmFwcGVuZENoaWxkKGguY2xvbmVOb2RlKCkpLHQuc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJ1cmwoIyIrbysiKSIpLGUubGVuZ3RoPjEmJnRoaXMudXBkYXRlRG9tKG4sZS5zbGljZSgxKSxpKX1lbHNlIHQmJnQuc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJub25lIil9LGR4LnByb3RvdHlwZS5tYXJrVXNlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QuX19jbGlwUGF0aHMmJnQuX19jbGlwUGF0aHMubGVuZ3RoPjAmJmQodC5fX2NsaXBQYXRocyxmdW5jdGlvbih0KXt0Ll9kb20mJmh4LnByb3RvdHlwZS5tYXJrVXNlZC5jYWxsKGUsdC5fZG9tKSx0Ll90ZXh0RG9tJiZoeC5wcm90b3R5cGUubWFya1VzZWQuY2FsbChlLHQuX3RleHREb20pfSl9LHUoZngsaHgpLGZ4LnByb3RvdHlwZS5hZGRXaXRob3V0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoZSYmcHgoZS5zdHlsZSkpe3ZhciBpLG49ZS5zdHlsZTtuLl9zaGFkb3dEb20/KGk9bi5fc2hhZG93RG9tLHRoaXMuZ2V0RGVmcyghMCkuY29udGFpbnMobi5fc2hhZG93RG9tKXx8dGhpcy5hZGREb20oaSkpOmk9dGhpcy5hZGQoZSksdGhpcy5tYXJrVXNlZChlKTt2YXIgbz1pLmdldEF0dHJpYnV0ZSgiaWQiKTt0LnN0eWxlLmZpbHRlcj0idXJsKCMiK28rIikifX0sZngucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoImZpbHRlciIpLGk9dC5zdHlsZTtyZXR1cm4gaS5fc2hhZG93RG9tSWQ9aS5fc2hhZG93RG9tSWR8fHRoaXMubmV4dElkKyssZS5zZXRBdHRyaWJ1dGUoImlkIiwienIiK3RoaXMuX3pySWQrIi1zaGFkb3ctIitpLl9zaGFkb3dEb21JZCksdGhpcy51cGRhdGVEb20odCxlKSx0aGlzLmFkZERvbShlKSxlfSxmeC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5zdHlsZTtpZihweChpKSl7dmFyIG49dGhpcztoeC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxlLGZ1bmN0aW9uKHQpe24udXBkYXRlRG9tKGUsdC5fc2hhZG93RG9tKX0pfWVsc2UgdGhpcy5yZW1vdmUodCxpKX0sZngucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe251bGwhPWUuX3NoYWRvd0RvbUlkJiYodGhpcy5yZW1vdmVEb20oZSksdC5zdHlsZS5maWx0ZXI9IiIpfSxmeC5wcm90b3R5cGUudXBkYXRlRG9tPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZmVEcm9wU2hhZG93Iik7aT0wPT09aS5sZW5ndGg/dGhpcy5jcmVhdGVFbGVtZW50KCJmZURyb3BTaGFkb3ciKTppWzBdO3ZhciBuLG8sYSxyLHM9dC5zdHlsZSxsPXQuc2NhbGU/dC5zY2FsZVswXXx8MToxLHU9dC5zY2FsZT90LnNjYWxlWzFdfHwxOjE7aWYocy5zaGFkb3dCbHVyfHxzLnNoYWRvd09mZnNldFh8fHMuc2hhZG93T2Zmc2V0WSluPXMuc2hhZG93T2Zmc2V0WHx8MCxvPXMuc2hhZG93T2Zmc2V0WXx8MCxhPXMuc2hhZG93Qmx1cixyPXMuc2hhZG93Q29sb3I7ZWxzZXtpZighcy50ZXh0U2hhZG93Qmx1cilyZXR1cm4gdm9pZCB0aGlzLnJlbW92ZURvbShlLHMpO249cy50ZXh0U2hhZG93T2Zmc2V0WHx8MCxvPXMudGV4dFNoYWRvd09mZnNldFl8fDAsYT1zLnRleHRTaGFkb3dCbHVyLHI9cy50ZXh0U2hhZG93Q29sb3J9aS5zZXRBdHRyaWJ1dGUoImR4IixuL2wpLGkuc2V0QXR0cmlidXRlKCJkeSIsby91KSxpLnNldEF0dHJpYnV0ZSgiZmxvb2QtY29sb3IiLHIpO3ZhciBoPWEvMi9sKyIgIithLzIvdTtpLnNldEF0dHJpYnV0ZSgic3RkRGV2aWF0aW9uIixoKSxlLnNldEF0dHJpYnV0ZSgieCIsIi0xMDAlIiksZS5zZXRBdHRyaWJ1dGUoInkiLCItMTAwJSIpLGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsTWF0aC5jZWlsKGEvMioyMDApKyIlIiksZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5jZWlsKGEvMioyMDApKyIlIiksZS5hcHBlbmRDaGlsZChpKSxzLl9zaGFkb3dEb209ZX0sZngucHJvdG90eXBlLm1hcmtVc2VkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3R5bGU7ZSYmZS5fc2hhZG93RG9tJiZoeC5wcm90b3R5cGUubWFya1VzZWQuY2FsbCh0aGlzLGUuX3NoYWRvd0RvbSl9O3ZhciBNTz1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLnJvb3Q9dCx0aGlzLnN0b3JhZ2U9ZSx0aGlzLl9vcHRzPWk9YSh7fSxpfHx7fSk7dmFyIG89JHkoInN2ZyIpO28uc2V0QXR0cmlidXRlKCJ4bWxucyIsImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiksby5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjEiKSxvLnNldEF0dHJpYnV0ZSgiYmFzZVByb2ZpbGUiLCJmdWxsIiksby5zdHlsZS5jc3NUZXh0PSJ1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDsiLHRoaXMuZ3JhZGllbnRNYW5hZ2VyPW5ldyBjeChuLG8pLHRoaXMuY2xpcFBhdGhNYW5hZ2VyPW5ldyBkeChuLG8pLHRoaXMuc2hhZG93TWFuYWdlcj1uZXcgZngobixvKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyLnN0eWxlLmNzc1RleHQ9Im92ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZSIsdGhpcy5fc3ZnUm9vdD1vLHRoaXMuX3ZpZXdwb3J0PXIsdC5hcHBlbmRDaGlsZChyKSxyLmFwcGVuZENoaWxkKG8pLHRoaXMucmVzaXplKGkud2lkdGgsaS5oZWlnaHQpLHRoaXMuX3Zpc2libGVMaXN0PVtdfTtNTy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk1PLGdldFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4ic3ZnIn0sZ2V0Vmlld3BvcnRSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0fSxnZXRWaWV3cG9ydFJvb3RPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdwb3J0Um9vdCgpO2lmKHQpcmV0dXJue29mZnNldExlZnQ6dC5vZmZzZXRMZWZ0fHwwLG9mZnNldFRvcDp0Lm9mZnNldFRvcHx8MH19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoITApO3RoaXMuX3BhaW50TGlzdCh0KX0sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKHQpe3RoaXMuX3ZpZXdwb3J0LnN0eWxlLmJhY2tncm91bmQ9dH0sX3BhaW50TGlzdDpmdW5jdGlvbih0KXt0aGlzLmdyYWRpZW50TWFuYWdlci5tYXJrQWxsVW51c2VkKCksdGhpcy5jbGlwUGF0aE1hbmFnZXIubWFya0FsbFVudXNlZCgpLHRoaXMuc2hhZG93TWFuYWdlci5tYXJrQWxsVW51c2VkKCk7dmFyIGUsaT10aGlzLl9zdmdSb290LG49dGhpcy5fdmlzaWJsZUxpc3Qsbz10Lmxlbmd0aCxhPVtdO2ZvcihlPTA7ZTxvO2UrKyl7dmFyIHI9bXgoZj10W2VdKSxzPVN4KGYpfHxieChmKTtmLmludmlzaWJsZXx8KGYuX19kaXJ0eSYmKHImJnIuYnJ1c2goZiksdGhpcy5jbGlwUGF0aE1hbmFnZXIudXBkYXRlKGYpLGYuc3R5bGUmJih0aGlzLmdyYWRpZW50TWFuYWdlci51cGRhdGUoZi5zdHlsZS5maWxsKSx0aGlzLmdyYWRpZW50TWFuYWdlci51cGRhdGUoZi5zdHlsZS5zdHJva2UpLHRoaXMuc2hhZG93TWFuYWdlci51cGRhdGUocyxmKSksZi5fX2RpcnR5PSExKSxhLnB1c2goZikpfXZhciBsLHU9U08obixhKTtmb3IoZT0wO2U8dS5sZW5ndGg7ZSsrKWlmKChjPXVbZV0pLnJlbW92ZWQpZm9yKGQ9MDtkPGMuY291bnQ7ZCsrKXt2YXIgcz1TeChmPW5bYy5pbmRpY2VzW2RdXSksaD1ieChmKTtfeChpLHMpLF94KGksaCl9Zm9yKGU9MDtlPHUubGVuZ3RoO2UrKyl7dmFyIGM9dVtlXTtpZihjLmFkZGVkKWZvcihkPTA7ZDxjLmNvdW50O2QrKyl7dmFyIHM9U3goZj1hW2MuaW5kaWNlc1tkXV0pLGg9YngoZik7bD95eChpLHMsbCk6eHgoaSxzKSxzP3l4KGksaCxzKTpsP3l4KGksaCxsKTp4eChpLGgpLHl4KGksaCxzKSxsPWh8fHN8fGwsdGhpcy5ncmFkaWVudE1hbmFnZXIuYWRkV2l0aG91dFVwZGF0ZShzLGYpLHRoaXMuc2hhZG93TWFuYWdlci5hZGRXaXRob3V0VXBkYXRlKGwsZiksdGhpcy5jbGlwUGF0aE1hbmFnZXIubWFya1VzZWQoZil9ZWxzZSBpZighYy5yZW1vdmVkKWZvcih2YXIgZD0wO2Q8Yy5jb3VudDtkKyspe3ZhciBmPWFbYy5pbmRpY2VzW2RdXTtsPXM9YngoZil8fFN4KGYpfHxsLHRoaXMuZ3JhZGllbnRNYW5hZ2VyLm1hcmtVc2VkKGYpLHRoaXMuZ3JhZGllbnRNYW5hZ2VyLmFkZFdpdGhvdXRVcGRhdGUocyxmKSx0aGlzLnNoYWRvd01hbmFnZXIubWFya1VzZWQoZiksdGhpcy5zaGFkb3dNYW5hZ2VyLmFkZFdpdGhvdXRVcGRhdGUocyxmKSx0aGlzLmNsaXBQYXRoTWFuYWdlci5tYXJrVXNlZChmKX19dGhpcy5ncmFkaWVudE1hbmFnZXIucmVtb3ZlVW51c2VkKCksdGhpcy5jbGlwUGF0aE1hbmFnZXIucmVtb3ZlVW51c2VkKCksdGhpcy5zaGFkb3dNYW5hZ2VyLnJlbW92ZVVudXNlZCgpLHRoaXMuX3Zpc2libGVMaXN0PWF9LF9nZXREZWZzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N2Z1Jvb3QsaT10aGlzLl9zdmdSb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIik7cmV0dXJuIDA9PT1pLmxlbmd0aD90PygoaT1lLmluc2VydEJlZm9yZSgkeSgiZGVmcyIpLGUuZmlyc3RDaGlsZCkpLmNvbnRhaW5zfHwoaS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1pLmNoaWxkcmVuO2lmKCFlKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7LS1uKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSksaSk6bnVsbDppWzBdfSxyZXNpemU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl92aWV3cG9ydDtpLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciBuPXRoaXMuX29wdHM7aWYobnVsbCE9dCYmKG4ud2lkdGg9dCksbnVsbCE9ZSYmKG4uaGVpZ2h0PWUpLHQ9dGhpcy5fZ2V0U2l6ZSgwKSxlPXRoaXMuX2dldFNpemUoMSksaS5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuX3dpZHRoIT09dHx8dGhpcy5faGVpZ2h0IT09ZSl7dGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZTt2YXIgbz1pLnN0eWxlO28ud2lkdGg9dCsicHgiLG8uaGVpZ2h0PWUrInB4Ijt2YXIgYT10aGlzLl9zdmdSb290O2Euc2V0QXR0cmlidXRlKCJ3aWR0aCIsdCksYS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZSl9fSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sX2dldFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3B0cyxpPVsid2lkdGgiLCJoZWlnaHQiXVt0XSxuPVsiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiXVt0XSxvPVsicGFkZGluZ0xlZnQiLCJwYWRkaW5nVG9wIl1bdF0sYT1bInBhZGRpbmdSaWdodCIsInBhZGRpbmdCb3R0b20iXVt0XTtpZihudWxsIT1lW2ldJiYiYXV0byIhPT1lW2ldKXJldHVybiBwYXJzZUZsb2F0KGVbaV0pO3ZhciByPXRoaXMucm9vdCxzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUocik7cmV0dXJuKHJbbl18fGd4KHNbaV0pfHxneChyLnN0eWxlW2ldKSktKGd4KHNbb10pfHwwKS0oZ3goc1thXSl8fDApfDB9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnJvb3QuaW5uZXJIVE1MPSIiLHRoaXMuX3N2Z1Jvb3Q9dGhpcy5fdmlld3BvcnQ9dGhpcy5zdG9yYWdlPW51bGx9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fdmlld3BvcnQmJnRoaXMucm9vdC5yZW1vdmVDaGlsZCh0aGlzLl92aWV3cG9ydCl9LHBhdGhUb0RhdGFVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWZyZXNoKCksImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PVVURi04LCIrdGhpcy5fc3ZnUm9vdC5vdXRlckhUTUx9fSxkKFsiZ2V0TGF5ZXIiLCJpbnNlcnRMYXllciIsImVhY2hMYXllciIsImVhY2hCdWlsdGluTGF5ZXIiLCJlYWNoT3RoZXJMYXllciIsImdldExheWVycyIsIm1vZExheWVyIiwiZGVsTGF5ZXIiLCJjbGVhckxheWVyIiwidG9EYXRhVVJMIiwicGF0aFRvSW1hZ2UiXSxmdW5jdGlvbih0KXtNTy5wcm90b3R5cGVbdF09TXgodCl9KSx3aSgic3ZnIixNTyksdC52ZXJzaW9uPSI0LjAuNCIsdC5kZXBlbmRlbmNpZXM9VU0sdC5QUklPUklUWT1xTSx0LmluaXQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXJzKHQpO2lmKG4pcmV0dXJuIG47dmFyIG89bmV3IFZyKHQsZSxpKTtyZXR1cm4gby5pZD0iZWNfIitkSSsrLGhJW28uaWRdPW8semkodCxwSSxvLmlkKSxvcyhvKSxvfSx0LmNvbm5lY3Q9ZnVuY3Rpb24odCl7aWYoeSh0KSl7dmFyIGU9dDt0PW51bGwsRk0oZSxmdW5jdGlvbihlKXtudWxsIT1lLmdyb3VwJiYodD1lLmdyb3VwKX0pLHQ9dHx8ImdfIitmSSsrLEZNKGUsZnVuY3Rpb24oZSl7ZS5ncm91cD10fSl9cmV0dXJuIGNJW3RdPSEwLHR9LHQuZGlzQ29ubmVjdD1hcyx0LmRpc2Nvbm5lY3Q9bUksdC5kaXNwb3NlPWZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdD90PWhJW3RdOnQgaW5zdGFuY2VvZiBWcnx8KHQ9cnModCkpLHQgaW5zdGFuY2VvZiBWciYmIXQuaXNEaXNwb3NlZCgpJiZ0LmRpc3Bvc2UoKX0sdC5nZXRJbnN0YW5jZUJ5RG9tPXJzLHQuZ2V0SW5zdGFuY2VCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiBoSVt0XX0sdC5yZWdpc3RlclRoZW1lPXNzLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3I9bHMsdC5yZWdpc3RlclByb2Nlc3Nvcj11cyx0LnJlZ2lzdGVyUG9zdFVwZGF0ZT1mdW5jdGlvbih0KXtySS5wdXNoKHQpfSx0LnJlZ2lzdGVyQWN0aW9uPWhzLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtPWNzLHQuZ2V0Q29vcmRpbmF0ZVN5c3RlbURpbWVuc2lvbnM9ZnVuY3Rpb24odCl7dmFyIGU9Q2EuZ2V0KHQpO2lmKGUpcmV0dXJuIGUuZ2V0RGltZW5zaW9uc0luZm8/ZS5nZXREaW1lbnNpb25zSW5mbygpOmUuZGltZW5zaW9ucy5zbGljZSgpfSx0LnJlZ2lzdGVyTGF5b3V0PWRzLHQucmVnaXN0ZXJWaXN1YWw9ZnMsdC5yZWdpc3RlckxvYWRpbmc9Z3MsdC5leHRlbmRDb21wb25lbnRNb2RlbD1tcyx0LmV4dGVuZENvbXBvbmVudFZpZXc9dnMsdC5leHRlbmRTZXJpZXNNb2RlbD15cyx0LmV4dGVuZENoYXJ0Vmlldz14cyx0LnNldENhbnZhc0NyZWF0b3I9ZnVuY3Rpb24odCl7ZSgiY3JlYXRlQ2FudmFzIix0KX0sdC5yZWdpc3Rlck1hcD1mdW5jdGlvbih0LGUsaSl7ZS5nZW9Kc29uJiYhZS5mZWF0dXJlcyYmKGk9ZS5zcGVjaWFsQXJlYXMsZT1lLmdlb0pzb24pLCJzdHJpbmciPT10eXBlb2YgZSYmKGU9InVuZGVmaW5lZCIhPXR5cGVvZiBKU09OJiZKU09OLnBhcnNlP0pTT04ucGFyc2UoZSk6bmV3IEZ1bmN0aW9uKCJyZXR1cm4gKCIrZSsiKTsiKSgpKSxnSVt0XT17Z2VvSnNvbjplLHNwZWNpYWxBcmVhczppfX0sdC5nZXRNYXA9X3MsdC5kYXRhVG9vbD12SSx0LnpyZW5kZXI9X3csdC5ncmFwaGljPXNTLHQubnVtYmVyPXlTLHQuZm9ybWF0PU1TLHQudGhyb3R0bGU9eHIsdC5oZWxwZXI9c0QsdC5tYXRyaXg9ZV8sdC52ZWN0b3I9WXgsdC5jb2xvcj15Xyx0LnBhcnNlR2VvSlNPTj11RCx0LnBhcnNlR2VvSnNvbj1mRCx0LnV0aWw9cEQsdC5MaXN0PURJLHQuTW9kZWw9d28sdC5BeGlzPWRELHQuZW52PUF4fSk7Cg==
"""
